,author,created_utc,id,num_comments,score,selftext,subreddit,title,upvote_ratio,url
0,RedishPelican,1648853543,tu3xq6,0,1,"MariaDB \[sitename\]&gt; CREATE TABLE users(

\-&gt; user\_id MEDIUMINT UNSIGNED NOT NULL AUTO\_INCREMENT,

\-&gt; first\_name VARCHAR(20) NOT NULL,

\-&gt; last\_name VARCHAR(40) NOT NULL,

\-&gt; email VARCHAR(60),

\-&gt; pass CHAR(128) SHA1() NOT NULL,

\-&gt; registration\_date DATETIME NOT NULL,

\-&gt; PRIMARY KEY(user\_id)

\-&gt; );

this is my code and when i run it it just gives me an error, without the SHA1()it runs just fine but its a requirement for the assignment, does anyone know what i am doing wrong or can help me understand?",learnSQL,"MYSQL help, i am trying to create a password column in my table",1.0,https://www.reddit.com/r/learnSQL/comments/tu3xq6/mysql_help_i_am_trying_to_create_a_password/
1,FreyReddit,1648901466,tuhg74,0,1,"How would I find a number of subjects currently being studied by a single student with a reference number eg: 12345

Data Table Structure:


StudentsRefint, Primary KeySurnamenvarchar(30)Forenamenvarchar(30)
EnrolmentsIdint, Primary KeyStudentRefint, Foreign KeySubjectCodenvarchar(6), Foreign KeyDateStarteddateDateFinisheddate, Nullable
SubjectsCodenvarchar(6), Primary KeyDescriptionnvarchar(60)",learnSQL,Test : MySQL,1.0,https://www.reddit.com/r/learnSQL/comments/tuhg74/test_mysql/
2,PowerOfTheShell,1648959367,tv0on0,0,1,"Hey guys,

Trying to work out why my SQL query isn't showing the tables which don't match. Currently it's only showing the values that do match.

    SELECT I.CUS_CODE, SUM(L.LINE_PRICE * L.LINE_UNITS) AS 'Total Purchased Values', SUM(L.LINE_UNITS) AS 'Total Units Purchased', Round(SUM(LINE_PRICE*LINE_UNITS)/SUM(LINE_UNITS),2) AS 'Average Purchase Value Per Unit'
    FROM LINE L
    LEFT OUTER JOIN INVOICE I ON I.INV_NUMBER=L.INV_NUMBER
    GROUP BY I.CUS_CODE

Any help would be greatly appreciated!",learnSQL,Query not showing NULL with Left Outer Join,1.0,https://www.reddit.com/r/learnSQL/comments/tv0on0/query_not_showing_null_with_left_outer_join/
3,CandidFloor7111,1648994415,tv9xbi,0,1,"when the EndDate of the department history is not specified, display the last day of the current year

my code is:

SELECT... 

Deph.EndDate,

CASE 

	WHEN deph.EndDate IS NULL THEN DATEFROMPARTS(YEAR(GETDATE()), 12, 31)

	END

https://preview.redd.it/fu1lgn4zkbr81.png?width=185&amp;format=png&amp;auto=webp&amp;s=02d78761f24b660ddc7283335cc1db7f1efdca05

I want the last day of the year to replace the null, not make another column.",learnSQL,How do i make these columns into one,1.0,https://www.reddit.com/r/learnSQL/comments/tv9xbi/how_do_i_make_these_columns_into_one/
4,CandidFloor7111,1649001485,tvchzi,0,1,"beginner using adventureworks db,

so far my code looks like this 

    SELECT 
    cust.CustomerID, pers.FirstName, pers.LastName, prodm.Name
    FROM [Sales].[Customer] AS cust
    LEFT JOIN [Sales].[SalesOrderHeader] AS salesOH   
    	ON salesOH.CustomerID = cust.CustomerID
    LEFT JOIN [Person].[Person] AS pers  
    	ON pers.BusinessEntityID = cust.PersonID
    INNER JOIN [Sales].[SalesOrderDetail] AS salesD
    	ON salesd.SalesOrderID = salesOH.SalesOrderID 
    INNER JOIN Production.Product AS prod
    	ON prod.ProductID = salesd.ProductID
    INNER JOIN [Production].[ProductModel] AS ProdM
    	ON prod.ProductModelID = prodm.ProductModelID
    GROUP BY cust.CustomerID, pers.FirstName, pers.LastName, prodm.Name

which shows all of the orders for each customer like this

&amp;#x200B;

https://preview.redd.it/ou1c0r0h6cr81.png?width=596&amp;format=png&amp;auto=webp&amp;s=2592d1ff6b95a1e1a680cc2c62deb7bb432af04e

for each customer i only want the most recent order 

never worked with subqueries before but i think i need something like this

    (SELECT
    MAX(OrderDate), CustomerID
    from [Sales].[SalesOrderHeader]
    group by CustomerID)

somewhere, but i cant figure out where to integrate it",learnSQL,How do i display only the most recent order for each customer?,1.0,https://www.reddit.com/r/learnSQL/comments/tvchzi/how_do_i_display_only_the_most_recent_order_for/
5,MlTut,1649058555,tvweel,0,1, ,learnSQL,8 Best SQL Courses on Coursera,1.0,https://www.mltut.com/best-sql-courses-on-coursera/
6,DrBjHardick,1649084538,tw46hw,0,1,"merge into Vehicle.Inventory dst
using (with InventoryWith as
(SELECT I.ID
,r.MSRP as price
,row_number() over (partition by i.Id order by r.STOCK) as rn
from Vehicle.HomenetiolInventory r
join Vehicle.ActiveInventoryView i on (i.Vin = r.Vin)
where i.DealerId = :EntityId
and i.newused = 'N'
and r.rooftopid = 'HN12952'
and r.make in ('Dodge','Chrysler')
and r.MSRP is not null
and r.MSRP &gt; 10000
and r.type = 'New'
and r.entityid = :EntityId
)select x.* from InventoryWith x where x.rn = 1) src on (src.Id = dst.Id) when matched then
UPDATE SET DST.COMPARETOPRICE = SRC.PRICE WHERE 1=0 OR decode(dst.COMPARETOPRICE, SRC.PRICE, 1, 0) = 0;",learnSQL,Explain this query in a simpler form. I understand some of the code but not all of it and there seems to be a run on inner query going on here. (1),1.0,https://www.reddit.com/r/learnSQL/comments/tw46hw/explain_this_query_in_a_simpler_form_i_understand/
7,DrBjHardick,1649084929,tw4bye,0,1,"merge into Vehicle.Inventory dst

using (with InventoryWith as

(SELECT I.ID
,r.MSRP as price
,row_number() 

over 

(partition by i.Id order by r.STOCK) 
as rn

from Vehicle.HomenetiolInventory r

join Vehicle.ActiveInventoryView i on (i.Vin = r.Vin)

where i.DealerId = :EntityId

and i.newused = 'N'

and r.rooftopid = 'HN12952'

and r.make in ('Dodge','Chrysler')

and r.MSRP is not null

and r.MSRP &gt; 10000

and r.type = 'New'

and r.entityid = :EntityId
)select x.* from InventoryWith x where x.rn = 1) src on (src.Id = dst.Id) 

when matched then

UPDATE SET DST.COMPARETOPRICE = SRC.PRICE WHERE 1=0 OR decode(dst.COMPARETOPRICE, SRC.PRICE, 1, 0) = 0;",learnSQL,Can someone explain what this code is trying to do? i only understand like 50% of it,1.0,https://www.reddit.com/r/learnSQL/comments/tw4bye/can_someone_explain_what_this_code_is_trying_to/
8,Starsethalo123,1649085705,tw4msh,0,1,"Hey I'm a dba using sql server (azure managed instance).

For some reason only sys admins are able to see database tables/objects.

For example, if I create a new user on a database and they connect via ssms. They cannot see the tables HOWEVER, they can run queries e.g Select \* from table1, despite not seeing it in explorer.

Any ideas? Thanks",learnSQL,Users cannot see tables in sql management studio,1.0,https://www.reddit.com/r/learnSQL/comments/tw4msh/users_cannot_see_tables_in_sql_management_studio/
9,DrBjHardick,1649106126,twcz83,0,1,"merge

into vehicle.inventory dst

using (with inventorywith as
(select i.Id
,ROUND(r.salescost - r.floorplanamount) as newprice
,row_number() over (partition by i.Id order by r.STOCKNUMBER) as rn

from Vehicle.rciinventory r

join Vehicle.ActiveInventoryView i on (i.Vin = r.vehicleidnumber)

where i.DealerId = :entityid 

and i.NewUsed = 'N'

and r.accountnumber = '5411213256144420201'

and r.salescost is not null

and r.salescost !=0

and r.floorplanamount != 0

and r.salescost &gt; r.floorplanamount

and r.neworusedindicator = 'N';
)

select x.* from inventorywith x where x.rn = 1) src on (src.id = dst.id)

when matched then

update set dst.listprice = src.NEWprice where 1=0 or decode(dst.listprice, src.NEWprice, 1, 0) = 0",learnSQL,Can someone explain what this SQL Query is trying to accomplish? I only get like 40%,1.0,https://www.reddit.com/r/learnSQL/comments/twcz83/can_someone_explain_what_this_sql_query_is_trying/
10,Low_Discussion_1788,1649166343,twvbag,0,1,"I have two tables with customer information. 

In my first table, it contains the information of importers who use my services and has the following fields:

1. Buyer Name
2. Buyer Bank
3. Buyer country
4. Buyer Industry

In my second table, it contains the information of exporters who use my services and has the following information:

1. Seller Name
2. Seller Bank
3. Seller Country
4. Seller Industry

I want to join these two tables together such that when I search for a country, I am given all the possible combinations of importers and exporters who can potentially do business together if they are in the same country or industry. 

Off the top of my head Im thinking of a cross join with a where clause that could give me the information I need. However, I've tried it but it returns no results. 

    SELECT a.buyername, 
        a.buyerbank, 
        a.buyercountry, 
        b.sellername, 
        b.sellerbank, 
        b.sellercountry
    FROM buyer AS a
    CROSS JOIN seller AS b
    WHERE a.buyercountry = b.sellercountry;

Apologies if this is not the right sub to be asking this question, but I'm really looking for any advice on how to go about creating/querying this database/ecosystem of customers. I've tried posting this on r/database but the post keeps getting taken down. I'm not even sure if its a limitation of Microsoft access or of my query. 

Thanks much to anyone who can help!",learnSQL,Can I create a customer ecosystem specifically using Microsoft Access?,1.0,https://www.reddit.com/r/learnSQL/comments/twvbag/can_i_create_a_customer_ecosystem_specifically/
11,Andlaug13,1649174907,twygiy,0,1,"Hey guys! I have been given a task to design an ER diagram of a Content Management System, which is the backbone of what will be my website. So my website will consist of sharing documents between users, like files, videos, pictures etc. Where can i find documentation regarding the design of such databases? I am kind of at a loss of where to start besides creating a table for users and one for documents/posts to the website. 

Thanks!",learnSQL,Project,1.0,https://www.reddit.com/r/learnSQL/comments/twygiy/project/
12,20io_anarchist,1649178163,twzn91,0,1,"basically I want to do the `insert if not exists` but if the value does exist, please give me the value, how do I do this what pitfalls should I watch for.",learnSQL,check before insert but return on value found,1.0,https://www.reddit.com/r/learnSQL/comments/twzn91/check_before_insert_but_return_on_value_found/
13,lencu3,1649193254,tx5c2d,0,1,"Hello!

I'm trying to print the following statement ""Employee's name is blank and their salary is blank"". On the places of the blanks, I wish to input the names and salaries of all employees in my table. I've tried all kinds of queries, trying to declare variables and use them in SELECT statements, but all the queries fail. I couldn't google my way out of this pickle so I'm asking for help. 

P.S. I'm quite new to MySQL.",learnSQL,Print a statement with variables in MySQL,1.0,https://www.reddit.com/r/learnSQL/comments/tx5c2d/print_a_statement_with_variables_in_mysql/
14,No-Manufacturer-3155,1649205987,tx9rau,0,1," Hi,

I have an issue similar to mentioned here [Storing JSON in database ..](https://stackoverflow.com/questions/15367696/storing-json-in-database-vs-having-a-new-column-for-each-key) and I was wondering in 2022 is there a major performance loss in storing a column in JSON where it can maybe have 5 variable keys value pairs none of them Keys of the table vs parsing out the data into specific columns?

Thanks",learnSQL,Storing JSON in database vs. having a new column for each key,1.0,https://www.reddit.com/r/learnSQL/comments/tx9rau/storing_json_in_database_vs_having_a_new_column/
15,__Kevlar__,1649265923,txrdfw,0,1,"I am new to sql. I have a SELECT query that returns 2 rows . I want to use a CASE statement such that it will SELECT one row from results of first query based on condition s1.pid &lt; s2.pid THEN (SELECT S2.rid WHERE r.path = 0) ELSE (SELECT S2.rid WHERE r.path=1 ) Below code returns two rows which have rid 1 and path 0 and 1 how do i write a case statement? I dont know the correct syntax.

$sql=""SELECT s2.stopno, s2.rid, busno, s2.pid, buskey, `path` 
FROM `stop` s2 
INNER JOIN `route` r ON s2.rid = r.rid 
INNER JOIN bus b ON r.bid = b.bid 
INNER JOIN place p ON s2.pid = p.pid 
WHERE p.place = 'place2' 
AND s2.rid IN (SELECT s1.rid FROM `stop` s1
        INNER JOIN `route` r ON s1.rid = r.rid 
        INNER JOIN bus b ON r.bid = b.bid 
        INNER JOIN place p ON s1.pid = p.pid 
        AND p.place = 'place1') "";

stopno rid busno pid buskey path
4 1 1111 4 key1 0
4 1 2222 4 key2 1


this is the result im getting from running 1st query now i want to select one of the rows based on condition where s1.pid&lt; s2.pid then select row where path = 0 else otherwise how do i do that?

I've tried this 2nd approach of self joining and it is returning p1.pid and p2.pid but giving syntax error in IF statement can anyone solve it?

$sql=""SELECT s2.stopno, s2.rid, b.busno, p1.pid as id1, p2.pid as id2, b.buskey, r.path, p1.place as place1, p2.place as place2, 
IF(p1.pid &lt; p2.pid, IF(r.path=0, s2.*, null), IF(r.path=1, s2.*,null)) 
FROM `stop` s2 
JOIN `route` r ON s2.rid = r.rid 
JOIN bus b ON r.bid = b.bid 
JOIN place p1 ON s2.rid = p1.pid 
JOIN place p2 ON s2.pid = p2.pid 
WHERE p1.place = 'place1' AND p2.place = 'place 2' "";

For more info visit: 
https://stackoverflow.com/questions/71637056/how-to-use-case-statement-in-mysql-to-select-a-row-from-results-based-on-conditi",learnSQL,hello I'm trying to write a CASE statement in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/txrdfw/hello_im_trying_to_write_a_case_statement_in_sql/
16,DamnableViking,1649270563,txt31v,0,1," 

I'm new to SQL, so I'm not even sure I'm asking the question correctly.

I connected my Google Analytics 4 to BQ to save all the data. When I open up the preview, I'm seeing multiple rows nested in a single column.

[See image](https://i.stack.imgur.com/3aJtr.png)

1. Since I'm new, I'm not even sure I'm using the right language to describe this, so any corrections are welcome.
2. If I wanted to add a WHERE to only bring up certain page\_location, how would I do that? The typical 'WHERE page\_location = https://blahblahblah' doesn't work.",learnSQL,BigQuery - Reference Nested Data In Single Column?,1.0,https://www.reddit.com/r/learnSQL/comments/txt31v/bigquery_reference_nested_data_in_single_column/
17,Welsh_Cannibal,1649273460,txu59q,0,1,"  

Hi, 

I just can’t figure this one out. I’ve been trying for hours.

I have a table like this…

ID | sample  
 \-----------------------------------  
 1 | A  
 1 | B  
 1 | C  
 2 | A  
 2 | B  
 3 | A  
 4 | A  
 4 | B  
 4 | C  
 5 | B  
  |   
   
 

I’m interested in getting all the samples that match ‘A’, ‘B’ and ‘C’ for a given ID. The ID must contain all 3 sample types.

Here’s my desired output...

ID | sample  
 \-----------------------------------  
 1 | A  
 1 | B  
 1 | C  
 4 | A  
 4 | B  
 4 | C  
  

If I use this..

WHERE sample in (‘A’, ‘B’, ‘C’)

I get this..  
 ID | sample  
 \-----------------------------------  
 1 | A  
 1 | B  
 1 | C  
 2 | A  
 2 | B  
 3 | A  
 4 | A  
 4 | B  
 4 | C  
 5 | B

Any ideas on how I can get my desired output?",learnSQL,Need help with a WHERE clause over two columns,1.0,https://www.reddit.com/r/learnSQL/comments/txu59q/need_help_with_a_where_clause_over_two_columns/
18,jackielarson,1649319914,ty8e58,0,1,Thanks yall!,learnSQL,Any YT or sources that you recommend to build my SQL projects?,1.0,https://www.reddit.com/r/learnSQL/comments/ty8e58/any_yt_or_sources_that_you_recommend_to_build_my/
19,klicartel_,1649326688,ty9wl2,0,1,"Hello all,

Beginner SQL user here! Im using Azure DS with Docker on a Mac

Been trying to bulk insert my CSV files with absolutely no luck. I keep getting an acess error like this:

 *Msg 4860, Level 16, State 1, Line 1*  
*Cannot bulk load. The file ""/Users/--/Desktop/CSV Files/patient\_v1.csv"" does not exist or you don't have file access rights.*

Anyone know what I might be doing wrong here? All of my permissions seem to be fine, unless Im missing something.  Any help would be much appreciated!",learnSQL,Trying to bulk insert but shows error,1.0,https://www.reddit.com/r/learnSQL/comments/ty9wl2/trying_to_bulk_insert_but_shows_error/
20,MaximusKind,1649412219,tz048w,0,1, ,learnSQL,"Need help with query, can't figure out why I keep getting this error",1.0,https://i.redd.it/qiyl10gu3as81.jpg
21,AnalysisParalysis93,1649456211,tzetbl,0,1, ,learnSQL,The UNION Operator in SQL | SQL for Data Analysis Episode 10,1.0,https://youtu.be/LeAeT9GGMR4
22,iwoodpunchakid,1649506111,tzrvw2,0,1,"I'm trying to make a statement to pull all data that is within SYSDATE and SYSDATE -1year

But I'm not sure of how to a setout the -year part.  
I know if I use

BETWEEN SYSDATE AND SYSDATE-365 this isn't really effective.",learnSQL,ORACLE - 1 year,1.0,https://www.reddit.com/r/learnSQL/comments/tzrvw2/oracle_1_year/
23,CandidFloor7111,1649520691,tzwf2p,0,1,"beginner working on adventure works db

I wanna add a new column in the production products table, where id calculate the price of each  product after a 20% increase

what i did was 

    alter table [name]
    add increased money

right now my rows are null because the column doesnt have a formula,

I right-clicked modify the column I just created from the obj explorer and I went to add my formula 

    ((0.2 * [ListPrice]) + [ListPrice])

but no matter what i change in it, when i try to close and save i get this

&amp;#x200B;

https://preview.redd.it/su21jyzc2js81.png?width=592&amp;format=png&amp;auto=webp&amp;s=a1b635d467390eef7253dc41e06ebab15b062bff",learnSQL,How do I compute a column I just added?,1.0,https://www.reddit.com/r/learnSQL/comments/tzwf2p/how_do_i_compute_a_column_i_just_added/
24,CandidFloor7111,1649525810,tzy5av,0,1,"sql beginner, working on adventure works db

&amp;#x200B;

I wanna add a new column that calculates all of my products' prices after a 30% increase.

I tried to do 

    ALTER TABLE [Production].[ProductBackup] 
    ADD IncreasedPrice AS ((0.3 * [ListPrice]) + [ListPrice])

This makes my column a numeric (22,5) which then leaves me with 5 decimals -- the max id want is 2.

If i do it this way and then i try to change the size of the column, it tells me that i cant do that because my column is computed. 

I wanna make my column a money type from the beginning but I dont know how.",learnSQL,How do I add a money computed column into my table?,1.0,https://www.reddit.com/r/learnSQL/comments/tzy5av/how_do_i_add_a_money_computed_column_into_my_table/
25,omar2408,1649532467,u00dn3,0,1,I’m currently looking for data analysts jobs and was wondering how often you use sql at work? What specifically should I know about sql to get a job? Any tips or resources would be appreciated. TIA,learnSQL,Job and SQL,1.0,https://www.reddit.com/r/learnSQL/comments/u00dn3/job_and_sql/
26,iwoodpunchakid,1649592431,u0g96h,0,1,"SUM by partition of a unique ID

I've got a statement that summed values of rows where a unique ID is the same  
However, when trying to run a WHERE clause to display

WHERE P.rate &gt; 600  
I get 0 results, although there are summed values that are below 600

    SELECT P.policy_ID,SUM(P.rate)over(partition by P.policy_ID)
    FROM
    (SELECT Coverage.policy_ID,Rating_record.rate FROM Coverage INNER JOIN Rating_record ON Coverage.coverage_ID = Rating_record.coverage_ID) P
    WHERE P.rate partition &lt; 600;

It makes no sense as when I change it to values above 600 it shows all the summed results

&amp;#x200B;

  
Please help",learnSQL,Another One,1.0,https://www.reddit.com/r/learnSQL/comments/u0g96h/another_one/
27,pengwardd,1649611247,u0m96a,0,1,"say we have two relations: 

R(A,B) = {(0,1),(2,3),(0,1),(2,4),(3,4)}

S(B,C) = {(0,1),(2,4),(2,5),(3,4),(0,2),(3,4)}

&amp;#x200B;

I'm trying to return the values in R that match exactly with those in S. So the query would return (0,1),(0,1),(2,4),(3,4)  


What I've written so far:

**Select R.\*** 

**FROM R  JOIN (Select Distinct(S.B), S.C FROM S)**

**ON R.A = S.B and R.B = S.C;**

&amp;#x200B;

This comes up with an error: ""FROM keyword not found where expected""

The reason I put a Select Distinct in there is because there are two counts of (3,4) in S and a query such as 

Select R.\*

from R join S

on R.A = S.B AND R.B = S.C;

gives me (0,1),(0,1),(2,4),(3,4),(3,4)

&amp;#x200B;

any ideas where I might be going wrong with my query? many thanks",learnSQL,SQL help,1.0,https://www.reddit.com/r/learnSQL/comments/u0m96a/sql_help/
28,largomouth3,1649634236,u0u8tb,0,1, ,learnSQL,"Table of items w/ various features (essentially tags). There are tag categories, items have multiple feature tags of each category. How do I map multiple hierarchically structured tags to single columns? Many to one - how do I structure my table, what queries do I use for reading/updating etc (PHP)?",1.0,https://i.redd.it/vlc1mnk0gss81.jpg
29,nightslikethese29,1649645648,u0xqyh,0,1,"https://imgur.com/XRkjk3w

What is the point of the * 1.0?

Without it, my results (2) are both 0. With it, the results are the correct answers .75 and .66. 

I'm trying to work it out and I can't figure it out. Does multiplying cast it as an integer or something maybe?

[Here](https://platform.stratascratch.com/coding/10285-acceptance-rate-by-date?python=) is the question, and the solution I'm looking at is under ""solutions from users"" from IvanaSandwich161 on 3/28/2022",learnSQL,Why does this have to be multiplied to give a non-zero answer?,1.0,https://www.reddit.com/r/learnSQL/comments/u0xqyh/why_does_this_have_to_be_multiplied_to_give_a/
30,lucian-12,1649659966,u11k17,0,1, ,learnSQL,[Video] How to Scale PostgreSQL with Google Cloud and HAProxy,1.0,https://youtu.be/a_lW1Hz-IPU
31,gracedobrev,1649667927,u13dcx,0,1, ,learnSQL,SQL VS NoSQL: Top 10 Head to Head Comparisons,1.0,https://www.zenesys.com/blog/sql-vs-nosql-top-10-comparisons
32,LieutenantDaredevil,1649724176,u1map5,0,1,"Hi All,

I'm looking to get into the Business Intelligence field. Thus, my first plan of attack is learning SQL. Right now, my list is as follows:

1. Complete W3 School online guide

2. Complete Khan Academy intro and advanced courses

3. Do daily pgonline / hackerrank exercises

4. Do a passion project with made-up data / database

Is there any type of checklist thats like: if you do this, youre good to go for SQL? Certifications seem scarce - Azure data fundamentals doesnt seem to drill into SQL itself 100%.

Want to be able to hit some milestone where I'll be able to know for sure that I am competent.",learnSQL,My Learning Checklist. What am I missing?,1.0,https://www.reddit.com/r/learnSQL/comments/u1map5/my_learning_checklist_what_am_i_missing/
33,YOMANK_,1649726663,u1n52d,0,1,"Good evening everyone! I am unable to find instructions for the scenario below. I've looked through all my Module readings, textbook readings, and my Google-Fu has failed me. Can someone point me in the right direction for this? (I am using Oracle Apex.)

**Scenario:**

Using the concatenation operator ( || ), write a query that displays the customers’ first name, last name, and email address in the sentence: 

The customer \[FIRST\_NAME\] \[LAST\_NAME\] can be reached at the email address \[EMAIL\].

**What I have so far:**

SELECT FIRST\_NAME || LAST\_NAME + ""can be reached at the email address"" + EMAIL + "".""

FROM HOL\_CUSTOMERS;

&amp;#x200B;

I am also taking a Python course, so I may be mixing my languages, haha.

Thanks in advance!",learnSQL,SELECT statement with data displayed in a sentence?,1.0,https://www.reddit.com/r/learnSQL/comments/u1n52d/select_statement_with_data_displayed_in_a_sentence/
34,Agathaijay,1649743968,u1s52c,0,1,"Hello everyone ... I am very much new here,but I will like to know how to install mysql on a PC being having a hard time installing it .
Please I will appreciate your responses.
Thank you",learnSQL,How to install mysql into a PC,1.0,https://www.reddit.com/r/learnSQL/comments/u1s52c/how_to_install_mysql_into_a_pc/
35,driverXXVII,1649772781,u202qv,0,1,"Hi

I'm learning SQL for the the first time and I decided to follow this video - [https://youtu.be/HXV3zeQKqGY](https://youtu.be/HXV3zeQKqGY)

He suggests using POPSQL but since the video is from 2018 I'm wondering if there is a better option I should start with

What do you use to visualise/practise SQL? Are there better alternatives to POPSQL?

Thanks",learnSQL,Learning SQL using freecodecamp video. Suggests using PopSQL. Are there any better alternatives? What do you use to practise SQL,1.0,https://www.reddit.com/r/learnSQL/comments/u202qv/learning_sql_using_freecodecamp_video_suggests/
36,Nicholas_TW,1649793667,u27zrw,0,1,"I'm using SQL Server.

Let's say I have this table, ""Table"", with an ID column, ""Col1,"" and two varchar columns ""Col2,"" and ""Col3"":

&amp;#x200B;

|Col1|Col2|Col3|
|:-|:-|:-|
|1|A|E|
|2|B|F|
|3|C|G|
|4|D|H|

...And I need a query which returns the contents of Col1 and Col2 AS ONE COLUMN where Col1 is greater than 2.

So, my expected results would be

&amp;#x200B;

|C|
|:-|
|G|
|D|
|H|

(Order is irrelevant).

Is there some kind of crazy self-joining technique I can do, or a built-in function?",learnSQL,Is there a way to select two columns as one long column?,1.0,https://www.reddit.com/r/learnSQL/comments/u27zrw/is_there_a_way_to_select_two_columns_as_one_long/
37,sm00mz,1649795514,u28orz,0,1,"I'm creating a table and I want the RentalCost of a book to be greater than 0. Is this done by simply specifying:

    RentalCost NUMBER(5,2) NOT NULL

or is there another statement I need somewhere - I cannot use constraints for this exercise.",learnSQL,Does 0 equal NULL in Oracle?,1.0,https://www.reddit.com/r/learnSQL/comments/u28orz/does_0_equal_null_in_oracle/
38,dcri2020,1649899414,u35pw0,0,1, ,learnSQL,Hey guys I’m trying to import a csv file into sql developer. I noticed that in the file there are letter with . Example : Dog_name then one of the names either have a name with a . Or just the dot . When I try to imported it give me an error saying invalid column names. Any ideas ?,1.0,https://www.reddit.com/r/learnSQL/comments/u35pw0/hey_guys_im_trying_to_import_a_csv_file_into_sql/
39,largomouth3,1649933295,u3emhv,0,1,"I have one table that has an ID and a name. These are things. I have another table with ID and names. These are features of the things (think products). My third table has ID (unused) and foreign keys for the thing ids and thr feature ids. 

In schema,

Things{
Thing ID, primary key
Thing name , text
}

Features{

Feature ID, primarily key
Feature name, text
}

Product features {

Pf ID, unused primary key,

Product ID, foreign key

Feature ID, foreign key

}

How can i triple join such that I can access the features for its matching product?",learnSQL,"I’m performing a triple join on three tables, and I’m trying to get the resulting info for an entry",1.0,https://www.reddit.com/r/learnSQL/comments/u3emhv/im_performing_a_triple_join_on_three_tables_and/
40,wedora,1650015725,u44efe,0,1, ,learnSQL,UPDATE from SELECT: Use joins for your row updates instead of multiple queries,1.0,https://sqlfordevs.io/tips/update-from-select
41,sippher,1650084661,u4qabp,0,1,"I'm doing an exercise online, and this question got me stumped.

Basically, it asked me to return this output:
[image](https://i.imgur.com/OfaWE2O.jpg)

How am I supposed to do that?

I tried:

    SELECT COUNT() as male, COUNT() as female FROM PEOPLE

but the WHERE confuses me, how do I set separate conditions in one query? If I type

    ""WHERE gender = ""Male"""";

then the female count will also return the number of males.

Thank you very much!",learnSQL,Learning SQL; I'm confused how to return the number of males &amp; females in the table while using one query.,1.0,https://www.reddit.com/r/learnSQL/comments/u4qabp/learning_sql_im_confused_how_to_return_the_number/
42,DigitalSplendid,1650086880,u4qumc,0,1,"&amp;#x200B;

[https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/19rpv92pttt81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=5d4aada43194e332423115e4743a567063f25fe3)

An explanation of why few columns are kept black as well how to make sense of primary key and infinity symbol appreciated.",learnSQL,Help understanding ER diagram,1.0,https://www.reddit.com/r/learnSQL/comments/u4qumc/help_understanding_er_diagram/
43,DigitalSplendid,1650099210,u4toxk,0,1,"Excluding $0.00, what is the minimum bi-weekly high rate of pay *(please include the dollar sign and decimal point in your answer)*? The code has been started for you, but you will need to add onto the last line of code to get the correct answer.

After pressing Run, this is the result:

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/m2qy7lpntut81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=3d043f5383193efa4abf903a7865a5a5a681368a)

Next, I try with this code (that does not meet the condition set in the question of -   'need to add onto the last line of code'.

 

Select   
min(Biweekly\_high\_Rate) NOT LIKE 1  
From salary\_range\_by\_job\_classification  


https://preview.redd.it/t9vps3w0uut81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=6b6bd9b07b91e8121131a149e0028db134cb148a

Is my answer correct. Also, why $ and decimal appears in the first instance of Run and not after me adding NOT LIKE 1.

There should be a right way to do by adding code to the last line of code!

Help appreciated.",learnSQL,"Excluding $0.00, what is the minimum bi-weekly high rate of pay",1.0,https://www.reddit.com/r/learnSQL/comments/u4toxk/excluding_000_what_is_the_minimum_biweekly_high/
44,maneesh123456,1650105546,u4v41l,0,1, ,learnSQL,10 Best SQL Books for Beginners &amp; Advanced in (2022),1.0,https://codingvidya.com/best-sql-books-for-beginners/
45,DigitalSplendid,1650117900,u4yikh,0,1,"Here is the problem:

What is the pay type for all the job codes that start with '03'? The code has been started for you, but you will need to program the fourth and fifth lines yourself before running the query.

Here is my code:

 

    SELECT Job_code,pay_type
    FROM salary_range_by_job_classification
    WHERE job_code LIKE '03%'

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/mttm5s8kcwt81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=157213155749e7b13b8e2a39031ca267400a07e0)

Next, I apply Group By option:

    Select
    job_code,pay_type
    FROM salary_range_by_job_classification
    WHERE job_code LIKE '03%'
    GROUP BY Pay_Type

My query is why 0382 Job\_Code shows up? Since the answer is supposed to be in one row, and there is a need to fill job\_code field as the same is with SELECT, a compromise made?

&amp;#x200B;

https://preview.redd.it/tzvfhmuedwt81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=206e0e178a1cef7303ff3db10d942005d4d73052",learnSQL,Why Group By including a particular column record when there are similar other column records while giving output,1.0,https://www.reddit.com/r/learnSQL/comments/u4yikh/why_group_by_including_a_particular_column_record/
46,DigitalSplendid,1650119875,u4z5hu,0,1,"    Select
    grade,eff_date, -- STRFTIME('%M %D %Y',sal_end_date) AS enddatesalary
    FROM salary_range_by_job_classification
    WHERE grade = 'Q90H0'
    

Intend to put STRFTIME('%M %D %Y',sal\_end\_date) AS enddatesalary under comments. Seems I am making a mistake.

Also tried this way:

    Select
    grade,eff_date, /* STRFTIME('%M %D %Y',sal_end_date) AS enddatesalary*/
    FROM salary_range_by_job_classification
    WHERE grade = 'Q90H0'

Again seems incorrect.",learnSQL,Putting comments with SQL codes,1.0,https://www.reddit.com/r/learnSQL/comments/u4z5hu/putting_comments_with_sql_codes/
47,RealBaburao,1650207454,u5oqea,0,1,"Having pretty much knowledge in SQL, want some projects for practice purposes. Where can I get SQL projects?",learnSQL,projects in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/u5oqea/projects_in_sql/
48,EcstaticCoach5262,1650261961,u665w1,0,1," I am trying to create a table where the Primary key of the table is the Primary key of another table also. The other is the parent table. Is it possible to initiate an attribute as Primary as well as Foreign key?

I have written the following code and I created the table which was created in SQL Server but I am not sure if this approach is correct.

Create table TableName(

	Attribute1 int NOT NULL Primary Key,

	Foreign key(Attribute1 ) 

		references ParentTable(Attribute1),

	Attribute2 varchar(255) not null,

	Attribute3 int not null);",learnSQL,Can one table have an attribute that is both Primary Key and its Foreign key?,1.0,https://www.reddit.com/r/learnSQL/comments/u665w1/can_one_table_have_an_attribute_that_is_both/
49,Travis-Turner,1650285939,u6cax8,0,1,"[In this article](https://evilmartians.com/chronicles/a-slice-of-life-table-partitioning-in-postgresql-databases), we lay out table partitioning in PostgreSQL databases and also explore common problems and pitfalls. It's mainly aimed at Ruby on Rails developers, but we think it could definitely be a useful learning tool for backend engineers and SQL folks in general.",learnSQL,A slice of life: table partitioning in PostgreSQL databases,1.0,https://www.reddit.com/r/learnSQL/comments/u6cax8/a_slice_of_life_table_partitioning_in_postgresql/
50,scrubdumpster,1650302863,u6ij2k,0,1,"I have a table where the date column is stored as datetime. I need to pull all the records for the most recent datetime (it's a live updating table), but I can only pull the results for some categories if I use the function below since the time's can be a second/minute behind the other categories.

SELECT \*

FROM table1

WHERE Date = ( SELECT MAX(Date) 

FROM table1",learnSQL,How can I and return results for all categories based on the most recent datetime?,1.0,https://www.reddit.com/r/learnSQL/comments/u6ij2k/how_can_i_and_return_results_for_all_categories/
51,Nicholas_TW,1650307672,u6kdtw,0,1,"Let's say I have the following table...

&amp;#x200B;

|Name|Price|Location|
|:-|:-|:-|
|Foo|1|USA|
|Bar|3.5|USA|
|Bobby|5|Spain|

And I want to change the values to the following:

&amp;#x200B;

|Name|Price|Location|
|:-|:-|:-|
|Fooo|1.5|USA|
|Barbara|5|Alaska|
|Robert|5.5|France|

Other than right-click-ing 'Edit' and manually editing them, is there a less verbose way to modify each row than writing three separate ""UPDATE TABLE SET Name = X, Price = Y, Location = Z WHERE Name = A"" calls?",learnSQL,SQL Server - Less verbose way to do many updates?,1.0,https://www.reddit.com/r/learnSQL/comments/u6kdtw/sql_server_less_verbose_way_to_do_many_updates/
52,DigitalSplendid,1650353141,u6zcai,0,1,"Here is the structure of the database

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science\/](https://preview.redd.it/ebsos9pysfu81.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=fb3ed7cc7106dbafcc499d31535db346af26a29c)

Here is the problem:  

Sort the Biweekly low rate in ascending order. There is no starter code, as you need to write and run the query on your own. *Hint: there are 4 lines to run this query.*

Here is my code:

    SELECT Biweekly_Low_Rate 
    FROM salary_range_by_job_classification 
    ORDER BY Biweekly_Low_Rate

Since it is mentioned that there are 4 lines to run this query, and my query has 3 limes, am I missing something? The output seems correct.

https://preview.redd.it/1dhavuq3tfu81.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=d9568196eced11d342720d588b9a3a6917f566f0",learnSQL,Order By: Is my query correct?,1.0,https://www.reddit.com/r/learnSQL/comments/u6zcai/order_by_is_my_query_correct/
53,DigitalSplendid,1650355009,u6zrsf,0,1,"This is the database structure for the problem:

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science ](https://preview.redd.it/jctxvbxayfu81.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=73286727038e1ccfc5308bccddbe28990dddc387)

Here is the problem:

 Write and run a query, with no starter code to answer this question: **What Step are Job Codes 0110-0400?** *Hint: there are 6 lines to run this query.* 

Here is my query:

    SELECT Job_Code, step
    FROM  salary_range_by_job_classification
    WHERE Job_Code = '0110-0400'
    
    

https://preview.redd.it/57txlyfsyfu81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=029fd064328159f67c0756918a101b22279bed36

Since it is mentioned with the problem that there are 6 lines to run this query and mine have 3 lines, am I missing something?",learnSQL,WHERE clause: Is my query missing something?,1.0,https://www.reddit.com/r/learnSQL/comments/u6zrsf/where_clause_is_my_query_missing_something/
54,DigitalSplendid,1650356851,u70778,0,1,"Here is the database structure for the problem:

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/ccsjkzbn3gu81.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=8f081d630dd4c0138c0a23cb8ef99e63430f9a12)

Here is the problem:

 Run a query to find the Effective Date (eff\_date) or Salary End Date (sal\_end\_date) for grade Q90H0? The code has been started for you, but you will need to program the third through the sixth lines yourself before running the query.  

Here is the query I formed: 

SELECT  
grade,eff\_date,STRFTIME('%M %D %Y',sal\_end\_date) AS enddatesalary  
FROM   
salary\_range\_by\_job\_classification  
WHERE   
grade = 'Q90H0'

&amp;#x200B;

https://preview.redd.it/6dbkvy084gu81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=b2215b1631202d96e77f1803be8e3707177f5adc

Is my query correct?",learnSQL,"FROM, WHERE clause: Is my query correct?",1.0,https://www.reddit.com/r/learnSQL/comments/u70778/from_where_clause_is_my_query_correct/
55,DigitalSplendid,1650358036,u70guk,0,1,"Here is the database structure related to the problem:

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/ftft4uop7gu81.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=868421128e680a751063df89367d368ce1cc0cc1)

Here is the problem:

 *Write and run a query, with no starter code or hints to answer this question:* *What is the Biweekly High Rate minus the Biweekly Low Rate for job Code 0170?*

So, I need to form a temporary column that will hold value of Biweekly High Rate - Biweekly Low Rate for job Code 0170.

With SELECT, how to mention such temporary column?",learnSQL,Creating temporary columns with SELECT,1.0,https://www.reddit.com/r/learnSQL/comments/u70guk/creating_temporary_columns_with_select/
56,DigitalSplendid,1650368247,u731yd,0,1,"&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/mfhg2p811hu81.jpg?width=1920&amp;format=pjpg&amp;auto=webp&amp;s=073470696de335c5962a31ca15e257c40667c996)

Ideally, there should have been a mention of data type for each columns. 

Here is the problem:

 *Write and run a query, with no starter code or hints to answer this question:* ***What is the Biweekly High Rate minus the Biweekly Low Rate for job Code 0170?*** 

Here is my solution: 

SELECT (Biweekly\_High\_Rate - Biweekly\_Low\_Rate) AS dif  
FROM salary\_range\_by\_job\_classification  
WHERE Job\_Code = '0170'

&amp;#x200B;

https://preview.redd.it/t5gg1n1y1hu81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=83272ca14fd1f5dd7f3a7de5f2199b5f87136de3

First of all, it will help to confirm if I have formulated right query. 

Next, Suppose Biweekly\_High\_Rate and Biweekly\_Low\_Rate are set as text/date data types instead of integer type. What will be the result of the query then?",learnSQL,Data type of a column and its implication for the query,1.0,https://www.reddit.com/r/learnSQL/comments/u731yd/data_type_of_a_column_and_its_implication_for_the/
57,maneesh123456,1650368664,u7366f,0,1, ,learnSQL,7+ Best Online SQL Courses for Data Science to know in 2022 -,1.0,https://codingvidya.com/best-online-sql-courses-for-data-science/
58,vanillastrings,1650386668,u79jra,0,1,"Have to give a pre-interview thing for a certain profile fot my university's campus placements in the coming months. The profile is more of an Analytical one rather core Tech. It requires a sufficient knwoledge of both SQL &amp; DBMS. I have a fairly beginner idea for both. Can anyone here suggest some good learning material online for the specific?

Thanks in advance!",learnSQL,Fairly new to SQL. Suggestions for any good learning material available online for free? (on YT/etc.),1.0,https://www.reddit.com/r/learnSQL/comments/u79jra/fairly_new_to_sql_suggestions_for_any_good/
59,MrExcellent90,1650401030,u7f134,0,1,"Is there a way to use left, substring, etc so that instead of stopping at a specific number, it stops when it hits a numerical value or an alphabet?",learnSQL,"Is there a way to use left, substring, etc so that instead of stopping at a specific number, it stops when it hits a numerical value or an alphabet?",1.0,https://www.reddit.com/r/learnSQL/comments/u7f134/is_there_a_way_to_use_left_substring_etc_so_that/
60,_GrowGreat_,1650406013,u7gvem,0,1,"Heyy, I have been working as an ORACLE DBA for quite some time now. I would like to give back to whoever wants to learn sql since I feel sql is a very important language you should learn to understand the flow of data and in general in any development.
I would charge some nominal amount since that way you and I, both would be focused on this.

Please comment or message me if you have any doubts.",learnSQL,I will teach ORACLE SQL 1 on 1 via zoom.,1.0,https://www.reddit.com/r/learnSQL/comments/u7gvem/i_will_teach_oracle_sql_1_on_1_via_zoom/
61,driverXXVII,1650410833,u7ijsj,0,1,"I am completely new to SQL but have a few years of experience in programming with Python (as a hobby not as a job)

I am currently a maths teacher and hoping to make a career switch to work as a data analyst.

I watched and followed along with this video ([https://www.youtube.com/watch?v=HXV3zeQKqGY](https://www.youtube.com/watch?v=HXV3zeQKqGY)) by [freecodecamp.org](https://freecodecamp.org). It is a 4 hour video; I've made notes along the way and tried all the exercises, so it wasn't just passively watching the video. He covers 

* Creating a database, tables, setting primary keys
* Functions
* Wildcards
* Unions/Joins
* Nested Queries
* Setting basic triggers

&amp;#x200B;

1. What would be a good next port of call to continue learning SQL? I am a little overwhelmed by the amount of choice available. Looking for any personal suggestions.
2. He covers mySQL. Is there a particular flavour of SQL that is more popular in industry? Or shoudl I not worry about that at this stage of learning SQL?

Thanks for any help.",learnSQL,Completed the Freecodecamp video on SQL. Where should I look to next? I have searched online and just overwhelmed by the amount of choice.,1.0,https://www.reddit.com/r/learnSQL/comments/u7ijsj/completed_the_freecodecamp_video_on_sql_where/
62,lucian-12,1650434364,u7pnx3,0,1, ,learnSQL,[video] PostgreSQL Partitioning Tutorial,1.0,https://youtu.be/oJj-pltxBUM
63,DigitalSplendid,1650444133,u7rww4,0,1," Here is the problem:

The  question in this quiz refer to the open source Chinook Database. Please familiarize yourself with the [ER diagram](https://ucde-rey.s3.amazonaws.com/DSV1015/ChinookDatabaseSchema.png) to familiarize yourself with the table and column names to write accurate queries and get the appropriate answers.

**Run Query:** Show the number of orders placed by each customer (hint: this is found in the invoices table) and sort the result by the number of orders in descending order.

Here is my solution:

    SELECT Count(InvoiceId) AS NoOfOrdersbyEachCustomer
    FROM Invoices
    GROUP BY CustomerId
    ORDER BY  NoOfOrdersbyEachCustomer DESC
    
    

https://preview.redd.it/o3ju5kmxbnu81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=ba6d0a1089d8c5429415f4d39e0c7c63abf82863

Is it correct?",learnSQL,GROUP BY and ORDER BY clauses: Is its usage correct ?,1.0,https://www.reddit.com/r/learnSQL/comments/u7rww4/group_by_and_order_by_clauses_is_its_usage_correct/
64,DigitalSplendid,1650452991,u7u0eh,0,1,"Here is the problem:

   
**Question 9**

All of the questions in this quiz refer to the open source Chinook Database. Please familiarize yourself with the [ER diagram](https://ucde-rey.s3.amazonaws.com/DSV1015/ChinookDatabaseSchema.png) to familiarize yourself with the table and column names to write accurate queries and get the appropriate answers.

**Run Query:** Find the albums with 12 or more tracks.

Here is my tentative solution:

    SELECT 
    Name, AlbumId, TrackId, COUNT (AlbumId &gt; 11) AS countalbumid
    FROM 
    Tracks
    GROUP BY
    AlbumId, TrackId

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/x628azr52ou81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=ef205d85cf50f0be4d0d10955245e604e7a93427)

I could see Album Id 1 has 10 tracks as per first page. How do I count and get output of 10 against Album Id 1?",learnSQL,COUNT clause example,1.0,https://www.reddit.com/r/learnSQL/comments/u7u0eh/count_clause_example/
65,AdviceNotAskedFor,1650458184,u7vic6,0,1,"I've got a complex select item that I use in a few different areas within my select statement.

  
I'd like to make the sql a bit more readable and not a headache to look at.  Can I put the nested function into a variable somehow so that I can just call the variable throughout the code rather than retyping the massive nested function?

  
I don't have my code example in front of me, but it's got a convert/stuff/format, which makes for a long chunk of sql to repeat.",learnSQL,Is it possible to stuff a complex select item into a variable for use?,1.0,https://www.reddit.com/r/learnSQL/comments/u7vic6/is_it_possible_to_stuff_a_complex_select_item/
66,GamesOverEasy_90,1650462252,u7wurd,0,1, ,learnSQL,Using the FETCH Clause in PostgreSQL | PostgreSQL Tutorial | Fetch Clause Examples,1.0,https://youtu.be/_Jv_pm9Xtbo
67,onesmallbite,1650464968,u7xtg8,0,1,"I have a project that I think would make sense to start using SQL to manage our datasets.  I am a total newbie though and am overwhelmed just by looking at all of the many options for software!!  I also want something I can get going on right away and won’t require the many layers of approval my work requires to get anything costly.  If it’s cheap I’ll just pay for it rather than going through the process because it could set us back a month.

Can anyone recommend a decent program less than $100 that doesn’t have a steep learning curve??

Also, we are currently storing our datasets in SPSS.  Is there anyway to access those using a SQL program or do we need to transfer to a different format?  (Any recommendations??)

Thanks for your help!!",learnSQL,What’s the best cheap program to start??,1.0,https://www.reddit.com/r/learnSQL/comments/u7xtg8/whats_the_best_cheap_program_to_start/
68,TheBlackPopeOP,1650467901,u7yvhr,0,1,"I'm trying to write a right join, but I keep running into this error message. I've tried all the common fixes: making sure there's no typos, making sure that tables are referenced in the correct order, and so on, yet the error persists. I've also tried removing the table aliases and using the table's actual name, but that didn't work. I'm not sure what else to try. Below is my code:

    select All_Listings.[seller-sku], All_Listings.[asin1], [quantity], FBA_Inventory.[Quantity Available], [fulfillment-channel] from dbo.AllListingsReport_20Apr2022 as All_Listings, dbo.FBAInventoryReport_20Apr2022
    right join dbo.FBAInventoryReport_20Apr2022 as FBA_Inventory
    on All_Listings.[asin1] = FBA_Inventory.[asin] -- error is on this line, says 'All_Listings.asin1' cannot be bound

Thank you so much for any help, I really appreciate it.",learnSQL,"The multi-part identifier could not be bound, but there's no typos or syntax errors that I can find",1.0,https://www.reddit.com/r/learnSQL/comments/u7yvhr/the_multipart_identifier_could_not_be_bound_but/
69,TheBlackPopeOP,1650477780,u82iq0,0,1,"I have three tables: All\_Listings, FBA\_Inventory, and Rebrand. I need a query which returns every record with a shared ASIN between All\_Listings and Rebrand, and the quantity of every item with a matching ASIN in FBA\_Inventory. Lastly, I only want to retrieve records with a certain status in the Rebrand table.

An ASIN can only appear once per table, so I believe this makes all the relationships one-to-one. 

Below is the best I can do, but it returns way too many results. I'm utterly lost about why this is the case; my understanding is that an inner join should only return records that are shared between tables, and thus ought to limit the number of results that come back. Here, they seem to have a multiplicative effect. Please forgive the inconsistent use of table names and aliases. Using only one or the other gave me ""could not be bound"" errors, so this is the only version that will actually execute.

    select All_Listings.[seller-sku], Rebrand.[asin], All_Listings.quantity, FBA_Inventory.[Quantity Available], All_Listings.[fulfillment-channel], Rebrand.[status]
    from AllListingsReport_20Apr2022 as All_Listings, FBAInventoryReport_20Apr2022 as FBA_Inventory, ItemsToRebrand as Rebrand
    inner join AllListingsReport_20Apr2022 on Rebrand.[asin] = AllListingsReport_20Apr2022.asin1
    inner join FBAInventoryReport_20Apr2022 on FBAInventoryReport_20Apr2022.[asin] = Rebrand.[asin]
    where Rebrand.[status] = 'error'
    order by [seller-sku]

Thanks again for any help, it is greatly appreciated.",learnSQL,"Struggling to join 3 tables, query returning millions of results when it should only return a few hundred",1.0,https://www.reddit.com/r/learnSQL/comments/u82iq0/struggling_to_join_3_tables_query_returning/
70,CandidFloor7111,1650488071,u869qc,0,1,"Beginner learning SQL, this is the first time I've tried to do this:

Basically I have this table that I have to turn into a DB and populate it 

https://preview.redd.it/vuyd90j3xqu81.png?width=1188&amp;format=png&amp;auto=webp&amp;s=6958c40f089d0c3ae9d153635ac66aa4b79e550f

https://preview.redd.it/0dgnm3p5xqu81.png?width=1107&amp;format=png&amp;auto=webp&amp;s=48b365de306ba9c997eec605ef67f587b2e53b35

* I started by making my diagram first and I made it like this, would this be okay? Anything you'd change? More tables? Different columns? 
* so far ive only been working with AdevntureWorks DB and i tried making it kind of like the way that one was made: AdventureWorks diagram: [https://blog.jpries.com/wp-content/uploads/2015/12/AdventureWorks2008\_db\_diagram.pdf](https://blog.jpries.com/wp-content/uploads/2015/12/AdventureWorks2008_db_diagram.pdf)

the designer tool i used doesnt have an nvarchar type to thats why i have a lot of text type, but when i make the tables ill use nvarchar for most btw. 

https://preview.redd.it/5x59s8fpwqu81.png?width=1211&amp;format=png&amp;auto=webp&amp;s=471f68ac2fe1cbd26c9b56914dc790d4649cdbf5",learnSQL,Does my normalization look okay?,1.0,https://www.reddit.com/r/learnSQL/comments/u869qc/does_my_normalization_look_okay/
71,Comprehensive-Ad3963,1650488970,u86lqo,0,1,"I have a table that looks like this:

personID responsibilityID

0                 0

0                  1

1                  2

I want an SQL query that returns the personIDs and their corresponding responsibilityIDs, kind of like so:

personID   responsibilities

0                  0,1

1                   2

How would I do this?",learnSQL,"How do I select each key from a table, and for each of those keys a list of keys related to that key?",1.0,https://www.reddit.com/r/learnSQL/comments/u86lqo/how_do_i_select_each_key_from_a_table_and_for/
72,babyzula,1650494734,u88nhi,0,1,"Hello! I hope this is ok to post here. I’m looking to go over my SQL assignment for an intro to MySQL class with join functions, I don’t understand it well and am struggling to move forward on the topic. Please message me if you can provide further explanation!",learnSQL,Need help with SQL assignment? (Don’t understand join functions),1.0,https://www.reddit.com/r/learnSQL/comments/u88nhi/need_help_with_sql_assignment_dont_understand/
73,largomouth3,1650498693,u89zod,0,1, ,learnSQL,"Since foreign keys don’t increment, if I’m adding something to a table via a form, how can I retain foreign key relationships?",1.0,https://www.reddit.com/r/learnSQL/comments/u89zod/since_foreign_keys_dont_increment_if_im_adding/
74,__Drink_Water__,1650510645,u8dv81,0,1, ,learnSQL,Trying to install SSMS but I keep getting blocked. Any idea why?,1.0,https://i.redd.it/9hbkit0ytsu81.png
75,TylerDurden-_-,1650527798,u8ib52,0,1,"Practicing JOINS in sql

https://preview.redd.it/yond7hww8uu81.png?width=851&amp;format=png&amp;auto=webp&amp;s=4577b4ed797f94d62d7eb5602c67d5880a49c626

    select state.name,country.name,avg(state_weather_stats.humidity), case when
    avg(state_weather_stats.temperature) &lt; 15 then 'COLD'
    WHEN avg(state_weather_stats.temperature) &gt;= 15  AND avg(state_weather_stats.temperature) &lt; 30 then 'WARM'
    when avg(state_weather_stats.temperature) &gt; 30 then 'HOT'
    from state join state_weather_stats on state.id = state_weather_stats.state_id
    join country on state.country_id = country.id
    where left(state_weather_stats.record_date,7) = '2018-11'
    group by state.name
    

am i joining the wrong tables?",learnSQL,Confused in joins,1.0,https://www.reddit.com/r/learnSQL/comments/u8ib52/confused_in_joins/
76,DigitalSplendid,1650542960,u8m531,0,1,"&amp;#x200B;

[https:\/\/www.tutorialspoint.com\/sql\/sql-self-joins.htm](https://preview.redd.it/r1j23ofxhvu81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=7975c814b55e44cc2a2c48a408c960d7fd0495e4)

Clueless what this query is doing:

    SQL&gt; SELECT  a.ID, b.NAME, a.SALARY
       FROM CUSTOMERS a, CUSTOMERS b
       WHERE a.SALARY &lt; b.SALARY;

I understand self join is creating two temporary tables out of the same table.

In the above query, two temporary tables (with aliases a and b) created out of same table CUSTOMERS.  While ID and SALARY are retrieved from a, NAME from b.

Beyond that, an explanation of the above query will be helpful. Thanks in advance.",learnSQL,Self Join: What this query is doing,1.0,https://www.reddit.com/r/learnSQL/comments/u8m531/self_join_what_this_query_is_doing/
77,MrHolte,1650543121,u8m6rw,0,1,"Good afternoon all, very new to SQL and looking for some help if you'd be so kind.

I've built a MariaDB database to use with Power BI, however to make the visual I want, I need to create some generated columns. I'd rather not do it as a DAX measure and do it in the SQL database itself so I could utilise the column in any and all reporting.

&amp;#x200B;

Say I have a table structured like so:

    CREATE TABLE test (
    	id INT NOT NULL,
    	startdate date NOT null,
    	PRIMARY KEY (id)
    );

Populated with this data:

    insert into test (id, startdate)
    values
    	(1, ""2022-04-20""),
    	(2, ""2022-04-21""),
    	(3, NULL);

Resulting in:

|id|startdate|
|:-|:-|
|1|2022-04-20|
|2|2022-04-21|
|3|NULL|

&amp;#x200B;

Then my question becomes, how can I add a generated column that determines if the startdate for each row is equal to today (not fussed if it's a boolean TRUE/FALSE or a varchar ""Yes""/""No"")

I understand this would then update anytime the database is changed/updated?

This is as far as I got:

    alter table test
    	add column istoday
    		generated always as (*IF STARTDATE = TODAY THEN TRUE*) stored:

Got majorly stuck at the IF placeholder part though.

Any help would be greatly appreciated...

Thanks in advance!",learnSQL,Add Generated Column To Table: Is date equal today?,1.0,https://www.reddit.com/r/learnSQL/comments/u8m6rw/add_generated_column_to_table_is_date_equal_today/
78,Linzer333,1650546697,u8nceq,0,1,"I volunteer at a small organization that does not receive much funding.  I would like to transfer our database of people's names and their demographic information from index cards to a table using SQL so I can manipulate it and add/edit/filter when needed.  I think Excel would get messy/difficult to read and get information from.

Older adults who barely know how to email have to be able to search the database and pull up a person's demographic info.  For example, they could search last name and find DOB, gender, etc.  Is there a free program/platform best suited for this?  I am fairly new to learning SQL but I am trying to apply what I'm leaning to real like situations for practice.

Thank you!",learnSQL,Looking for free platform to enter a dataset that can be searched in an older generation-friendly manner,1.0,https://www.reddit.com/r/learnSQL/comments/u8nceq/looking_for_free_platform_to_enter_a_dataset_that/
79,CandidFloor7111,1650548277,u8nv7u,0,1,"making my first ever DB, and I've never seen these before in DB ive worked in.

https://preview.redd.it/unyblx8vxvu81.png?width=337&amp;format=png&amp;auto=webp&amp;s=73dc2541abbe8a6ccb96c25395139f1541f505f5

did i do something wrong when creating the tables?

&amp;#x200B;

    BEGIN
    	CREATE TABLE Production.ProductSubcategory
    	(
    	Code nvarchar(4) not null primary key,
    	Name nvarchar(255) not null unique,
    	CategoryCode nvarchar(12) not null CONSTRAINT FK_CategoryCode FOREIGN KEY (CategoryCode) REFERENCES Production.ProductCategory (Code)
    	); 
    	END

this is from another table but this is how ive done all of them.",learnSQL,Why do I have these random strings in my Keys,1.0,https://www.reddit.com/r/learnSQL/comments/u8nv7u/why_do_i_have_these_random_strings_in_my_keys/
80,GamesOverEasy_90,1650552702,u8pdzg,0,1, ,learnSQL,SQL Tutorial: SQL Tutorial for Beginners | Learn SQL in Under 90 Minutes #SQL,1.0,https://youtu.be/js3JM6trsx4
84,blacktiecrocs,1650560024,u8s3pd,0,1,"Hi everyone! I think I need help with a query, I'm probably overcomplicating things mentally, but how would I change this date\_add 

    DATE_ADD(ceorder.orderdate_dt,INTERVAL profile.maxexpiration_i DAY) as maxExpirationDate

to use

    course.override_expiration_days_i

  if not null, instead of

    profile.maxexpiration_i

  but only if the variable

    course.producttype_vc

  equals 'Electronic Book' so kind of like a coalesce but with an extra condition?

&amp;#x200B;

the entire query for context

    private String SELECT_EXTENSION = ""select ceordereditem.expiration_dt as currentExpirationDate, DATE_ADD(ceorder.orderdate_dt,INTERVAL profile.maxexpiration_i DAY) as maxExpirationDate, coursedetail.price_f as itemPrice, ceordereditem.approvalnumber_vc as approvalNumber, extension_percent_b as percentage, extension_price_f as extensionPrice, extension_interval_days_i as extensionDays "" +

""from coursedetail, ceordereditem, ceorder, profile "" + ""where ceordereditem.ceorder\_id\_i = ceorder.id\_i and coursedetail.profile\_id\_i = profile.id\_i and ceordereditem.coursedetail\_id\_i = coursedetail.id\_i and ceordereditem.id\_i = ?"";",learnSQL,coalesce with a conditon?,1.0,https://www.reddit.com/r/learnSQL/comments/u8s3pd/coalesce_with_a_conditon/
85,Lakshmireddys,1650564936,u8tw8j,0,1, ,learnSQL,Best SQL Courses on Linkedin Learning to learn,1.0,https://medium.com/@Codingvidya2/best-sql-courses-on-linkedin-learning-1783e5074f4
86,CandidFloor7111,1650565635,u8u5g4,0,1,"i have to create a DB 

and some of the requirements are:

* A category can have more subcategories 

(I made a category column in the Subcategory table thats a FK to the Category table, so i think i did that right),

and i need

* A subcategory can have more brands
* A brand can be present in more subcategories

Im a little confused on how to do that, my tables look like this

https://preview.redd.it/6uz133nacxu81.png?width=360&amp;format=png&amp;auto=webp&amp;s=49d2fb060b07b3141f6c7d4efa8a6751d5e96e5e

 

Do i need something like this? 

How do I make the relations between them? 

https://preview.redd.it/1srmetd1dxu81.jpg?width=336&amp;format=pjpg&amp;auto=webp&amp;s=f523d82c447968157378152406c4417fd7a1a249",learnSQL,Entity Relationship question,1.0,https://www.reddit.com/r/learnSQL/comments/u8u5g4/entity_relationship_question/
87,Dylanb993,1650580214,u8zd1i,0,1,"My understanding is that within a select statement, any columns that are NOT aggregated need to be included within a group by statement (assuming there is a column or columns that are being aggregated).

&amp;#x200B;

That being said, I have an example I'm working on that seems to violate this rule, and I can't seem to figure out why.

&amp;#x200B;

I have a postgres database with 3 tables (clients, purchases, and sessions). The clients table has client\_id (PK), first\_name, last\_name, email, emergency\_contact\_ active\_boolean.

&amp;#x200B;

The purchases table has purchase\_id (PK), purchase\_date, client\_Id, session\_count, purchase\_amount.

&amp;#x200B;

The sessions table has session\_id (PK), session\_date, client\_id, purchase\_id.

&amp;#x200B;

basically I'm keeping track of clients, sessions conducted and purchases as a personal trainer. my question is why does the following code work?:

&amp;#x200B;

    select count(*) as sessions_completed, clients.first_name, purchases.purchase_id, purchases.session_count from clients
    inner join sessions
    on clients.client_id = sessions.client_id
    inner join purchases
    on purchases.client_id = sessions.client_id
    group by clients.first_name, purchases.purchase_id;

particularly, why can I include purchases.session\_count in the select statement when its not in the group by? The course I've taken has stated that shouldnt be possible.

Is it maybe because the purchase table currently only has 3 rows that just to happen to fit the 3 rows returned (because of 3 clients at the moment)? But once I have more than 3 rows in the purchases table, it will stop working?",learnSQL,columns in a select statement with an aggregate need to be included in a group by?,1.0,https://www.reddit.com/r/learnSQL/comments/u8zd1i/columns_in_a_select_statement_with_an_aggregate/
88,corbaye,1650595103,u9473z,0,1,"# Warning | 1681 | Integer display width is deprecated and will be removed in a future release. 

I need help!!! Why do I have this warning? I am a beginner in DB Mysql :D

This is my table with data types:

    CREATE TABLE IF NOT EXISTS books (
      book_id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
      author_id INT UNSIGNED,
      title VARCHAR(100) NOT NULL,
      year INT UNSIGNED NOT NULL DEFAULT 1900,
      language VARCHAR(2) NOT NULL DEFAULT 'es' COMMENT 'ISO 639-1 Language',
      cover_url VARCHAR(500),
      price DECIMAL(6,2) NOT NULL DEFAULT 10.0, 
      sellable TINYINT(1) DEFAULT 1,
      copies INT NOT NULL DEFAULT 1,
      description TEXT
    );

[Warning 1681 - Integer display width is deprecated and will be removed in a future release.](https://preview.redd.it/ha7qrp00tzu81.png?width=987&amp;format=png&amp;auto=webp&amp;s=32de5dd938c8e7f23bb6c540a5fb9db475a77be3)",learnSQL,What is this warning in MySQL? Integer display width is deprecated and will be removed in a future release.,1.0,https://www.reddit.com/r/learnSQL/comments/u9473z/what_is_this_warning_in_mysql_integer_display/
89,DigitalSplendid,1650618676,u9abgt,0,1,"Here is the problem:

All of the questions in this quiz pull from the open source Chinook Database. Please refer to the ER Diagram below and familiarize yourself with the table and column names to write accurate queries and get the appropriate answers. 

 Find the first and last name of any customer who does not have an invoice. Are there any customers returned from the query?   

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/xxtez33pp1v81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=bf4e39281570b837e6880fc4955557bc1fb455c1)

Here is my tentative solution:

    SELECT customers.FirstName, customers.LastName, customers.CustomerId, COUNT(invoiceId)
    FROM customers 
    JOIN invoices
    ON customers.CustomerId  = invoices.CustomerId
    GROUP BY Customers.CustomerId
    HAVING COUNT(invoiceId) IS NULL

&amp;#x200B;

https://preview.redd.it/d82as39lq1v81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=d92c01d1effe35f1c424b8ff370e7ccf05cde866

Seeking help as it seems my JOIN query might not be correct.",learnSQL,Practice Quiz - Writing Queries: Is my JOIN usage correct?,1.0,https://www.reddit.com/r/learnSQL/comments/u9abgt/practice_quiz_writing_queries_is_my_join_usage/
90,DigitalSplendid,1650622241,u9b6ox,0,1,"Here is the problem:

 All of the questions in this quiz pull from the open source Chinook Database. Please refer to the ER Diagram below and familiarize yourself with the table and column names to write accurate queries and get the appropriate answers.  

 How many records are created when you apply a Cartesian join to the invoice and invoice items table? 

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/houbae1112v81.png?width=1920&amp;format=png&amp;auto=webp&amp;s=8abf8c17d0751727d36982fe396b24ab0d262557)

Here is my tentative solution:

    SELECT *
    FROM invoices
    JOIN invoice_items
    ON invoices.invoiceid = invoice_items.invoiceid

The solution that I am getting of  2240 records incorrect (Output limit exceeded, 25 of 2240 total rows shown) .

https://preview.redd.it/s7pbuyt912v81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=f1753a2de054e459bb94d78627b9bd8b23cee7e8

Seeking help where I am going wrong.",learnSQL,Counting number of records after applying Cartesian JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/u9b6ox/counting_number_of_records_after_applying/
91,jonathanneam,1650632932,u9eaiw,0,1,"I'm a beginner so pardon my question if it seems weird. When you write a query, what is the industry standard for ""saving"" the work? do you save the query or output it or are queries meant to be a one time thing? 

Also, I see pgadmin being recommended when learning postgresql, is there any recommended resource to learning it? Most sql tutorials cover the querying part but not much of how it ties to the other aspects found in pgadmin. 

Thanks in advance!",learnSQL,Question about queries and pgadmin,1.0,https://www.reddit.com/r/learnSQL/comments/u9eaiw/question_about_queries_and_pgadmin/
92,wedora,1650642603,u9hs3k,0,1, ,learnSQL,JSON columns to merge the best of NoSQL and SQL databases,1.0,https://sqlfordevs.io/tips/json-columns
93,doing20thingsatatime,1650659185,u9nvlu,0,1,"Hey guys,  

So i have 2 tables structured as follows:  

t1

&amp;#x200B;

https://preview.redd.it/larxwoh215v81.png?width=200&amp;format=png&amp;auto=webp&amp;s=fd5a52db716e7052725208539d0b0c89e6cb9d26

t2

https://preview.redd.it/28spa1p525v81.png?width=487&amp;format=png&amp;auto=webp&amp;s=93853171cbbba2f705d3aecff01aeb91cc4578ca

&amp;#x200B;

Items info are inserted into t1 every day. Users can make comments on items whenever they want, their comments are stored in t2 table, they can make multiple comments in one single day.

The joint i'm trying to make should have this result:

&amp;#x200B;

https://preview.redd.it/35ig5qtr15v81.png?width=426&amp;format=png&amp;auto=webp&amp;s=c5ece81876cb4d0551c55312e5c4221d7d89906b

In 11/04/2022, no comment was made, in 12/04/2022, one comment was made, but no comment was made until 15/04/2022. After that, on 16/04/2022, two comments were made on the same day.  

What i did so far gives an exact match of the comments creation\_date and the items insertion\_date.  

    SELECT *, t2.comment_text as last_comment
    FROM t1
    LEFT JOIN t2 ON t1.item_id = t2.item_id
    and cast(cast(t2.comment_date as date) as datetime) =  cast(cast(t2.insertion_date as date) as datetime)

I tried comment\_date =&lt; insertion\_date, but it gives me as much comments that meet the condition as there is, while i want it to give me only the top(1) by sorting with descending order comment\_id, which will return the most recent comment that meets the condition of comment\_date =&lt; insertion\_date. I have the solution conceptually but somehow couldn't translate it to SQL.  

    SELECT *, t2.comment_text as last_comment
    FROM t1
    LEFT JOIN t2 ON t1.item_id = t2.item_id
    and cast(cast(t2.comment_date as date) as datetime) &lt;=  cast(cast(t2.insertion_date as date) as datetime)",learnSQL,Left join while selecting only latest record from right table,1.0,https://www.reddit.com/r/learnSQL/comments/u9nvlu/left_join_while_selecting_only_latest_record_from/
94,DigitalSplendid,1650685860,u9wn48,0,1,"Here is the problem: 

*All of the questions in this quiz refer to the open source Chinook Database. Please familiarize yourself with the* [*ER diagram*](https://ucde-rey.s3.amazonaws.com/DSV1015/ChinookDatabaseSchema.png) *in order to familiarize yourself with the table and column names in order to write accurate queries and get the appropriate answers.*

*Retrieve a list with the managers last name, and the last name of the employees who report to him or her.*

Here is my tentative solution:

    SELECT E.LastName, M.LastName AS ManagersLastName
    FROM Employees E
    JOIN Employees M 
    WHERE E.EmployeeId = M.ReportsTo 

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/zvzy8l5n97v81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=08a7314eda6511765aabd7eb1ed4fa8f155d7c27)

 

***After running the query described above****, who are the reports for the manager named Mitchell (select all that apply)?*

*Callahan*

*Johnson*

*Park*

*Edwards*

*King*

To my understanding, Mitchell reports to King and Callahan. In other words, Mitchell is the employee whose managers are King and Callahan.

That however seems wrong as Mitchell should perhaps report to only one manager (if I am not wrong).

So, the correct answer given multiple choices it appears should be Callahan and King. However, that defies my understanding and the way I proceeded.

Any clue/help where I am going wrong appreciated. Thanks in advance!",learnSQL,Self JOIN: Difficulty relating two copies of the same table,1.0,https://www.reddit.com/r/learnSQL/comments/u9wn48/self_join_difficulty_relating_two_copies_of_the/
95,DigitalSplendid,1650697854,u9zqjs,0,1,"&amp;#x200B;

[Source: https:\/\/www.w3schools.com\/sql\/sql\_join.asp](https://preview.redd.it/7rwbn4ao98v81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=ad959c9ad9f653208b536b492b144ca181c8c18e)

Here is the problem that I am solving: 

*All of the questions in this quiz refer to the open source Chinook Database. Please familiarize yourself with the* [*ER diagram*](https://ucde-rey.s3.amazonaws.com/DSV1015/ChinookDatabaseSchema.png) *in order to familiarize yourself with the table and column names in order to write accurate queries and get the appropriate answers.*

*Find the name and ID of the artists who do not have albums.* 

&amp;#x200B;

https://preview.redd.it/3ljyfco3a8v81.jpg?width=960&amp;format=pjpg&amp;auto=webp&amp;s=9c0945558b35ab92ced84a7194258e3fcf933adc

The albums table seems subset of artists table in the sense that artistsId included in albums table will be included in the artists table. At the same time, there will be artists not having any albums.

What kind of JOIN will the above two tables will have relationship into?",learnSQL,Types of Joins in SQL and what a particular instance will fall into,1.0,https://www.reddit.com/r/learnSQL/comments/u9zqjs/types_of_joins_in_sql_and_what_a_particular/
96,Equal_Astronaut_5696,1650710915,ua2r9g,0,1, ,learnSQL,SQL Interview Question - Nth Highest Salary by Department,1.0,https://youtu.be/MLC9Wv4owGM
97,DigitalSplendid,1650717871,ua4nbe,0,1,"Here is the problem: 

*All of the questions in this quiz refer to the open source Chinook Database. Please familiarize yourself with the* [*ER diagram*](https://ucde-rey.s3.amazonaws.com/DSV1015/ChinookDatabaseSchema.png) *in order to familiarize yourself with the table and column names in order to write accurate queries and get the appropriate answers.*

*Profiling the Customers table, answer the following question.*

 *Are there any columns with null values? Indicate any below. Select all that apply.* 

*Company*

*Postal Code*

*Fax*

*Address*

*Phone*

*FirstName*

Here is my tentative solution:

    SELECT *
    FROM customers
    WHERE Company IS NULL

&amp;#x200B;

[Source: https:\/\/www.coursera.org\/learn\/sql-for-data-science](https://preview.redd.it/j0c1asx9x9v81.png?width=1366&amp;format=png&amp;auto=webp&amp;s=c719b25da522f853fbb5d85ca0ca4027328c68e4)

With that query, it is possible to get null values for Company. But not able to figure out how to include other fields (postal code, fax...) with it.",learnSQL,Null values on multiple columns using WHERE clause,1.0,https://www.reddit.com/r/learnSQL/comments/ua4nbe/null_values_on_multiple_columns_using_where_clause/
98,vanillastrings,1650729286,ua8fg2,0,1,"Hey folks!

I am about to have a pre-interview in about half a month for a management consultant based company through my uni campus. Its's for a Biz Tech Associate profile. From my seniors I got to know about the general idea of the interview, which included a significant amount of knowledge &amp; questions on topics like SQL &amp; DBMS. Right now I have a pretty mediocre idea/practice of mySQL.

So is there any online reading material, course or YouTube channel available for free that can help in preparing for Interview type questions regarding these two topics?

Any suggestions will be appreciated, thanks in advance!",learnSQL,Pre-Interview prep for SQL &amp; DBMS topics,1.0,https://www.reddit.com/r/learnSQL/comments/ua8fg2/preinterview_prep_for_sql_dbms_topics/
99,Salt-Manufacturer104,1650738589,uaboki,0,1,"Hi All,

I am failing to understand why adding a left claus gives NULL on the currency id. Any idea?

&amp;#x200B;

https://preview.redd.it/0cpflnnhnbv81.png?width=1196&amp;format=png&amp;auto=webp&amp;s=e97ec41bbec1c32b369de1d3dabbd184d794d09d

&amp;#x200B;

https://preview.redd.it/qg3l6yqinbv81.png?width=950&amp;format=png&amp;auto=webp&amp;s=eb114dee5274eb5818c22981210c541b03736101

Why does the inner join not provide the currency name?

https://preview.redd.it/x5iqcoolnbv81.png?width=1279&amp;format=png&amp;auto=webp&amp;s=7272c28bee0cf8d0707809fa2a29b7b1cda18161

&amp;#x200B;

https://preview.redd.it/kze66hzmnbv81.png?width=1000&amp;format=png&amp;auto=webp&amp;s=cb28a43977989c595534ce17d3d1de7fb71971d5

Currency table:

https://preview.redd.it/zcl1svtpnbv81.png?width=128&amp;format=png&amp;auto=webp&amp;s=4a0ebc491f3be5fb3dbeeb50f160dd4e3713209a",learnSQL,Inner Join not working,1.0,https://www.reddit.com/r/learnSQL/comments/uaboki/inner_join_not_working/
0,VolcanicKirby2,1646222043,t4yiue,0,1, ,learnSQL,"I’m trying to figure this worksheet out, can anyone help? I’m fairly stuck",1.0,https://i.redd.it/42unh8ctlyk81.jpg
1,choff5507,1646233158,t51xl9,0,1,"So, Im working on a project where I want to be able to implement roles for users. I know this is going to be a many to many relationship and I am looking for a little advice on this. 

So, for example I may have a users table with fields like:

`email, full_name, password etc...`

Then I may have a table with roles like:

`isAdmin, canRead, canEdit etc...` 

My plan would be to set the fields on the line above as Booleans. How can I go about setting up the third table to reference these two tables so I can pull all the associated roles for a user?

Furthermore, can someone give me some example SQL statements to be able to properly pull these `role` values for a user using this design?

Open to any suggestions, thanks!",learnSQL,Many to Many Questions,1.0,https://www.reddit.com/r/learnSQL/comments/t51xl9/many_to_many_questions/
2,data_dan_,1646239871,t54f7y,0,1, ,learnSQL,Experiment: Comparing Methods for Making Pandas.DataFrame.to_sql() Faster for Populating PostgreSQL Tables,1.0,https://l.bit.io/o-dataload
3,StoicResearcher,1646257360,t5ayn1,0,1,"Hi guys,

I can help you crack SQL and Python DE interviews or assignments

Especially phone screens for an onsite.

Please let me know if you are interested.

I am right now in need of some cash so I would expect some sort of payment.

Thanks!",learnSQL,I can help you crack your SQL interviews.,1.0,https://www.reddit.com/r/learnSQL/comments/t5ayn1/i_can_help_you_crack_your_sql_interviews/
4,jump0ff,1646262226,t5cr61,0,1,"I'm in charge of switching over all of my division's queries and writing documentation as we transfer from Postgre to Spark ANSI and I'm struggling to find the differences—the only document I could find identifying differences between PostgreSQL and ANSI standard is [this wiki](https://wiki.postgresql.org/wiki/PostgreSQL_vs_SQL_Standard), and it appears to be both out of date and not fully complete. I searched the documentations ([Postgre](https://www.postgresql.org/docs/current/sql-select.html) and [Spark](https://spark.apache.org/docs/3.2.1/sql-ref-syntax-qry-select.html)), but couldn't find any clear differences. 

Any high level overview of common differences or a resource would be greatly appreciated!",learnSQL,What are the differences between PostgreSQL and Spark ANSI SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/t5cr61/what_are_the_differences_between_postgresql_and/
5,VolcanicKirby2,1646277027,t5ho6d,0,1, ,learnSQL,Can anyone help with parts 2 and 3?,1.0,https://i.redd.it/emyjwl4b53l81.jpg
6,dhl1816,1646330343,t5xind,0,1,"Hi, I just had a job interview and was requested to submit a SQL take-home assessment.

Basically, I need to write SQL queries to answer some business questions.

My question is I used SSMS to write the queries. Should I send back the sql file, or should I use other file type, such as txt and word?

Any tips would be appreciated.",learnSQL,Question about SQL take-home assessment,1.0,https://www.reddit.com/r/learnSQL/comments/t5xind/question_about_sql_takehome_assessment/
7,stigmatic666,1646340570,t61cl8,0,1,"I'm working in bigquery with this mock data:

	create schema if not exists dbo;
	create table if not exists dbo.player_history(team_id INT, player_id INT, active_from TIMESTAMP, active_to TIMESTAMP);
	truncate table dbo.player_history;
	INSERT INTO dbo.player_history VALUES(1,1,'2020-01-01', '2020-01-08');
	INSERT INTO dbo.player_history VALUES(1,2,'2020-06-01', '2020-09-08');
	INSERT INTO dbo.player_history VALUES(1,3,'2020-06-10', '2020-10-01');
	INSERT INTO dbo.player_history VALUES(1,4,'2020-02-01', '2020-02-15');
	INSERT INTO dbo.player_history VALUES(1,5,'2021-01-01', '2021-01-08');
	INSERT INTO dbo.player_history VALUES(1,6,'2021-01-02', '2021-06-08');
	INSERT INTO dbo.player_history VALUES(1,7,'2021-01-03', '2021-06-08');
	INSERT INTO dbo.player_history VALUES(1,8,'2021-01-04', '2021-06-08');
	INSERT INTO dbo.player_history VALUES(1,9,'2020-01-02', '2021-02-05');
	INSERT INTO dbo.player_history VALUES(1,10,'2020-10-01', '2021-04-08');
	INSERT INTO dbo.player_history VALUES(1,11,'2020-11-01', '2021-05-08');


	select *
	 from dbo.player_history
	order by 3, 4


and what I want to get out is the active lineups. The output would look like so:

https://imgur.com/a/2j8HPiD (upper image)


With the logic behind it being:
https://imgur.com/a/2j8HPiD  (lower image)

I've almost cracked it using some sort of lead(valid_from) between valid_to and valid_from and doing some sort of cumulative sum on that to get the ID but I'm not able to solve it 100%... I'm very desparate, will buy a pizza/steam game to whoever can solve it..",learnSQL,Help with solving SQL problem (been struggling with for weeks),1.0,https://www.reddit.com/r/learnSQL/comments/t61cl8/help_with_solving_sql_problem_been_struggling/
8,msslgomez,1646404091,t6k5l7,0,1,"I'm trying to take some old code and rewrite it, but the old programmers used a CALL and I'm not sure how to decipher it so I can rewrite it in a different language. I'm using Laravel just in case it's important.

This is the CALL

    create
        definer = salcom@localhost procedure GetReport(IN survey_id varchar(255), IN ArraySalePointId longtext,
                                                       IN filters longtext)
    BEGIN
            SET @tableName = concat('report_regional_', survey_id);
            SET @sqlnuevo = concat('SELECT GROUP_CONCAT(DISTINCT CONCAT( ""max(case when survey_question_id = """""", survey_question_id, """""" then value end) AS "", survey_question_id ) ) INTO @sqlnuevo FROM ', @tableName ,';');
            PREPARE stmt FROM @sqlnuevo;
            EXECUTE stmt;
            IF ArraySalePointId = '-1' THEN
            SET @sqlnuevo = CONCAT(""SELECT region, departamento, municipio, zona, territorio, tipocliente, codigo, cliente, mercaderista, fecha, hora, "", @sqlnuevo,"",  semana, mes, corregido FROM "", @tableName ,"" "",case when filters != """" then concat("" where "", filters) when filters = ""-1"" then CONCAT("""") end,"" GROUP BY survey_report_id"");
            ELSE
            SET @sqlnuevo = CONCAT(""SELECT region, departamento, municipio, zona, territorio, tipocliente, codigo, cliente, mercaderista, fecha, hora, "", @sqlnuevo,"",  semana, mes, corregido\r\n        FROM "", @tableName ,""\r\n        LEFT JOIN survey_reports sr\r\n        ON sr.id = survey_report_id\r\n        WHERE sr.sale_point_id in ("", ArraySalePointId ,"")\r\n  "",case when filters != """" then concat("" AND "", filters) when filters = ""-1"" then CONCAT("""") end,""     GROUP BY survey_report_id"");
            END IF;
            PREPARE stmt2 FROM @sqlnuevo;
            EXECUTE stmt2;
            END;

&amp;#x200B;

This is how it gets called in Laravel

    $report = DB::select('CALL GetReport(""' . $survey_id . '"",""' . $salePointIds . '"", ""FECHA BETWEEN \''.$request-&gt;get('init_date').'\' AND \''.$request-&gt;get('end_date').'\'"")');

&amp;#x200B;

Any help would be appreciated, I really don't know anything about using SQL",learnSQL,Understand a Call,1.0,https://www.reddit.com/r/learnSQL/comments/t6k5l7/understand_a_call/
9,emdw85,1646430283,t6ts1p,0,1,"New to sql, but enjoying the ride. 

I would like to know how one would get info from Snowflake and then put that data into a SQlite table on your local machine.

Current Steps: 

Establish Snowflake connect and run query (currently storing in pandas df):

&amp;#x200B;

     import snowflake.connector
    
    
    def snowflake_connection(sql_query: str):
    
        conn = snowflake.connector.connect(
            user='USER',
            # password = PASSWORD,
            account='ACCOUNT',
            authenticator='externalbrowser'
        )
    
        cs = conn.cursor()
        try:
            cs.execute(sql_query)
            table = cs.fetch_pandas_all()
        finally:
            cs.close()
        conn.close()
    
        return table
    
    if __name__ == ""__main__"":
    
        sql_query = """"""SELECT.....""""""
    
        table = snowflake_connection(sql_query)

Step 2: 

Open Sqlite connection

    def create_connection(db_file):
        """"""Create db connection to SQlite db""""""
    
        conn = None
    
        try: 
            conn = sqlite3.connect(db_file)
            print(sqlite3.version)
        except Error as e:
            print(e)
        finally:
            if conn:
                conn.close()
    
    if __name__ == ""__main__"":
        create_connection(r""C:\Users\Name\sqlite\Regions_db\Region_1.db"")

I would import both of these [connection.py](https://connection.py)'s into a [main.py](https://main.py) file and run everything there. (I think that is best practice)

How should I get the data transferred? Is putting it in pandas then to csv then to sqlite the best way? 

Can I just go from one to the other?

Thanks",learnSQL,Snowflake query to Sqlite using Python,1.0,https://www.reddit.com/r/learnSQL/comments/t6ts1p/snowflake_query_to_sqlite_using_python/
10,aviduser124455,1646435085,t6vgtu,0,1,"    SELECT 
    	Players.FirstName+' '+Players.LastName as [Player],
    	COUNT(GameHistory.Goals),
    	MIN(Games.MatchDate),
    	MAX(Games.MatchDate)
    FROM GameHistory
    INNER JOIN Games
    on GameHistory.MatchId=Games.MatchId
    INNER JOIN Players
    on GameHistory.PersonId=Players.PersonId
    WHERE GameHistory.Goals&gt;=1
    GROUP BY Players.FirstName+' '+Players.LastName
    HAVING COUNT(GameHistory.Goals)&gt;20

Currently have this bit of SQL where it almost returns what I want. I need to return all players who scored more than 1 goal in more than 20 matches, and the earliest/latest game the player has played in. Currently it returns the earliest/latest match where the player has scored more than 1 goal. How do I modify it so it returns the earliest/latest match regardless of how many goals they scored in the match, whilst still meeting the more than 1 goal condition for the other columns?",learnSQL,How to modify this select statement to show earliest date WITHOUT the where condition?,1.0,https://www.reddit.com/r/learnSQL/comments/t6vgtu/how_to_modify_this_select_statement_to_show/
11,herokenshin,1646438036,t6wgcb,0,1,"Hey guy, I'm having trouble with a query

The idea is to get the oldest clients' DOB and client ID for each product type.

I have

    SELECT
    q.ProductCode,
    MIN(c.DOB) AS ClientDOB
    FROM
    tblQuote q
    INNER JOIN tblApplication a ON a.QuoteId = q.QuoteID
    INNER JOIN tblClient c ON c.ClientId = a.ClientId
    GROUP BY q.ProductCode

That query successfully gets me the oldest clients DOB for each distinct product code  


However, the trouble I'm having is adding the Client ID to the query

    SELECT
    q.ProductCode,
    c.ClientId
    MIN(c.DOB) AS ClientDOB
    FROM
    tblQuote q
    INNER JOIN tblApplication a ON a.QuoteId = q.QuoteID
    INNER JOIN tblClient c ON c.ClientId = a.ClientId
    GROUP BY q.ProductCode

This doesn't work, and I should know why but I can't quite seem to figure it out.   


If anyone could provide some help with some areas to research so I can handle problems like these in the future.   


Thanks",learnSQL,Invalid in the select list due to not container in aggregate function or GROUP BY clause.,1.0,https://www.reddit.com/r/learnSQL/comments/t6wgcb/invalid_in_the_select_list_due_to_not_container/
12,Future-Fold100,1646456286,t71xlq,0,1,[removed],learnSQL,https://www.reddit.com/r/SQL/comments/t718sa/loading_google_sheets/?utm_source=share&amp;utm_medium=web2x&amp;context=3,1.0,https://www.reddit.com/r/learnSQL/comments/t71xlq/httpswwwredditcomrsqlcommentst718saloading_google/
13,Future-Fold100,1646468192,t74wr0,0,1, ,learnSQL,Sql querry writing data link is https://docs.google.com/spreadsheets/d/1-QIcLNwtmSRKvcrsT5E8HlG9jcw4TdQC/edit?usp=drivesdk&amp;ouid=106593595640039627401&amp;rtpof=true&amp;sd=true,1.0,https://i.redd.it/ro1batdqxil81.jpg
14,Future-Fold100,1646471049,t75kf3,0,1, ,learnSQL,https://docs.google.com/spreadsheets/d/1-QIcLNwtmSRKvcrsT5E8HlG9jcw4TdQC/edit?usp=drivesdk&amp;ouid=106593595640039627401&amp;rtpof=true&amp;sd=true,1.0,https://i.redd.it/2w0j8qc86jl81.jpg
15,Future-Fold100,1646541628,t7r63x,0,1,"2. Use the data in the excel workbook video\_games\_data to attempt the below questions.

a) Find day 1, day 3 and day 7 retention.

b) Find the number of video games released each year. Which year had the highest number of

releases?

c) Which genre had the lowest global sales in the year 2010?

d) Find the top 10 publishers in terms of global sales. How much was their total contribution to global

sales?

e) Which genre garnered the highest sales from the top 10 publishers? How much was the

contribution of the sales from these genres to the total sales by each genre?

f) Calculate the lifetime revenue generated from the sales of video games in North America and

Japan separately for each year.

\*All questions should be attempted using SQL. Please provide a detailed explanation on the logic behind the

queries and the outputs too in the format question – answer – logic

&amp;#x200B;

The link for the excel file is as follows:

[**https://docs.google.com/spreadsheets/d/1-QIcLNwtmSRKvcrsT5E8HlG9jcw4TdQC/edit?usp=sharing&amp;ouid=106593595640039627401&amp;rtpof=true&amp;sd=true**](https://docs.google.com/spreadsheets/d/1-QIcLNwtmSRKvcrsT5E8HlG9jcw4TdQC/edit?usp=sharing&amp;ouid=106593595640039627401&amp;rtpof=true&amp;sd=true)",learnSQL,SQL querry,1.0,https://www.reddit.com/r/learnSQL/comments/t7r63x/sql_querry/
16,MlTut,1646638143,t8jsbc,0,1, ,learnSQL,7 Best Advanced SQL Online Courses,1.0,https://www.mltut.com/best-advanced-sql-courses/
17,DatBoi1337,1646669732,t8srgg,0,1,"As the title said, is it possible to use other operators such as IN, BETWEEN...AND, etc, on the ON clause in JOIN?   


Example:   
SELECT t1.a  
FROM table\_1 a  
INNER JOIN table\_2 t2   
ON t1\_id BETWEEN t2\_min AND t2\_max;",learnSQL,Using other operators in ON clause,1.0,https://www.reddit.com/r/learnSQL/comments/t8srgg/using_other_operators_in_on_clause/
18,SurpriseButtSaxx,1646672311,t8tqzc,0,1,"For an example table like this

|visitor\_id|country\_visited|year|month|
|:-|:-|:-|:-|
|1|GER|2012|12|
|2|GER|2012|12|
|3|GER|2012|11|
|4|IND|2012|6|
|5|IND|2012|6|
|6|IND|2012|3|

How to write a query that returns the result for the most popular time period each country is visited, returning (ger, 2012,12) and (ind, 2012,6)",learnSQL,Query to return most common occurences of a sets based on id,1.0,https://www.reddit.com/r/learnSQL/comments/t8tqzc/query_to_return_most_common_occurences_of_a_sets/
19,Thewellreadredhead,1646680204,t8wsz6,0,1,"Hello! I'm doing a final project for my class and I came across this error :  SQLSTATE\[HY000\] \[1045\] Access denied for user 'final\_user'@'localhost' (using password: YES).  

My code is:

    &lt;?php  
     session_start();  
     $host = ""localhost"";  
     $username = ""final_user"";  
     $password = ""sesame"";  
     $database = ""my_H_final"";  
     try  
     {  
          $connect = new PDO(""mysql:host=$host; dbname=$database"", $username, $password);  
          $connect-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);  
          if(isset($_POST[""login""]))  
          {  
               if(empty($_POST[""username""]) || empty($_POST[""password""]))  
               {  
                    $message = '&lt;label&gt;All fields are required&lt;/label&gt;';  
               }  
               else  
               {  
                    $query = ""SELECT * FROM users WHERE username = :username AND password = :password"";  
                    $statement = $connect-&gt;prepare($query);  
                    $statement-&gt;execute(  
                         array(  
                              'username'     =&gt;     $_POST[""username""],  
                              'password'     =&gt;     $_POST[""password""]  
                         )  
                    );  
                    $count = $statement-&gt;rowCount();  
                    if($count &gt; 0)  
                    {  
                         $_SESSION[""username""] = $_POST[""username""];  
                         header(""location:login_success.php"");  
                    }  
                    else  
                    {  
                         $message = '&lt;label&gt;Wrong Data&lt;/label&gt;';  
                    }  
               }  
          }  
     }  
     catch(PDOException $error)  
     {  
          $message = $error-&gt;getMessage();  
     }  
     ?&gt;  
     &lt;!DOCTYPE html&gt;  
     &lt;html&gt;  
          &lt;head&gt;  
               &lt;title&gt;Webslesson Tutorial | PHP Login Script using PDO&lt;/title&gt;  
               &lt;link rel=""stylesheet"" href=""style.css""&gt;
          &lt;/head&gt;  
          &lt;body&gt;  
               &lt;br /&gt;  
               &lt;div&gt;  
                    &lt;?php  
                    if(isset($message))  
                    {  
                         echo '&lt;label&gt;'.$message.'&lt;/label&gt;';  
                    }  
                    ?&gt;  
                    &lt;h3 align=""""&gt;PHP Login Script using PDO&lt;/h3&gt;&lt;br /&gt;  
                    &lt;form method=""post""&gt;  
                         &lt;label&gt;Username&lt;/label&gt;  
                         &lt;input type=""text"" name=""username""&gt;  
                         &lt;br /&gt;  
                         &lt;label&gt;Password&lt;/label&gt;  
                         &lt;input type=""password"" name=""password""&gt;  
                         &lt;br /&gt;  
                         &lt;input type=""submit"" name=""login"" value=""Login"" /&gt;  
                    &lt;/form&gt;  
               &lt;/div&gt;  
               &lt;br /&gt;  
          &lt;/body&gt;  
     &lt;/html&gt;",learnSQL,Getting an sql error,1.0,https://www.reddit.com/r/learnSQL/comments/t8wsz6/getting_an_sql_error/
20,20io_anarchist,1646745208,t9gj4d,0,1,is it possible to separate many joins into different functions and then call the functions within queries?,learnSQL,breaking multiple joins into separate functions,1.0,https://www.reddit.com/r/learnSQL/comments/t9gj4d/breaking_multiple_joins_into_separate_functions/
21,DT-9012,1646745596,t9gna2,0,1,"I'm solving this problem on leetcode: 

&amp;#x200B;

Write an SQL query to report the second highest salary from the Employee table. If there is no second highest salary, the query should report null.   


Table: Employee

\+-------------------------------+  
| Column Name | Type |

\+-------------------------------+  
| id                           | int |

| salary                    | int |  
\+-------------------------------+  
id is the primary key of this table. Each row of this table contains information about the salary of an employee. 

My original solution was:

SELECT DISTINCT(salary) AS SecondHighestSalary 

FROM Employee

ORDER BY salary 

DESC LIMIT 1 OFFSET 1;  


However, this was not accepted. Their reason was that if the table only contains one employee, then there is no such as second highest salary. One of their recommended solutions was to simply make this a temporary table:

SELECT (

SELECT DISTINCT(Salary) 

FROM Employee 

ORDER BY Salary DESC 

LIMIT 1 OFFSET 1) 

AS SecondHighestSalary;  


Why does making it a temporary table work?",learnSQL,Why does querying it as temporary table work?,1.0,https://www.reddit.com/r/learnSQL/comments/t9gna2/why_does_querying_it_as_temporary_table_work/
22,Dylanb993,1646787459,t9vooo,0,1,"howdy ya'll, I'm relatively new to SQL and taking a course that uses NASA data from the cassini space mission.

&amp;#x200B;

There's a query I'm seeing that kiiiind of makes sense, but I want to make sure I'm understanding what it's doing under the hood.

&amp;#x200B;

For reference, there's a table called teams, that has 14 distinct team names and a team id as a primary key. There is also a table called master\_plan that has a team column with the same names but repeated a bunch because there's \~64k entries.

&amp;#x200B;

The nested select in the following code is what's got me scratching my head:

&amp;#x200B;

    insert into plans(start, title, team_id, description)
    select
    	start_time_utc::timestamp,
    	title,
    	(select id from teams where name = csvs.master_plan.team),
    	description
    	from csvs.master_plan
    	where target = 'Enceladus' and title is not null;

is the nested select basically iterating through each row in the master\_plan and then using the smaller table called teams as a lookup table like in excel to pull the id? like literally going row by row by row by row etc etc. I get that its creating a column of the id, but I guess the logic has me somewhat confused.

&amp;#x200B;

If I switched it to:

    (select id from teams where csvs.master_plan.team = name)

would that work? to me that makes sense as in each row of master plan's team column uses the teams table to look up the corresponding id.",learnSQL,Nested Select Statement Has Me a Bit Confused,1.0,https://www.reddit.com/r/learnSQL/comments/t9vooo/nested_select_statement_has_me_a_bit_confused/
23,cmc_34,1646835600,ta8tfs,0,1,"Would any of you fine folks happen to know how I go about including a column to show when each table in a database was last updated? By table update I mean a row in that table has been created, updated, deleted. I have the below query which I tried using, and it works great apart from the modify\_date seems to refer to when the table structure was last modified (such as a new column added) rather than a row entry update.

    SELECT T.name TableName,I.Rows NumberofRows, DB_Name() AS [Current Database], [create_date] AS [CreatedDate], [modify_date] AS [ModifiedDate]
    FROM sys.tables T
    JOIN sys.sysindexes I ON T.OBJECT_ID = I.ID
    WHERE indid IN (0,1)
    ORDER BY I.Rows DESC,T.name

The reason is I am looking to narrow down the number of tables in the database I need to focus on for a project. So along with seeing how many tables have rows I was hoping to see when they were all last updated. 

Thanks",learnSQL,Last Updated date for each table in a database,1.0,https://www.reddit.com/r/learnSQL/comments/ta8tfs/last_updated_date_for_each_table_in_a_database/
24,remembertofloss22,1646845624,tacfe0,0,1,"I'm currently trying to complete the Google Data Analytics Case Study regarding the Cyclistic Bike Share Analysis and had some quick questions with importing the .CSV files into Big Query.

There are 12 .CSV files containing trip data (1 file for each month) that I'm analyzing. My first question is, do I need to create a separate dataset per .CSV file or can I just upload all 12 .CSV files under one Dataset ID?

&amp;nbsp;

For example:

&amp;nbsp;

Project ID -&gt;&amp;nbsp;

&amp;nbsp;Dataset_ID -&gt;&amp;nbsp;

&amp;nbsp;&amp;nbsp;January_tripdata.CSV file/table &amp;nbsp;

&amp;nbsp;&amp;nbsp;February_tripdata.CSV file/table &amp;nbsp;

&amp;nbsp;

Or:

&amp;nbsp;

Project ID -&gt;&amp;nbsp;

&amp;nbsp;January_Dataset_ID -&gt;&amp;nbsp;

&amp;nbsp;&amp;nbsp;January_tripdata.CSV file/table &amp;nbsp;

&amp;nbsp;February_Dataset_ID -&gt; &amp;nbsp;

&amp;nbsp;&amp;nbsp;February_tripdata.CSV file/table &amp;nbsp;

&amp;nbsp;

My initial gut tells me I can just consolidate them under one DatasetID since the schema is the same for all 12 files, but just want to be sure before I start. What is the general rule of thumb of knowing when you should have multiple datasets vs. consolidating multiple tables under one?

My second question is, would it be possible to merge the data from all 12 tables into one table and then export the results into a single .CSV file post data cleaning? This would be done using 'JOINS' I assume? Just wasn't sure if it's entirely feasible to export the results onto a single .CSV post cleanup?

Thank you in advance!",learnSQL,(Google Big Query) Stupid/simple questions regarding datasets and exporting results,1.0,https://www.reddit.com/r/learnSQL/comments/tacfe0/google_big_query_stupidsimple_questions_regarding/
25,jhkj897g987dfh2,1646874598,tamqhk,0,1,"Im  hoping someone can help me with something. I was using Datagrip to try and accomplish this. 

I have a table called `uni` and a table called `states`. An example of the [States Table](https://imgur.com/a/53ENv8y) is here. 

I have a field called `state` in my `uni` table. Id like to be able to create a foreign key link to the `state` table and the primary key field `code` with is an abbreviation for various states. 

The error I get when I try to do this is:

`Referencing column 'state' and referenced column 'code' in foreign key constraint 'unis_FK' are incompatible.`

I have verified that both fields are `char(2)` so Im not sure what I am missing. Can someone point me in the right direction?",learnSQL,Foreign Key issues and other questions,1.0,https://www.reddit.com/r/learnSQL/comments/tamqhk/foreign_key_issues_and_other_questions/
26,SnooHamsters4187,1646977867,tbj7hz,0,1, ,learnSQL,Anyone know what’s the correct answer?,1.0,https://i.redd.it/r3lkbyk91pm81.jpg
27,bingopajamma,1646978504,tbjds2,0,1,"I'm taking ""The Ultimate MySQL Bootcamp"" on Udemy, where we use goormide to practice. But the input lag is incredibly frustrating. I'm quite new to all of this. The course recommended up not to use the desktop MySQL yet, so is there another online IDE without so much lag? Apologies for any incorrect terminology uses.",learnSQL,Alternative to laggy GOORM,1.0,https://www.reddit.com/r/learnSQL/comments/tbjds2/alternative_to_laggy_goorm/
28,lucian-12,1646982162,tbkbj0,0,1, ,learnSQL,[video] PostgreSQL Pgpool-II Tutorial,1.0,https://youtu.be/qpxKlH7DBjU
29,MlTut,1646987722,tblo83,0,1, ,learnSQL,12 Best Completely Free SQL Online Courses,1.0,https://www.mltut.com/best-free-sql-courses/
30,hughjass6993,1647021808,tbw19n,0,1,"**SELECT cpu\_number, id, total\_mem FROM host\_info**

**GROUP BY cpu\_number** 

**ORDER BY total\_mem DESC**

Expected result:

1 | 5 | 6,456,836

1 | 3 | 6,248,674

1 | 6 | 5, 934,529

2 | 4 | 7,231,989

2 | 2 | 5,243,898

2 | 1 |5,999,678

I want to create groups based off number of CPUs and then order by total\_mem in descending order within those groups. I know my query isn't correct, by I'm having a really hard time finding syntax online for this specifically.

Thank you.",learnSQL,"Need help with simple query using GROUP BY and ORDER BY together, can't find straight answers anywhere.",1.0,https://www.reddit.com/r/learnSQL/comments/tbw19n/need_help_with_simple_query_using_group_by_and/
31,r3pr0b8,1647027156,tby460,0,1,"i love it (sarcasm intended) when i take the time to answer someone's SQL question, and come back later to see how they're doing and their post is gone

i mean, i can still see my reply via my profile, along with the title of their post, but the text of their post is gone

**Posted by u/[deleted]**

y'all are cowards",learnSQL,Posted by u/[deleted],1.0,https://www.reddit.com/r/learnSQL/comments/tby460/posted_by_udeleted/
32,uktherebel,1647045965,tc4kcg,0,1,"Hi, all. I'm quite new to SQL and still learning it. I have been trying to import a .csv to a database I created on SQL Server using Azure Data Studio. It shows a huge error whenever I try to import the file. I have attached the files showing the error. I'm a total rookie and have no idea what it says or how to fix it.

Any help would be greatly appreciated! Thanks so much.",learnSQL,Azure Data Studio: Import Wizard Error,1.0,https://www.reddit.com/r/learnSQL/comments/tc4kcg/azure_data_studio_import_wizard_error/
33,higaroth,1647062032,tc94iy,0,1,"Hi, sorry if this question is a bit basic, I'm super new to this.

I have a table listing two locations for two separate cinema locations. Looks like this:

    create table CinemaLocations (
    cinemaID int,
    cinemaName varchar(80) NOT NULL,
    cinemaAddress varchar(80) NOT NULL,
    cinemaEmail varchar(80),
    cinemaPhoneNumber bigint,
    primary key(cinemaID),
    )

with this data:

    insert into CinemaLocations
    (cinemaID,  cinemaName, cinemaAddress, cinemaEmail, cinemaPhoneNumber)
    values
    (1, 'Eye Candy Auckland', '40 Sun Street, Onehunga, Auckland', 'aucklandcinema@eyecandycinema.com', 901 234 5678),
    (2, 'Eye Candy Wellington', '25 Moon Place, Te Aro, Wellington', 'wellingtoncinema@eyecandycinema.com', 112 345 6789)

and a table for theatres per city cinema complex

    create table Theatres (
    theatreID int NOT NULL,
    theatreName varchar(20) NOT NULL,
    seatingCapacity int NOT NULL,
    soundSystem varchar(20) NOT NULL,
    primary key(theatreID),
    cinemaID int foreign key references CinemaLocations(cinemaID)
    )

each cinema location (2) has a number of theatres each, 6 for one cinema complex, and 4 for the second. I'm inserting theatre for the first cinema complex at the moment which currently looks like this:

    insert into Theatres 
    (theatreID, theatreName, seatingCapacity, soundSystem)
    values
    (1, 'Hades Theatre', 500, 'THX'),
    (2, 'Hermes Theatre', 325, 'Dolby Atmos'),
    (3, 'Ares Theatre', 325, 'Sony SDDS'),
    (4, 'Poseidon Theatre', 90, 'Sony SDDS'),
    (5, 'Zeus Theatre', 220, 'Dolby Digital EX'),
    (6, 'Aphrodite Theatre', 50, 'Dolby Atmos')

I only want this theatre table to be shown if CinemaLocations.cinemaID = 1 (for the auckland cinema)

I'm guessing I need to put-

    SELECT cinemaID FROM CinemaLocations where CinemaLocations.cinemaID = 1

\-somewhere but not sure where? Examples I've seen online seem to add the foreign key into the table as column data, but I only want this table to show when CinemaLocations.cinemaID = 1, so that I can have the same theatre table but with different data show when CinemaLocations.cinemaID = 2. So how do I make this table linked directly to a foreign key if its a certain value (being 1 in this case)?

Also, I've seen the JOIN command pop up here and there. Should I be adding that to get this to work? I'm guessing it would need to be in a separate query?",learnSQL,How to reference a table if foreign key = a certain value?,1.0,https://www.reddit.com/r/learnSQL/comments/tc94iy/how_to_reference_a_table_if_foreign_key_a_certain/
34,DolphinMassacre,1647129631,tcubj8,0,1,"I've tried all joins other than cross. Here's my code and the attached table logic.

&amp;#x200B;

&gt;**SELECT** users.region, count(internal\_profile\_views.user\_id)  
**from** users  
**Left** **JOIN** internal\_profile\_views  
**ON** users.id = internal\_profile\_views.user\_id  
**AND** users.id = internal\_profile\_views.viewed\_user\_id  
**GROUP** **BY** users.region;

&amp;#x200B;

Logic: [https://imgur.com/a/b1Pvz3O](https://imgur.com/a/b1Pvz3O)",learnSQL,Getting 0 Results for my query when I join two tables,1.0,https://www.reddit.com/r/learnSQL/comments/tcubj8/getting_0_results_for_my_query_when_i_join_two/
35,Iyamthepapa,1647215844,tdk3sh,0,1,Some responses to questions reference the need to 'model' the query before actually writing it. Similar to the need to create an outline for a written work. Are there some good resources to learn available 'modeling' methods?,learnSQL,Design principles in building a query,1.0,https://www.reddit.com/r/learnSQL/comments/tdk3sh/design_principles_in_building_a_query/
36,bluesclues142,1647234786,tdptc8,0,1,"We have an app developer who wrote an API (PHP) to pull a bunch of data from our db (MS SQL). The job it is trying to achieve is pull current pricing, stock levels, and other stock info for a list of products in a cart. For each product, it calls two [ERP built-in] stored procedures, 1) to query stock levels and 2) to get the current pricing (pricing is a little complex in our ERP and depends on multiple factors).

The way the API currently functions:

    for each stock item in the cart:
        1. query the STOCK_LEVEL SP with parameter &lt;PRODUCT_ID&gt;
        2. query the CURRENT_PRICE SP with parameters &lt;PRODUCT_ID&gt;,&lt;QUANTITY&gt;
        3. query with a select statement: SELECT x from PRODUCTS where PRODUCT_ID = &lt;PRODUCT_ID&gt;

Obviously this API is quite inefficient - when the cart contains 100 products, it will literally send a SQL query for these 3 things 100 times. So I'm trying to think of how it can be more efficient.


In terms of query 3) I can see it can be improved by querying only one time before the for loop ""SELECT [relevant fields] from PRODUCTS where PRODUCT_ID in (PRODUCTS ARRAY)"".

What would be the best way to go about 1) and 2)? The SPs only take in one stock item as parameter. One way I am thinking is to write a wrapper SP, that takes in a list of stock items and executes SP 1) and 2) and puts results in a table, and can return this table to the API. Sure the SP will take ages to run since it is still running the SPs for each item one by one, but its at least an improvement by not sending each SP result one by one over the internet and should overall be faster and probably consume less bandwidth.


Thanks in advance.",learnSQL,What is the best way to go about writing this PHP-SQL API?,1.0,https://www.reddit.com/r/learnSQL/comments/tdptc8/what_is_the_best_way_to_go_about_writing_this/
37,SnooWalruses3078,1647285274,te5a7e,0,1,"TLDR: Looking for best practices learning SQL

I have been taking the Google Analytics certificate course on Coursera, to get my feet wet in SQL. However, I am looking for something more concentrated in SQL. 

Would love if anyone could share what worked for them!",learnSQL,Wanting to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/te5a7e/wanting_to_learn_sql/
38,DT-9012,1647321746,tehl6p,0,1,"Hi, I'm trying to understand the solution behind a HackerRank practice question - Ollivander's Inventory. In summary - The question wants me to write a query to find the minimum amount of gold needed to buy wands of a certain power and age. 

Here are the tables that i have to work with:

**Wands**

|Column|Type|
|:-|:-|
|id|Integer|
|code|Integer|
|coins\_needed|Integer|
|power|Integer|

**Wands\_Property**

|**Column**|Type|
|:-|:-|
|code|Integer|
|age|Integer|
|is\_evil|Integer|

One thing to note is that  the mapping between *code* and *age* is one-one. 

**My question is why is it necessary/what does the highlighted code do in the solution pictured below:**

&amp;#x200B;

https://preview.redd.it/n7zn6awnfhn81.png?width=656&amp;format=png&amp;auto=webp&amp;s=5a06f971d16181ca241e698d090a83de8a016936

Link to original question on HackerRank: [https://www.hackerrank.com/challenges/harry-potter-and-wands/problem?isFullScreen=true&amp;h\_r=next-challenge&amp;h\_v=zen&amp;h\_r=next-challenge&amp;h\_v=zen](https://www.hackerrank.com/challenges/harry-potter-and-wands/problem?isFullScreen=true&amp;h_r=next-challenge&amp;h_v=zen&amp;h_r=next-challenge&amp;h_v=zen)",learnSQL,What is this line of code doing?,1.0,https://www.reddit.com/r/learnSQL/comments/tehl6p/what_is_this_line_of_code_doing/
39,most_humblest_ever,1647370206,tewpkz,0,1,"I want to join a table to another, off two columns, both of which have some null values. For the life of me, I cannot google towards a solution for this. 

Let's say I have table ""a"" and need to left join table ""b"" to this. Both tables have fields ""user\_name"" and ""job\_title"". 

a

|ID|user\_name|job\_title|
|:-|:-|:-|
|1|Joe|NULL|
|2|Bob|Chef|
|3|NULL|Doctor|
|4|Alice||

b

&amp;#x200B;

|ID|user\_name|job\_title|
|:-|:-|:-|
|1|Joe|DJ|
|2|NULL|Chef|
|3|Alice|Model|

Result

&amp;#x200B;

|ID|user\_name|job\_title|
|:-|:-|:-|
|1|Joe|DJ|
|2|Bob|Chef|
|3|NULL |Doctor|
|4|NULL |Chef|
|5|Alice|Model |

&amp;#x200B;

Best I can do so far is: 

    select * 
    from a 
    left join b 
    on a. user_name = b.user_name OR a.job_title = b.job_title 

But I know this isn't right, as it's fanning out because of the nulls in both columns. What is the best way to handle? I suppose I could also do two separate joins and then union all them together.",learnSQL,Join Two Tables Off Two Fields With NULLS,1.0,https://www.reddit.com/r/learnSQL/comments/tewpkz/join_two_tables_off_two_fields_with_nulls/
40,Student-Somewhere,1647377778,tf04js,0,1,"I want to make a trigger, so that the user can not drop the **my\_table** table.

    CREATE TRIGGER my_trigger 
    BEFORE DROP
    ON my_table
    EXECUTE FUNCTION showErrorMessage();",learnSQL,Need help with writing a trigger (pgadmin),1.0,https://www.reddit.com/r/learnSQL/comments/tf04js/need_help_with_writing_a_trigger_pgadmin/
41,higaroth,1647401776,tf8cv0,0,1,"These are my cinemas

    INSERT INTO CinemaLocations
    (cinemaID, cinemaName, streetNumber, streetAddress, suburb, city, cinemaEmail, cinemaPhoneNumber)
    values
    (1, 'Eye Candy Auckland', 40, 'Sun Street', 'Onehunga', 'Auckland', 'aucklandcinema@eyecandycinema.com', 9012345678),
    (2, 'Eye Candy Wellington', 25, 'Moon Place', 'Te Aro', 'Wellington', 'wellingtoncinema@eyecandycinema.com', 1123456789)

These are my theatres

    INSERT INTO Theatres
    (theatreID, cinemaID, theatreName, seatingCapacity, soundSystem)
    values
    (1, 1, 'Hades Theatre', 500, 'THX'),
    (2, 1, 'Hermes Theatre', 325, 'Dolby Atmos'),
    (3, 1, 'Ares Theatre', 325, 'Dolby SDDS'),
    (4, 1, 'Poseidon Theatre', 90, 'Sony SDDS'),
    (5, 1, 'Zeus Theatre', 220, 'Dolby Digital EX'),
    (6, 1, 'Aphrodite Theatre', 50, 'Dolby Atmos'),
    (7, 2, 'Athena Theatre', 20, 'Dolby Digital EX'),
    (8, 2, 'Artemis Theatre', 200, 'THX'),
    (9, 2, 'Dionysus Theatre', 325, 'Sony SDDS'),
    (10, 2, 'Demeter Theatre', 90, 'THX')

And this is where I'm getting the bug

    SELECT CinemaLocations.cinemaName, Theatres.theatreName, Theatres.seatingCapacity
    FROM Theatres
    JOIN CinemaLocations ON CinemaLocations.cinemaID = Theatres.theatreID
    WHERE CinemaLocations.city = 'Wellington' AND Theatres.seatingCapacity &gt;= 100

Expected outcomes I want are: 

* Eye Candy Wellington : Artemis Theatre : 200
* Eye Candy Wellington: Dionysus Theatre : 325

Outcome I keep getting instead: 

* Eye Candy Wellington: Hermes Theatre: 325

The cinema name is right, but its showing me an Auckland theatre, and only one theatre that meets the seating capacity criteria. What am I doing wrong here? 

Thanks for any help!",learnSQL,Not sure what I'm doing wrong here. Joining tables.,1.0,https://www.reddit.com/r/learnSQL/comments/tf8cv0/not_sure_what_im_doing_wrong_here_joining_tables/
42,donthaveauseryet,1647440900,tfix3d,0,1,"I have two tables - reservations and reservations archive. The columns are identical. I am trying to get the greatest value of the 'res_id' column between both tables. The following query works if both tables have rows, but it just returns NULL if one of the tables is empty. I've googled around and have tried various combinations of CASE and EXIST statements, but I haven't been able to figure it out. Any tips would be appreciated!

    SELECT 
	GREATEST(
		(
			SELECT 
				MAX(res_id) 
			FROM 
				reservations
		), 
		(
			SELECT 
				MAX(res_id) 
			FROM 
				reservationsarchive
		)
	) as res_id",learnSQL,"Comparing Two Tables, One of Which May be Empty",1.0,https://www.reddit.com/r/learnSQL/comments/tfix3d/comparing_two_tables_one_of_which_may_be_empty/
43,uktherebel,1647467145,tfu16c,0,1,"Hi, all. I'm trying to create a derived percentage field in Azure Data Studio on MS SQL Server, but it isn't working. It keeps on using the data types of the precedent columns (bigint) and giving me a ""null"" or ""0."" The screenshot is attached below. Jbtw, I'm quite new at SQL and still practicing.

&amp;#x200B;

https://preview.redd.it/aj23ehq1gtn81.png?width=1626&amp;format=png&amp;auto=webp&amp;s=eaa3c4e2489efedfa2f55ab339b6c44780b3811c

I got away it with it by usin\`\`\`\`\`\`\`\`g:

\`\`\`\`SELECT location, date, total\_cases, total\_deaths, (**1.00**\*total\_deaths/total\_cases)\*100  
FROM COVID\_Project..COVID\_DEATHS  
ORDER BY 1, 2

But I'd like to get the percentage without having to do this every single time. Is there a way/setting to do this? Any help would be greatly appreciated!",learnSQL,Azure Data Studio/MS SQL Server - Calculating Percents,1.0,https://www.reddit.com/r/learnSQL/comments/tfu16c/azure_data_studioms_sql_server_calculating/
44,RP_m_13,1647475926,tfx4uc,0,1,"Could somebody please suggest any good youtube channels, resources in order to practice all the skills that I had learned throught out the PostgreSQL course . Any help is appreciated",learnSQL,Resources to practice PostgreSQL/ Next steps to practice PostgreSQL after finishing course,1.0,https://www.reddit.com/r/learnSQL/comments/tfx4uc/resources_to_practice_postgresql_next_steps_to/
45,lucian-12,1647518452,tg8kxz,0,1, ,learnSQL,[video] PostgreSQL Streaming Replication Tutorial,1.0,https://youtu.be/Yy0GJjRQcRQ
46,Student-Somewhere,1647523755,tga9lg,0,1,"I want to create a trigger so that the user can not delete an item from the item table if that item is in the discount table.

    CREATE FUNCTION block_action()
    RETURNS TRIGGER 
    LANGUAGE PLPGSQL
    AS
    $$
    BEGIN
    IF exists (select item.item_id, discount.item_id from item, discount where item.item_id= discount.item_id) then
    	RAISE EXCEPTION 'Action blocked!';
    end if;
    END;
    $$;
    
    CREATE TRIGGER block_trigger
      BEFORE DELETE
      ON item
      FOR EACH ROW
      EXECUTE function block_action();

When I try to test the trigger by writing: DELETE FROM item WHERE item\_id = 9, instead of the item with the id 9 getting deleted, I get 'Action blocked' even though there is no 9 in the discount table.",learnSQL,Why isn't my trigger working?,1.0,https://www.reddit.com/r/learnSQL/comments/tga9lg/why_isnt_my_trigger_working/
47,ThorsButtocks98,1647541541,tggq0y,0,1,"All my queries are returning “SQLZOO system error: error”. It was working fine an hour ago. Tried clearing cache and cookies etc, changing computer but same thing. Is anyone else having this issue?",learnSQL,Is SQLzoo down?,0.99,https://www.reddit.com/r/learnSQL/comments/tggq0y/is_sqlzoo_down/
48,Student-Somewhere,1647543985,tghnwn,0,1,"I made a few indexes in my database, and here is one example:

    CREATE INDEX item_name_index
    ON item_table (item_name);

But I don't see a big difference in performance, probably because I have around 10-ish elements in my table, but still, shouldn't it be at least a little bit quicker? Did I even do I right?",learnSQL,Need help with indexes,1.0,https://www.reddit.com/r/learnSQL/comments/tghnwn/need_help_with_indexes/
49,milligram1,1647598785,tgy5bv,0,1, ,learnSQL,I need help. This table shows just the headers without data.,1.0,https://i.redd.it/k2xihmgkb4o81.jpg
50,lemonlin0925,1647615712,th3cy2,0,1,"Assume that a company is working with 10 retailers. The company produces the products and sell them to the retails to sell to the customers. What is the best way to store the product price history for each retailers?

&amp;#x200B;

I own thoughts are:  
(for example, 1000 products, 10 retailers, 3 years of price history change per month in average)  
1. Make different price history table for each retailer, but then we will have a lot of tables. (That would be 10 tables, and each table would have around 36,000 rows)  
2. Make a single large table, but the table will be very long. (One table with 1000\*10\*36 rows)",learnSQL,Price History Tables for different retailers.,1.0,https://www.reddit.com/r/learnSQL/comments/th3cy2/price_history_tables_for_different_retailers/
51,Minute_Improvement10,1647624567,th7td8,0,1, ,learnSQL,Hello All! I need assistance with consolidating these 2 SQL queries into 1. If possible that would be amazing!,1.0,https://i.redd.it/0yvwit58g6o81.jpg
52,caffieneAddict0706,1647678032,thqqpp,0,1, ,learnSQL,Need help! I will send you what ai have so far but i’m struggling with the tables! Thank you!,1.0,https://i.redd.it/8mfhtyp7vao81.jpg
53,help_I_cant_code,1647700487,thwh0s,0,1,"I thought the 

    WHERE release_year &lt; 1994 

would mean the release\_year column would contain dates before 1994 not after.

https://preview.redd.it/yei8mm7opco81.png?width=2222&amp;format=png&amp;auto=webp&amp;s=7ce93b0db6f974e9bab225a4e3cd69aaaab8ad1c",learnSQL,Why is this right?,1.0,https://www.reddit.com/r/learnSQL/comments/thwh0s/why_is_this_right/
54,CandidFloor7111,1647717360,ti2irj,0,1,"Beginner working on DB  AdventureWorks, **which job title has both female and male employees?**

I have to display **only one row for each job title** which means I have to group them by JobTitle. 

I tried to do 

WHERE HRE.Gender = 'F' AND HRE.Gender = 'M' 

GROUP BY JobTitle;

and GROUP BY &amp; HAVING

and they both break and I understand why but I dont know what else to do. I feel like I need a CASE ? but im not sure what to put in it.

&amp;#x200B;

*Processing img mlepdq8j2eo81...*",learnSQL,How do I show which job title has both female and male employees,1.0,https://www.reddit.com/r/learnSQL/comments/ti2irj/how_do_i_show_which_job_title_has_both_female_and/
55,Koushik5586,1647788369,timwf9,0,1, ,learnSQL,Mastering SQL Query Optimization,1.0,https://tvkoushik.medium.com/mastering-sql-query-optimization-622cc6addef2?sk=8e8edbfd5cd370461aa25cfb8d667c12
56,Minute_Improvement10,1647797805,tiqbb9,0,1, ,learnSQL,Hello! I am receiving the following error “the multi-part identifier “OCS.DateKey” could not be bound”. Is there a problem with one of my aliases?,1.0,https://i.redd.it/dxoxv2qcrko81.jpg
57,techdude44,1647813227,tivwv6,0,1,"&amp;#x200B;

[Can someone please help me solve this?](https://preview.redd.it/n7i6lrl61mo81.png?width=748&amp;format=png&amp;auto=webp&amp;s=47c4b75670250627b09446afbc2fe7e85b43ac40)",learnSQL,SQL query problem,1.0,https://www.reddit.com/r/learnSQL/comments/tivwv6/sql_query_problem/
58,Bloodwolv,1647815790,tiwt2v,0,1,"Hi everyone.

The below query is throwing the error ""\[Microsoft\]\[ODBC SQL Server Driver\] String Data, Right Truncation""

The seperate Select statements work perfectly on their own, but wont when i try to append them with UNION ALL.

Im not sure whats causing the problem, the tables the data is being pulled from as the same accross both queries.

    -- Request production batch records for BatchID returned from PalletID in Metadata Query.
    SELECT DISTINCT --Distinct due to duplicat results returning.
    	a.batch AS BatchNo,
    	a.loc AS LocationID,
    	a.process AS ProcessCode,
    	a.packed_on_date AS PackedOnDate,
    	b.grn AS GRN,
    	CASE b.status WHEN 'OU' THEN 'Output' WHEN 'IN' THEN 'Input' ELSE 'ERROR UNDEFINED' END AS Status, --Make column results more human readable.
    	b.qty AS Quantity,
    	c.item AS ItemCode,
    	c.grade AS Grade,
    	c.unit AS UnitCode,
    	c.size AS Size,
    	CASE c.expire WHEN '00000000' THEN NULL ELSE CAST(c.expire AS datetime) END AS BestBeforeDate, --Remove zero date strings, convert actual date strings to usable date times.
    	d.des AS ItemName
    FROM grnbatch AS a
    LEFT JOIN stktrn AS b on a.batch=CAST(b.order_no AS bigint)
    LEFT JOIN stkgrn AS c on b.grn=c.grn
    LEFT JOIN stkmas AS d on c.item=d.item
    WHERE
    	a.batch=?
    	AND b.grn &lt;&gt; 0
    	AND b.trx_type='R' -- Repack batches only
    	
    UNION ALL
    
    -- Request Curing Adjustment records for INPUT PalletIDs from BatchID returned from PalletID in metadata query.
    SELECT DISTINCT -- Distinct due to duplicat results returning.
    	a.batch AS BatchNo,
    	c.loc AS LocationID,
    	c.process AS ProcessCode,
    	CAST(c.packed_on_date AS Datetime) AS PackedOnDate,
    	a.grn AS GRN,
    	CASE b.status WHEN 'WA' THEN 'Curing Loss' ELSE 'ERROR UNDEFINED' END AS Status, --Make column results more human readable.
    	b.qty AS Quantity,
    	d.item AS ItemCode,
    	d.grade AS Grade,
    	d.unit AS UnitCode,
    	d.size AS Size,
    	NULL AS BestBeforeDate, --Dont need the data for this column, return as blank for Union.
    	e.des AS ItemName
    From grnbatchprocessadjustment AS a
    LEFT JOIN stktrn AS b ON a.grn=b.grn
    LEFT JOIN grnbatch AS c ON a.batch=c.batch
    LEFT JOIN stkgrn AS d ON a.grn=d.grn
    LEFT JOIN stkmas AS e ON d.item=e.item
    WHERE
    	a.batch=?
    	AND b.trx_type='8' -- Adjustmenst records only",learnSQL,"String Data, Right Truncation Error for a UNION ALL query",1.0,https://www.reddit.com/r/learnSQL/comments/tiwt2v/string_data_right_truncation_error_for_a_union/
59,kunaguerooo123,1647865213,tjaiaw,0,1,"Newbie trying to organize SQL into a readable manner, here's what it looks like right now..

How would you better structure this?

(Vertica in Python)

How it looks 

[https://imgur.com/a/4JQojW1](https://imgur.com/a/4JQojW1)

Pasted raw SQL below

    untouched_per_user_sql = (
                """"""
                          
                SELECT 
                    min(L.'Assignee company Id (Sales)') as 'User', 
                    count(distinct(L.'company Id (Sales)')) as '#Untouched_Sales'                
                
                FROM db.en_PST_Sales as L
                
                WHERE 
                        L.""Created Date (Sales)"" &lt; GETDATE()
                    
                    AND L.'company Id (Sales)' IN (
                    
                    
                                                  SELECT 
                                                      LS.'company Id (Sale States)'
    
                                                  FROM 
                                                      db.en_PST_Sale_states as LS
    
                                                  WHERE 
                                                      YEAR(""Update Date [PST] (Sale States)"") = YEAR(GETDATE())
                                                  GROUP BY 
                                                      LS.'company Id (Sale States)'
    
                                                  HAVING 
                                                      count(distinct(LS.'State Code (Sale States)')) = 1
                                                      and min(LS.'State Code (Sale States)')  LIKE '%new%'
                                                      and WEEK_ISO(MIN(""Update Date [PST] (Sale States)""::DATE)) = 
                                                          WEEK_ISO(GETDATE())-1
    
    
    
                                                                          UNION
    
                                                  SELECT 
                                                      LS.'company Id (Sale States)'
                                                      
                                                  FROM db.en_PST_Sale_states as LS
                                                      WHERE LS.'company Id (Sale States)' NOT IN 
                                                                     (SELECT 
                                                                            LSS.'company Id (Sale States)' 
                                                                      FROM 
                                                                          db.en_PST_Sale_states as LSS
                                                                      WHERE 
                                                                          (LSS.'State Code (Sale States)' LIKE '%converted%')
                                                                           OR 
                                                                          (LSS.'State Code (Sale States)' LIKE '%dropped%')
                                                                          )
    
                                                  GROUP BY 
                                                      LS.'company Id (Sale States)'
    
                                                  HAVING  
                                                      MAX(LS.'Update Date (Sale States)'::DATE) &lt; GETDATE()
    
                                                  )                 
                       GROUP BY L.'Assignee company Id (Sales)'
                ;"""""")",learnSQL,How to better structure long asf Query?,1.0,https://www.reddit.com/r/learnSQL/comments/tjaiaw/how_to_better_structure_long_asf_query/
60,CreativeReputation12,1647881773,tjgdig,0,1,"Im designing an app for assigning tasks between departments, using a sql back end. 
The table ""Tasks"" has:
 
TaskId (PK)
Task
CompanyId (FK)
DepartmentAssign
CreateDate
CreateTime
OnHold (boolean)
Priority (boolean)
IsComplete (boolean)
CompleteDate
CompleteTime

When a task is assigned to a department, it appears on their end when they query 

SELECT * FROM Tasks WHERE CompanyId = ""1"" AND DepartmentAssign = ""Accounting"" AND IsComplete = ""False""

When they have finished, they simply flip the boolean on ""IsComplete"" and the task disappears.

My question is, if this program is used across 10 companies and theyre assigned hundreds of tasks, what would be the most logical/most efficient way of querying the Tasks?

1) Where all tasks, both active and complete stay in the Tasks table, and they table grows large over time, and basically fills with all the tasks marked IsComplete = ""true""?

2) Or create two tables, something like Tasks_Active and Tasks_Complete. And when the task is complete, move the record from the Task_Active table to the Complete one. This seems like active task querying (which is likely what will be done most) would be faster this way?

3) I'm over thinking and none of this matter or will affect performance.",learnSQL,Table structure for Task Manager App,1.0,https://www.reddit.com/r/learnSQL/comments/tjgdig/table_structure_for_task_manager_app/
61,TheNaturalZA,1647910476,tjqvo7,0,1," 

Hello SQL Gurus,

I'm not sure if this is the correct subreddit to post in but I'll give it a shot in any event.

I   have been prepping for the 1Z-071 Certification, on and off for the   last three months or so and have dedicated somewhere between 50-100   hours on getting ready for the exam.

Even   after passing the W3schools SQL quiz with 100%, achieving a silver   (almost on gold) badge on hackerrank and completing the basic and   intermediate SQL courses on datacamp, Using Kaplan's test engine and   some other resources that I purchased on Udemy and CBT nuggets (links to   the material below), I am still found wanting when it comes to exam   preparation for the test. I've achieved very low scores, ranging from   low 30's to mid 40's for the harder self-tests.

Coming   from a systems and pure networking background, this is my first foray   into SQL and I kind of feel that I've bit off more than I can chew.

Does   anyone have some suggestions on how to make the knowledge stick? I   don't simply want to pass the exam to get the certification (it's not   like I'll pass anyway at this point in time) but I actually want to   absorb the knowledge and be able to be a bit more fluid in building more   advanced queries.

Does it  require  some actual hands-on, practical work experience in order to  understand  the concepts better or is this exam just really hard?

PS:   I have a dummy DB and using the HR schema running on Oracle Express to   practice everything I learn, it just feels like I haven't had that  'aha'  moment yet and it really makes me concerned that I started a bit  too  late with learning programming languages.

I set myself a goal to learn SQL in a month, then it turned into two, and now it's turned into 3 months.

Did I set an incorrect expectation for myself?

Thanks for reading and I appreciate any sort of feedback to help me along my journey.

Cheers :)

Annexure:

[https://www.cbtnuggets.com/it-training/skills/oracle-database-12c-sql-fundamentals-1z0-071](https://www.cbtnuggets.com/it-training/skills/oracle-database-12c-sql-fundamentals-1z0-071)

[https://www.udemy.com/course/learn-sql-and-prepare-for-certification/](https://www.udemy.com/course/learn-sql-and-prepare-for-certification/)",learnSQL,"Preparation for 1Z-071 - I'm drowning in a sea of SQL, throw me a lifejacket :)",1.0,https://www.reddit.com/r/learnSQL/comments/tjqvo7/preparation_for_1z071_im_drowning_in_a_sea_of_sql/
62,TheWeebles,1647913816,tjrz8o,0,1,"Hello. I am learning SQL, I am writing some queries for my students in our org, can someone take a look and tell me how I'm doing?

Q) I would like to return a list of 3 teams with the greatest average student height and the average height of those teams, sorted by tallest average student to the shortest average student

Q) I would like to return a list of all the student teams which include 5 or more student team members that are taller than 5ft that weigh less than 135lbs, sorted in alphabitical ordering.

I'm not quite sure the logic how to write the logic for the 5 or more team members along with the other conditionals

Q) Is there anywhere I can test this? perhaps on a online db where I can use dummy data? Or should I use something like MySql

tables:

teams

studentid (pk)

stname

color

positions

studentid (pk)

stname

students

studentid (pk)

stname

height

weight

student_id (FK)

position_id (FK)

Queries:

    Q1)

    SELECT TOP 3 T.name, AVG(S.height) as avg_height
    FROM teams T 
    INNER JOIN students
    ON T.studentid = S.studentid
    GROUP BY T.studentid
    ORDER BY AVG(S.height) DESC 
    Q2)
    
    SELECT T.name
    FROM teams T
    INNER JOIN students
    ON T.studentid = S.studentid
    WHERE S.HEIGHT &gt;= 60 AND S.WEIGHT &lt; 135
    ORDER by S.name",learnSQL,"Learning SQL, are my queries correct?",1.0,https://www.reddit.com/r/learnSQL/comments/tjrz8o/learning_sql_are_my_queries_correct/
63,Dependent_Basket7685,1647917469,tjt4wn,0,1,"I'm making a formula for a new column and keep getting an error. My formula is structured like this:
(Column1+column2+column3)/((column4+column2)*column3)

Advice?",learnSQL,Help with column formula,1.0,https://www.reddit.com/r/learnSQL/comments/tjt4wn/help_with_column_formula/
64,Betoffs,1647917550,tjt5rc,0,1, ,learnSQL,I have an independent assignment (trying to learn SQL on my own) any help?,1.0,https://i.redd.it/a0ouutafnuo81.jpg
65,pythonftw44,1647920386,tju06s,0,1,"Hi everyone I have a dummy data set that has a student name column and then 3 columns for 2 different test scores. I'm just practicing some stuff and was wondering if the following is possible. Currently I have a column that gets the max between the two columns for each student row: 

    SELECT id, student, assignment1, assignment2,
      (SELECT Max(v) 
       FROM (VALUES (assignment1), (assignment2)) AS value(v)) as ""besttest""
    FROM box_scores

What I'm hoping to do is to use a partition or groupby to get the averages for each test only including scores that were an individuals best score. Would I use a case statement to create a column to mark for each row what test the student got the higher score on and then partition off of that identifier? Any help would be greatly appreciated",learnSQL,Getting an average across column maxes and then partitioning by which column the max score came from,1.0,https://www.reddit.com/r/learnSQL/comments/tju06s/getting_an_average_across_column_maxes_and_then/
66,Yojihito,1647950625,tk1em3,0,1,"Database is Exasol.

I have a table like:

SOURCE | LAST_CHANGE | SF_01    | SF_02   | SF_03 | SF_04 | ...
----------|------------------|-----------|----------|---------|--------|---
1           | 2022-01-01     | PANEL     | 14        | FHD    | ...       |
1           | 2022-01-01     | PANEL     | 23.8     | IPS     | ...       |
1           | 2022-01-01     | WIFI       | Intel     | QCA377 | ...     |
1           | 2022-01-03     | SSD        | PCIe     | ALL    | ...       |
1           | 2022-01-03     | PANEL     | 16        | FHD    | ...       |
1           | 2022-01-03     | PANEL     | 14        | FHD    | ...       |
2           | 2022-01-02     | RAM        | DDR5   | 4800    | ...       |
2           | 2022-01-02     | RAM        | DDR5   | 4800    | ...       |
2           | 2022-01-02     | ADAPTER | 230W   | 3PINS    | ...       |
2           | 2022-01-05     | RAM        | DDR5   | 4800    | ...       |
2           | 2022-01-05     | VRAM      | GDDR6 | HC12    | ...       |
2           | 2022-01-05     | SSD        | M2       | ALL    | ...       |
3           | 2022-01-01     | WIFI       | Wave    | CM13INF    | ...       |
3           | 2022-01-02     | SSD        | SATA    | ALL    | ...       |
3           | 2022-01-03     | RAM        | DDR4   | 3200    | ...       |
3           | 2022-01-11     | VRAM      | GDDR6 | HC12    | ...       |
3           | 2022-01-11     | VRAM      | GDDR6 | HC13    | ...       |
3           | 2022-01-11     | PANEL     | 15.6     | FHD    | ...       |

Besides SOURCE and LAST_CHANGE it has 20 columns.

I need to get the rows with the latest LAST_CHANGE date per SOURCE. So the final table should look like:

SOURCE | LAST_CHANGE | SF_01    | SF_02   | SF_03 | SF_04 | ...
----------|------------------|-----------|----------|---------|--------|---
1           | 2022-01-03     | SSD        | PCIe     | ALL    | ...       |
1           | 2022-01-03     | PANEL     | 16        | FHD    | ...       |
1           | 2022-01-03     | PANEL     | 14        | FHD    | ...       |
2           | 2022-01-05     | RAM        | DDR5   | 4800    | ...       |
2           | 2022-01-05     | VRAM      | GDDR6 | HC12    | ...       |
2           | 2022-01-05     | SSD        | M2       | ALL    | ...       |
3           | 2022-01-11     | VRAM      | GDDR6 | HC12    | ...       |
3           | 2022-01-11     | VRAM      | GDDR6 | HC13    | ...       |
3           | 2022-01-11     | PANEL     | 15.6     | FHD    | ...       |

Probably very easy but I can't figure it out. I've seen solutions with INNER JOIN or PARTITION OVER but that are only solutions that filter for one date column but I need date + SOURCE column.",learnSQL,How to get the latest entries from each subgroup?,1.0,https://www.reddit.com/r/learnSQL/comments/tk1em3/how_to_get_the_latest_entries_from_each_subgroup/
67,bingopajamma,1647962619,tk5fue,0,1, ,learnSQL,Beginner Here...Accidentally blocked downloads in pgAdmin4..how can I fix this? (on mac),1.0,https://i.redd.it/ierj99gadyo81.png
68,U4-EA,1647965689,tk6knz,0,1,"For my PK, I am using the follow: -

`id UUID NOT NULL PRIMARY KEY`

For the FK field that joins to this, do I just use the following?

`id UUID`

`id UUID NOT NULL (where not null required)`

Thanks.",learnSQL,MariaDB - what column type for UUID FK?,1.0,https://www.reddit.com/r/learnSQL/comments/tk6knz/mariadb_what_column_type_for_uuid_fk/
69,abhishek_out,1647971817,tk8v0i,0,1,"Hello, at [bloomsql.com](https://bloomsql.com), I built this in browser interactive SQL learning website where folks can practice writing SQL queries against a live database. 

Does anyone think it could be useful? This is just a MVP. I plan to add more exercises and also add a paid plan based on user feedback.

Any recommendations? Currently each query is executed against a real live database.

Thanks",learnSQL,Product feedback - https://bloomsql.com Interactive SQL learning,1.0,https://www.reddit.com/r/learnSQL/comments/tk8v0i/product_feedback_httpsbloomsqlcom_interactive_sql/
70,LucasAHKB,1647973192,tk9e97,0,1,"as the title says i get an error saying that the column is unknown but the column does indeed exists so i'm not quite sure what could be wrong in here.

error:

    SELECT cc.*, p. valor, p.nome_imagem FROM carrinho_compras AS cc LEFT JOIN produtos AS p ON cc.Produto=p.nome_produto WHERE cc.Utilizador = LucasAHKB
    Unknown column 'LucasAHKB' in 'where clause'

database:

&amp;#x200B;

https://preview.redd.it/ynojc1cv8zo81.png?width=654&amp;format=png&amp;auto=webp&amp;s=14e42c10fcf456937779f615a8f0ea091bb9aa35",learnSQL,Unknown column in where clause but column exists,1.0,https://www.reddit.com/r/learnSQL/comments/tk9e97/unknown_column_in_where_clause_but_column_exists/
71,TheWeebles,1647982137,tkcr4i,0,1,"https://www.reddit.com/r/SQL/comments/tjql41/learning_sql_are_my_queries_here_correct/

I'm trying to return the number of students that are taller than 5ft and weigh less than 135 lbs, but only if there's 5 or more students

So I have a reduced query that looks like this:

    SELECT T.name
    FROM team T
    INNER JOIN player S
    ON T.id = S.student_id
    WHERE height &gt;= 60 and weight &lt; 135
    HAVING COUNT(T.name &gt;= 5)

The return result looks like this:

POKEFIGHTERS


**GRASSWARRIORS**

**GRASSWARRIORS**

**GRASSWARRIORS**

**GRASSWARRIORS**

**GRASSWARRIORS**

**GRASSWARRIORS**

DARKKNIGHTS

DARKKNIGHTS

**AVENGERS**

**AVENGERS**

**AVENGERS**

**AVENGERS**

**AVENGERS**

GIANTS

----------------------------
In this case I only want GRASSWARRIORS and AVENGERS to be the result, however i'm not sure how come this query doesn't work, I am getting KNIGHTS as the only output

so the return record should look like this:

    teams.stname

    GRASSWARRIORS

    AVENGERS",learnSQL,how do u do a count comparison from reduced rows after,1.0,https://www.reddit.com/r/learnSQL/comments/tkcr4i/how_do_u_do_a_count_comparison_from_reduced_rows/
72,Cucomberbatch,1648021344,tkopgd,0,1,"First, English isn't my native language so I will do my best !

I have two tables, ""subject"" and ""person"".

In the ""subject"" table, I have an id and a name for a specific subject.

In the ""person"" table, I have a name, a first name and and subjectID that is meant to be equal to a ""subject"" id

What I want to do with these tables is:

Displaying the number of people who linked to a subject. Therefore, I only want to get the name from ""subject"" and the count of subjectid from ""person"" associated to it. The problem is that I want to get it for all the subjects.

&amp;#x200B;

For example: 

name       | count

\_\_\_\_\_\_\_\_\_\_\_|\_\_\_\_\_\_\_\_\_\_\_\_

Subject1 | 15 

Subject2 |  1

...

&amp;#x200B;

Do you have any idea on how I can do this ?",learnSQL,Trouble finding the solution for a count request,1.0,https://www.reddit.com/r/learnSQL/comments/tkopgd/trouble_finding_the_solution_for_a_count_request/
73,Matheos7,1648033006,tkra4a,0,1,"Hey There, 

So I've been solving exercises here [https://sqlzoo.net/wiki/SELECT\_within\_SELECT\_Tutorial](https://sqlzoo.net/wiki/SELECT_within_SELECT_Tutorial) and all went well until I stumbled upon exercises 7 and 8.

Table is simple, it just contains the names of all countries along with continent it's on, it's population and area.

Ask for the taks no 7 is:

&gt;**Find the largest country (by area) in each continent, show the** **continent, the** **name** **and the** **area:**

and their solution is:

    SELECT continent, name, area FROM world x
      WHERE area &gt;= ALL
        (SELECT area FROM world y
            WHERE y.continent=x.continent
            AND area &gt; 0)

What I can't get is how exactly the subquery and ALL work.

I've seen examples of ALL in other tutorials and I seem to be understanding how it works, but I'm not sure here what the subquery returns, especially `WHERE y.continent=x.continent` doesn't make sense to me.

Can someone explain it to me please step by step?",learnSQL,Help with understanding ALL required please,1.0,https://www.reddit.com/r/learnSQL/comments/tkra4a/help_with_understanding_all_required_please/
74,Nicholas_TW,1648064794,tlabne,0,1,"&amp;#x200B;

|RowID|GroupID|Data|
|:-|:-|:-|
|1|A|1|
|2|A|1|
|3|B|1|
|4|B|0|
|5|C|1|
|6|C|1|
|7|D|0|
|8|D|0|

I'd like to select 'A' and 'C' from the above table. Ones where ALL rows for that GroupID have '1' for Data.

Is there a way to structure this query?",learnSQL,Get IDs where all true for grouping,1.0,https://www.reddit.com/r/learnSQL/comments/tlabne/get_ids_where_all_true_for_grouping/
75,SJCHL99,1648076969,tlk2x5,0,1,"Hi all, this is my query:

SELECT P.STYLENAME AS STYLE,P.STYLEID, C.SAPMATNUM AS SAP, C.COLOURWAYNAME AS COLOURWAY, S.SOURCINGCONFIGNAME AS VENDOR, S.PRIMSOURCE, B.PRIMARYSPEC, B.PRIMARYBOM, B.SPECUNIQID

FROM FLEXPLM.PRODUCT AS P

JOIN FLEXPLM.COLOURWAYS AS C ON P.STYLEID = C.STYLEID

JOIN FLEXPLM.BOM\_HEADER AS B ON P.STYLEID = B.STYLEID

JOIN FLEXPLM.SOURCING AS S ON P.STYLEID = S.STYLEID

WHERE P.DEVSEASON LIKE '%2022%'

ORDER BY STYLEID ASC;

\-- and this is my output

https://preview.redd.it/j5jocp3or7p81.png?width=1344&amp;format=png&amp;auto=webp&amp;s=836f813896479aa7de08024a81aba793a1ee1cb3

\--Now I would need to GROUP BY the STYLEID column as it's repeated and I'm interested in knowing how many different SPECUNIQID (a COUNT) exist per each STYLEID. So I did this:

SELECT P.STYLENAME AS STYLE,P.STYLEID, C.SAPMATNUM AS SAP, C.COLOURWAYNAME AS COLOURWAY, S.SOURCINGCONFIGNAME AS VENDOR, S.PRIMSOURCE, B.PRIMARYSPEC, B.PRIMARYBOM, B.SPECUNIQID,

**COUNT (B.SPECUNIQID)**

FROM FLEXPLM.PRODUCT AS P

JOIN FLEXPLM.COLOURWAYS AS C ON P.STYLEID = C.STYLEID

JOIN FLEXPLM.BOM\_HEADER AS B ON P.STYLEID = B.STYLEID

JOIN FLEXPLM.SOURCING AS S ON P.STYLEID = S.STYLEID

WHERE P.DEVSEASON LIKE '%2022%'

**GROUP BY STYLEID**

ORDER BY STYLEID ASC;

\-- but I'm getting below error

https://preview.redd.it/7i775rpts7p81.png?width=1301&amp;format=png&amp;auto=webp&amp;s=9fe38a18d91909625a8ee4c05f0006dbec535095

\-- I believe it's something to do with STYLEID definition but unsure how to solve..

Could anyone advise please?

Thanks!",learnSQL,GROUP BY clause - HELP!,1.0,https://www.reddit.com/r/learnSQL/comments/tlk2x5/group_by_clause_help/
76,aNumak_,1648103584,tlzjoy,0,1," **If a robot can alter its own trajectory in response to external conditions, it is considered to be:** 

[View Poll](https://www.reddit.com/poll/tlzjoy)",learnSQL,#Artificialintelligence,1.0,https://www.reddit.com/r/learnSQL/comments/tlzjoy/artificialintelligence/
77,MasterQuay,1648106449,tm086n,0,1,"Hello,

I have a problem at the moment where I want to insert only new records.  The major issue here is that I have no foreign key.  The schema is similar to:

    TaskId
    ClientId
    OrganisationId
    Reference
    StartDate
    DeadlineDate
    EndDate

This is my staging table.  My `dbo` table is exactly the same, except it also has a `TableId` which is a auto increment, unique identifier.

What I want to do:

* Insert new records only and keep old records

What I've tried so far:

* Concatting all of the values and trying a `INSERT INTO [dbo] SELECT FROM [stg] WHERE NOT IN (&lt;concatted values&gt; FROM [dbo])`

* `MERGE` doesn't work because I want to `MERGE` on a match as opposed to a non match.  I could put a dummy column in there for the `WHEN MATCHED` part of the clause to interact with, but I feel that's a little hacky and there must be a better way of inserting new records only.

* Joining the staging table to the `dbo` and then every time there is a `null` value for the `TableId`, insert that. (I'm going to try this today)

What I'd really like is the equivalent of the `pass` function in Python or any other language where the code simply does nothing although I'm not sure if that exists in SQL.

Alternatively, a good way of inserting new records only would be great.",learnSQL,No primary key - how to insert new records only?,1.0,https://www.reddit.com/r/learnSQL/comments/tm086n/no_primary_key_how_to_insert_new_records_only/
78,aNumak_,1648115764,tm2cvw,0,1, ,learnSQL,Scientists at the International Space Station have grown a harmless edible lettuce as a result of their research. The reason why it is specifically stated as edible and harmless is that there is much more radiation on the International Space Station than on Earth. #anumakandcompany #research #inter,1.0,https://v.redd.it/v0fybq3t0bp81
79,Hardm0de_,1648125701,tm6ofk,0,1,"SELECT Eksamensresultat.Studentnr, Eksamensresultat.Emnekode, Eksamensresultat.Dato, Eksamensresultat.Karakter  
FROM Student  
INNER JOIN Eksamensresultat ON Student.Studentnr = Eksamensresultat.Studentnr  
WHERE Eksamensresultat.Studentnr = 1  
ORDER BY RIGHT (Eksamensresultat.Emnekode, 4) ASC;

I have made this which sorts alle the courses a student has taken. But what I cant figure out how to do is to show only the best grade of a course if the student has taken the course multiple times.",learnSQL,Sort out best grade help,1.0,https://www.reddit.com/r/learnSQL/comments/tm6ofk/sort_out_best_grade_help/
80,Guille3094,1648161623,tn7kjd,0,1,"Hello everyone,

I'm really new in SQL, I'm starting to crawl, so maybe this question is dumb. 

I used both and I believed that both are used it for the same purpose. Please give me some insights.

Thank you :)",learnSQL,"Newbie here, What's the different between SET and CASE",1.0,https://www.reddit.com/r/learnSQL/comments/tn7kjd/newbie_here_whats_the_different_between_set_and/
81,PowerOfTheShell,1648179262,tnd3x4,0,1,"Hey guys,

Just hoping to clarify a question I have on SELECT DISTINCT which I'm certain is really easy but I'm not 100% sure.

Why does the query “SELECT DISTINCT **V\_HOUSENUMBER** FROM LOCATION” produce different rows of records from the query “SELECT DISTINCT **V\_HOUSENUMBER, V\_PHONE** FROM LOCATION”?

Is the SELECT DISTINCT happening on the phone number instead of the house number when using multiple columns from a table? I'm honestly not sure so hoping to clear this up!  


**Output from “SELECT DISTINCT V\_HOUSENUMBER FROM LOCATION”:**

|V\_HOUSENUMBER|
|:-|
|615|
|904|
|901|

  
**Output from “SELECT DISTINCT V\_HOUSENUMBER, V\_PHONE FROM LOCATION”:**

|V\_HOUSENUMBER|V\_PHONE|
|:-|:-|
|615|223-3234|
|904|215-8995|
|615|228-3245|
|615|889-2546|
|901|678-1419|
|901|678-3998|
|615|228-1410|
|615|898-1234|
|904|227-0093|
|615|890-3529|
|904|456-0092|

  
Any help would be greatly appreciated!",learnSQL,Easy SQL SELECT DISTINCT question,1.0,https://www.reddit.com/r/learnSQL/comments/tnd3x4/easy_sql_select_distinct_question/
82,nck_rko1,1648184804,tnemb3,0,1,"Hey,

I am a newbie in SQL. I am looking to create a database that can be updated and uploaded with information from a website. I.E. the user will enter a website and can upload information to a certain table made in SQL with a row including dates, names, etc. How difficult will this be and is there any way that it can be done another way that could be easier? Any information could help as I have no real starting point for this.

&amp;#x200B;

Thanks.",learnSQL,Newbie: SQL For User Updated Database,1.0,https://www.reddit.com/r/learnSQL/comments/tnemb3/newbie_sql_for_user_updated_database/
83,Dependent_Basket7685,1648185640,tnetz7,0,1,"Hey all, I am trying to insert a Total row to my table.
I am writing 
Insert into dbo.Table ([column1], [column2]....) values ( sum[column1], sum [column2]...)

But it's not working. Suggestions? Some columns are formulated to add/multiple/divide other columns. Can I write the value as the column name or should leave blank?",learnSQL,Help insert a Total row in Sql.,1.0,https://www.reddit.com/r/learnSQL/comments/tnetz7/help_insert_a_total_row_in_sql/
84,Earthling12345,1648221313,tno53s,0,1, ,learnSQL,Could someone help me correct my code for this assignment? I’m especially stuck on how to code ques 5. Added my codes for 3 &amp; 4 in the comments.,1.0,https://www.reddit.com/gallery/tno53s
85,lefanuec,1648228621,tnrzzk,0,1,"Hello guys. Last semester on Uni, I did a project using MySQL TypeORM, but I felt like I wasn't really using SQL, so I thought of learning it after the semester, which is now. I have a question though: should I learn SQL before moving to MySQL/PostgreSQL? And if yes, what would be a good book for a complete beginner? I did a little research and I came upon these books, so if any of you who are a bit experiance have some feedback on them I would really appreciate: 

\- Learning SQL by Alan Beaulieu

\-  SQL Cookbook by Anthony Molinaro and Robert de Graaf

\- SQL All-In-One For Dummies by Allen G. Taylor

\- SQL in 10 Minutes a Day, Sams Teach Yourself

And for MySQL: 

\- Vinicius M. Grippa, Sergey Kuzmichev - Learning MySQL: Get a Handle on Your Data",learnSQL,Should I learn SQL before moving to a DBMS? And what would be a good book for a complete beginner who only played a little with ORM?,1.0,https://www.reddit.com/r/learnSQL/comments/tnrzzk/should_i_learn_sql_before_moving_to_a_dbms_and/
86,NovaRayStarbrand,1648247639,to43z6,0,1,"Strange one this, I have a database set up with these fields:

    EmailConfirmID	
    EmailToConfirm								
    ConfirmCode			
    DateRequested	
    DandTConfirmed 


When I run this bit of sql:


    UPDATE Emails2Confirm 
    SET 
        DandTConfirmed = NOW()
    WHERE
        EmailToConfirm = 'testfri@testfri.com' AND ConfirmCode = 'whatever';


It changes BOTH DateRequested and DandTConfirmed to the current time. No clue why, all advice appreciated!",learnSQL,My code updates more than one field?,1.0,https://www.reddit.com/r/learnSQL/comments/to43z6/my_code_updates_more_than_one_field/
87,washedup_econ,1648308388,tost6w,0,1, ,learnSQL,Need some help creating counts based on date ranges,1.0,https://i.redd.it/eq8vxxncxqp81.png
88,traveling_wilburys,1648314489,toy1cl,0,1,"I have a table that has information for average daily sales of a product that looks like this:

&amp;#x200B;

[input table](https://preview.redd.it/cvuppsudfrp81.png?width=341&amp;format=png&amp;auto=webp&amp;s=a1edfc2323b859595141c79792e99c0861ebc671)

I want to be able to split the rows into multiple years depending on the date range. So for the table above, I want to achieve this.

&amp;#x200B;

[output table](https://preview.redd.it/7l6glq1kfrp81.png?width=341&amp;format=png&amp;auto=webp&amp;s=36e1a12d8085a4974404c332ae2a57a3308c6d37)

&amp;#x200B;

how can I do this?",learnSQL,how to split data into multiple rows based on date range?,1.0,https://www.reddit.com/r/learnSQL/comments/toy1cl/how_to_split_data_into_multiple_rows_based_on/
89,pythonftw44,1648356022,tpcmnw,0,1,"Hi everyone I have a table with product category IDs and the product price. I want to find the difference between the individual product prices and the avg of the product category group they are in. My first attempt is to just do a group by and average and then join that to my original table, but I'm wondering if there's a cleaner way to do this. Any help would be greatly appreciated",learnSQL,Calculate the average of a value by subgroup and then subtract it from corresponding individual values,1.0,https://www.reddit.com/r/learnSQL/comments/tpcmnw/calculate_the_average_of_a_value_by_subgroup_and/
90,stubby_hoof,1648381990,tpidr9,0,1, ,learnSQL,X-post: Using SQL to create serpentine pattern,1.0,/r/askgis/comments/too3o2/converting_an_arcgis_102_sql_expression_to_qgis/
91,CreativeReputation12,1648390757,tpkwdn,0,1,"I have a dilema that is likely a very easy fix. It's about old data staying the same, but updating values for any future records. This can be sales records with product price, or this can be a customer's email on the sales record, and they updated their email since then.

How do we keep old data the same, but make changes for moving forward?

Example:

If the [Products] table has a field for Price, and the [Sales] table has a FK for ProductID... when I update the price of a product, this will change historical sales, as when the tables are joined, it will retrieve the current sale price and not the original.

Possible solutions:

First idea is to denormalize the [Sales] table, and instead of referencing the product's price with a FK of ProductID, instead simply store, numerically, the actual price value at the time of sale.

Second idea was to maintain normalization, and in my [Products] table, every price change would actually be a new product record, with unique PK ID. That way the FK can still be used in the products table, and it would always join on the correct price.

Third idea is similar to the second, and breakout another table for product pricing, and the [Products] table would reference the price field with a FK.

Thanks!",learnSQL,Table joins and historical data,1.0,https://www.reddit.com/r/learnSQL/comments/tpkwdn/table_joins_and_historical_data/
92,Day_Entry,1648437317,tpzyzn,0,1,"Hello,

&amp;#x200B;

I used an INNER JOIN to create a temp ""metro\_area"".

I'm trying to fix my  current query so that the ""state"" and ""year"" will be only one row rather than repeated.

EX: MA 2004, MA 2005, etc....

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/v902bh5lk1q81.png?width=757&amp;format=png&amp;auto=webp&amp;s=151cc18a8d7cab38d04d2b8adaad39a8efb84343",learnSQL,Merging multiple rows into one.,1.0,https://www.reddit.com/r/learnSQL/comments/tpzyzn/merging_multiple_rows_into_one/
93,lucian-12,1648446977,tq2k34,0,1, ,learnSQL,[video] PostgreSQL PgBouncer Tutorial,1.0,https://youtu.be/ddKm7a7xOpk
94,madame-succubus,1648466426,tq70lt,0,1, ,learnSQL,How do I write this in SQL / MariaDB,1.0,https://i.redd.it/kf72rzjiz3q81.jpg
95,ludwikc,1648473887,tq98xe,0,1, ,learnSQL,Microsoft SQL Server COURSES - what are they MISSING?,1.0,/r/SQLServer/comments/tq98hk/microsoft_sql_server_courses_what_are_they_missing/
96,Existing_Yak_2763,1648475311,tq9plw,0,1,"I have a column in my database with unique UUIDS and I'd like to convert them to strings and then add on my url text before and after the UUID for the complete URL. These are links to images that I'd like to display in my Tableau dashboard that I'd need the full links for. 

I've tried UPDATE mytable SET mycolumn = CAST(mycolumn as char(36)) = CONCAT('http://mywebsite.com/link/', mycolumn,'/view/') and of course it didn't work. I've tried a few other variations but I'm sure I'm way off. Any tips?",learnSQL,Converting UUID to string to concatenate in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/tq9plw/converting_uuid_to_string_to_concatenate_in_sql/
97,SurpriseButtSaxx,1648476974,tqaa4t,0,1,"If i have this following transaction below. If insert (4) fails the \`before insert for each row\` trigger and results null value, from my understanding, insert (1) and insert (2) will still remain inside the database. If \`for each row\` is replaced with \`statement level\` , does that mean none of the four inserts will happen if insert (4) fails?

 

    BEGIN TRANSACTION
    INSERT INTO STORE VALUES (1)
    INSERT INTO STORE VALUES (2)
    INSERT INTO STORE VALUES (4)
    INSERT INTO STORE VALUES (5)
    COMMIT;",learnSQL,Question on triggers and transaction on psql,1.0,https://www.reddit.com/r/learnSQL/comments/tqaa4t/question_on_triggers_and_transaction_on_psql/
98,Topojino,1648490831,tqfey7,0,1,"H1 guys, I'm looking for some kind of exchange of experience, I have SQL skills and looking for English speaking practice. 

&amp;#x200B;

I am looking for:

\-English native speaker

\-Voice chat mandatory

\-Ready provide help with English (no so much, general question about pronunciation)

\-Long-term partnership (helping with single lab it is not what is I looking for)

\-Also I'm trying to upgrade my data engineering skills, so if you interesting those are too it's will be great.

&amp;#x200B;

My major skils:

\-T-SQL, optimization 

\-Some experience with P-SQL  other RDBMS exp

\-NiFi

&amp;#x200B;

My minor skills:

\-Airflow+some pyhton

\-NoSql

\-Data modeling

&amp;#x200B;

My time zone GMT +3 usually I'm available in the evening. I'm not a teacher, so I don't have learning program,

 but I have some production experience and can explain something or provide code examples/help with code.

&amp;#x200B;

&amp;#x200B;

Feel free to contact me in telegram(@Ztnv), or leave an email.

&amp;#x200B;

cheers",learnSQL,Someone up to studying SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/tqfey7/someone_up_to_studying_sql/
99,TheBlackPopeOP,1648496607,tqhjt8,0,1,"I have two tables that I need to combine, `Main_Table` and `Joined_Table`. `Main Table` has more records than `Joined_Table`, and I need every record in both tables returned. When these are returned, I want it so that a column from Joined Table is in the same record with the columns from `Main_Table` where `Joined_Table.ASIN = Main_Table.asin1`. I believe this calls for a full outer join, but I'm not sure. I'm using SQL Server. This is what I have so far:

    select seller_sku, asin1, item_name, product_id, Brand_Name
    from AllListingsReport_03282022 as Main_Table, [BusinessReport-3-28-22] as Joined_Table
    full outer join Joined_Table.[ASIN] on Main_Table.asin1
    where Main_Table.item_name is not null

The problem is that I keep getting the following error message:

    Msg 4145, Level 15, State 1, Line 4
    An expression of non-boolean type specified in a context where a condition is expected, near 'where'.

I'm not sure what to do here, as I think the syntax is correct, at least according to [this](https://www.w3schools.com/sql/sql_join_full.asp), but obviously something is wrong. How can I fix this?

Thank you for any help, I really appreciate it.",learnSQL,Am I writing this JOIN correctly?,1.0,https://www.reddit.com/r/learnSQL/comments/tqhjt8/am_i_writing_this_join_correctly/
0,most_humblest_ever,1643598362,sgqmi2,0,1,"Is there a way to pivot multiple columns into one (from wide to long table) without using tablefunc or crosstab? The only way I can see to this is set up multiple conditions and union them together. This is easy in R or python, but I cannot find a simple solution using Postgresql. I cannot use tablefunc, as I don't have access. 

What I have: 

&amp;#x200B;

|Year|Bengals |Rams|
|:-|:-|:-|
|1999|200|150|
|2000|250|200|

What I Want: 

&amp;#x200B;

|Year|Team |Yards|
|:-|:-|:-|
|1999|Bengals |200|
|1999|Rams|150|
|2000|Bengals|250|
|2000|Rams|200|",learnSQL,Postgres - Pivot From Wide To Long,1.0,https://www.reddit.com/r/learnSQL/comments/sgqmi2/postgres_pivot_from_wide_to_long/
1,apexysatish,1643615456,sgvrin,0,1, ,learnSQL,Disable Right Click and F12 Developer Tools Option in Oracle APEX,1.0,https://www.javainhand.com/2021/10/disable-right-click-and-f12-developer-tool-option-in-oracle-apex.html
2,apexysatish,1643616122,sgvy9r,0,1, ,learnSQL,How To Generate Text File in Oracle,1.0,https://www.javainhand.com/2021/10/how-to-generate-text-file-in-oracle.html
3,Adventurous_Blanke,1643634779,sh0ybu,0,1, ,learnSQL,I do not understand why an entity cannot be 'entity type and entity instance',1.0,https://i.redd.it/fir7cc9dv0f81.png
4,lola1s2,1643662508,shbxai,0,1,What is the difference between is null and =null.,learnSQL,Is null versus =null,1.0,https://www.reddit.com/r/learnSQL/comments/shbxai/is_null_versus_null/
5,Appropriate-Tutor997,1643668284,shebsi,0,1,"I want to practice my skills with sql, and test out things using datasets. Any tips advice?",learnSQL,Good place to find questions to practice queries for sql?,1.0,https://www.reddit.com/r/learnSQL/comments/shebsi/good_place_to_find_questions_to_practice_queries/
6,kress5,1643695402,shnr8s,0,1,"I'm working on an hobby show-tracker app and I need help for choose the primary key for my `episode` table. Every episode stored in this table and have a `show_id` to connect it to the specific show.


How it is used:

 - Store every seen episode for the user in the  `member_episode` table.
 - Store one or more external site reference for a specific episode in `episode_externalsite` table.


On the `episode` table the `show_id, season, number` fields are unique, not really can change in the future. So I think maybe it is a good candidate for a composit primary key.
But in this case:
 - the other tables which have reference to an episode need to store all the 3 field from the episode table. Which can be a bottleneck if I wan't to scale to a X million user or episode. (more disk space, etc.)
 - on every join satement I have to check for all three fields


Quesiton: Which is more future proof or recommended method for the primary key in similar scenarios?
 - A: use a surrogate id field (like now)
 - B: use the three field composite for the primary key?


Tables extract:

    CREATE TABLE ""episode"" (
        ""id""	INTEGER NOT NULL UNIQUE,
        ""show_id""	INTEGER NOT NULL,
        ""name""	INTEGER NOT NULL,
        ""airdate""	INTEGER,
        ""season""	INTEGER NOT NULL,
        ""number""	INTEGER NOT NULL,
        PRIMARY KEY(""id"" AUTOINCREMENT),
        UNIQUE(""show_id"",""season"",""number"")
    )

    CREATE TABLE ""episode_externalsite"" (
        ""episode_id""	INTEGER NOT NULL,
        ""externalsite_id""	INTEGER NOT NULL,
        ""value""	TEXT NOT NULL,
        PRIMARY KEY(""episode_id"",""externalsite_id"")
    )

    CREATE TABLE ""member_episode"" (
        ""member_id""	INTEGER NOT NULL,
        ""episode_id""	INTEGER NOT NULL,
        ""status""	INTEGER NOT NULL DEFAULT 0,
        PRIMARY KEY(""member_id"",""episode_id"")
    )",learnSQL,Use surrogate key or compound primary key with 3 fields?,1.0,https://www.reddit.com/r/learnSQL/comments/shnr8s/use_surrogate_key_or_compound_primary_key_with_3/
7,skypron101,1643713796,shshxq,0,1, ,learnSQL,Can someone help me with running datasets in GCP and also transferring data from non partitioned tables to partitioned tables,1.0,https://www.reddit.com/r/learnSQL/comments/shshxq/can_someone_help_me_with_running_datasets_in_gcp/
8,AnkanTV,1643717520,shtjey,0,1,"Hello everyone!

I have two tables **X** and **Y**. X contain attribute1, which is also a foreign key in Y. I'm interested in returning X.value1 and X.value2. A condition must be met, which is that the attribute Y.origin must be USA, Denmark or Canada.

My first attempt was this:

`SELECT X.value1, X.value2`

`FROM X, Y` 

`WHERE`

`(X.attribute1 = Y.attribute1 AND`

`(Y.origin = ""USA"" OR` 

`Y.origin = ""Denmark"" OR`

`Y.origin = ""Canada""));`

&amp;#x200B;

My first question: Would this work? If so, is it bad practice to give Y in the second row since nothing from it should be returned? Another version would be in tuple calculus:

`SELECT value1, value2`

`FROM X`

`WHERE EXISTS(`

`SELECT *`

`FROM Y`

`WHERE X.attribute1 = Y.attribute1 AND`

`......`

&amp;#x200B;

My second question: How could my condition Y.origin be implemented while avoiding the keyword ""OR""?

Thanks for the help!",learnSQL,Basics: Selecting rows without OR,1.0,https://www.reddit.com/r/learnSQL/comments/shtjey/basics_selecting_rows_without_or/
9,apexysatish,1643718708,shtvx6,0,1, ,learnSQL,PL/SQL Program To Print Star Pattern Part 1,1.0,https://www.javainhand.com/2021/11/plsql-program-to-print-star-pattern.html
10,pursuingmaterialism,1643733232,shz4ja,0,1,"Have taken the code academy course a while back, but have an interview coming up that is looking for intermediate SQL skills, some examples of this mentioned were things like case logic and joins. 

Any recommended resources for getting back up to speed again (i didn't really like the codeacademy course very much) as well as specific cases or mini-projects that I can apply learning to and talk to during an interview?",learnSQL,Advice needed for how to get up to speed as quickly as possible for an interview,1.0,https://www.reddit.com/r/learnSQL/comments/shz4ja/advice_needed_for_how_to_get_up_to_speed_as/
11,marhaba89,1643744418,si3k70,0,1,"Hi,

I am trying to get a list of donors who donated to a specific fund and I need to also include their total donation amount (for all funds). My data looks something like this 

&amp;#x200B;

donor table 

|DonorID|Name||
|:-|:-|:-|
|1233|John||
|12345|Mary||
|123456|Zack||

&amp;#x200B;

donation table 

&amp;#x200B;

|donorid|fundid|Amount|
|:-|:-|:-|
|1233|22222|1|
|1233|2222|2|
|1233|1222|3|
|12345|1332|1|
|123456|1222|4|
|123456|22222|5|
|123456|12322|6|
|123456|2222|7|
|1233|2222|8|
||||

I tried the following

SELECT t1.donorid, SUM(t2.amount)        

FROM donor table t1

LEFT JOIN donation table t2 ON

t1.donorid=t2.donorid

WHERE t2.fundid=222

&amp;#x200B;

but this isn't giving me totals for the entire donations by the donor. How should I approach this?",learnSQL,Help with SUM,1.0,https://www.reddit.com/r/learnSQL/comments/si3k70/help_with_sum/
12,Particular-Bet-1828,1643757834,si8w7j,0,1,"Hi everyone, I'm trying to find a really easy to use SQL IDE that can quickly load csv files into it without  extra formatting/ having to go through the command line to do so.

For background, I've been using MySQL to try and build portfolio projects,  but have been running into a lot of issues with csv file load time with the Mysql import wizard. today  I tried to load a csv file that was around 70 MB (dataset here: [https://ourworldindata.org/covid-deaths](https://ourworldindata.org/covid-deaths)), and it was loading for nearly an hour before my whole computer crashed. I've also tried using the 'load data infile' approach described here ([https://stackoverflow.com/questions/33296569/mysql-workbench-table-data-import-wizard-extremely-slow](https://stackoverflow.com/questions/33296569/mysql-workbench-table-data-import-wizard-extremely-slow))  but it's also been causing me a lot of issues.

I'm frustrated enough with it to just ditch MySQL (i'm new to it anyways) for something that would be easier to use and have faster import times. Any suggestions/ thoughts would be greatly appreciated!

&amp;#x200B;

cheers",learnSQL,Help finding new software,1.0,https://www.reddit.com/r/learnSQL/comments/si8w7j/help_finding_new_software/
13,MrBcCardy,1643795362,sikrvl,0,1,"The problem comes from [stratascratch](https://platform.stratascratch.com/coding/10285-acceptance-rate-by-date?python=). I'll put it in the spoiler as well

&gt;! Acceptance Rate By Date!&lt;

&gt;!What is the overall friend acceptance rate by date? Your output should have the rate of acceptances by the date the request was sent. Order by the earliest date to latest.  Assume that each friend request starts by a user sending (i.e., user\_id\_sender) a friend request to another user (i.e., user\_id\_receiver) that's logged in the table with action = 'sent'. If the request is accepted, the table logs action = 'accepted'. If the request is not accepted, no record of action = 'accepted' is logged.!&lt;

I came up with solution nr.1 

    with sent as( 
    select CONCAT(user_id_sender,user_id_receiver) as request_id, date, count(action) as sent
    from fb_friend_requests
    where action = 'sent'
    group by 1
    order by date),
    accepted as (
    select CONCAT(user_id_sender,user_id_receiver) as request_id, count(action) as accepted
    from fb_friend_requests
    where action = 'accepted'
    group by 1
    )
    SELECT sent.date, sum(sent.sent), sum(accepted.accepted), sum(accepted.accepted)/sum(sent.sent)
    FROM sent left join accepted
    ON sent.request_id=accepted.request_id
    group by date;

However, I decided to make the code look neater and came up with the following solution nr2

    SELECT date, sum(accepted)/sum(sent) 
    FROM (
    select CONCAT(user_id_sender,user_id_receiver) as request_id, date, 
    count(case when action = 'sent' then action end) as sent, 
    count(case when action = 'accepted' then action end) as accepted
    from fb_friend_requests
    group by 1
    order by date) s
    GROUP BY date
    ORDER BY date;

Visually, the 2nd version look better (IMHO). The question is whether there is any significant difference in terms of performance. Which approach is better?",learnSQL,Which is better?,1.0,https://www.reddit.com/r/learnSQL/comments/sikrvl/which_is_better/
14,MlTut,1643795576,siktss,0,1, ,learnSQL,12 Best SQL for Data Science Courses,1.0,https://www.mltut.com/best-sql-online-course-certificate-programs-for-data-science/
15,Ejroby,1643815051,sir4t1,0,1, ,learnSQL,How To Install SQLite3 on Windows and MAC OS,1.0,https://youtube.com/watch?v=2CAspm7YwTU&amp;feature=share
16,Adventurous_Blanke,1643815987,siri2e,0,1, ,learnSQL,"Why is does SQL choose 'Ryan' over 'Melvin'? Is it because Sum(User_ID) dictates that it will show the greater value, perhaps since Ryan has a larger weight?",1.0,https://i.redd.it/033ogbb4vff81.png
17,Adventurous_Blanke,1643816357,sirned,0,1, ,learnSQL,"Why does SQL choose 'Ryan' over 'Melvin'? Is it because Sum(User_ID) dictates that it will show the greater value, perhaps since Ryan has a larger weight?",1.0,https://i.redd.it/70f6mg6gwff81.png
18,jawlnal,1643821549,sitto3,0,1,"Hello.  I am trying to understand what this query is doing so I can apply this to my own situation.  I have a table in my database [Oracle19c] with a bunch of records containing date ranges.  The records contain overlapping datasets and I am trying to merge/consolidate/collapse any overlapping date ranges to reflect a single overall range, partitioned or grouped by a few attributes.  I have tried using the tabibitosan method but didn't get accurate results in all cases.  Sometimes there is confusion when discussing overlapping ranges so to be clear, using [Interval Algebra](https://www.ics.uci.edu/~alspaugh/cls/shr/allen.html), I am trying to consolidate all records that are essentially not having the relationship 'Precedes' (`p`) or 'Preceded by' (`P`).  
  
I found a [post with a query that looks promising](https://www.sqlservercentral.com/forums/topic/combine-overlapping-datetime-to-return-single-overlapping-range-record); however, I am having trouble understanding what this query does:  
  

	SELECT s1.StartDate,
	 MIN(t1.EndDate) AS EndDate
	FROM Overlapping s1
	INNER JOIN Overlapping t1 ON s1.StartDate &lt;= t1.EndDate
	 AND NOT EXISTS(SELECT * FROM Overlapping t2
	 WHERE t1.EndDate &gt;= t2.StartDate AND t1.EndDate &lt; t2.EndDate)
	WHERE NOT EXISTS(SELECT * FROM Overlapping s2
	 WHERE s1.StartDate &gt; s2.StartDate AND s1.StartDate &lt;= s2.EndDate)
	GROUP BY s1.StartDate
	ORDER BY s1.StartDate
```
  
Is this essentially saying:

    select the StartDate from s1
    and the minimum EndDate from t1 where:

       the t1 EndDate is &gt;= the s1 StartDate
       but the t1 EndDate not is &lt; EndDate 

      then i dont understand the final WHERE NOT EXISTS clause either.

Is there anyone can ELI5 each step of this operation so that hopefully I can learn what is happing and use this approach myself?  Any and all insight would be greatly appreciated.",learnSQL,Help Understanding what this query is doing,1.0,https://www.reddit.com/r/learnSQL/comments/sitto3/help_understanding_what_this_query_is_doing/
19,theDonkeysAreComing,1643828399,siwqe0,0,1,"i have a table that looks like this : 

call the table t or something 

&amp;#x200B;

https://preview.redd.it/6eo5gvh0wgf81.png?width=1280&amp;format=png&amp;auto=webp&amp;s=0582167b070abe2e1cda41ad1bc4de4e3c378ac1

if i wanted to find the number of emails sent each DAY, how would i do that ? 

        select 
        count(from) as countSent
        from as sent 
        from t
        group by date
        order by countSent desc 

does that look roughly right ?",learnSQL,how would i find the number of emails sent each day ?,1.0,https://www.reddit.com/r/learnSQL/comments/siwqe0/how_would_i_find_the_number_of_emails_sent_each/
20,Balram24,1643829322,six4yz,0,1, ,learnSQL,I AM GETTING THIS ERROR DURING SETTING UP MYSQL CAN ANYBODY HELP?,1.0,https://i.redd.it/f5qwpy50zgf81.png
21,b00ks,1643839981,sj1khb,0,1,"I've got a table that has few columns.
One is an account number
One are questions
One is the answers to each question

needless to say when I run my query it outputs the data i want but it does it in a giant block.  What I'd rather have is the Account number in one column,  then Question 1, Answer 1, then q2, a2, etc etc  all in one row.

I know I can self join the table to itself over and over again to format the data I am looking at, but would it make more sense to do a pivot here?",learnSQL,Pivot VS Self joins?,1.0,https://www.reddit.com/r/learnSQL/comments/sj1khb/pivot_vs_self_joins/
22,most_humblest_ever,1643854319,sj71ej,0,1,"So I have a base table ""base"", which has \`id\` and \`email\_address\` fields. I have ""table1"" and several other tables that also have \`id\` and \`email\_address\`. If base table has a null value for email, I want to overwrite the null with table1's email address. But if table1 also has a null value for email on a record, it should look to table2 and so on...  

This seems simple enough with a join on id and coalesce function. But I am a little lost on how to handle several other tables ""cascading"" through the nulls until it hits on a valid record. So if the first 5 tables have null values for a given ID, but table6 has a valid email, how do I get that in there? How I do write a SQL code that isn't a hideous mess of nested COALESCE functions? Or is this the only way? 

I feel like there is a slicker way to do this in SQL. I know I am thinking in terms of DQL, but maybe this is better solved with DML functionality?",learnSQL,"How to update NULL value of table with valid fields in several other tables, ranked by preference",1.0,https://www.reddit.com/r/learnSQL/comments/sj71ej/how_to_update_null_value_of_table_with_valid/
23,ExaminationOk2334,1643871324,sjcjy9,0,1, ,learnSQL,OneHotEncoder from Sklearn | How to | Machine Learning | Beginner | Python | Sklearn,1.0,https://youtu.be/NBc9M1XnYuY
24,Doraemon_2676,1643878791,sjeilq,0,1,"I am noob in SQL and I began learning sql from freecodecamp YouTube channel tutorial on sql basic for beginners,it is 4 hrs 20 min long video ,I watch whole video and practice all Query , create table Delete,Insert Into row and column ,wildcard, trigger,union ,join etc
But still I am not able do easy section of HackerRank sql section from problem 5.
I stuck mainly in those problem where they ask to display those city list which start with any vowel and to show subtracted values by using COUNT.
I am practicing sql on mysql.
Anyone please suggest me good source .",learnSQL,"I am noob in SQL ,I am facing lots of problems in MySQL ,Anyone please suggest me good source .",1.0,https://www.reddit.com/r/learnSQL/comments/sjeilq/i_am_noob_in_sql_i_am_facing_lots_of_problems_in/
25,activedbsoft,1643884438,sjfzjr,0,1,"It guides you through the way of creating a simple query in MS Access-like Visual Query Builder [https://youtu.be/O\_0smfAiR-8](https://youtu.be/O_0smfAiR-8)

You'll learn how to join several tables, select columns, and apply conditions to the query. I recommend watching it on a higher than 1x speed ) 

HTH",learnSQL,I made a tutorial on how to create a simple query using a visual query builder,1.0,https://www.reddit.com/r/learnSQL/comments/sjfzjr/i_made_a_tutorial_on_how_to_create_a_simple_query/
26,lucian-12,1643886515,sjgkoo,0,1, ,learnSQL,[video] PostgreSQL Logical Replication Guide,1.0,https://youtu.be/OvSzLjkMmQo
27,emdw85,1643900191,sjl8n0,0,1,"I work on a finance team at an F500 and have been learning Python (2 years) and SQL (3 months). We just added Snowflake, so I will start using it for most of my data pulls of the company's info. 

But, like most old F500's, a lot of our stuff is still in excel in shared files. I do pull from these files for some Python scripts, but it takes forever and sometimes will be locked. So I thought this would be a great time to create my own small database and test my skills. 

My question is this: what should I use? 

We have Access, but is that a waste of time to learn? 

Thanks in advance. These forums are so helpful for neophytes like me.",learnSQL,Which Personal Database should I use?,1.0,https://www.reddit.com/r/learnSQL/comments/sjl8n0/which_personal_database_should_i_use/
28,Dbdokkan123,1643929346,sjx7bd,2,1,"Hey guys, 
sorry for the dumb question but I finished university and landed a job as a Business Analyst! :)
Therefore I would like to learn SQL in order to be able to work more efficient and be able to work with PowerBI in the future. (these skills were not a must have for the job, but I would like to improve myself)

I just finished the sqlbolt and w3schools tutorials and tried to solve some problems on leetcode. Unfortunately I’m already struggling with „easy“ problems. 

Therefore I thought about purchasing the SQL course on udemy from Jose Pordilla. - Is that a good idea? 

I would really appreciate your help and recommendations! :)

Thanks!",learnSQL,What would be the logical steps after finishing the sqlbolt and w3schools tutorial?,1.0,https://www.reddit.com/r/learnSQL/comments/sjx7bd/what_would_be_the_logical_steps_after_finishing/
29,LeDiableProbablement,1643929655,sjxbmf,0,1,"We’re migrating over to Azure Data Studio from Netezza, and there are some “hiccups” in terms of syntax. So a quick command guide or something would be helpful.",learnSQL,Does anyone have a recommendation for a good resource to learn T-SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/sjxbmf/does_anyone_have_a_recommendation_for_a_good/
30,marhaba89,1643945096,sk2wop,0,1,"Hi, so I guess I am looking for a general discussion/tips on how to exclude a set of records from a particular query. 

for instance, let's say I have three tables: 

donations

&amp;#x200B;

|TransactionID|DonationAmount|DonorID|fundId|
|:-|:-|:-|:-|
|1111|200|1234|health|
|2222|100|12345|education|
|5555|600|1234|building|
|2323|500|10|health|
|4444|3000|12345|education|
|888|50000|10|health|
|999|20000|1234|building|

attributes table

&amp;#x200B;

|TransactionID|AttributeValue|
|:-|:-|
|1111|Campaign 1|
|2222|Campaign 3|
|5555|Campaign 2|
|2323|Campaign 2|
|4444|Campaign 4|
|888|Campaign 1|
|999|Campaign 1|

donors table

&amp;#x200B;

|DonorId|DonorName||
|:-|:-|:-|
|1234|John||
|12345|Nicole||
|10|Julie||

&amp;#x200B;

so let's say I want to create a query that looks at donors who have donated a combined of $5K+ to donations that belong to either campaign 1 or 2, but excluding donors who have donated to fundId building. 

in my mind I want to do an INNER JOIN between the attribute and the campaign is either Campaign 1 Or campaign 2 and then join it to the donors table to get their totals, but it hasn't worked well for me. Does anyone have any thought, in this particular case or in general, about excluding particular records from a query?",learnSQL,General question about how to exclude specific records from a query,1.0,https://www.reddit.com/r/learnSQL/comments/sk2wop/general_question_about_how_to_exclude_specific/
31,freddiesyolks,1643991375,skh7kt,0,1,"&amp;#x200B;

[I am trying to get all the authors from the author\_name colum who do not have an author ID on the far right column. How do i return these highlighted ones. Any help much appreciated as I am very new to this](https://preview.redd.it/e2kc184jcuf81.png?width=2110&amp;format=png&amp;auto=webp&amp;s=b62e5d7d16bd2deb76ead27bf6056098caed580a)",learnSQL,How to return the names of these unmatched authors after a join.,1.0,https://www.reddit.com/r/learnSQL/comments/skh7kt/how_to_return_the_names_of_these_unmatched/
32,DB-Enthusiast,1644000287,skkxq0,0,1,"If you have 90 seconds, and are any of the personas, or worked with them, can you please fill out this survey? The research would greatly help me. Thank you.

https://docs.google.com/forms/d/e/1FAIpQLSc3r91rpJYEShstc5anj8zZTpPQwQK1mNlGEqrvOR1ULqVAWg/viewform",learnSQL,Survey for specific database personas,1.0,https://www.reddit.com/r/learnSQL/comments/skkxq0/survey_for_specific_database_personas/
33,sm00mz,1644016549,skrh4j,0,1,"Hello, currently I have two stored procedures, one to get the user's tables, and one to extract the columns and their associated data types, data precision, data scale, and char lengths.

Currently my output is like this:

    --  Start extracting table IMAGE                                                
        CREATE TABLE IMAGE  (                                                           
         MFR                    CHAR           (3)                                      
        , PRODUCT                    CHAR           (5)                                 
        , IMAGE                    BLOB           (0)                                   
        , TECHSPECS                    BFILE          (0)                               
        ,                    ); -- END of Table IMAGE creation                          
        --                                                                              
        --                                                                              
        --  Start extracting table ORDERS                                               
        CREATE TABLE ORDERS  (                                                          
         ORDERNUM                    NUMBER         (7,0)                               
        , ORDERDATE                    DATE           (0)                               
        , CUST                    NUMBER         (3,0)                                  
        , REP                    NUMBER         (3,0)                                   
        , MANUF                    CHAR           (3)                                   
        , PROD                    CHAR           (5)                                    
        , QTY                    NUMBER         (5,0)                                   
        , AMOUNT                    NUMBER         (5,2)                                
        ,                     ); -- END of Table ORDERS creation                        
        --                                                                              
        --                                                                              
        --  Start extracting table PRODUCTS                                             
        CREATE TABLE PRODUCTS  (                                                        
         MFR                    CHAR           (3)                                      
        , PRODUCT                    CHAR           (5)                                 
        , DESCRIPTION                    VARCHAR2       (100)                           
        , PRICE                    NUMBER         (5,2)                                 
        , QTYONHAND                    NUMBER         (5,0)                             
        ,                       ); -- END of Table PRODUCTS creation                    
        -- 
                                 

but I want it formatted with the spacing from this:

    --  Start extracting table IMAGE                                                
    CREATE TABLE IMAGE  (                                                           
     MFR                      CHAR(3)                   NOT NULL                   
    , PRODUCT                 CHAR(5)                   NOT NULL              
    , IMAGE                   *** Unknown Data Type BLOB***                                  
    , TECHSPECS               *** Unknown Data Type BFILE***
    ,                    ); -- END of Table IMAGE creation                          
    --                                                                              
    --                                                                              
    --  Start extracting table ORDERS                                               
    CREATE TABLE ORDERS  (                                                          
     ORDERNUM                 NUMBER(7,0)                               
    , ORDERDATE               DATE           DEFAULT CURRENT_DATE                               
    , CUST                    NUMBER(3,0)                                  
    , REP                     NUMBER(3,0)                                   
    , MANUF                   CHAR(3)                                   
    , PROD                    CHAR(5)                                    
    , QTY                     NUMBE(5,0)                                   
    , AMOUNT                  NUMBER(5,2)                                
    ,                     ); -- END of Table ORDERS creation  


This is my current code, I am looking for some advice on how to fix the spacing:

    iTableName IN user_tables.table_name%TYPE
    )
    AS
      CURSOR extractCursor IS
        SELECT Column_Name, Data_Type, Data_Precision, Data_Scale, Char_Length
        FROM User_Tab_Columns
        WHERE Table_name = iTableName;
        wType CHAR(15);
        wPrecision NUMBER(10);
        wScale NUMBER(10);
        wLength NUMBER(10);
        wSpace CHAR(20) := ' ';
    BEGIN
      FOR CurrentRow in extractCursor LOOP
        wType := CurrentRow.Data_Type; 
        wPrecision := CurrentRow.Data_Precision;
        wScale := CurrentRow.Data_Scale;
        wLength := CurrentRow.CHAR_LENGTH;
        IF (wType = 'NUMBER') THEN
            DBMS_OUTPUT.PUT_LINE(' ' || CurrentRow.Column_Name || wSpace || wType || '(' || wPrecision ||  ',' || wScale || ')');
        ELSE
            DBMS_OUTPUT.PUT_LINE(' ' || CurrentRow.Column_Name || wSpace || wType || '(' || wLength || ')');
        END IF;
        DBMS_OUTPUT.PUT(',');
      END LOOP;",learnSQL,SQLPLUS Script Report Formatting,1.0,https://www.reddit.com/r/learnSQL/comments/skrh4j/sqlplus_script_report_formatting/
34,zb221,1644036921,skykjf,0,1,"In general, I know how to write SQL queries and create a local database and all of that kind of stuff (specifically I use postgresql). But I don't know anything about networking or ""the cloud"". Can anyone explain the basic steps or provide a guide for how to go from a local database to a database that is hosted online? A friend and I both want to be able to access and edit the same database (this is not a production project), but I have no idea how to even start this.",learnSQL,How to host a database?,1.0,https://www.reddit.com/r/learnSQL/comments/skykjf/how_to_host_a_database/
35,bold_bowler,1644042202,sl05d4,0,1, ,learnSQL,Importing Large SQL File in MySQL Database - Laravel Plug,1.0,https://laravelplug.com/importing-large-sql-file-in-mysql-database/
36,apexysatish,1644045349,sl10x1,0,1, ,learnSQL,Difference Between Primary Key and Unique Key in Oracle,1.0,https://www.javainhand.com/2020/03/difference-between-primary-key-and-unique-key-in-oracle.html
37,smallchimp,1644083312,slcqxt,0,1,"I have three tables:

    trucks:
    - id (pk)
    - vin
    - type
    - capacity


    facilities
    - id (pk)
    - name
    - address


    trips
    - id
    - truck_id (fk -&gt; trucks)
    - origin_facility (fk -&gt; facilities)
    - destination_facility (fk -&gt; facilities)


I receive an error when I attempt to run


    SELECT * FROM trips 
    LEFT JOIN trucks ON
    trips.truck_id = trucks.id
    LEFT JOIN facilities ON trips.origin_facility_id = facilities.id
    LEFT JOIN facilities ON trips.destination_facility_id = facilities.id


because facilities was already referenced once. I would like to be able to have both facilities' information available when using the trips table",learnSQL,Joining the same table twice?,1.0,https://www.reddit.com/r/learnSQL/comments/slcqxt/joining_the_same_table_twice/
38,diggtrucks1025,1644165061,sm0sgy,0,1,"I have a set of data of CustomerIDs and OrderIDs. I need to create a histogram of how many customers ordered X amount of times. The tricky part I can't figure out is how to lump all customers with 10+ orders into a bin of its own. So far I have:


SELECT

count(orderid)

count(customerid) AS Customer Count,

FROM orders

GROUP BY customerid

;",learnSQL,Need to create histogram with &gt;10 bin,1.0,https://www.reddit.com/r/learnSQL/comments/sm0sgy/need_to_create_histogram_with_10_bin/
39,trustfulvoice94,1644174644,sm4qqq,0,1,"Hi - I'm looking to compare the products in 3 systems, let's call them systems A, B and C - and then display all products side by side.

Here's my input and output: https://imgur.com/PqmhWZp

Any ideas or suggestions would help, I've tried an outer join but it it's give a lot of blanks.

Thanks!",learnSQL,Query Help - Joining,1.0,https://www.reddit.com/r/learnSQL/comments/sm4qqq/query_help_joining/
40,Experimentalphone,1644219547,smki3d,0,1,"Hi there, 

I am a total newbie and I am trying to learn enough SQL basics for Business Intelligence work. Now the major problem I have is installing and starting SQL. I am following this video series, but they do not tell you how to install an SQL software: https://www.youtube.com/watch?v=kbKty5ZVKMY&amp;list=PLR0triVyTrBWOLNu3ato7Y9hnGVyhTe1c&amp;index=3

I have searched online for SQL installation but with so many SQL options and procedures it has become very confusing. 

I also downloaded the book SQL for Dummies but even that book does not tell you how to simply install an SQL software. 

I downloaded SQLite3, and then on the youtube channel, the person went into command shell. I also tried installing MySQL but it has a large number of components, and they require Visual Studio (which in turn has several different components!). All this is very confusing. I only need a small and simple SQL software where I can practice the exercises in the linked Business Intelligence video. 

Can someone suggest a tutorial video on what SIMPLE SQL product to choose and how to install it simply using a visual installer (like all other programs on Windows)?",learnSQL,With so many options and complexities I am having trouble even choosing an SQL product and installing it. Can someone please tell me how to do a simple installation of a simple SQL product for Business Intelligence work?,1.0,https://www.reddit.com/r/learnSQL/comments/smki3d/with_so_many_options_and_complexities_i_am_having/
41,Experimentalphone,1644224834,smlumu,0,1,"Non-native English speaker here. 

I am TOTALLY new to SQL, programming and other similar things. Now I am following these videos in order to get some basic idea of SQL for Business Intelligence. https://www.youtube.com/watch?v=kbKty5ZVKMY


However, the problem is that, I can't even set up the software system where I can do the exercises. 

Can someone please guide me?",learnSQL,Can someone please tell me how to install the software that is being used in this Business Intelligence tutorial video? Without the installation I am unable to do the exercises,1.0,https://www.reddit.com/r/learnSQL/comments/smlumu/can_someone_please_tell_me_how_to_install_the/
42,apexysatish,1644234948,smohop,0,1, ,learnSQL,PL/SQL Program To Print Rectangular Star Pattern Part 2,1.0,https://www.javainhand.com/2021/11/plsql-program-to-print-rectangular-star.html
43,emdw85,1644243362,smr9dd,0,1,"I am starting my personal database journey and many mentioned, since I know Python, SQLite would be the ideal place to start. 

My current setup--Anaconda, VSCode, attempting Git Bash (Windows 10). Need/want to learn version control and bash/command line better. 

I watched some tutorials, and they are ""real coders, as they say"" so they are using Git Bash a lot, and don't download the Sqlite command line shell for Windows and just run it. They do it all through Git Bash. But I think I need to add it to PATH, but am lost.

&amp;#x200B;

How do you guys/girls use SQLite when/if you use it?",learnSQL,SQLite start,1.0,https://www.reddit.com/r/learnSQL/comments/smr9dd/sqlite_start/
44,SamTurnover,1644248365,smt3in,0,1,[removed],learnSQL,Online Resource for Advance SQL Interview Question,1.0,https://www.reddit.com/r/learnSQL/comments/smt3in/online_resource_for_advance_sql_interview_question/
45,nims01,1644283952,sn78r9,1,1,"a company  gave me interview questions for sql  but not a platform to create tables and run queries.

Is there a platform where I can run and test the queries? Thank you in advance,",learnSQL,platform to create sql,1.0,https://www.reddit.com/r/learnSQL/comments/sn78r9/platform_to_create_sql/
46,PotentialStatement84,1644320453,sni7nm,0,1,"I have been wasting couple of days trying to oracle 19c, 21 c, but keep running into issues. Is it because I have windows 10 home edition ? 

I am trying to learn sql and erp implementation for an internship. But i need to install oracle sql first to get started",learnSQL,Can I install Any Oracle SQL for windows 10 home ?,1.0,https://www.reddit.com/r/learnSQL/comments/sni7nm/can_i_install_any_oracle_sql_for_windows_10_home/
47,cmstrump,1644340622,snpew8,0,1,"Here is a good tutorial explaining basic and advanced aspects of Microsoft SQL Server, its differences as compared to standard SQL as well as how it could be used as a secure, flexible and scalable relational database management system with differentiated performance and built-in query intelligence: [MS SQL Tutorial - bipp Analytics](https://bipp.io/sql-tutorial/ms-sql/)",learnSQL,MS SQL Tutorial For Data Analysts,1.0,https://www.reddit.com/r/learnSQL/comments/snpew8/ms_sql_tutorial_for_data_analysts/
48,FewVacation,1644400905,soa01k,0,1, ,learnSQL,Apache Hive Table Pivot Query,1.0,/r/SQL/comments/so9wrf/apache_hive_table_pivot_query/
50,TheDepresedpsychotic,1644409763,socfue,0,1,"I have only minimal experience with datascience, so please guide me accordingly . I want to create a table and when I input values to that table , I want a few other tables to automatically update i.e take value from the main table .

for e.g

a main table in which I update each trucks haulage and it automatically updates to each trucks separate table with timestamp. hence each truck has its own log automatically .

I'm using mySQL with myPHP admin , xampp. and I need help",learnSQL,I need help here,1.0,https://www.reddit.com/r/learnSQL/comments/socfue/i_need_help_here/
51,rnd-forest-91,1644416941,soewpg,0,1,"I am trying to create a table in MySQL but running the below query causing error.

&amp;#x200B;

 

     CREATE Table usage
    (
        user_id     VARCHAR(20),
        usage_date  DATE,
        usage_location     VARCHAR(20),
        time_spent      INTEGER
    );

The error that i am getting is this -

    Query 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'usage
    (
        user_id     VARCHAR(20),
        usage_date  DATE,
        usage_locatio' at line 1",learnSQL,Can anyone tell me why this query is not working?,1.0,https://www.reddit.com/r/learnSQL/comments/soewpg/can_anyone_tell_me_why_this_query_is_not_working/
52,Group_Unusual,1644417403,sof314,0,1,"    CREATE TABLE IF NOT EXISTS customer (
     cust_name VARCHAR(64) NOT NULL,
     cust_email VARCHAR(256) PRIMARY KEY CHECK (cust_email LIKE '%_@_%._%'),
     card_number VARCHAR(16) UNIQUE NOT NULL,
     card_type VARCHAR(16) NOT NULL, 
     CONSTRAINT CHK_card_type CHECK(card_type = 'visa' OR card_type = 'mastercard' OR card_type = 'americanexpress'));
    
    CREATE TABLE IF NOT EXISTS stock (
     stock_name VARCHAR(64) UNIQUE NOT NULL,
     stock_symbol VARCHAR(100) PRIMARY KEY,
     stock_industry VARCHAR(100) NOT NULL,
     stock_sector VARCHAR(100) NOT NULL,
     stock_market VARCHAR(100) NOT NULL,
     stock_price DECIMAL (10,2) NOT NULL CHECK (stock_price &gt; 0));
    
    CREATE TABLE IF NOT EXISTS portfolio (
     cust_email VARCHAR(256) NOT NULL,
     stock_symbol VARCHAR(100) NOT NULL,
     FOREIGN KEY (cust_email) REFERENCES customer (cust_email) ON DELETE CASCADE DEFERRABLE,
     FOREIGN KEY (stock_symbol) REFERENCES stock (stock_symbol) ON DELETE CASCADE DEFERRABLE,
     stock_qty DECIMAL (10,2) NOT NULL CHECK (stock_qty &gt; 0));

Hi im trying to create around 500 portfolio entries using a single SQL query with the function RANDOM() to generate random entries and random quantities.

portfolio contains customer email and stock symbols

I am thinking of doing something like this

    INSERT INTO portfolio (cust_email, stock_symbol, stock_qty) 
    values ((SELECT cust_email FROM customer ORDER BY RAND() LIMIT 1),
            (SELECT stock_symbol FROM stock ORDER BY RAND() LIMIT 1),
            (random stock quantity));

 Im not sure if this code even make sense, im kindda stuck on this part",learnSQL,Generate 500 random entries in a single SQL DML query,1.0,https://www.reddit.com/r/learnSQL/comments/sof314/generate_500_random_entries_in_a_single_sql_dml/
53,num2005,1644433006,sokzmi,0,1,"So I tried to REPLACE the field to a VARIANT

&amp;#x200B;

Orignal table:

[https://i.imgur.com/ariyvfa.png](https://i.imgur.com/ariyvfa.png)

&amp;#x200B;

SQL line code to replace to VARIANt type:

&gt; TO\_VARIANT(REPLACE(""InvoiceXML"",'""','')) as ""InvoiceXML""

Results after I REPLACE:

[https://i.imgur.com/eCCROfT.png](https://i.imgur.com/eCCROfT.png)

There is a "" at the start and end and I don't know why and GETXML formula does'nt work on it...  


anyone has an idea how to convert an VARCHAR field into a VARIANT field so I can query XML ?",learnSQL,I got a VARCHAR field that contains XML. I am trying to convert that VARCHAR field into a VARIANT field (in snowflake) so I can query it with XMLGET,1.0,https://www.reddit.com/r/learnSQL/comments/sokzmi/i_got_a_varchar_field_that_contains_xml_i_am/
54,xxlizardking-kongxx,1644460748,sov97i,2,1, ,learnSQL,I’ve been doing a lot of free courses and tutorials just trying to learn but I want to start trying to use SQL more practically and pull from a database. Any recommendations how I would do this?,1.0,https://www.reddit.com/r/learnSQL/comments/sov97i/ive_been_doing_a_lot_of_free_courses_and/
55,NoDozGoes,1644465568,sowxyz,3,1,"I'm having trouble understanding how I could query specific values out of this data type 

    array(row(id integer, name varchar))

Query:

    SELECT persons
    FROM list_of_peoples
    WHERE home_state = 'California';

Sample Output:

|persons|
|:-|
|\[{age=25, name=Mark}\]|
|\[{age=31, name=Isaac}\]|
|\[{age=19, name=Jessie}\]|

  
My hopes is to be able to isolate and leverage the 'age' value as a way to narrow down the results further in such a way like:

    SELECT persons
    FROM list_of_peoples
    WHERE home_state = 'California'
    AND functions['id'] = 25;

Is this something that's possible to do? I appreciate any guidance and insight in advance!",learnSQL,Query u,1.0,https://www.reddit.com/r/learnSQL/comments/sowxyz/query_u/
56,SQL_beginner,1644468561,soxxza,4,1," 

I am working with Netezza SQL.

I have the two following tables:

\- table\_1 and table\_2

\- table\_1 has a date variable ""Date\_1"" that has a variable type ""character\_varrying(255)""

\- table\_2 has two date variables ""Date\_2"" and ""Date\_3"" that have variable types ""DATE""

\- All 3 dates have the same form : 2010-12-31

I am trying to run the following SQL command:

    CREATE TABLE final_table AS SELECT * FROM table_1 a INNER JOIN table_2 b ON (( a.date_1 BETWEEN b.date_2 AND b.date_3) AND a.id = b.id)  OR (a.id1 = b.id1) 

**Problem:** But this gives me the following error:

    HY000 Error: Bad External Date Representation 

**What I tried so far:** I am trying to figure out how to make all DATE variables compatible so that the INNER JOIN works. I thought that maybe this can be done using the ALTER TABLE command:

    #create new date variable
    
     ALTER TABLE table_1 
    ADD COLUMN new_date DATE;  
    
    #set new date variable 
    
    UPDATE table_1;
     set new_date = date_1;  
    
     #repeat inner join with new date variable
    
     CREATE TABLE final_table AS SELECT * FROM table_1 a 
    INNER JOIN table_2 b ON (( a.new_date BETWEEN b.date_2 AND b.date_3) AND a.id = b.id) 
     OR (a.id1 = b.id1) 

But the same error is still persisting.

**Can someone please show me how to fix this?**

Thanks!",learnSQL,Netezza SQL: Joins with Date Variables in Different Formats,1.0,https://www.reddit.com/r/learnSQL/comments/soxxza/netezza_sql_joins_with_date_variables_in/
57,Scared_Rule,1644481921,sp1qvs,5,1,Hi! What are the best ways to learn SQL? I'm looking for good books or tutorials (like good Udemy course),learnSQL,SQL - how to learn?,1.0,https://www.reddit.com/r/learnSQL/comments/sp1qvs/sql_how_to_learn/
58,apexysatish,1644490344,sp3wqz,0,1, ,learnSQL,Difference Between Function and Procedure in PL/SQL,1.0,https://www.javainhand.com/2022/02/difference-between-function-and-procedure-in-plsql.html
59,F0rgot_my_passw0rd,1644491744,sp4adx,5,1,"I have spent the past couple months doing my own learning in the field of data analysis. I used to really enjoy playing with data in high school and college. I have heard that hospitals especially are in desperate need of SQL programmers.

I feel like I have a decent grasp on the basics, but I fear my knowledge is what could be easily taught to a current employee instead of hiring someone specific.  


So I am wondering how deep my skills and understanding need to be before I can consider even putting SQL knowledge on my resume.  


I have been working on Kaggle, and posting my certificates on LinkedIn, but of course, that has led nowhere thus far.  


So, just how much do I need to (1) know, and (2) have fully mastered to consider looking for work?  


Thanks in advance!",learnSQL,How much SQL do I need to know to get a starting job?,1.0,https://www.reddit.com/r/learnSQL/comments/sp4adx/how_much_sql_do_i_need_to_know_to_get_a_starting/
60,SuspiciousCheetah915,1644500608,sp6xkn,2,1, ,learnSQL,"i don't know how this self join querry works for highest salary.. how "" where 2 = count()"" works here?",1.0,https://i.redd.it/9r350p1ie0h81.jpg
61,stringova,1644514293,spbz8d,6,1,"  

Hello, 

So, I am here to ask for guidance. I am 41 years old and do not have a college degree.

I have a lot of work experience and I excel in any position that I have been in. I have been offered 99% of the jobs that I have interviewed for. The problem I’m facing now is getting to the interview part. 

My husband is in the military, so we have moved around. It can get difficult to start over to a place where you know no one and have no connections. I’ve recently learned about SQL and coding jobs. People are able to work from home and make decent money. I just have no idea where to even start. What the correct way is to go about it? Many of the people that I’ve seen, don’t have college degrees but they take a course on SQL or something of the sorts. Granted, I did see these people on tik tok so I’m not sure how legitimate it is. But I want to learn. It’s the only thing that has made me feel somewhat hopeful in finding something. Before I met my husband, I worked my way up at my job. Then when we started moving, my pay is now a third of what I was making. We are about to move yet again, and I would like to have a job I can do from home so it doesn't impact us financially is such a detrimental way.

Any guidance would be GREATLY appreciated.",learnSQL,How do I get started in learning SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/spbz8d/how_do_i_get_started_in_learning_sql/
62,ASamir,1644514840,spc6nk,3,1,"Currently, I'm at this state:

    name      Item      Date
    Donna     C           10/2/2021
    Donna     B            11/2/2021
    Donna     D             13/2/2021

and need to have the table as:

    Name    Item
    Donna   10/2/2021
    Donna    C
    Donna    11/2/2021
    Donna    B
    Donna   13/2/2021
    Donna    D

I tried to query the table with:

    SELECT name, item      
      FROM table
    UNION ALL
    SELECT name, date      
      FROM table

But ended up with:

    Donna C
    Donna B
    Donna D
    Donna 10/2/2021
    Donna 11/2/2021
    Donna 13/2/2021",learnSQL,How to generate a 2-field table from a 3-field one?,1.0,https://www.reddit.com/r/learnSQL/comments/spc6nk/how_to_generate_a_2field_table_from_a_3field_one/
63,jawlnal,1644516894,spd0xl,0,1,"Hello.  I am trying to understand what this query is doing so I can apply this to my own situation.  I have a table in my database [Oracle19c] with a bunch of records containing date ranges.  The records contain overlapping datasets and I am trying to merge/consolidate/collapse any overlapping date ranges to reflect a single overall range, partitioned or grouped by a few attributes.  I have tried using the tabibitosan method but didn't get accurate results in all cases.  Sometimes there is confusion when discussing overlapping ranges so to be clear, using [Interval Algebra](https://www.ics.uci.edu/~alspaugh/cls/shr/allen.html), I am trying to consolidate all records that are essentially not having the relationship 'Precedes' (`p`) or 'Preceded by' (`P`).  
  
I found a [post with a query that looks promising](https://www.sqlservercentral.com/forums/topic/combine-overlapping-datetime-to-return-single-overlapping-range-record); however, I am having trouble understanding what this query does:  
  

	SELECT s1.StartDate,
	 MIN(t1.EndDate) AS EndDate
	FROM Overlapping s1
	INNER JOIN Overlapping t1 ON s1.StartDate &lt;= t1.EndDate
	 AND NOT EXISTS(SELECT * FROM Overlapping t2
	 WHERE t1.EndDate &gt;= t2.StartDate AND t1.EndDate &lt; t2.EndDate)
	WHERE NOT EXISTS(SELECT * FROM Overlapping s2
	 WHERE s1.StartDate &gt; s2.StartDate AND s1.StartDate &lt;= s2.EndDate)
	GROUP BY s1.StartDate
	ORDER BY s1.StartDate
```
  
Is this essentially saying:

    select the StartDate from s1
    and the minimum EndDate from t1 where:

       the t1 EndDate is &gt;= the s1 StartDate
       but the t1 EndDate not is &lt; EndDate 

      then i dont understand the final WHERE NOT EXISTS clause either.

Is there anyone can ELI5 each step of this operation so that hopefully I can learn what is happing and use this approach myself?  Any and all insight would be greatly appreciated.",learnSQL,Help Understanding This Query,1.0,https://www.reddit.com/r/learnSQL/comments/spd0xl/help_understanding_this_query/
64,ram_rod24,1644549112,spoql7,0,1,"Im practicing with baseball reference data set, however I notice there are multiple records for the same player who played on different teams within the same season. What is the right conditional statement to use like take the max record which is listed as TOT for team while also keeping the rest of the players who stayed with the same team?",learnSQL,Need help preparing 1 to many records in data set into 1 record,1.0,https://www.reddit.com/r/learnSQL/comments/spoql7/need_help_preparing_1_to_many_records_in_data_set/
65,toidaylabach,1644567530,spud01,0,1,"Hello, I'm taking a course on PostgreSQL on datacamp, and there is this INTERVAL operator that I don't know why it should be used.

The query I'm instructed to use is as following:

SELECT  
rental\_date,  
return\_date,

**rental\_date + INTERVAL '3 days' AS expected\_return\_date**  
FROM rental;

Which gets this result:

rental\_datereturn\_dateexpected\_return\_date2005-05-24 22:53:302005-05-26 22:04:302005-05-27 22:53:30

However, if I changed the bold part to **rental\_date + '3 days' AS expected\_return\_date** (without the INTERVAL), I get the same result. So is there any difference, and when should I use this operator?

Thank you",learnSQL,Question about INTERVAL operator in PostgreSQL,1.0,https://www.reddit.com/r/learnSQL/comments/spud01/question_about_interval_operator_in_postgresql/
66,Future_Green_7222,1644571360,spvbr6,0,1,"I'm tasked with adding indexes to our database. Yet, as advanced SQL users may know, too many indexes can be detrimental so we should prioritize optimizing the most popular queries. Our company has a rough idea about what queries are the most famous (like the ones in the dashboard), but we'd feel safer if we knew *exactly* what are the most famous queries. 

But all queries will be different depending on the user, right? Naively comparing SQL queries might give us that `SELECT * FROM table WHERE field = 4` will be treated from `SELECT * FROM table WHERE field = 5` because `4 != 5`, but internally the SQL server treats those two almost the same and they intuitively should be considered the same. Perhaps it could be stored as `SELECT * FROM table WHERE field = %d`? But I'm pretty sure there's already stuff out there by people much more intelligent than me.",learnSQL,How to see what are the most used SQL queries by my app,1.0,https://www.reddit.com/r/learnSQL/comments/spvbr6/how_to_see_what_are_the_most_used_sql_queries_by/
67,Group_Unusual,1644571685,spvelk,2,1,"    select c.cust_name AS largest_value_customer, sum(s.stock_price* p.stock_qty) as total_value
    from portfolio p 
    inner join customer c
    on p.cust_email = c.cust_email
    inner join stock s 
    on p.stock_symbol = s.stock_symbol
    group by c.cust_name
    order by total_value desc

&amp;#x200B;

https://preview.redd.it/75nicley96h81.png?width=271&amp;format=png&amp;auto=webp&amp;s=7ceff2738966eeb17c1fc2af39c14efa9338563e

Hi all, i manage to obtain this table. however, i only want to return the maximum(total value) 

i cant add limit 1 because if there are cases where there are more than 1 customer with the same total value then it wont show.   
max(sum) doesnt work either 

i can provide the full code if needed",learnSQL,How only return max total value,1.0,https://www.reddit.com/r/learnSQL/comments/spvelk/how_only_return_max_total_value/
68,apexysatish,1644576456,spwmvf,0,1, ,learnSQL,Oracle APEX Tutorial by Javainhand Tutorial,1.0,https://www.javainhand.com/p/oracle-apex-tutorial-by-javainhand.html
69,Happy_healthy_888,1644577521,spwxke,5,1,"I downloaded MySql Workbench and wanted to practice queries but I do not have a database. I have created tables and inserted data but just very basic. Is there any site where I can download a database that has many tables and columns, with different datatypes so I can practice advance functions?   
Thank you.",learnSQL,Where can I download databases with tables to practice,1.0,https://www.reddit.com/r/learnSQL/comments/spwxke/where_can_i_download_databases_with_tables_to/
70,Happy_healthy_888,1644578182,spx3qu,1,1,"I am learning SQL and I wanted to know which database system (MS SQL Server, MySQL , Oracle DBA, PostgreSQL)  to start learning. I know there are very minor differences in these, does it matter which one I start. I downloaded MySql workbench and I am following this website [https://www.mysqltutorial.org/](https://www.mysqltutorial.org/mysql-between) 

I appreciate your input. I hope to land a database admin/ SQL data analyst or similar role which use sql extensively.",learnSQL,"MS SQL Server, MySQL , Oracle DBA, PostgreSQL - Which is good to start learning SQL?",1.0,https://www.reddit.com/r/learnSQL/comments/spx3qu/ms_sql_server_mysql_oracle_dba_postgresql_which/
71,Futureisnotsecure,1644687815,sqwvmz,5,1, ,learnSQL,"Practical SQL, 2nd Edition eBook",1.0,https://www.ebooks-courses-downloader.com/2022/02/practical-sql-2nd-edition.html
72,NotTheAnts,1644703933,sr2n9n,4,1,"Hey guys,

I've just discovered the CREATE VIEW function and am totally new to it. 

Can anyone explain when you would use a VIEW rather than CTE or temp table and vice versa?",learnSQL,VIEW vs Temp Table vs CTE,1.0,https://www.reddit.com/r/learnSQL/comments/sr2n9n/view_vs_temp_table_vs_cte/
73,Student-Somewhere,1644765818,srkzju,0,1,"I have this table:

Order(order\_number, item\_number, nbr\_of\_items).

Order\_number is a unique number (1, 2, 3, etc.) while item\_number refers to the primary key of the Item table. 

Now, does the item\_number have to be part of the primary key of the table Order or could I just use order\_number as the only primary key?",learnSQL,"If I use a primary key form another table, does that column have to be part of the primary key of that table?",1.0,https://www.reddit.com/r/learnSQL/comments/srkzju/if_i_use_a_primary_key_form_another_table_does/
74,Student-Somewhere,1644766977,srlfbz,2,1,"If I have tableA(a, b, c) where **a** in the table is unique, while **b** references to the tableB, where **b** is the only primary key.

Now, does **b** have to be part of the primary key of the tableA? Or can I only have **a** as the primary key of the tableA?",learnSQL,Need help with tables.,1.0,https://www.reddit.com/r/learnSQL/comments/srlfbz/need_help_with_tables/
75,iwoodpunchakid,1644773051,srnsya,2,1,"Hi all,

Just a quick question to confirm if this is correct.  
I have to create an ERD for a project in university (based on an insurance company)

I have 3 entities (person,client,staff)  


PersonID would be PrimaryKey in the Person table  
Is it possible for PersonID to be a FK in both the Client AND Staff tables?

Person table would hold (name,address etc)  
Client would just have (clientID &amp; PersonID)  
Staff would have (staffID &amp; PersonID)

  
Does this work?",learnSQL,Can a PK relate to 2 seperate FKs,1.0,https://www.reddit.com/r/learnSQL/comments/srnsya/can_a_pk_relate_to_2_seperate_fks/
76,[deleted],1644780528,srqq5r,0,1,[deleted],learnSQL,Quick Question on formatting/comments?,1.0,https://www.reddit.com/r/learnSQL/comments/srqq5r/quick_question_on_formattingcomments/
77,whatjobshouldIdo,1644780610,srqrfu,2,1,"I've been reading a few different examples of projects people have done, and if seen this a few times where the person comments out what seems to be a relevant part of the code. In this case it's the WHERE clause. I can't seem to find a rhyme or reason to this in many situations, I'm wondering if it's a way to say this is an optional step or something as part of the documentation?

    --Add the Location Data
    SELECT * FROM DegreeProject..ConstructionInfo 
    --WHERE PropertyAddress IS NULL 
    ORDER BY 1",learnSQL,Quick comment/documentation question,1.0,https://www.reddit.com/r/learnSQL/comments/srqrfu/quick_commentdocumentation_question/
78,NotTheAnts,1644791358,sruves,2,1,"Hi - calling all you sharp-as-tack SQL redditors. Need an assist.

I have a **job interview** for a data role in my organisation. They've sent me **some code to review**. Unfortunately I don't have a SQL server on my work laptop so can't run the code, nor can I transport the relevant databases over. Long story short my company's governance is horrendous and it's virtually impossible to transfer anything off your work laptop. So I've been analysing the code by eye.  


**The task is to analyse the code, understand what it does, identify any 'issues', then make suggestions to improve it.** 

I understand it, and I've identified many tripwires in the data and the query that they're trying to catch me out with.

But I need to make sure I'm 100% covered, and that's where **I need your expertise.**

 I'm copying and pasting below the query after transcribing it manually (really sorry I can't copy over the database, I know that makes it really annoying and hard). **I'd like your help with two things.**

**1) Where do you see errors / inefficiencies in the code, based on what you can see here?**

**2) The approach of using VIEWS looks okay to me, but is there a more efficient way to run a query like this where there are lots of tables being joined? I have a feeling they'll ask me.**  


Really do appreciate any words of wisdom here -  am gonna be up against some veterans in all likelihood. Thank you!  


(p.s. I've tagged this as MS SQL because that's what I usually use but think they use Teradata, so not sure how the syntax there differs)

 

Create VIEW \[Table1\] as 

SELECT week

, brand

, channel

, productid

, product\_type

, newbusiness as newbiz

FROM \[TOTAL\]

WHERE newbusiness &lt;&gt;0

CREATE VIEW \[W\] as

SELECT \[date\] as \[weekdate\]

,\[ProjWeek\] as weeknumber

From \[DATES\]

Where \[dayofweek\] = ‘Fri’

And \[ProjWeek\]&gt; 201900

&amp;#x200B;

CREATE VIEW \[Table2\] as

SELECT

a.week

, a.brand

, a.channel

, a.productid

, a.newbiz

, case

When p.npv = ‘savings’ and reporting like ‘%term%’ then ‘term deposits’

When p.npv = ‘Savings’ and reporting like ‘%instant%’ then ‘savings instant access’

Else p.npv end as npvproduct

, p.reporting as reporting\_product

, w.weeknumber

,b.npvbrand

, c.npvchannel

,case

When weeknumber &gt;= 202140 then ‘2021 q4’

When weeknumber &gt;= 202127 then ‘2021 q3’

When weeknumber &gt;= 202114 then ‘2021 q32’

Else ‘x’ end as timeperiod

From \[Table1\] a left join

\[P\] p

On a.productid=p.productid

And a.producttype=p.producttype left join

\[W\] w

On a.rep\_week=weekdate left join

\[C\] c 

On a.channel = [c.channel](https://c.channel)

&amp;#x200B;

Create VIEW \[Table3\] as

Select a.week

,a.brand

,a.channel

,a.productid

,a.newbiz

,a.npvproduct

,a.weekno

,a.npvbrand

,a.npvchannel

,b.metricval

,a.newbiz \* b.metricval as newbiz\_value

From \[table2\] a left join

\[npv\] b

On a.npvbrand=b.brand

And a.npvproduct = b.product

And a.npvchannel = b.channel

And a.timeperiod = b.timeperiod

&amp;#x200B;

&amp;#x200B;

Create VIEW \[table4\] as

SELECT npvbrand as brand

,reporting\_product as product

,Channl as channel

,weeknumber as weekx

,case

When weeknumber &gt; 202200 then ‘2022ActVol’

When weeknumber &gt; 202100 then ‘2021ActVol’

When weeknumber &gt; 202000 then ‘2020ActVol’

Else ‘X’ end as metricx

, newbiz as value

From \[table3\]

Where weeknumber &gt; 202000 union all

Select npvbrand as brand

,reporting\_product as product

,channel as channel

,weeknumber as weekx

, case

When weeknumber &gt; 202200 then ‘2022ActVol’

When weeknumber &gt; 202100 then ‘2021ActVol’

When weeknumber &gt; 202000 then ‘2020ActVol’

Else ‘X’ end as metric

, newbiz\_value as value

From \[table3\]

Where weeknumber &gt; 202000",learnSQL,Noob needs your help not getting mauled by SQL monsters,1.0,https://www.reddit.com/r/learnSQL/comments/sruves/noob_needs_your_help_not_getting_mauled_by_sql/
79,whatjobshouldIdo,1644826367,ss5j4i,2,1,"I'm doing practice problems using the AdventureWorks dataset and I've run into a problem I can't fully grasp.  It asks to find a total of all the OrderDates that have a time component to them, then compare it to the total amount of OrderDates. I was able to figure out how to compare the dates using CONVERT and made a column showing all the OrderDates with a time component.  My trouble came with trying to just list the count of the OrderDates I found next to the total number of OrderDates. The final answer should have been 2 columns with 1 row. 
	I think my main issue is understanding when the aggregation happened compared to when the subquery was executed.  

The final answer which works is: 

    SELECT 
    (SELECT count(*) FROM SalesOrderHeader 
	WHERE OrderDate!=CONVERT(Date, OrderDate)) AS 
    OrdersWithTime,
    count(*) TotalOrders
    FROM SalesOrderHeader

This provides just one row and the 2 columns I'm looking for.  But if I were to delete the count(*) from the outer query, like so:

    SELECT 
    (SELECT count(*) FROM SalesOrderHeader 
	WHERE OrderDate!=CONVERT(Date, OrderDate)) AS 
    OrdersWithTime
    FROM SalesOrderHeader

Then I get 1 column, but x amount of rows, with x being equal to the total count of all the OrderDates.  I was under the impression that the inner query is executed first, so why does the final answer not provide 2 columns and x amount of rows with x being equal to the total count of all the OrderDates?",learnSQL,When does the aggregation occur when used with a subquery?,1.0,https://www.reddit.com/r/learnSQL/comments/ss5j4i/when_does_the_aggregation_occur_when_used_with_a/
81,mcjmetroid,1644857677,ssf9wh,2,1,"Hi all,  


I'm wondering is there a glossary or a large pdf with examples of SQL queries/commands, basic and advanced? I'm learning SQL but find it easier to look at a large list of examples if it's possible. 

Does anyone know any source like this?

Thanks very much.",learnSQL,A glossary or list of SQL queries?,1.0,https://www.reddit.com/r/learnSQL/comments/ssf9wh/a_glossary_or_list_of_sql_queries/
82,gyeah7,1644875887,ssmljo,5,1,"I'm trying to prepare for SQL interview and found this question.. I'm having hard time understanding the solution and wondering what I can do to improve this. 

question: 

https://preview.redd.it/64akg0zyevh81.png?width=901&amp;format=png&amp;auto=webp&amp;s=65673fa970c3291bfd9b9efc035f642c0f70a430

solution: 

&amp;#x200B;

https://preview.redd.it/mfvbxonwevh81.png?width=790&amp;format=png&amp;auto=webp&amp;s=c7014a66f51fca441b40b9ec009fd2f76365ab8b",learnSQL,Finding missing number - can someone explain me like I'm 5 years old,1.0,https://www.reddit.com/r/learnSQL/comments/ssmljo/finding_missing_number_can_someone_explain_me/
83,Matlabguru,1644895671,sst6sz,2,1, ,learnSQL,Python vs SQL,1.0,https://statanalytica.com/blog/python-vs-sql/
84,Matlabguru,1644896240,sstdiu,3,1, ,learnSQL,C# vs SQL,1.0,https://www.javaassignmenthelp.com/blog/c-sharp-and-sequel-programming-languages/
85,marhaba89,1644941107,st6blo,2,1,"Hi, 

I am trying to get a count of consecutive year from the latest year and then a distinct count of total number of years each account has made a transaction. this is more or less what the table looks like 

&amp;#x200B;

table

|accountID|Years|
|:-|:-|
|1|2000|
|1|2003|
|1|2000|
|1|2004|
|1|2008|
|2|2000|
|2|2001|
|2|2002|
|2|2003|
|2|2004|

&amp;#x200B;

so my expected outcome is something like this: 

&amp;#x200B;

|accountid|consecutive\_years|total\_years|
|:-|:-|:-|
|1|2|4|
|2|4|5|

I tried something like this based on a solution i found on stackoverflow:

`SELECT accountid,` 

`COUNT(*) AS consecutive_yrs,`

`COUNT(DISTINCT(years)) AS total_yrs`

`FROM ( select accountid, years, (ROW_NUMBER()OVER (ORDER BY years)-` 

`ROW_NUMBER() OVER(PARTITION BY accountid ORDER BY years)) as grp`

`FROM table )test`

`GROUP BY accountid, GRP`

however, my consecutive years and total years end up being the same number. I don't understand windows function well enough to know why this doesn't work, but I think the count of consecutive years is correct.",learnSQL,How to count consecutive years and total years by account,1.0,https://www.reddit.com/r/learnSQL/comments/st6blo/how_to_count_consecutive_years_and_total_years_by/
86,iwoodpunchakid,1644945891,st86b2,2,1,"Hi all,

&amp;#x200B;

Please don't rip me to shreds here now if my work is trash.  


I created a relational schema for this uni project (insurance company)  


Could I ask if anyone can tell me if this is on the right track please  
I've never done an ERD or relational schema before and I'm new to SQL &amp; DB stuff  


I'm getting lost with the whole PK and FK concepts and what relates to what   


Muchos Gracias",learnSQL,Relational Schema help! p.s please go easy on me ;(,1.0,https://www.reddit.com/r/learnSQL/comments/st86b2/relational_schema_help_ps_please_go_easy_on_me/
87,Student-Somewhere,1644949016,st9e0s,3,1,"Newbie here!

&amp;#x200B;

I have two tables (that are relevant to this question):

ordered\_items (orderID, adminID, date, price )

orders(orderID, userID, itemID, numOfItems)

&amp;#x200B;

In ordered\_items, orderID is the primary key while the adminID column is a reference to the admin table.

In orders table, orderID and itemID are the primary keys. UserID / itemID are referring to user table / item table.

I now want to write a query that will list the most sold product of each month together with the year. How do I do this? The result should look something like this:

|Year|Month|ItemID|Sold|
|:-|:-|:-|:-|
|2022|January|49|898|
|2022|February|93|797|",learnSQL,Need help with writing a query for getting the most sold item of each month.,1.0,https://www.reddit.com/r/learnSQL/comments/st9e0s/need_help_with_writing_a_query_for_getting_the/
88,Noobieswede,1644951281,sta9wo,4,1,"Hello!

We recently started learning sql in school and I'm stuck on a question we got. It's a part 2 of a question so I'll start by saying the first part so things make a little bit more sense. 

**First question:**  

    What is the query that will list the world religions, and for each one, the  total number of countries where each is represented? (Hint: use GROUP  BY) .

**Answer I gave:** 

    SELECT NAME, COUNT(NAME)
    FROM religion
    GROUP BY NAME;

Second question (THIS IS WHERE I NEED HELP):

    What is the query that will list the world religions that are present in at  least 12 countries, and for each one, the total number of countries where  it is represented? 

I'm thinking that it's almost the same as the answer to question nr 1 but I gotta limit the COUNT to only results that's 12 or above but I can't figure out how to do it. I've googled around on it but I can't make sense of the information I find there because I don't understand most of it. 

Let me know if there's any other information you need for helping me I'll reply asap! Thanks.",learnSQL,Help with exluding COUNT result below X,1.0,https://www.reddit.com/r/learnSQL/comments/sta9wo/help_with_exluding_count_result_below_x/
89,DOOGLAK,1645001190,str6qi,6,1,"I want to be able to take a table that has a date column where the date could be anything at all (some might be from 2009, some might be from 2020) and split them into time period categories from the 1st to the 15th, then the 15th to the end of the month, for every month/year combination that has a date entry.

So Jan 7, 2022 would fall into ""Jan 1st to Jan 15th, 2022"" while Jan 16 would fall into ""Jan 15th to Jan 31, 2022"".

I found some[ similar questions](https://stackoverflow.com/questions/62193795/sql-function-to-split-dates-between-first-half-of-the-month1-to-15-and-second) on stack overflow but most use CTEs which I don't fully understand (especially on how to apply it to a table).

Is there an easy way to essentially utilize a function to output my rows based on their dates into respective periods?

Thanks :)",learnSQL,SQL Function to Split Months from Table,1.0,https://www.reddit.com/r/learnSQL/comments/str6qi/sql_function_to_split_months_from_table/
90,OrdinaryAstronaut362,1645014438,stupba,8,1,"Apologies for the separate post! 

I have a data set for landlords (host) and neighbourhoods.

I am stumped by this relatively straight forward question:   

*Identify if any landlords manage properties in more than 1 neighbourhood.*

Pretending this was an SQL Table, I have tried to make a query which I think is far more complicated than it needs to be and wouldn't work if tried using it:

`SELECT Host_ID, COUNT(*) from Table GROUP BY Host_ID HAVING COUNT(*) &gt;= 2 AND Neighbourhood = ‘Brooklyn’ OR ‘Manhattan’ OR ‘Queens’ OR ‘Bronx’ OR ‘Staten Island’`

If anyone has an SQL query they think might work I would be extremely appreciative!! Thank you :)

https://preview.redd.it/aa58bsn8u6i81.png?width=302&amp;format=png&amp;auto=webp&amp;s=4b82bb3ba54549afeb61127932d42c9abef6b6a4",learnSQL,Simple question with a complicated answer?,1.0,https://www.reddit.com/r/learnSQL/comments/stupba/simple_question_with_a_complicated_answer/
91,FortunOfficial,1645016890,stvi7w,5,1,"Hello,

I'm working on a personal Python/Postgres project to track my stock trades.

My table contains stock trades. My goal: I want to find out how many positions I am holding every day. I'm stuck now. I was thinking about using a window function, but don't really know whether that's the way to go.

See below for an example table:

|trade\_id|buy\_date|sell\_date|
|:-|:-|:-|
|1|2022-02-03|2022-02-04|
|2|2022-02-04|2022-02-06|
|3|2022-02-06|2022-02-07|
|4|2022-02-06|2022-02-08|

The result set should list the number of positions held at the end of day. If I sell e.g. a position on 2022-02-04, this does not count into the positions held on that day, as it's already sold before eod.

For example like so:

|day|num\_positions\_eod|
|:-|:-|
|2022-02-03|1|
|2022-02-04|1|
|2022-02-05|1|
|2022-02-06|2|
|2022-02-07|1|
|2022-02-08|0|

On 2022-02-06 for example it should be 2 because the trades (trade\_id) 3 and 4 are still active eod. Trade\_id 2 is not contained here, as it was sold during that day and does not count into the eod count. 

Could anybody let me know how to solve this? Or at least give me some hints/keywords for further research to try this by myself?

Thanks a lot in advance",learnSQL,Count rows for each day if between buy_date and sell_date,1.0,https://www.reddit.com/r/learnSQL/comments/stvi7w/count_rows_for_each_day_if_between_buy_date_and/
92,xKryniK,1645023397,stxumg,1,1,"I'm doing databases in school and a small part of an assignment has been to extract the title of the movie with the highest gross for each genre in a dataset. I've included a picture of how the database looks. 

Any help would be greatly appreciated, I've been stuck for quite some time now.",learnSQL,How can I get the title of the movies with max gross in each genre?,1.0,https://www.reddit.com/r/learnSQL/comments/stxumg/how_can_i_get_the_title_of_the_movies_with_max/
93,bluebunny4412,1645023595,stxx9k,0,1,"Title may sound confusing, but essentially I'm asking if it is possible to manipulate the column line data can start at when copying over data executed from a query into a text file.

If the executed data result is: '123 Appleberry Ln CA' and I copy that over into a .txt file, can I change the starting column number of CA to say 50 for example?",learnSQL,Change exported data text file column value,1.0,https://www.reddit.com/r/learnSQL/comments/stxx9k/change_exported_data_text_file_column_value/
94,TheDoctor66,1645025934,stytwb,0,1," So this is what I have:

select upper(concat(Firstname, ' ', Lastname) from staff as uppercasename

&amp;#x200B;

The task is to  Write a query to output the **firstname** and the **lastname** columns into one column named **uppercasename** separated by a space and converted to uppercase. 

The contac works if I do it on its own but the output column is called concat not uppercasename?

What am I doing wrong?",learnSQL,Very new to this. Struggling with a Sololearn problem. Nesting concat and upper functions?,1.0,https://www.reddit.com/r/learnSQL/comments/stytwb/very_new_to_this_struggling_with_a_sololearn/
95,pozativenrgy,1645030525,su0o1e,6,1,"I would like to know if something is possible. I am trying to make updates to a database and currently looks something like this;

Select \* from Customers where CustomerNo = 1410

Select \* from Leases where CustomerID = 1072

&amp;#x200B;

With the second query I am looking for the LeaseID. Then I need to update that lease.

&amp;#x200B;

 update Leases  
set MOdate = null

What I want to know is, can I automate this take so I can just input the CustomerNo and then sql will do the rest and fill in the next query with the gathered data.

I appreciate any help.",learnSQL,Help with SQL query,1.0,https://www.reddit.com/r/learnSQL/comments/su0o1e/help_with_sql_query/
96,kambei-,1645035822,su2lzj,3,1,"that what i got and i could only display the product name and the max order quantity without the order id. thank you :

WITH TotalProductsSold AS 

(

SELECT od.ProductID,od.OrderID, SUM(od.Quantity) TotalSold

FROM \[Order Details\] od

GROUP BY od.ProductID, od.OrderID

)

&amp;#x200B;

SELECT max(TotalProductsSold.TotalSold) AS LargestOrder ,p.ProductName 

FROM \[Order Details\] od

INNER JOIN TotalProductsSold

ON TotalProductsSold.OrderID = od.OrderID

inner join Products p

ON P.ProductID = od.ProductID

GROUP BY od.ProductID, p.ProductName 

ORDER BY LargestOrder DESC",learnSQL,Northwind DB - how can i display a list of orderid and product name with the largest order ever placed,1.0,https://www.reddit.com/r/learnSQL/comments/su2lzj/northwind_db_how_can_i_display_a_list_of_orderid/
97,jt121,1645042075,su525y,3,1,"Hey all. I have a table that has two sets of IDs, with the pair being keys in the table in a many-to-many relationship (i.e. ID1 can have ID2 123 and 234, and ID 2 can have 123 and 234, etc.). An example of this is below. For a project I need to extract it from my database in the format of the second table. Unfortunately, Id1 doesn't appear with a consistent number of Id2's in the table, so a Pivot &amp; nested coalesce won't work for this (there are instances of Id1 with &gt;100k Id2 matched to it). 

I found this solution, [https://www.mssqltips.com/sqlservertip/2914/rolling-up-multiple-rows-into-a-single-row-and-column-for-sql-server-data/](https://www.mssqltips.com/sqlservertip/2914/rolling-up-multiple-rows-into-a-single-row-and-column-for-sql-server-data/), but unfortunately it takes approximately 3-4 seconds per Id1, and at over 4,000 Id1's in the table, it is not as efficient as I need it to be (I'd be fine with 3-5 minutes overall, but over 4 hours is not feasible). 

Source database table: 

|Id1|Id2|
|:-|:-|
|1|123|
|1|234|
|1|345|
|1|567|
|2|123|
|2|222|
|3|987|
|3|98765|
|3|654|
|3|321|
|3|654|
|3|654987|

&amp;#x200B;

The query needs to output this: 

&amp;#x200B;

|Id|Id2Combined|
|:-|:-|
|1|""123"", ""234"", ""345"", ""567""|
|2|""123"", ""222""|
|3|""987"", ""98765"", ""654"", ""321"", ""654"", ""654987""|",learnSQL,Flatten &amp; Concatenate Multiple records - MS SQL,1.0,https://www.reddit.com/r/learnSQL/comments/su525y/flatten_concatenate_multiple_records_ms_sql/
98,OrdinaryAstronaut362,1645065767,suds3m,2,1,I think it is an INNER JOIN. But is there a reason why? (my guess is it's a safe option for displaying information but could be very wrong lol),learnSQL,"When no join type between multiple tables in a query's FROM clause is specified, what type of join is assumed?",1.0,https://www.reddit.com/r/learnSQL/comments/suds3m/when_no_join_type_between_multiple_tables_in_a/
99,OrdinaryAstronaut362,1645068696,suet70,3,1,"Hello again!

I'm trying to answer this question: *Find the average rating for apartments*. 

I've come up with the following SQL Query (assuming the Excel is actually an SQL Table call Airbnb):

`DELETE FROM Airbnb WHERE Number_Of_Reviews &gt; 0 AND Review_Scores_Rating IS NULL OR 0, SELECT AVG(Review_Scores_Rating) FROM Airbnb`

However I don't think this query would get me to the correct answer. 

I'm still a noob and just trying to practice with SQL. Do I need to cleanse the data first or would all I need to do just use the ""SELECT AVG"" query on the ""Review\_Scores\_Rating"" column and it would automatically **not** include any blank fields?

Or is there a better Query formula? Thanks! 

&amp;#x200B;

https://preview.redd.it/cwcigww6cbi81.png?width=296&amp;format=png&amp;auto=webp&amp;s=17b1b6742bb34a49d98fd14008a706fc3b9f17e0",learnSQL,To clean or not to clean data?,1.0,https://www.reddit.com/r/learnSQL/comments/suet70/to_clean_or_not_to_clean_data/
0,paging_mr_herman,1641074945,rttwk5,0,1,"Given two tables (tabA and tabB), I want to join all records except where one column is not unique. The trick (and where the standard joins seem to stop short) is, I need it to prefer records from tabA in the event that a column is not distinct. Is this  possible in the context of a single query?

If both tabA.colum1 and tabB.column1 contain 'somevalue', I want to use the record from tabA. Otherwise, it's a full join.

Thanks in advance!",learnSQL,"Joining two tables, with a catch",1.0,https://www.reddit.com/r/learnSQL/comments/rttwk5/joining_two_tables_with_a_catch/
1,DasTapan,1641142059,rudl3v,0,1,"


The index :

What Is MySQL?                                                                                                              13 SQL Unplugged                                                                                                                14 What’s in Store                                                                                                                  15 2.Creating and Populating a Database. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  17 Creating a MySQL Database                                                                                          17 Using the mysql Command-Line Tool                                                                          18 MySQL Data Types                                                                                                          20 Character Data                                                                                                              20 Numeric Data                                                                                                                23 Temporal Data                                                                                                              25 Table Creation                                                                                                                  27 Step 1: Design                                                                                                                27 Step 2: Refinement                                                                                                       28 Step 3: Building SQL Schema Statements                                                                 30 Populating and Modifying Tables                                                                                  33 Inserting Data                                                                                                               33Updating Data                                                                                                               38 Deleting Data                                                                                                                38 When Good Statements Go Bad                                                                                    39 Nonunique Primary Key                                                                                             39 Nonexistent Foreign Key                                                                                             39 Column Value Violations                                                                                            40 Invalid Date Conversions                                                                                            40 The Sakila Database                                                                                                         41 3.Query Primer. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  45 Query Mechanics                                                                                                             45 Query Clauses                                                                                                                   47 The select Clause                                                                                                              48 Column Aliases                                                                                                             50 Removing Duplicates                                                                                                   51 The from Clause                                                                                                               53 Tables                                                                                                                              53 Table Links                                                                                                                    56 Defining Table Aliases                                                                                                 57 The where Clause                                                                                                             58 The group by and having Clauses                                                                                  60 The order by Clause                                                                                                         61 Ascending Versus Descending Sort Order                                                               63 Sorting via Numeric Placeholders                                                                             64 Test Your Knowledge                                                                                                       65 Exercise 3-1                                                                                                                   65 Exercise 3-2                                                                                                                   65 Exercise 3-3                                                                                                                   65 Exercise 3-4                                                                                                                   65 4.Filtering. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  67 Condition Evaluation                                                                                                      67 Using Parentheses                                                                                                         68 Using the not Operator                                                                                                69 Building a Condition                                                                                                       70 Condition Types                                                                                                               71 Equality Conditions                                                                                                     71 Range Conditions                                                                                                         73 Membership Conditions                                                                                             77 Matching Conditions                                                                                                   79 Null: That Four-Letter Word                                                                                          82 Test Your Knowledge      
What Is a Join?                                                                                                                  87 Cartesian Product                                                                                                         88 Inner Joins                                                                                                                     89 The ANSI Join Syntax                                                                                                  91 Joining Three or More Tables                                                                                        93 Using Subqueries as Tables                                                                                         95 Using the Same Table Twice                                                                                       96 Self-Joins                                                                                                                            98 Test Your Knowledge                                                                                                       99 Exercise 5-1                                                                                                                   99 Exercise 5-2                                                                                                                   99 Exercise 5-3                                                                                                                 100 6.Working with Sets. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101 Set Theory Primer                                                                                                         101 Set Theory in Practice                                                                                                   104 Set Operators                                                                                                                  105 The union Operator                                                                                                   106 The intersect Operator                                                                                              108 The except Operator                                                                                                  109 Set Operation Rules                                                                                                       111 Sorting Compound Query Results                                                                          111 Set Operation Precedence                                                                                         112 Test Your Knowledge                                                                                                     114 Exercise 6-1                                                                                                                 114 Exercise 6-2                                                                                                                 114 Exercise 6-3                                                                                                                 114 7.Data Generation, Manipulation, and Conversion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  115 Working with String Data                                                                                             115 String Generation                                                                                                       116 String Manipulation                                                                                                   121 Working with Numeric Data                                                                                        129 Performing Arithmetic Functions                                                                           129 Controlling Number Precision                                                                                 131 Handling Signed Data                                                                                                133 
                      Working with Temporal Data                                                                                      134 Dealing with Time Zones                                                                                          134 Generating Temporal Data                                                                                       136 Manipulating Temporal Data                                                                                   140 Conversion Functions                                                                                                   144 Test Your Knowledge                                                                                                     145 Exercise 7-1                                                                                                                 145 Exercise 7-2                                                                                                                 145 Exercise 7-3                                                                                                                 145 8.Grouping and Aggregates. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  147 Grouping Concepts                                                                                                       147 Aggregate Functions                                                                                                      150 Implicit Versus Explicit Groups                                                                               151 Counting Distinct Values                                                                                          152 Using Expressions                                                                                                      153 How Nulls Are Handled                                                                                            153 Generating Groups                                                                                                        155 Single-Column Grouping                                                                                         155 Multicolumn Grouping                                                                                             156 Grouping via Expressions                                                                                         157 Generating Rollups                                                                                                    157 Group Filter Conditions                                                                                               159 Test Your Knowledge                                                                                                     160 Exercise 8-1                                                                                                                 160 Exercise 8-2                                                                                                                 160 Exercise 8-3                                                                                                                 160 9.Subqueries. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161 What Is a Subquery?                                                                                                      161 Subquery Types                                                                                                              163 Noncorrelated Subqueries                                                                                            163 Multiple-Row, Single-Column Subqueries                                                             164 Multicolumn Subqueries                                                                                           169 Correlated Subqueries                                                                                                   171 The exists Operator                                                                                                    173 Data Manipulation Using Correlated Subqueries                                                 174 When to Use Subqueries                                                                                               175 Subqueries as Data Sources                                                                                       176 Subqueries as Expression Generators                                                                     182 Subquery Wrap-Up                                                                                                        184 Test Your Knowledge                                          
Outer Joins                                                                                                                      187 Left Versus Right Outer Joins                                                                                   190 Three-Way Outer Joins                                                                                              191 Cross Joins                                                                                                                      192 Natural Joins                                                                                                                   198 Test Your Knowledge                                                                                                     199 Exercise 10-1                                                                                                               200 Exercise 10-2                                                                                                               200 Exercise 10-3 (Extra Credit)                                                                                     200 11.Conditional Logic. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  201 What Is Conditional Logic?                                                                                          201 The case Expression                                                                                                      202 Searched case Expressions                                                                                        202 Simple case Expressions                                                                                            204 Examples of case Expressions                                                                                      205 Result Set Transformations                                                                                       205 Checking for Existence                                                                                              206 Division-by-Zero Errors                                                                                           208 Conditional Updates                                                                                                  209 Handling Null Values                                                                                                 210 Test Your Knowledge                                                                                                     211 Exercise 11-1                                                                                                               211 Exercise 11-2                                                                                                               211 12.Transactions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  213 Multiuser Databases                                                                                                      213 Locking                                                                                                                        214 Lock Granularities                                                                                                      214 What Is a Transaction?                                                                                                  215 Starting a Transaction                                                                                                217 Ending a Transaction                                                                                                 218 Transaction Savepoints         
Indexes and Constraints. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  223 Indexes                                                                                                                            223 Index Creation                                                                                                            224 Types of Indexes                                                                                                         229 How Indexes Are Used                                                                                              231 The Downside of Indexes                                                                                         232 Constraints                                                                                                                      233 Constraint Creation                                                                                                   234 Test Your Knowledge                                                                                                     237 Exercise 13-1                                                                                                               237 Exercise 13-2                                                                                                               237 14.Views. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  239 What Are Views?                                                                                                            239 Why Use Views?                                                                                                             242 Data Security                                                                                                               242 Data Aggregation                                                                                                       243 Hiding Complexity                                                                                                    244 Joining Partitioned Data                                                                                           244 Updatable Views                                                                                                            245 Updating Simple Views                                                                                             246 Updating Complex Views                                                                                         247 Test Your Knowledge                                                                                                     249 Exercise 14-1                                                                                                               249 Exercise 14-2                                                                                                               250 15.Metadata. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  251 Data About Data                                                                                                            251 information_schema                                                                                                     252 Working with Metadata                                                                                                257 Schema Generation Scripts                                                                                       257 Deployment Verification                                                                                           260 Dynamic SQL Generation                                                                                        261 Test Your Knowledge                                                                                                     265 Exercise 15-1                                                                                                               265 Exercise 15-2                                                                                                               265 16.Analytic Functions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  267 Analytic Function Concepts                                                                                         267 Data Windows                                                                                                            268 Localized Sorting                                                                                                        269 Ranking                                                                
Ranking Functions                                                                                                     271 Generating Multiple Rankings                                                                                 274 Reporting Functions                                                                                                      277 Window Frames                                                                                                         279 Lag and Lead                                                                                                               281 Column Value Concatenation                                                                                  283 Test Your Knowledge                                                                                                     284 Exercise 16-1                                                                                                               284 Exercise 16-2                                                                                                               285 Exercise 16-3                                                                                                               285 17.Working with Large Databases. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  287 Partitioning                                                                                                                     287 Partitioning Concepts                                                                                                288 Table Partitioning                                                                                                       288 Index Partitioning                                                                                                      289 Partitioning Methods                                                                                                 289 Partitioning Benefits                                                                                                  297 Clustering                                                                                                                        297 Sharding                                                                                                                          298 Big Data                                                                                                                           299 Hadoop                                                                                                                        299 NoSQL and Document Databases                                                                           300 Cloud Computing                                                                                                      300 Conclusion                                                                                                                  301 18.SQL and Big Data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  303 Introduction to Apache Drill                                                                                       303 Querying Files Using Drill                                                                                            304 Querying MySQL Using Drill                                                                                      306 Querying MongoDB Using Drill                                                                                 309 Drill with Multiple Data Sources                                                                                 315 Future of SQL",learnSQL,I am looking for the above mentioned topics in Learning SQL book by Alan Beaulieu. There is no specific chapter. From where can i learn those topics and then practice queries??,1.0,https://www.reddit.com/r/learnSQL/comments/rudl3v/i_am_looking_for_the_above_mentioned_topics_in/
2,DasTapan,1641142292,rudo74,0,1,"I  am looking for the above mentioned topics in Learning SQL book by Alan Beaulieu. There is no specific chapter. From where can i learn those topics and then practice queries??


The index :

What Is MySQL?                                                                                                              13 SQL Unplugged                                                                                                                14 What’s in Store                                                                                                                  15 2.Creating and Populating a Database. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  17 Creating a MySQL Database                                                                                          17 Using the mysql Command-Line Tool                                                                          18 MySQL Data Types                                                                                                          20 Character Data                                                                                                              20 Numeric Data                                                                                                                23 Temporal Data                                                                                                              25 Table Creation                                                                                                                  27 Step 1: Design                                                                                                                27 Step 2: Refinement                                                                                                       28 Step 3: Building SQL Schema Statements                                                                 30 Populating and Modifying Tables                                                                                  33 Inserting Data                                                                                                               33Updating Data                                                                                                               38 Deleting Data                                                                                                                38 When Good Statements Go Bad                                                                                    39 Nonunique Primary Key                                                                                             39 Nonexistent Foreign Key                                                                                             39 Column Value Violations                                                                                            40 Invalid Date Conversions                                                                                            40 The Sakila Database                                                                                                         41 3.Query Primer. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  45 Query Mechanics                                                                                                             45 Query Clauses                                                                                                                   47 The select Clause                                                                                                              48 Column Aliases                                                                                                             50 Removing Duplicates                                                                                                   51 The from Clause                                                                                                               53 Tables                                                                                                                              53 Table Links                                                                                                                    56 Defining Table Aliases                                                                                                 57 The where Clause                                                                                                             58 The group by and having Clauses                                                                                  60 The order by Clause                                                                                                         61 Ascending Versus Descending Sort Order                                                               63 Sorting via Numeric Placeholders                                                                             64 Test Your Knowledge                                                                                                       65 Exercise 3-1                                                                                                                   65 Exercise 3-2                                                                                                                   65 Exercise 3-3                                                                                                                   65 Exercise 3-4                                                                                                                   65 4.Filtering. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  67 Condition Evaluation                                                                                                      67 Using Parentheses                                                                                                         68 Using the not Operator                                                                                                69 Building a Condition                                                                                                       70 Condition Types                                                                                                               71 Equality Conditions                                                                                                     71 Range Conditions                                                                                                         73 Membership Conditions                                                                                             77 Matching Conditions                                                                                                   79 Null: That Four-Letter Word                                                                                          82 Test Your Knowledge      
What Is a Join?                                                                                                                  87 Cartesian Product                                                                                                         88 Inner Joins                                                                                                                     89 The ANSI Join Syntax                                                                                                  91 Joining Three or More Tables                                                                                        93 Using Subqueries as Tables                                                                                         95 Using the Same Table Twice                                                                                       96 Self-Joins                                                                                                                            98 Test Your Knowledge                                                                                                       99 Exercise 5-1                                                                                                                   99 Exercise 5-2                                                                                                                   99 Exercise 5-3                                                                                                                 100 6.Working with Sets. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101 Set Theory Primer                                                                                                         101 Set Theory in Practice                                                                                                   104 Set Operators                                                                                                                  105 The union Operator                                                                                                   106 The intersect Operator                                                                                              108 The except Operator                                                                                                  109 Set Operation Rules                                                                                                       111 Sorting Compound Query Results                                                                          111 Set Operation Precedence                                                                                         112 Test Your Knowledge                                                                                                     114 Exercise 6-1                                                                                                                 114 Exercise 6-2                                                                                                                 114 Exercise 6-3                                                                                                                 114 7.Data Generation, Manipulation, and Conversion. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  115 Working with String Data                                                                                             115 String Generation                                                                                                       116 String Manipulation                                                                                                   121 Working with Numeric Data                                                                                        129 Performing Arithmetic Functions                                                                           129 Controlling Number Precision                                                                                 131 Handling Signed Data                                                                                                133 
                      Working with Temporal Data                                                                                      134 Dealing with Time Zones                                                                                          134 Generating Temporal Data                                                                                       136 Manipulating Temporal Data                                                                                   140 Conversion Functions                                                                                                   144 Test Your Knowledge                                                                                                     145 Exercise 7-1                                                                                                                 145 Exercise 7-2                                                                                                                 145 Exercise 7-3                                                                                                                 145 8.Grouping and Aggregates. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  147 Grouping Concepts                                                                                                       147 Aggregate Functions                                                                                                      150 Implicit Versus Explicit Groups                                                                               151 Counting Distinct Values                                                                                          152 Using Expressions                                                                                                      153 How Nulls Are Handled                                                                                            153 Generating Groups                                                                                                        155 Single-Column Grouping                                                                                         155 Multicolumn Grouping                                                                                             156 Grouping via Expressions                                                                                         157 Generating Rollups                                                                                                    157 Group Filter Conditions                                                                                               159 Test Your Knowledge                                                                                                     160 Exercise 8-1                                                                                                                 160 Exercise 8-2                                                                                                                 160 Exercise 8-3                                                                                                                 160 9.Subqueries. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161 What Is a Subquery?                                                                                                      161 Subquery Types                                                                                                              163 Noncorrelated Subqueries                                                                                            163 Multiple-Row, Single-Column Subqueries                                                             164 Multicolumn Subqueries                                                                                           169 Correlated Subqueries                                                                                                   171 The exists Operator                                                                                                    173 Data Manipulation Using Correlated Subqueries                                                 174 When to Use Subqueries                                                                                               175 Subqueries as Data Sources                                                                                       176 Subqueries as Expression Generators                                                                     182 Subquery Wrap-Up                                                                                                        184 Test Your Knowledge                                          
Outer Joins                                                                                                                      187 Left Versus Right Outer Joins                                                                                   190 Three-Way Outer Joins                                                                                              191 Cross Joins                                                                                                                      192 Natural Joins                                                                                                                   198 Test Your Knowledge                                                                                                     199 Exercise 10-1                                                                                                               200 Exercise 10-2                                                                                                               200 Exercise 10-3 (Extra Credit)                                                                                     200 11.Conditional Logic. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  201 What Is Conditional Logic?                                                                                          201 The case Expression                                                                                                      202 Searched case Expressions                                                                                        202 Simple case Expressions                                                                                            204 Examples of case Expressions                                                                                      205 Result Set Transformations                                                                                       205 Checking for Existence                                                                                              206 Division-by-Zero Errors                                                                                           208 Conditional Updates                                                                                                  209 Handling Null Values                                                                                                 210 Test Your Knowledge                                                                                                     211 Exercise 11-1                                                                                                               211 Exercise 11-2                                                                                                               211 12.Transactions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  213 Multiuser Databases                                                                                                      213 Locking                                                                                                                        214 Lock Granularities                                                                                                      214 What Is a Transaction?                                                                                                  215 Starting a Transaction                                                                                                217 Ending a Transaction                                                                                                 218 Transaction Savepoints         
Indexes and Constraints. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  223 Indexes                                                                                                                            223 Index Creation                                                                                                            224 Types of Indexes                                                                                                         229 How Indexes Are Used                                                                                              231 The Downside of Indexes                                                                                         232 Constraints                                                                                                                      233 Constraint Creation                                                                                                   234 Test Your Knowledge                                                                                                     237 Exercise 13-1                                                                                                               237 Exercise 13-2                                                                                                               237 14.Views. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  239 What Are Views?                                                                                                            239 Why Use Views?                                                                                                             242 Data Security                                                                                                               242 Data Aggregation                                                                                                       243 Hiding Complexity                                                                                                    244 Joining Partitioned Data                                                                                           244 Updatable Views                                                                                                            245 Updating Simple Views                                                                                             246 Updating Complex Views                                                                                         247 Test Your Knowledge                                                                                                     249 Exercise 14-1                                                                                                               249 Exercise 14-2                                                                                                               250 15.Metadata. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  251 Data About Data                                                                                                            251 information_schema                                                                                                     252 Working with Metadata                                                                                                257 Schema Generation Scripts                                                                                       257 Deployment Verification                                                                                           260 Dynamic SQL Generation                                                                                        261 Test Your Knowledge                                                                                                     265 Exercise 15-1                                                                                                               265 Exercise 15-2                                                                                                               265 16.Analytic Functions. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  267 Analytic Function Concepts                                                                                         267 Data Windows                                                                                                            268 Localized Sorting                                                                                                        269 Ranking                                                                
Ranking Functions                                                                                                     271 Generating Multiple Rankings                                                                                 274 Reporting Functions                                                                                                      277 Window Frames                                                                                                         279 Lag and Lead                                                                                                               281 Column Value Concatenation                                                                                  283 Test Your Knowledge                                                                                                     284 Exercise 16-1                                                                                                               284 Exercise 16-2                                                                                                               285 Exercise 16-3                                                                                                               285 17.Working with Large Databases. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  287 Partitioning                                                                                                                     287 Partitioning Concepts                                                                                                288 Table Partitioning                                                                                                       288 Index Partitioning                                                                                                      289 Partitioning Methods                                                                                                 289 Partitioning Benefits                                                                                                  297 Clustering                                                                                                                        297 Sharding                                                                                                                          298 Big Data                                                                                                                           299 Hadoop                                                                                                                        299 NoSQL and Document Databases                                                                           300 Cloud Computing                                                                                                      300 Conclusion                                                                                                                  301 18.SQL and Big Data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  303 Introduction to Apache Drill                                                                                       303 Querying Files Using Drill                                                                                            304 Querying MySQL Using Drill                                                                                      306 Querying MongoDB Using Drill                                                                                 309 Drill with Multiple Data Sources                                                                                 315 Future of SQL",learnSQL,"Book for learning stored procedure, trigger, user defined functions",1.0,https://www.reddit.com/r/learnSQL/comments/rudo74/book_for_learning_stored_procedure_trigger_user/
3,Mambaaaaa24,1641154259,rui6a7,0,1,"Hey yall. So I wrote a query (I will post it below) and now I want to modify it a little bit, but Im a bit lost.

&amp;#x200B;

https://preview.redd.it/zqp7neqlzb981.png?width=931&amp;format=png&amp;auto=webp&amp;s=d1f6a573cf5f40167fcb1a367ea8b9f463e0dfc2

This is my query and the table that I got from my database, thats exactly what I wanted to get. Now my question is how do I do the same but for ""speed"" instead of ""size"". 

Exactly what I want my query to do is to list all DDR4 memory speeds (thats the Speed ​​data within the ""description"" column) from the table ""products"",  arranged in increasing order. And like query that I wrote before, the table should only have numbers of course, like 1,2,3 etc. 

Any and all tips are appreciated. Thanks in advance guys.",learnSQL,Need help modifying an SQLite query,1.0,https://www.reddit.com/r/learnSQL/comments/rui6a7/need_help_modifying_an_sqlite_query/
4,Samurai_2077,1641161430,rukuig,0,1,"I have two rows if i update the first one i want to show the time at first updated in second row, what query should i use? I have already put second row default as current_time().",learnSQL,How to I update current_time() row when i update another row.,1.0,https://www.reddit.com/r/learnSQL/comments/rukuig/how_to_i_update_current_time_row_when_i_update/
5,AvatarKittie,1641164942,rum6z6,0,1,"I can work with loops pretty easily in SSIS but understanding looping in SQL server has been a challenge. Im trying to find  and also understand a solution to what I am trying to accomplish. I have a table (IMP\_TRANSTBL) which contains tables names . I need to clear out the data for the tables in IMP\_TRANSTB that meet my criteria. 

Here is the query that produces the record set 

select 'truncate table ' + tblname from \[dbo\].\[IMP\_TRANSTBL\] where incr = 'F' and codsts = 'A')

example of records

truncate table forecast  
truncate table sales  
truncate table aop  
truncate table cogs

Can anyone help me understand how to loop this?",learnSQL,Exec Sql String While Loop,1.0,https://www.reddit.com/r/learnSQL/comments/rum6z6/exec_sql_string_while_loop/
6,paging_mr_herman,1641314065,rvyhzb,0,1,"The following works for what I want to do, given that the @accounts var is not null. If it is, the EXECUTE errors out. What's the proper way to wrap this in a conditional to avoid the error? I've tried all manner of permutations but here I am.

    SELECT GROUP_CONCAT(QUOTE(user),'@',QUOTE(host)) INTO @accounts from mysql.user where User='someuser'
    EXECUTE IMMEDIATE CONCAT('DROP USER ', @accounts);

Thanks in advance!",learnSQL,Conditional EXECUTE IMMEDIATE,1.0,https://www.reddit.com/r/learnSQL/comments/rvyhzb/conditional_execute_immediate/
7,Bondanind,1641327283,rw3ke9,0,1,"Assuming i have a large table with companies dates and values :

Date, Company, Value

Where dates are repetitive (all days of the year for each company for years) ,using SQLite and Python.

I am struggling to find when a certain company(or any) *fall 5% in value* within a window of say 5 days(row=day).

Basically i want to iterate on a window of 5days, take first and last value of each period and measure delta and check if larger than x%.

I know I can use  ROWS BETWEEN 2 PRECEDING AND 2 FOLLOWING or something similar.

How can i do this ?

Thanks.",learnSQL,Find a % drop in a table?,1.0,https://www.reddit.com/r/learnSQL/comments/rw3ke9/find_a_drop_in_a_table/
8,No-Physics4200,1641380821,rwkg6w,0,1,"I've been learning sql for 2 weeks now and I'm enjoying my experience , but I've noticed I'm just solving question where instructions are given to me and even though I can solve them I still don't know how to apply this to real world problems. For example I've learned Joins and can do all exercises , but I'm still struggling to understand how would I know which one to use in a real problem? So are there any sites where questions are designed like this or better if there's a site which teaches us using real world problems.",learnSQL,Practice using real world examples?,1.0,https://www.reddit.com/r/learnSQL/comments/rwkg6w/practice_using_real_world_examples/
9,Batzn,1641394096,rwol3k,0,1,"Hi everyone,

I am currently trying to create an expense report using the number of employees assigned to a shift. Those shifts have different working areas which I want to group by. So far my quiery looks like this:


    SELECT 
    ""Working Areas"".""name"" AS ""Working Area"",
    SUM(((DATE_PART ('day', ""public"".""events"".""ends_at"" - 
    ""public"".""events"".""starts_at"") * 24 + 
               DATE_PART('hour', ""public"".""events"".""ends_at"" - 
    ""public"".""events"".""starts_at"")) * 60 +
               DATE_PART('minute', ""public"".""events"".""ends_at"" - 
    ""public"".""events"".""starts_at""))  * 
    ""public"".""events"".""number_of_employees"" / 60) AS ""Planned Hours""
    FROM ""public"".""events""
    LEFT JOIN ""public"".""working_areas"" ""Working Areas"" ON 
    ""public"".""events"".""working_area_id"" = ""Working Areas"".""id"" 
    LEFT JOIN ""public"".""companies"" ""Companies"" ON 
    ""public"".""events"".""company_id"" = ""Companies"".""id""
    WHERE (""Companies"".""account_id"" = {{ID}}
               AND ""public"".""events"".""starts_at"" &gt;= {{Start}} 
               AND ""public"".""events"".""starts_at"" &lt; {{End}})
    GROUP BY ""Working Area""


Each working area has a different cost associated with it that is currently not in the database. I would like to define the cost per working area in the quiery.
I am only just learning sql and am unsure on what I would need to google to get the answer so here I am :) 
Any help would be appreciated",learnSQL,Multiplying the group by result with a variable,1.0,https://www.reddit.com/r/learnSQL/comments/rwol3k/multiplying_the_group_by_result_with_a_variable/
10,BotR13,1641401321,rwr81c,0,1,"I created a database that interconnects a card games tournament results over the year, the players in each tournament, the decks they were using, and the card prices, but I am not really sure how to show it off on github.

I saved all my queries I ever wrote and named them and posted that, but is there any better way to show it off? I wanted to use this as a portfolio project.",learnSQL,"I created a DB in MSSQL Server, how do I show it off on github?",1.0,https://www.reddit.com/r/learnSQL/comments/rwr81c/i_created_a_db_in_mssql_server_how_do_i_show_it/
11,Stag7777,1641406051,rwt0su,0,1,"Still very new to this.  Trying to do the following steps

1. I'm saving excel sheets I receive via email to that specific sellers folder (Raw Folder)
2. Using SSIS to grab the excel sheet and convert to CSV (I'm told this is the way to go for uploading information to DB).  Seems I need to do a ""Script Task"" to complete this task unless there is a better way?  and saving the CSV file to a separate sellers folder (CSV Folder)
3. Then SSIS to upload this CSV file to my my corresponding sellers table in the DB (which has been created)
4. I need to be able to verify the seller has not changed their format (column names or move data around) Not sure if this would require temp tables or not?
5. Once uploaded to DB and confirm no new changes to that seller, I need to be able to create an excel sheet in a standard form (so all sellers excel sheet are now the same).  I assume once they are in corresponding seller tables I can map those tables to the ""standard"" table?",learnSQL,Get Excel files to my SQL database,1.0,https://www.reddit.com/r/learnSQL/comments/rwt0su/get_excel_files_to_my_sql_database/
12,sarcastagirly,1641413970,rwvz3n,0,1,"Should this work 
GRANT EXECUTE ON dbo.sysjobs.category_id=cidtest TO Domain\ADSG_Tester",learnSQL,Trying to assign AD Security group access to all jobs with same category_id,1.0,https://www.reddit.com/r/learnSQL/comments/rwvz3n/trying_to_assign_ad_security_group_access_to_all/
13,trustfulvoice94,1641419263,rwxnyx,0,1,"Hi All,

I'm looking to create what I think is a relatively simple query. Here's what it should do: https://imgur.com/a/B6aKUow

---

Longer explanation:

I want the max value of a column, based on the first two columns as id's and the sum of another column based on the same two id's.

I was thinking something simple as: ""select id_1, id_2, max(value_1), sum(value_2) from table group by 1,2"", however this gives me all id_1 and id_2 combinations, rather than just the max three rows shown in image (i.e. I get all 6 rows instead of 3 rows).

---

Any advice or help would be much appreciated!",learnSQL,Query Advice - Max and Sum of Columns,1.0,https://www.reddit.com/r/learnSQL/comments/rwxnyx/query_advice_max_and_sum_of_columns/
14,thumbsdrivesmecrazy,1641464247,rxb9bq,0,1,"In December 2021, [r/bipp](https://new.reddit.com/r/bipp/) BI platform introduced new interface feature that makes SQL visual, letting users query or explore data through a point-and-click interface and create and share charts in minutes, all without any programming: [Visual SQL data explorer - bipp Analytics](https://bipp.io/features/visual-sql-data-explorer/)

[bipp Visual SQL Data Explorer](https://preview.redd.it/urdzecn0m1a81.png?width=1151&amp;format=png&amp;auto=webp&amp;s=7befd4abfc605adb9c4321fe4fda5440669887cb)

Visual SQL Data Explorer helps small teams quickly get insights from their data and lets all users create charts without any coding, so you shouldn’t have to learn a programming language to get insights from your data. The no-code visual UI is intuitive for business users and presents a flexible option for programmers.",learnSQL,bipp Visual SQL Data Explorer Gets You from Database to Charts Easily,1.0,https://www.reddit.com/r/learnSQL/comments/rxb9bq/bipp_visual_sql_data_explorer_gets_you_from/
15,Lala020823,1641498906,rxncvi,0,1,"Hi everyone,
I have an MPH (masters public health) and I’m looking into getting certified in SQL. Will this help me land a job as a product manager in healthcare or a health data analyst ? 
Thank You",learnSQL,Career shift,1.0,https://www.reddit.com/r/learnSQL/comments/rxncvi/career_shift/
16,mergisi,1641507220,rxqhmv,0,1,"AI2sql is a tool for building custom SQL queries without needing the coding skills. It's a great tool for beginners and advanced users alike. AI2sql enables you to create SQL queries with text commands

Offering a simple interface, the tool aims to create SQL queries for non-engineering users. You can try it here: [http://ai2sql.softr.app](http://ai2sql.softr.app)",learnSQL,Have you ever tried building a complex SQL query and found it difficult?,1.0,https://www.reddit.com/r/learnSQL/comments/rxqhmv/have_you_ever_tried_building_a_complex_sql_query/
17,Waste_Dish_1647,1641515509,rxtm0n,0,1,"I'm not a dba, but I am responsible for a couple of MSSQL servers.  One of the supported applications requires the current version of the application to be on 2014 or higher.  I made a list of all of the databases and contacted the application vendors.  The common denominator is 2017, with the exception of one of our applications. That particular vendor does not support 2017 because they object to Microsoft licensing strategy for 2017. They support 2012-2016 &amp; 2019.

I was looking at the database compatibility mode setting.  When a vendor specifies that they support Microsoft SQL server standard 2012-2016, does that mean they will not support a database running on 2019 or can I run the db on 2019 and set compatibility mode need to be set to 2016?",learnSQL,MSSQL versions,1.0,https://www.reddit.com/r/learnSQL/comments/rxtm0n/mssql_versions/
18,Dylanb993,1641522187,rxw16u,0,1,"Has anyone done or heard of this course?

https://bigmachine.io/products/a-curious-moon/

I’m relatively new to SQL, and finished Jose Portilla’s udemy course and thought this looked super fun and far more interesting. 

If y’all haven’t, then I figure I’d share. Haven’t purchased yet, but definitely planning on it soon.",learnSQL,A curious moon SQL course,1.0,https://www.reddit.com/r/learnSQL/comments/rxw16u/a_curious_moon_sql_course/
19,turn_right_from_here,1641558967,ry6gfl,0,1, ,learnSQL,Here's how you can upload tons of data to a PostgreSQL database in a snap,1.0,https://dev.to/glowinginthedark/heres-how-you-can-upload-tons-of-data-to-a-postgresql-database-in-a-snap-3n94
20,JohnnyForeskin,1641600651,rym5yw,0,1,"Admittedly, I'm not a programmer or an aspiring programmer, but I'm trying to temporarily save a website we hired developers to create that seems to be extremely poorly made.

I believe we're the victim of an SQL injection attack. The person keeps changing our header text, leaving his ""tag"" on our site, uploading his hacking logo, and making minor/annoying edits.

I'm 99.9% sure this is coming from a search bar that was not properly coded.

Typing in ' returns:
Warning: mysqli_num_rows() expects parameter 1 to be mysqli_result, bool given in /home/&lt;domanin&gt;.ca/public_html/metrics.php on line 118

I'm assuming this is there entry point and not somewhere else as i've tested our login pages.

If someone could point me in the right direction as to how to fix it that would be wonderful. I can post the PHP for the search bar as well if necessary, but I just want to avoid outing our domain as insecure until I cant try and fix this.

Any help would be much appreciated!",learnSQL,"My website keeps getting attacked, believe its via SQL injection",1.0,https://www.reddit.com/r/learnSQL/comments/rym5yw/my_website_keeps_getting_attacked_believe_its_via/
21,CallMeIshmael__,1641655302,rz267k,0,1," At [5:33](https://www.youtube.com/watch?v=RSlqWnP-Dy8&amp;t=333s) when he says that ""when you create a new table, sometimes, when you open up, you're gonna see this..."" What does ""this"" refer to?",learnSQL,(SQL Question) What is he talking about that could happen when you open up a new table that you have created?,1.0,https://www.reddit.com/r/learnSQL/comments/rz267k/sql_question_what_is_he_talking_about_that_could/
22,crowpup783,1641676109,rza28z,0,1, ,learnSQL,Wanting to learn SWL but struggling to even install it.,1.0,/r/SQL/comments/rz83wg/wanting_to_learn_swl_but_struggling_to_even/
23,ohPunky,1641680310,rzbnex,0,1,"Using Postgres.

Apologies if this post is inappropriate or against the rules. Where is the best place for me to get rapid answers to my questions? I'm in the Data Analytics course with General Assembly and even this fast-pace class isn't fast enough for me.

Also, hire me!",learnSQL,How do I pull the first ten rows of each table in a database?,1.0,https://www.reddit.com/r/learnSQL/comments/rzbnex/how_do_i_pull_the_first_ten_rows_of_each_table_in/
24,Mambaaaaa24,1641731240,rzqn48,0,1,"This is a picture of one of the tables that I am working with:

https://preview.redd.it/n023y9jomna81.png?width=611&amp;format=png&amp;auto=webp&amp;s=26e9fa4dae3f1e9fbbbb7c90065ef701268989fe

From the table ""PRODUCTS"" I want to list speed (eg ""3400""), capacity(eg.""128GB"") and the total number of DDR4 memory products of the specified speed and capacity, and only for the speed and capacity  for which the number of products is the largest. 

I know how to list size and speed individually( I posted about it last week), but I have no idea how to combine them, and everything else that I need in this query.

Thanks in advance everyone.",learnSQL,Need help writing a query,1.0,https://www.reddit.com/r/learnSQL/comments/rzqn48/need_help_writing_a_query/
25,chirau,1641743261,rzug7g,0,1,"So I created a database for addresses, however, I made a mistake of concatenating the unit number with the road address which happened to include the unit number as well. So now, the unit number is repeated in some rows.  


`+----------------------------+---------------+`

`| physical_address           | city          |`

`+----------------------------+---------------+`

`| 1 AGATE COURT              | New York City |`

`| 1 ANGELAS PLACE, 1A, 1A    | New York City |`

`| 1 ARLINGTON COURT          | New York City |`

`| 1 AVENUE J                 | New York City |`

`| 1 BAY CLUB DRIVE, 10M, 10M | New York City |`

`| 1 BAY CLUB DRIVE, 11B, 11B | New York City |`

`| 1 BAY CLUB DRIVE, 11V, 11V | New York City |`

`| 1 BAY CLUB DRIVE, 12H, 12H | New York City |`

`| 1 BAY CLUB DRIVE, 14S, 14S | New York City |`

`| 1 BAY CLUB DRIVE, 15B, 15B | New York City |`

`+----------------------------+---------------+`

  
So if you look in the table above in the last 6 records, in the \`physical\_address\` column, the unit numbers like \`10M\`, \`11B\`, \`11V\` etc are repeated. Is there any query I can run to remove everything after from the last \`,\` in each row? The type is \`varchar\` for the column if that helps. Also, keeping in mind that some addresses don't have a \`,\` in them.",learnSQL,I need help with an SQL query to remove everything after a comma in string values in a column,1.0,https://www.reddit.com/r/learnSQL/comments/rzug7g/i_need_help_with_an_sql_query_to_remove/
26,traveling_wilburys,1641749631,rzwr1w,0,1,"I'm trying to run this code below, with a ""with as statement"" but the line

""when p\_id in parents then ""Inner"" "" does not work. Is there a way to make this work?

&amp;#x200B;

    with parents as (select distinct p_id from Tree where p_id is not null)
    
    select id, 
        case 
            when p_id is null then ""Root""
            when p_id in parents then ""Inner""
            else ""Leaf""
    end as type
    from Tree
    

here's an example of what an input and output would look like:  


&amp;#x200B;

https://preview.redd.it/duxoa0py6pa81.png?width=200&amp;format=png&amp;auto=webp&amp;s=89e009a24c26eb1196e69b9f344efc43eca60cd8

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/6q7gsn317pa81.png?width=475&amp;format=png&amp;auto=webp&amp;s=da20db1065d5d99915ffe6e8d48f05880edf6648",learnSQL,"sql using a list derived from ""with as"" in a case statement",1.0,https://www.reddit.com/r/learnSQL/comments/rzwr1w/sql_using_a_list_derived_from_with_as_in_a_case/
27,maybenexttime82,1641819276,s0jeix,0,1,"Problem: Find the average session duration per user. 

Table (web\_log) schema:

\--user\_id int

\-- timestamp datetime

\-- action varchar ('page\_load', 'page\_exit', 'scroll\_up', 'scroll\_down')

Assumption: One session per day.

I find it difficult to understand when I GROUP BY a.user\_id, a.timestamp that relative on one particular date (a.timestamp) I will get ALL timestamp\_page\_exit's that are based on that single day. 

Here is the query: 

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/pduxs1usxua81.png?width=936&amp;format=png&amp;auto=webp&amp;s=6a34d3fc6548fa3215385aa7d2c5927aae5dfd00",learnSQL,What guarantees me here that dates wont mix up when I group them?,1.0,https://www.reddit.com/r/learnSQL/comments/s0jeix/what_guarantees_me_here_that_dates_wont_mix_up/
28,EntitledCorgi,1641846505,s0tnaj,0,1,"How can I filter on ""num"" without having to contain all this in a ""with"" statement? Just saying ""WHERE num = 1"" in the main WHERE clause does not work.

&amp;#x200B;

WITH iykyk AS (

SELECT DISTINCT num = row\_number() OVER(PARTITION BY a.process, a.step ORDER BY CAST(b.seq||'.'||b.sub\_seq AS DECIMAL(10,2)) ASC), f.technology, a.process, CAST(a.seq||'.'||a.sub\_seq AS DECIMAL(10,2)) AS ""seq"", a.step, a.substep, CAST(b.seq||'.'||b.sub\_seq AS DECIMAL(10,2)) AS ""next seq"", b.step AS ""next step"", b.substep AS ""next substep"", (b.seq - a.seq) AS ""seq diff""

FROM fe\_trvstep a, fe\_trvstep b, fe\_trvhead f

WHERE

CAST(b.seq||'.'||b.sub\_seq AS DECIMAL(10,2)) &gt;= CAST(a.seq||'.'||a.sub\_seq AS DECIMAL(10,2))

AND b.process = a.process

AND f.process = a.process

AND f.technology LIKE '%'

AND a.process LIKE '%'

AND a.step LIKE '%'

AND a.substep LIKE '%'

AND b.substep LIKE '%')

SELECT \*

FROM iykyk

WHERE num = 1

ORDER BY seq ASC",learnSQL,Issues with row_number function,1.0,https://www.reddit.com/r/learnSQL/comments/s0tnaj/issues_with_row_number_function/
29,J_FizzX,1641857347,s0xyha,0,1,"For a while I have had the idea of setting up a personal local database for information regarding music that I enjoy and through that learn more about SQL and database management (Currently I only know basic query syntax). The idea would be to have tables such as the following:
----
table: tracks
----
id
track name/title
artist/composer
rating
genre
tags (containing a list of tags such as ""flow"", ""happy"", etc.)
----

I would want to be able to store and access this database locally. The main problem I am trying to solve for myself here is that I currently have names of about 3000 tracks of music I very much care about. They're all in a single markdown file and the issue I'm seeing is that I am mostly aware of music that I recently found and I often pass over older tracks (I still very much love them, I just can't remember what I associate with this many different tracks). With the database I want to be able to have a good backend that I can later throw all kinds of queries and/or visualizations on if I so desire (say, find all tracks I gave the tag ""happy"", the genre classical music and a rating of more than 4).

So in the end my objective is to both get a functional tool for me to use out of this (the database) and to improve my SQL skills in the process. The advantages of my current markdown file are that it is an open-source format, super-portable (i.e. I can simply copy paste it to a different system with a different OS and I know I will always be able to access it) and incredibly simple to handle and interact with (well, it's a markdown file..). With the database I would ideally want to conserve all these advantages, while giving me the power to quickly do queries as I mentioned above.

My questions to you would be:
- Do you have recommendations on which realization of the database I should choose? SQL Server, MySQL, etc. (keeping in mind I would want to ideally keep the functional advantages I mentioned above)
- Do you have any good educational material to suggest (videos, blog posts, etc.) to help me realize this idea?
- Do you have any other recommendations on the realization of this database? (for example the tag system - I'm not sure if a field with a list of tags is the best way to go about this)

Criticisms are welcome too of course! (Even if you think this whole idea is bs)
Thank you so much for your help! :)",learnSQL,Personal music database to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/s0xyha/personal_music_database_to_learn_sql/
30,town1d10t,1641928484,s1kxjq,0,1,"I'm having a problem getting my views to return anything. There are no errors, and when I comment out the create view I get 8 rows returned. The only difference between the two are the create view. I even tested create or replace view, still with 0 rows returned. 

A search on stackoverflow did not provide relevant solutions to this problem. The initial test of return rows without the create view passes. Using MySQL.

    Create or replace view customer_addresses AS
        SELECT c.customer_id, c.email_address, c.last_name, c.first_name
        FROM customers c 

I will need to join another table, but I can't even get this to show. Any suggestions?",learnSQL,Create view returns no rows but select without view does,1.0,https://www.reddit.com/r/learnSQL/comments/s1kxjq/create_view_returns_no_rows_but_select_without/
31,traveling_wilburys,1641928763,s1l1b4,0,1," I'm trying to understand CurrentandNext3 for rows 10,11 and 12 here.  For ex, wouldn't CurrentandNext3 for row12 be 20000 here instead of 140000?  

&amp;#x200B;

https://preview.redd.it/brr0hznnz3b81.png?width=1132&amp;format=png&amp;auto=webp&amp;s=ed27392e120179ab783203457321bf836c2d24a4",learnSQL,Trying to understand ROW following,1.0,https://www.reddit.com/r/learnSQL/comments/s1l1b4/trying_to_understand_row_following/
32,traveling_wilburys,1641930635,s1lsgg,0,1,"I'm trying to understand LAST\_VALUE from the official Microsoft Documentation here:   


  
This is the query they have used:  


https://preview.redd.it/w8oj342o44b81.png?width=1029&amp;format=png&amp;auto=webp&amp;s=44c4d09eb140d5d02dd9d9bccae025f71d738235

This is the output:   


&amp;#x200B;

https://preview.redd.it/awets3dq44b81.png?width=1076&amp;format=png&amp;auto=webp&amp;s=f3a108fbdd117215bd303116fc2f4bd5d3cc1087

For the Document Control Department, since we are only partitioning by Department and not (Department, Rate) here, shouldln't the last value of Hiredate be 2003-02-05 for all 5 records for that department?   


    this output suggests it is really doing: 
LAST_VALUE(HireDate) OVER (PARTITION BY Department,Rate ORDER BY Rate) AS LastValue 

rather than 

    LAST_VALUE(HireDate) OVER (PARTITION BY Department ORDER BY Rate) AS LastValue 

am I thinking about this wrong?",learnSQL,LAST_VALUE partition confusion,1.0,https://www.reddit.com/r/learnSQL/comments/s1lsgg/last_value_partition_confusion/
33,AEngland08,1641944269,s1r53i,0,1,"Hi, Brand new to SQL and looking for a online class for beginners. Something that will look good on a resume once certifications are achieved. Thanks in advance!",learnSQL,Recommendations?,1.0,https://www.reddit.com/r/learnSQL/comments/s1r53i/recommendations/
34,_VishwajeetPanwar_,1642066486,s2vlzr,0,1,"So I was following mosh's MySQL tutorial 

https://youtu.be/7S_tz1z_5bA

and I am getting Error Code: 1452. Cannot add or update a child row: a foreign key constraint fails

what causing this error",learnSQL,Facing Error code 1452,1.0,https://www.reddit.com/r/learnSQL/comments/s2vlzr/facing_error_code_1452/
35,043270,1642081280,s2zp50,0,1,"Hi all,

I need some help putting a query together.

Let's say I have some data that looks like this:

&amp;#x200B;

|ID|VALUE|
|:-|:-|
|A|1075|
|B|1075|
|B|66253|
|B|99|
|C|4657333|
|C|99|
|D|66253|
|D|4657333|
|D|99|
|D|600|

&amp;#x200B;

I want to assign each ID a unique value, such that I end up with

&amp;#x200B;

|ID|VALUE|
|:-|:-|
|A|1075|
|B|66253|
|C|99|
|D|4657333|

&amp;#x200B;

Any help would be appreciated.",learnSQL,Help with query logic,1.0,https://www.reddit.com/r/learnSQL/comments/s2zp50/help_with_query_logic/
36,Mambaaaaa24,1642082807,s30822,0,1,"Hey everyone. So this is the query that I wrote:

select employees.last\_name || ' ' || employees.first\_name as name, sum(order\_items.quantity \* order\_items.unit\_price) as traffic from employees inner join orders on employee\_id=salesman\_id inner join order\_items on orders.order\_id=order\_items.order\_id group by name order by traffic desc, name; 

And this is what I get with my query.

https://preview.redd.it/7jjjrslkngb81.png?width=1661&amp;format=png&amp;auto=webp&amp;s=ea8583c4af37ed44d1af510f3496662c7054e19a

Now I want to change the query a bit. I want to change the query so that it lists the year and the total traffic for all of the orders in that year, but I want it to be limited to orders from customers with a credit limit of more than 1000. And I want the data to be sorted by ascending year.  Oh and I can get the year of the order from ""ORDER\_DATE"".  

Help would be much appreicated. Thanks in advance everyone.",learnSQL,Need help changing my query a little bit.,1.0,https://www.reddit.com/r/learnSQL/comments/s30822/need_help_changing_my_query_a_little_bit/
37,certainly_imperfect,1642088894,s32fb2,0,1, ,learnSQL,What am I doing wrong here? [CONSTRAINTS],1.0,https://i.redd.it/him2rs3t7hb81.png
38,deanstreetlab,1642151934,s3o67m,0,1,"I am reading a SQL book and would like to seek clarification if I understand normalization right. Only up to **2NF** suffices for now. Please take a look and comment. 

For 0-NF, say I have a *Programmer* table like this   
**0-NF**  
| id | name  | age | language  |  
|----|-------|-----|-----------|
| 3  | sally | 15  | python    |   
| 1  | tony  | 10  | java, c#  |   
| 2  | tiger | 21  | php, java |   

*language* column is non-atomic, so break those values down
**1-NF**  
#### Programmer
| id | name  | age | language  |  
|----|-------|-----|-----------|
| 1  | tony | 10  | java  | 
| 1  | tony | 10  | c#  | 
| 3  | sally | 15  | python  |   
| 2  | tiger  | 21  | java  |   
| 2  | tiger | 21  | php |

Now, 2NF calls for *all non-key columns should only be functionally dependent on the primary key (entirely if composite)*. The primary key now is {id, language} but non-key columns *name* and *age* only depend on *id*, so they fail the dependency requirement and are kicked off.   
Is below correct?

**2-NF**
#### Employee
| employee_id | name  | age | 
|----|-------|-----|
| 1  | tony | 10  |  
| 2  | tiger | 21  |  
| 3  | sally | 15  |  
#### Programmer
| id | language  | 
|----|-------|
| 1  | java |  
| 1  | c# |   
| 3  | python |   
| 2  | java |   
| 2  | php |",learnSQL,Question on normalizing to 2NF,1.0,https://www.reddit.com/r/learnSQL/comments/s3o67m/question_on_normalizing_to_2nf/
39,AdviceNotAskedFor,1642170488,s3tmve,0,1,"Hi all.

I'm trying to figure out how long certain cars sit on a dealership lot between test drives.  
Basically I've got a list of cars, and a list of out for a test drive back in from test drive.  

Ideally I want to find the time in between each drive, but want it to only factor that day.  So In the example below, I want car 1 on 01/02 to have a value of 0.

&amp;#x200B;

Any thoughts?

  


&amp;#x200B;

|Car|Time out|Time In|
|:-|:-|:-|
|Car 1|01/01/2022  8:15:00|01/01/22 8:42:00|
|Car 2|01/01/2022 09:02:00|01/01/22 9:10:00|
|Car 1|01/01/2022 9:44:00|01/01/22 9:59:00|
|Etc |etc|etc|
|Car 1|01/02/2022 9:00:00|01/02/2022 9:32|",learnSQL,"Difference in time values based on another field, limited to a day.",1.0,https://www.reddit.com/r/learnSQL/comments/s3tmve/difference_in_time_values_based_on_another_field/
40,Enasakoma,1642181158,s3xq0y,0,1,"I am an SQL noob but eager to learn. The exercise is this. Get 2015 economic data for countries that do not have:

gov\_form of 'Constitutional Monarchy' or

'Republic' in their gov\_form.

We have two tables, countries and economies. The correct query in the problem solution is the following



SELECT code, inflation\_rate, unemployment\_rate

FROM economies

WHERE year = 2015 AND code NOT IN

(SELECT code

FROM countries

WHERE (gov\_form = 'Constitutional Monarchy' OR gov\_form LIKE '%Republic%'))



However, I wanted to test my understanding (which is clearly lacking) and tried the following query. It works but provides different results. Could someone please help me understand why these queries are different, and what this following query then shows instead? Thank you!



SELECT countries.code, inflation\_rate, unemployment\_rate

FROM economies

JOIN countries ON economies.code = countries.code

WHERE year = 2015 AND countries.gov\_form  &lt;&gt; 'Constitutional Monarchy' and countries.gov\_form not like  '%Republic%'",learnSQL,Why are those queries different?,1.0,https://www.reddit.com/r/learnSQL/comments/s3xq0y/why_are_those_queries_different/
41,CitizenOfHopeNGlory,1642185652,s3ze8l,0,1,"Hi everybody,

I am not sure if this is the best subreddit for this question, but I have to start somewhere. I am a total beginner and do not know the terminology, so please bear with me.

Part of my job involves keeping track of different dates and statuses for various assignments.

For example: I have to keep track of job X, that needs to be done by a certain date. Job X involves several steps, and I have to keep track of all the steps so that I know that all of them have been completed. Job X isn't finished until all of it is done.

Today I do this by going into one of the apps we use and then export the latest data as an Excel file (the only export option). I then go to work on the Excel file. My ""system"" today is that I assign different colors to different cells in the Excel file, so that I know where I am with the different steps (not done, doing, done). My system isn't exactly sophisticated, but it works fine until I have to do a new export from the app.

The challenge is that the data in our app is updated quite often throughout the quarter. Given that new rows and dates could be added at any time, without me noticing, I usually wait until the end of the quarter before I start to work on the stuff. That way I know that most of the data has been added and I can safely do the export and start to work on my spreadsheet.

If I could easily keep track of my statuses, and easily import new data without messing up my existing spreadsheet AND with me noticing any new data, I could get to work a lot earlier in the quarter and therefore live a lot less stressful life.

How can I improve my workflow?

The exported Excel file has a lot of useless information. All I think I need is this:

Job name - due date - step 1 (=DONE/DOING/NOT DONE) - step 2 (=DONE/DOING/NOT DONE) - step 3 (=DONE/DOING/NOT DONE)

(the steps aren't part of the export, but I have to do them before the due date so I would like them in my database)

The program we use has an API, so in the ideal world I could get daily exports from the program into a database that would let me add statuses for all the different steps. Can this be done by using a SQL database in combination with the API so that I don't have to use Excel anymore? And perhaps more importantly: Is this something a beginner like me could make?",learnSQL,Using database to improve workflow?,1.0,https://www.reddit.com/r/learnSQL/comments/s3ze8l/using_database_to_improve_workflow/
42,OfJahaerys,1642192724,s420ck,0,1, ,learnSQL,Can someone explain this error I'm getting? it is driving me crazy and I can't figure out what is wrong.,1.0,https://i.redd.it/e5crk03hspb81.png
43,Mysterious_Text4151,1642196422,s43e4v,0,1,"Hey all,

I have created a table called Staff, with the intention of using specialisation into two tables; Nurse and Doctor. 

The idea is to have Staff\_ID, Staff\_FName and Staff\_LName show for both Nurse and Doctor but only have Nurse\_In\_Charge be specific only to the Nurse table. 

However, when creating the tables it creates extra empty rows in the Staff table and doesn't show the Staff\_FName or Staff\_LName in the Nurse table. 

Here is the Staff CREATE table code: 

    create table staff (
       staff_id SERIAL PRIMARY KEY,
       staff_fname VARCHAR(50),
       staff_lname VARCHAR(50)
    );
    insert into Staff (Staff_FName, Staff_LName) values ('John', 'Kurtis');
    insert into Staff (Staff_FName, Staff_LName) values ('Vinny', 'Bover');
    insert into Staff (Staff_FName, Staff_LName) values ('Cass', 'Restall');

Nurse CREATE table code:

    create table nurse (
        Nurse_In_Charge BOOLEAN
    ) INHERITS (staff);
    insert into nurse (Nurse_In_Charge) values (false);
    insert into nurse (Nurse_In_Charge) values (false);
    insert into nurse (Nurse_In_Charge) values (false);

I would like it so that when we SELECT \* FROM Nurse, we can see Staff\_ID, Staff\_FName, Staff\_LName and the boolean for whether the nurse is in charge. 

Also my objective is so that when we SELECT \* FROM STAFF,  it stops creating extra empty rows.",learnSQL,Inheritance Help (PSQL),1.0,https://www.reddit.com/r/learnSQL/comments/s43e4v/inheritance_help_psql/
44,badboyzpwns,1642224360,s4cug3,0,1,"I think I am googling the wrong things. I am trying to learn how to set up version control for my database.

I cannot find any proper youtube, udemy, guide on it. The [doc](https://docs.liquibase.com/workflows/database-setup-tutorials/postgresql.html) has not been helpful.

&amp;#x200B;

What I have done so far:

1. Downloaded liquibase, giving me:

&amp;#x200B;

https://preview.redd.it/hrij2jfkesb81.png?width=757&amp;format=png&amp;auto=webp&amp;s=abf984b7b801ea8d175861c7e327c385fcd45b5e

2. Set up my schema and tables in PostgreSQL via pgAdmin

3. how do I integrate liquibase  now?

&amp;#x200B;

The most relevant site I found are:

[https://www.youtube.com/watch?v=HdXcf9E8ZVI&amp;t=38s](https://www.youtube.com/watch?v=HdXcf9E8ZVI&amp;t=38s)

[https://shanke.medium.com/use-liquibase-to-manage-your-db-schema-c7a4011e748a](https://shanke.medium.com/use-liquibase-to-manage-your-db-schema-c7a4011e748a)",learnSQL,Where to learn how to use Liquibase with PostgreSQL for database migrations?,1.0,https://www.reddit.com/r/learnSQL/comments/s4cug3/where_to_learn_how_to_use_liquibase_with/
45,CaptPiquant,1642256441,s4lb37,0,1,"If you do a select * statement with a where clause… and if the stats on the table is not up to date.. how does SQL know it has returned every single row meeting your criteria? 

Is it that if the field in your where clause is on an index it will do an index scan? And if not it will do a table scan?

If so.. what’s the point of statistics?",learnSQL,Dumb question: How does SQL know it’s returned all the rows?,1.0,https://www.reddit.com/r/learnSQL/comments/s4lb37/dumb_question_how_does_sql_know_its_returned_all/
46,dude22312,1642271136,s4qn5h,0,1,"`SELECT CASE WHEN year = 'FR' THEN 'FR'`

`ELSE 'Not FR' END AS year_group,`

`COUNT(year) AS ""count""`

  `FROM benn.college_football_players`

 `GROUP BY CASE WHEN year = 'FR' THEN 'FR'`

`ELSE 'Not FR' END`",learnSQL,Please explain what this query does.,1.0,https://www.reddit.com/r/learnSQL/comments/s4qn5h/please_explain_what_this_query_does/
47,Egg_Oriented,1642272101,s4r0gg,0,1,"I'm preparing for a data science interview, and I was told that I must know how to use SQL.

So for a data science use, how much SQL is required? And is 5 days (3 - 4 hours/day) enough to be ready?",learnSQL,Can I learn SQL in 5 days?,1.0,https://www.reddit.com/r/learnSQL/comments/s4r0gg/can_i_learn_sql_in_5_days/
48,Iamnotcreative112123,1642283368,s4v89o,0,1,"I've previously used sqlite and now I'm learning mysql. I know they're similar, however I'm a bit confused about cursors. In particular I saw many examples on stackoverflow that look like this:

    conn = mysql.connect()
    cursor =conn.cursor()
    
    cursor.execute(""SELECT * from User"")
    data = cursor.fetchone()

It seems to me like cursor.execute alters the cursor. What happens if I do cursor.execute(""select * from Orders"").fetchone() afterward? Does it reset the cursor and then perform the select statement?",learnSQL,How do consecutive select queries using the same cursor work?,1.0,https://www.reddit.com/r/learnSQL/comments/s4v89o/how_do_consecutive_select_queries_using_the_same/
49,elution91,1642285625,s4w3j7,0,1,"Hello,

I have installed Antares which is an open-source database IDE because the interface is very clean which is nice for me as a beginner. I created 3 table with ddl but when I try querying any one of the tables members, sales or menu I get the error ""relation does not exist"". Any ideas what the issue can be, as I can go into each table and see the data?

&amp;#x200B;

[https://imgur.com/hUBXYX](https://imgur.com/hUBXYXg)

&amp;#x200B;

Thank you",learnSQL,relation does not exist error in postgres,1.0,https://www.reddit.com/r/learnSQL/comments/s4w3j7/relation_does_not_exist_error_in_postgres/
50,Iamnotcreative112123,1642300331,s517va,0,1,"I previously used sqlite, and I'm currently trying to switch over to mysql. The host is pythonanywhere. This is the console command:

&gt; mysql -u username -h host 'username$database' &lt; mysql.sql

This is the beginning of my mysql.sql file:

    DROP TABLE IF EXISTS user;
    DROP TABLE IF EXISTS a;
    DROP TABLE IF EXISTS b;
    DROP TABLE IF EXISTS c;


    CREATE TABLE user (
      user_id INT PRIMARY KEY AUTO_INCREMENT,
      first_name TEXT,
      last_name TEXT,
      email TEXT UNIQUE,
      date_of_registration TEXT
    );
    
    CREATE TABLE b (

When I run the command, it gives this error:",learnSQL,"New to MySQL, can't determine the syntax error.",1.0,https://www.reddit.com/r/learnSQL/comments/s517va/new_to_mysql_cant_determine_the_syntax_error/
51,S_sriram,1642332398,s59yfy,0,1, ,learnSQL,Hello members..I'm new to SQL and like to learn Can you suggest me a good tutorial video and book for sql ..and how many days to learn the SQL ? And it's my portion👇,1.0,https://i.redd.it/2s7oph5wb1c81.jpg
52,Iamnotcreative112123,1642373364,s5nvno,0,1,"I'm developing a website and currently hosting it on pythonanywhere, which is also the host for the mysql database. I recently switched from sqlite to mysql. The problem I'm having is that sql statements aren't working correctly from my python code.

The website is coded in flask, and I'm using flask-mysql to handle the database connection. 

If I run 'select * from questions' in the mysql terminal, it returns a table with 83 rows, saying ""83 rows in set"". If I run:

            conn = mysql.connect()
            cursor = conn.cursor()
            temp1 = cursor.execute(
                'SELECT * FROM questions'
            )

It returns 83 as an integer. If I try 

            conn = mysql.connect()
            cursor = conn.cursor()
            temp1 = cursor.execute(
                'SELECT * FROM questions'
            ).fetchall()

It gives the following error:

&gt; AttributeError: 'int' object has no attribute 'fetchall'

If I run 'select count(*) from questions' in the terminal, it returns a row containing 83. If I run it in python, it returns 1. 

Anyone know what could potentially be causing this? I'm sure it's connected to the right database. 

It almost seems like it's returning the number of rows rather than the row itself.",learnSQL,SQL queries working in terminal but not in my python code.,1.0,https://www.reddit.com/r/learnSQL/comments/s5nvno/sql_queries_working_in_terminal_but_not_in_my/
53,buklaw,1642430864,s65nnn,0,1,"Hello,

&amp;#x200B;

I currently do not have access to my faster PC, and I am a bit limited with what I currently have.

&amp;#x200B;

I am wondering what some of you may think my best option is to currently practice SQL, I don't mind if it's just for syntax, but preferably if I can move files/my own data on there as well.

&amp;#x200B;

Thanks!",learnSQL,Practice SQL online (IDE)?,1.0,https://www.reddit.com/r/learnSQL/comments/s65nnn/practice_sql_online_ide/
54,Raspberrry314,1642444370,s6b3dz,0,1,"I have a list of names in excel (about 4000) and my manager has asked me to assign the correct identity numbers to them. I have access to credit data which contains the names and ID numbers but I have no idea how to input a list of about 4000 names and get the corresponding ID numbers.

&amp;#x200B;

I tried using -  

    WHERE OBJECT_DEFINITION(OBJECT_ID) LIKE '%xxx%'

at the end of my search however there were names that contained ' in them and it wouldn't run.

&amp;#x200B;

I mostly use python so I'm very lost when it comes to SQL",learnSQL,Finding corresponding values in a table,1.0,https://www.reddit.com/r/learnSQL/comments/s6b3dz/finding_corresponding_values_in_a_table/
55,apexysatish,1642493202,s6sdnt,0,1, ,learnSQL,NVL() Function in Oracle,1.0,https://www.javainhand.com/2021/12/nvl-function-in-oracle.html
56,No_Computer_8876,1642510877,s6x0yq,0,1,"I have a query that removes the blanks and not created. I tried adding another AND not equal to, but doesn't seem to be removing the next one. Any thoughts on what I'm doing wrong? Here is my query:

    select LTRIM(RTRIM(lastuseddrive))
    from hsi.physicalplatter
    where lastuseddrive &lt;&gt; ''
    AND lastuseddrive &lt;&gt; 'NOT CREATED'
    AND lastuseddrive &lt;&gt; 'd%'
           

I have multiple rows that could be 'd:', 'D:', or 'D:\'. I didn't see a d:\ in there. Any thoughts on why the d: paths won't get removed? Thanks!",learnSQL,Question on multiple not equal commands,1.0,https://www.reddit.com/r/learnSQL/comments/s6x0yq/question_on_multiple_not_equal_commands/
57,Magic_Juand,1642543814,s79ds1,0,1,"Hi Everyone,

This might be an easy one but am stumped at work.  Two tables that look like the below:

&amp;#x200B;

https://preview.redd.it/6f9ylpl2sic81.png?width=988&amp;format=png&amp;auto=webp&amp;s=400434eed2cfe86561d6d1d8f6e77bca0618bb75

https://preview.redd.it/mg23u7j3sic81.png?width=371&amp;format=png&amp;auto=webp&amp;s=36be6bec4f4f2f0abdbf17c4c48011956102afff

|I want to fill in the Company Detail Table with addresses from the Address Table.  What is the most efficient way to accomplish this?|
|:-|",learnSQL,MultiJoin Help,1.0,https://www.reddit.com/r/learnSQL/comments/s79ds1/multijoin_help/
58,Happy_healthy_888,1642566478,s7hgpu,0,1,"Hello, I am looking for sources where I can learn Data Science/Analytics and tools like Python, R, and SQL particularly. I have completed my master's in business analytics in US . I got a data analyst job and I did not use all the skills I learned in my Master's, so I forgot most of it.  
I quit my job last year and moved to India to care for my ailing father who passed away. I was devastated and couldn't do much in the next 6 months.  
Hello, I am looking for sources where I can learn Data Science and tools like Python, R, and SQL particularly. I have completed my master's in business analytics in 2019. I got a data analyst job and I did not use all the skills I learned in my Master's, so I forgot most of it. I am in India and I am getting interviews but I am having a hard time cracking the tech rounds. They are very tough compared to the US for someone with 1 year of experience.  
Can anyone recommend learning tools/courses (free/paid) where I can learn DS again?  
Any help is appreciated.",learnSQL,Good Resources for learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/s7hgpu/good_resources_for_learning_sql/
59,certainly_imperfect,1642578434,s7kvhu,0,1, ,learnSQL,What am I doing wrong here? [JOINS],1.0,https://i.redd.it/kjuy1n9fnlc81.png
60,certainly_imperfect,1642578828,s7kyxn,0,1, ,learnSQL,What am I doing wrong here? [JOIN],1.0,https://www.reddit.com/gallery/s7kyxn
61,HammofGlob,1642612825,s7v6qd,0,1,"I am taking a SQL course on Datacamp and we recently learned about the HAVING clause. The lesson said that aggregate functions like AVG can't be used with WHERE, so if you want to filter based on the results of an aggregate function, you must use the HAVING clause instead. 

But this morning I was doing some practice problems that asked if aggregate functions could be used with WHERE and I said this was FALSE, and I was told that this was not the correct answer. So which is it?",learnSQL,Can aggregate functions be used with the WHERE clause?,1.0,https://www.reddit.com/r/learnSQL/comments/s7v6qd/can_aggregate_functions_be_used_with_the_where/
62,pavpatel,1642634868,s83v96,0,1,"I'm learning SQL right now. Trying to prepare for an interview for a business intelligence analyst position. I want to nail the interview, how can I make my SQL knowledge expert level? What sites/resources can I use to learn advanced material? I know I can practice on hackerrank, what else is there?",learnSQL,What resources can I use to become an expert in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/s83v96/what_resources_can_i_use_to_become_an_expert_in/
63,MediocreEverything,1642689779,s8kiyq,0,1,"How would you go about creating a query for grabbing all the customer formation with equipment model ""ABC123""?",learnSQL,Query Question from ERD Diagram,1.0,https://www.reddit.com/r/learnSQL/comments/s8kiyq/query_question_from_erd_diagram/
64,VirtualKangaroo177,1642717998,s8urjr,0,1,"Hello, this is driving me mad. I've got two tables with four columns, part_name, part_number, location, type. 

Table 2 has the only location I'm interested in

What I want to do is select *from table one where type = x but rather than table one locations give me table two locations. 

I don't know if I should be nesting a select statement or building a temp table. 

In excel it's just an index /match formula, 
what do you guys think? Any help will be much appreciated 😊",learnSQL,Populate temp table with a select statement driving me batty,1.0,https://www.reddit.com/r/learnSQL/comments/s8urjr/populate_temp_table_with_a_select_statement/
65,apexysatish,1642782219,s9eich,0,1, ,learnSQL,NVL2() Function in Oracle,1.0,https://www.javainhand.com/2022/01/nvl2-function-in-oracle.html
66,AerieFar2695,1642805322,s9n9n7,0,1, ,learnSQL,What I am doing wrong here?,1.0,https://i.redd.it/ivix76o1e4d81.png
67,AerieFar2695,1642805463,s9nbn8,0,1,"&amp;#x200B;

[We're trying to learn MySQL using command line interface, I dont know why table order would result an error I tries renaming the table and column and it worked](https://preview.redd.it/2iikwj7ae4d81.png?width=1581&amp;format=png&amp;auto=webp&amp;s=0901d1533e1015e7c4bbb1c3fac88c570e182d98)",learnSQL,What I am doing wrong here?,1.0,https://www.reddit.com/r/learnSQL/comments/s9nbn8/what_i_am_doing_wrong_here/
68,badboyzpwns,1642833212,s9w6qo,0,1,"Hi,

I am following the documentation here:

[https://docs.liquibase.com/workflows/database-setup-tutorials/postgresql.html#PostgreS](https://docs.liquibase.com/workflows/database-setup-tutorials/postgresql.html#PostgreS)

I am a bit confused how to set up liquibase with pgadmin . I am getting an error that I cannot connect liquibase to my **postgres** database in pgadmin.:

&amp;#x200B;

Here is my [liquidbase.properties](https://liquidbase.properties) file :

    changeLogFile=example-changelog.sql
    
    #### Enter the Target database 'url' information  ####
    liquibase.command.url=jdbc:h2:tcp://localhost:9090/mem:dev
    
    # Enter the username for your Target database.
    liquibase.command.username: dbuser
    
    # Enter the password for your Target database.
    liquibase.command.password: letmein
    
    #### Enter the Source Database 'referenceUrl' information ####
    ## The source database is the baseline or reference against which your target database is compared for diff/diffchangelog commands.
    
    # Enter URL for the source database
    url: jdbc:postgresql://postgres:5432/postgres?user=postgres&amp;password=OP'S_PASSWORD

My changeset.sql

&amp;#x200B;

    --changeset dev:1
    create table test1(
        id int primary key,
        name varchar(255)
    );

When I run

    liquibase

The **Error** I get, what did I do wrong here?. It is definitely from the **URL** in the [liquibase.properties](https://liquibase.properties) file

    Unexpected error running Liquibase: Connection could not be created to 
    
    jdbc:h2:tcp://localhost:9090/mem:dev with driver org.h2.Driver.  Connection is 
    
    broken: ""java.net.SocketTimeoutException: connect timed out: localhost:9090"" 
    
    [90067-206]",learnSQL,Newbie - Trouble setting up liquibase with pgAdmin,1.0,https://www.reddit.com/r/learnSQL/comments/s9w6qo/newbie_trouble_setting_up_liquibase_with_pgadmin/
69,cmstrump,1642837286,s9x8n8,0,1,"The following tutorial shows how to build an application on Heroku that uses MySQL for free using ClearDB (a free MySQL add-on on Heroku). It also explores more on Heroku MySQL database add-ons: [Creating a MySQL application on Heroku - Guide](https://autoidle.com/blog/how-to-create-a-my-sql-application-on-heroku)

It shows with how much ease you can deploy a MySQL database application on Heroku and that is perhaps why it’s a run to PaaS for many developers looking to get up and running within the shortest time possible.",learnSQL,Creating a MySQL application on Heroku - Guide,1.0,https://www.reddit.com/r/learnSQL/comments/s9x8n8/creating_a_mysql_application_on_heroku_guide/
70,Competitive_Walk5529,1642913928,saln5t,0,1,"Hi (need some SQL help here),

I have 3 columns separated by year, month, and day &amp; am trying to link all of them up into a string into a new column, and then convert that string into a date format YYYY-MM-DD (e.g. 2015-12-10).

Not quite sure how to do it - i've tried a couple of methods but it didn't really work...

**Sample Data:**

\------ Year -------- ------- Month---------- ----------Day ---------- || ----------- YYYY-MM-DD  (DocDate) -----------

2015                          12                                 10                                            20151210

2016                          10                                 01                                            20161001

*Code that I used that yielded the result above:*

SELECT 

	\`dd\`

	\`mm\`,

\`yyyy\`,

	CONCAT(\`yyyy\`,mm\`,\`dd\`) as DocDate

FROM \`table\`;

&amp;#x200B;

I also tried merging STR\_TO\_DATE and CONCAT together but the column DocDate showed ""NULL"":

SELECT STR\_TO\_DATE(CONCAT(\`yyyy\`,\`mm\`,\`dd\`),'%Y-%M-%D') as DocDate

FROM \`table;

Any tips/ tricks that might do the job? Thanks all in advance!!!!!",learnSQL,YYYY / MM/ DD --&gt; YYYY-MM-DD by using STR_TO_DATE / CONCAT / LPAD,1.0,https://www.reddit.com/r/learnSQL/comments/saln5t/yyyy_mm_dd_yyyymmdd_by_using_str_to_date_concat/
71,BenJaminMutuku,1642920437,sangay,0,1, ,learnSQL,SQL for Beginners 2022 — Learn SQL Step by Step,1.0,https://www.udemy.com/course/sql-for-beginners-2022-learn-sql-step-by-step
72,loevenhaupt,1642946833,sauejx,0,1," It's a connected problem of MS SQL Server and VS 2019 that's why I'm asking on both, thanks for any help.

Hello, it's probably very easy, but I'm doing a report form in VS19 connected to my database. I have 15 workers with 4 possible salaries. I want to do a pie chart that will divide with amount of people earning same value of ""salary"". I've created Dataset with ID\_employee and salary. Now I somehow need to count how many ID's has the same salary. I'll be grateful for any help",learnSQL,Pie chart that shows how many employees has the same salary,1.0,https://www.reddit.com/r/learnSQL/comments/sauejx/pie_chart_that_shows_how_many_employees_has_the/
73,apexysatish,1642955354,saxe87,0,1, ,learnSQL,DECODE() Function in Oracle,1.0,https://www.javainhand.com/2022/01/decode-function-in-oracle.html
74,buklaw,1642980822,sb7ae4,0,1,"Not sure if this is the right place to ask.. but I found the teaching style of [https://sqlbolt.com/](https://sqlbolt.com/) extremely helpful. 

&amp;#x200B;

I was wondering if something like this exists for Python?",learnSQL,Websites like SQLBolt but for Python?,1.0,https://www.reddit.com/r/learnSQL/comments/sb7ae4/websites_like_sqlbolt_but_for_python/
75,Breeze327,1642987922,sb9s26,0,1,"I am planning on taking Jose Portillas Zero to Hero SQL course on udemy but the software used is Postgre SQL where as I use and will be practicing with MS SQL Server.

Is the syntax and usage similiar enough where I will be able to learn and use the skills in Server?

If not, any courses you would recommend?",learnSQL,Postgre SQL Skills Transferable to MS SQL Server?,1.0,https://www.reddit.com/r/learnSQL/comments/sb9s26/postgre_sql_skills_transferable_to_ms_sql_server/
76,BotR13,1643038835,sboynh,0,1,"I am trying to test some stuff with HackerRank where their tables all use reserved words. Every time I try to do a join I get 

 **Error**: Msg 4104, Level 16, State 1, Server WIN-ILO9GLLB9J0, Line 5 The multi-part identifier ""DEPARTMENT.NAME"" could not be bound. 

I tried something similar in my own SQL server and nothing was wrong. I even tried putting the reserved words in \[\]s on hacker rank and it did nothing and I have no honest idea what is wrong.

&amp;#x200B;

https://preview.redd.it/9unho8uhond81.png?width=1186&amp;format=png&amp;auto=webp&amp;s=387320b52a671f6d01ba7aad434e272f32827150",learnSQL,HackerRank MSSQL Question,1.0,https://www.reddit.com/r/learnSQL/comments/sboynh/hackerrank_mssql_question/
77,Relevant-Watch-9276,1643056171,sbvnw2,0,1," 

Evening,

I have an interview coming up for a promotion (currently an engineer, moving to an office based role) and I've been asked to research, and complete 8 queries on SQL.

I've done the first 6, which were fairly straightforward - considering I'd never even heard of SQL until 2 days ago - but the last two are just confusing me. Was wondering if someone knowledgeable on the subject could shed some light, it would be much appreciated. All I've been asked to is determine what these queries will return. 

I'll post the questions below. Thanks.

 7) SELECT \*

FROM mydb.students S

INNER JOIN otherdb.country C

ON S.country\_id = C.country\_id;

&amp;#x200B;

8) SELECT S.student\_id ID

,S.student\_first\_name FIRST\_NAME

,S.student\_surname SURNAME

,S.country AS “Country of residence”

FROM mydb.students S

LEFT OUTER JOIN otherdb.country C

ON S.country\_id = C.country\_id;",learnSQL,Help with SQL queries,1.0,https://www.reddit.com/r/learnSQL/comments/sbvnw2/help_with_sql_queries/
79,No_Lawfulness_6252,1643100756,sc9ads,0,1,"For anyone interested in a good resource for SQL as well as the broader theme of organisational information, knowledge sharing and databases, the following book by Richard T. Watson from University of Georgia has recently been released in an easily digestible Bookdown format:

[https://www.richardtwatson.com/open/Reader/\_book/data-management-databases-and-organizations.html](https://www.richardtwatson.com/open/Reader/_book/data-management-databases-and-organizations.html)

If interested, please re-share in relevant communities.",learnSQL,Open Edition: Data Management: Databases and Organizations,1.0,https://www.reddit.com/r/learnSQL/comments/sc9ads/open_edition_data_management_databases_and/
80,TechYuts,1643106360,scam46,0,1,"is it possible to export something like this on dbeaver on datagrip? Where I could see basic info of all the columns inside a table on table format?

https://preview.redd.it/krkbyil89td81.png?width=1428&amp;format=png&amp;auto=webp&amp;s=f2e8aa039fd772357ce82df57424ffc5f8fa2a9e",learnSQL,listing column info on datagrip,1.0,https://www.reddit.com/r/learnSQL/comments/scam46/listing_column_info_on_datagrip/
81,Kocis777,1643121524,scf7df,0,1,"I'm beginning to learn SQL and I'm trying to learn how to use the ON DELETE CASCADE for a simple blog website. Here's the code I used:

    CREATE TABLE user (
        id TEXT PRIMARY KEY NOT NULL,
        email TEXT NOT NULL,
        email_verified BOOLEAN NOT NULL,
        name TEXT NOT NULL
    );
    
    CREATE TABLE post (
        id TEXT PRIMARY KEY,
        contents TEXT NOT NULL,
        created_by TEXT NOT NULL,
        created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
        updated_by TEXT NOT NULL,
        updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (created_by)
            REFERENCES user (id)
            ON DELETE CASCADE,
        FOREIGN KEY (updated_by)
            REFERENCES user (id)
            ON DELETE CASCADE
    );

I've consulted many different websites on this matter, but I cannot get it to work at all. I've even used a code runner to test my code with this:

    INSERT INTO user (id, email, email_verified, name)
        VALUES (""123er"", ""aaa@example.com"", 0, ""aaa"");
        
    INSERT INTO user (id, email, email_verified, name)
        VALUES (""124ew"", ""awa@example.com"", 0, ""awa"");
    
    SELECT ""BEFORE:"";    
    SELECT * FROM user;
    SELECT CHAR(13);
    
    INSERT INTO post (id, contents, created_by, updated_by)
        VALUES (""111w"", ""hi"", ""123er"", ""123er"");
        
    INSERT INTO post (id, contents, created_by, updated_by)
        VALUES (""112w"", ""hiw"", ""124ew"", ""123ew"");
        
    SELECT * FROM post;
    SELECT CHAR(13);
    
    DELETE FROM user WHERE id = ""123er"";
    
    SELECT ""AFTER:"";
    SELECT * FROM user;
    SELECT CHAR(13);
    SELECT * FROM post;

but it doesn't work? What am I doing wrong?",learnSQL,Need help with ON DELETE CASCADE,1.0,https://www.reddit.com/r/learnSQL/comments/scf7df/need_help_with_on_delete_cascade/
82,Keith__2510,1643171512,scxcc1,0,1, ,learnSQL,"Hi , this is my cousins homework . His teacher has not taught him anything and I'm not from a coding background. I would appreciate any help that I could get. Thanks !",1.0,https://i.redd.it/9qi89ll0nyd81.jpg
83,Guilty-Wrongdoer-390,1643208327,sd7ko1,0,1,I am thinking of doing a career change and my friend suggested SQL. Is this something I can study for a year without any computer experience?,learnSQL,Complete newbie starting SQL,1.0,https://www.reddit.com/r/learnSQL/comments/sd7ko1/complete_newbie_starting_sql/
84,DJPEPO,1643210629,sd8fnj,0,1,"Hey everybody.  


I'm working in corporate company and we are using Oracle as our database. We are using tool called ""Oracle SQL Developer"". My position recently started to be much more database oriented and to be honest, my knowledge is almost nonexistent. I know very basic SQL (SELECT, FROM, WHERE, etc.) but when I work with the tool, I'm afraid to do anything so I don't mess something up. There are things called views, indexes, procedures, functions, datamarts and many more which I'm not familiar with. I want to get better big picture knowledge, I want to be more confident when dealing with database so I know what can I touch without breaking it. So here I am wondering what is the best way to learn it, kind of ""ultimate"" course, from complete beginner to intermediate. I don't want to go fast over some SQL commands which I won't be able to use. Do you have any idea about some courses or something ?   


Thank you very much in advance!",learnSQL,Best way to learn Oracle SQL,1.0,https://www.reddit.com/r/learnSQL/comments/sd8fnj/best_way_to_learn_oracle_sql/
85,coder1221,1643215565,sdabmk,0,1,"I'm trying to update a Table in Oracle DB. When i was using this query it was working fine

UPDATE ITEM_TABLE SET ITEM_ID = ?, DESCRIPTION = ? WHERE M_ID = ?

now i added new column 'INFO' to the table of VARCHAR2(20). and i'm getting the following error

bad SQL grammar [UPDATE ITEM_TABLE SET ITEM_ID = ?, INFO = ?, DESCRIPTION = ? WHERE M_ID = ?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00904: ""INFO"": invalid identifier how to fix this?",learnSQL,"java.sql.SQLSyntaxErrorException: ORA-00904: ""INFO"": invalid identifier",1.0,https://www.reddit.com/r/learnSQL/comments/sdabmk/javasqlsqlsyntaxerrorexception_ora00904_info/
86,Remount_Kings_Troop_,1643220133,sdc4ms,0,1,"**Note**: I have schema read/write access in a test environment, but I only have read privileges in the non-test environment where this SQL would actually be executed (Oracle v.19.11)

**Table and Data Inserts**

    CREATE TABLE table_name (
    start_date date NOT NULL,
    start_date_text VARCHAR2(50) NOT NULL,
    record_id number NOT NULL,
    record_month date NOT NULL);

    INSERT INTO table_name (start_date, start_date_text, record_id, record_month) VALUES (TO_DATE('01/01/2022', 'MM/DD/YYYY'), 'First record text', 50, TO_DATE('02/01/2022', 'MM/DD/YYYY'));

    INSERT INTO table_name (start_date, start_date_text, record_id, record_month) VALUES (TO_DATE('01/24/2022', 'MM/DD/YYYY'), 'Load data record text', 52, TO_DATE('01/01/2022', 'MM/DD/YYYY'));

    INSERT INTO table_name (start_date, start_date_text, record_id, record_month) VALUES (TO_DATE('01/24/2022', 'MM/DD/YYYY'), 'True Up record text', 53, TO_DATE('10/01/2021', 'MM/DD/YYYY'));

I'm trying to create a unionized select statement that uses a date defined as a variable, and then each SELECT statement uses the variable to select a month in the WHERE statement

This is the 'dumb' version of the unionized SELECT statements, and has the desired month values that will produce the desired output:

    select START_DATE,START_DATE_TEXT,RECORD_MONTH from bidbox.table_name where record_month = '01-FEB-22 12.00.00 AM' and RECORD_ID = 50 union

    select START_DATE,START_DATE_TEXT,RECORD_MONTH from bidbox.table_name where record_month = '01-JAN-22 12.00.00 AM' and RECORD_ID = 52 union

    select START_DATE,START_DATE_TEXT,RECORD_MONTH from bidbox.table_name where record_month = '01-OCT-21 12.00.00 AM' and RECORD_ID = 53;

**DESIRED OUTPUT**

START_DATE|START_DATE_TEXT|RECORD_MONTH        
:--|:--|:--
01-JAN-22 12.00.00 AM|First record text|01-FEB-22 12.00.00 AM
24-JAN-22 12.00.00 AM|Load data record text|01-JAN-22 12.00.00 AM
24-JAN-22 12.00.00 AM|True Up record text|01-OCT-21 12.00.00 AM


**And here is my attempt at using a variable:**

    define date1 = '01-feb-22 12.00.00 am';

    select START_DATE,START_DATE_TEXT,RECORD_MONTH from bidbox.table_name where record_month = '&amp;date1' and RECORD_ID = 50 union

    select START_DATE,START_DATE_TEXT,RECORD_MONTH from bidbox.table_name where record_month = '&amp;date1-1 month' and RECORD_ID = 52 union

    select START_DATE,START_DATE_TEXT,RECORD_MONTH from bidbox.table_name where record_month = '&amp;date1-4 month' and RECORD_ID = 53;

The first SELECT variable-using statement works, but I can't figure out the format of the second and third SELECTs, where I'm trying to remove one month and four months (respectively).

Thanks.",learnSQL,Help needed with variable date manipulation in Oracle SQL Developer SELECT statement,1.0,https://www.reddit.com/r/learnSQL/comments/sdc4ms/help_needed_with_variable_date_manipulation_in/
87,Awhite-guy,1643228008,sdf7jj,0,1,"I'm trying this but access keeps telling that there's something missing but idk what it is. Any idea?

&amp;#x200B;

SELECT TripName, Type, MaxGrpSize

from TripGuides

inner join Trip on TripGuides.TripID = Trip.TripID

inner join Guide on TripGuides.GuideID = Guide.GuideID

where FirstName = 'Susan' and LastName = 'Kiley';",learnSQL,Question on Sql in Access,1.0,https://www.reddit.com/r/learnSQL/comments/sdf7jj/question_on_sql_in_access/
88,Aggravating_Bat_2878,1643237223,sdiqpq,0,1,"Hi

I'm learning SQL and I need to understand concepts around Packages, Objects and Attributes in MSSQL. Is it correct to assume that packages are the same as databases with objects being the same as tables and attributes the same as columns inside those tables? If so, what is an Attribute ID? As far as I know there is nothing such as an ID for columns inside a table",learnSQL,"MSSQL Packages, Objects and Attributes",1.0,https://www.reddit.com/r/learnSQL/comments/sdiqpq/mssql_packages_objects_and_attributes/
89,murphjr73,1643269685,sdt3qs,0,1,"I have a table of values similar to the following:

batch_id | value
---|---
1|383
1|481
1|3
2|77
2|91
3|187
3|41
4|91
4|77

How would I build a search to find any 'set' that exactly matches a given set.  Eg. if i want to find a set that matches the two values in batch_id=2?",learnSQL,How would i find matching sets within a table,1.0,https://www.reddit.com/r/learnSQL/comments/sdt3qs/how_would_i_find_matching_sets_within_a_table/
90,Chocolate1948,1643291975,sdz0iy,0,1,"I have a dataset showing the change in prices of certain commodities over the years. However, some commodities do not have price data for continuous years (like it skipped some years) for example, it only has data from 2008, 2011, 2012, 2013,...

How do I select those commodities which have 'skipped' years?

I'm using PostgreSQL by the way.

Thank you in advance! :D",learnSQL,How to select data with 'skipped' year values,1.0,https://www.reddit.com/r/learnSQL/comments/sdz0iy/how_to_select_data_with_skipped_year_values/
91,readermom123,1643295394,se08zn,0,1,"I'm starting to learn SQL and enjoying it - I have some basic knowledge of writing scripts for analysis but I'm not an expert in software. I've been working through SQL puzzles in a few different places and every time I see a solution it makes sense to me. However, I haven't run across a quick basic guide to how a query should be structured. For example, I don't fully understand why you would use COUNT after your SELECT command in a simple query, but you would use GROUP BY under the WHERE in a command like this. 

SELECT COUNT(CustomerID), Country  
FROM Customers  
GROUP BY Country; 

I guess it's because the COUNT command is being done to Customer ID and nothing else, but my initial feeling of where to try to insert things like CASE, AS, etc also tends to be incorrect sometimes. I feel like I've missed some sort of syntax guide or something. Anyone have a resource they can recommend?",learnSQL,Good quick intro into the very basics of SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/se08zn/good_quick_intro_into_the_very_basics_of_sql/
92,enzo-g,1643311276,se6afm,0,1,"Hello,  


I'm trying to write a where clause with an In statement as follows:  
Select \* from database  
where distinct(part) in (?,?,?,?)  


Unfortunately, this isn't valid syntax, but I couldn't find any information on how to write a where clause where I receive at most one row per parameter. Appreciate any help.",learnSQL,Snowflake Distinct In,1.0,https://www.reddit.com/r/learnSQL/comments/se6afm/snowflake_distinct_in/
93,Accomplished-Can-246,1643324932,sebiik,0,1,I'm having an issue uploading a CSV file into bigquery.  I get an almost immediate unable to load the table error.  Shortly after it will say that the table is created but only the column names show up but all the rows are null values.  What can I do to fix this?,learnSQL,Bigquery issue creating a table,1.0,https://www.reddit.com/r/learnSQL/comments/sebiik/bigquery_issue_creating_a_table/
94,Ant_TKD,1643326554,sec4m6,0,1,"I have started learning SQL for a new job role and want to practice / play around with it at home on my own laptop. But I don’t know how to. 

I have downloaded Oracle SQL developer and was hoping that I would be able to connect it to a database I made in MS Access, but I can’t figure out how. 

I started to download MySQL but part way through the setup it started installing a ton of other apps I don’t know anything about and implied that I needed a beefier computer than just a regular laptop. 

How can I set up my laptop to use SQL? Do I have to use servers, or can I just query database stored locally on the machine? Can I open a database file made in MS Access using Oracle?",learnSQL,Don’t know step 0: setting up my laptop to use SQL,1.0,https://www.reddit.com/r/learnSQL/comments/sec4m6/dont_know_step_0_setting_up_my_laptop_to_use_sql/
95,reallyseally,1643336251,sefkfy,0,1, ,learnSQL,How to show a table in PostGreSQL in Visual Studio Code,1.0,https://i.redd.it/ecsp9ggt8ce81.png
96,apexysatish,1643363339,sen6hm,0,1, ,learnSQL,What is Global Page In Oracle APEX,1.0,https://www.javainhand.com/2019/12/what-is-global-page-or-zero-page-in-oracle-apex.html
97,No_Computer_8876,1643406931,sf1trb,0,1,"How would I go about counting the log date (YYYY-MM-DD) and then grouping it by month to get user login metrics? 
So like it would then show January 2022 or 01-2022 and count 5. Something along that lines. I'm open to other suggestions too! Thank you.

    SELECT DISTINCT CASE sl.subactionnum
    		WHEN 1
    			THEN 'Client'
    		WHEN 12
    			THEN 'Web Client'
    		ELSE 'Unknown'
    		END AS 'subsystem',
    	CONVERT(DATE, sl.logdate) AS 'logdate',
    	--sl.logdate,
    	sl.messagetext,
    	ua.usernum,
    	RTrim(ua.username) username,
    	ua.realname,
    	ru.registernum,
    	ru.registername
    FROM cache.securitylog sl,
    	cache.useraccount ua,
    	cache.registeredusers ru
    	where sl.usernum = ua.usernum
    		and sl.registernum = ru.registernum",learnSQL,Count and Group by logdate by month/year,1.0,https://www.reddit.com/r/learnSQL/comments/sf1trb/count_and_group_by_logdate_by_monthyear/
98,reallyseally,1643412721,sf3zph,0,1,"I apologize for the repost but I am having a hard time as a first time vscode user. I want to run a simple 'select \* from &lt;table&gt; where id = 3' but I have no clue how to do this in vs code. I apologize for the repost &amp; Thank you in advance!!

https://preview.redd.it/c1jiinv6kie81.png?width=1847&amp;format=png&amp;auto=webp&amp;s=ef4bfd9cf71dbed46f33682ff67f16ebd619bffb",learnSQL,How can I view tables in Visual Studio Code PostgreSQL?,1.0,https://www.reddit.com/r/learnSQL/comments/sf3zph/how_can_i_view_tables_in_visual_studio_code/
99,sm00mz,1643419688,sf6fcz,0,1,"Hello, I have two stored procedures. One that gets tables from my schema, and another that gets the columns from those tables.

Currently I have my report generating like this:
                                                                          
&gt; --  Start extracting table PRODUCTS                                             
&gt; CREATE TABLE PRODUCTS  (                                                        
&gt; ORDERNUM                                                                        
&gt; ORDERCHAR                                                                       
&gt; CUST                                                                            
&gt; REP                                                                             
&gt; MANUF                                                                           
&gt; PROD                                                                            
&gt; QTY                                                                             
&gt; AMOUNT                                                                          
&gt; MFR                                                                             
&gt; PRODUCT                                                                         
&gt; DESCRIPTION                                                                     
&gt; PRICE                                                                           
&gt; QTYONHAND                                                                       
&gt; --  Start extracting table ORDERS                                               
&gt; CREATE TABLE ORDERS  (                                                          
&gt; ORDERNUM                                                                        
&gt; ORDERCHAR                                                                       
&gt; CUST                                                                            
&gt; REP                                                                             
&gt; MANUF                                                                           
&gt; PROD                                                                            
&gt; QTY                                                                             
&gt; AMOUNT                                                                          
&gt; MFR                                                                             
&gt; PRODUCT                                                                         
&gt; DESCRIPTION                                                                     
&gt; PRICE                                                                           
&gt; QTYONHAND                                                                       
&gt; --                                                                              
&gt; --                                                                              

However,  the Orders table only has:
&gt; ORDERNUM                                                                        
&gt; ORDERCHAR                                                                       
&gt; CUST                                                                            
&gt; REP                                                                             
&gt; MANUF                                                                           
&gt; PROD                                                                            
&gt; QTY                                                                             
&gt; AMOUNT 

And Products table only has:
&gt; MFR                                                                             
&gt; PRODUCT                                                                         
&gt; DESCRIPTION                                                                     
&gt; PRICE                                                                           
&gt; QTYONHAND 

The way I am trying to do this is by calling the Extract Columns procedure into the Get Tables procedure like this:

      FOR CurrentRow IN tableCursor LOOP
        Extract_Columns;
      END LOOP;

My Extract Columns procedure looks like this:

    AS
      CURSOR extractCursor IS
        SELECT column_name
        FROM user_tab_columns;
      CurrentRow extractCursor%ROWTYPE;
    BEGIN
      FOR CurrentRow IN extractCursor LOOP
        DBMS_OUTPUT.PUT_LINE(CurrentRow.column_name);
      END LOOP;
    END;

How can I accomplish something more like this: 

&gt; --  Start extracting table PRODUCTS                                             
&gt; CREATE TABLE PRODUCTS  (                                                                                                                                 
&gt; MFR                                                                             
&gt; PRODUCT                                                                         
&gt; DESCRIPTION                                                                     
&gt; PRICE                                                                           
&gt; QTYONHAND                                                                       
&gt; --  Start extracting table ORDERS                                               
&gt; CREATE TABLE ORDERS  (                                                          
&gt; ORDERNUM                                                                        
&gt; ORDERCHAR                                                                       
&gt; CUST                                                                            
&gt; REP                                                                             
&gt; MANUF                                                                           
&gt; PROD                                                                            
&gt; QTY                                                                             
&gt; AMOUNT",learnSQL,Question about Stored Procedures and Parameters,1.0,https://www.reddit.com/r/learnSQL/comments/sf6fcz/question_about_stored_procedures_and_parameters/
0,foxdye96,1638384361,r6lwwh,8,1,"I have a 1 to many table structure (questions and tags) and I need to return the rows that have the same tags or more.

For instance I have 3 questions. If the first question has a tag of 'SQL' and the second has tags of 'SQL' and 'PHP' and the third question has tags of 'PHP' 'SQL' and 'HTTP' and the user searches for tags 'PHP' and 'SQL' then only quesions 2 and 3 should be returned.

    WITH cte_associated_tags(ID) AS
    (
      SELECT ID
      FROM Tag
      Where name in ('php','sql')
    )
     
     SELECT Q.ID, title, Qt.tagID
      FROM question Q
       INNEr JOIN QuestionTag QT on QT.questionID = Q.ID
       INNEr JOIN cte_associated_tags T on T.ID = Qt.tagID
    
    this doesnt work either:
     SELECT Q.ID, title, Qt.tagID
      FROM question Q
       INNEr JOIN QuestionTag QT on QT.questionID = Q.ID
       -- INNEr JOIN cte_associated_tags T on T.ID = Qt.tagID
        Where QT.tagID = 4 ANd QT.tagID = 5

My logic is that to return rows that satisfy the full inner join of the CTE. But I cant figure out how to do so. The second query doesnt work because a column cant have multiple values and I also dont want to join on the same table multiple times (as many times the tags appear).

How can I fix this? Thanks!",learnSQL,How can I return rows that fully satisfy an Inner Join?,1.0,https://www.reddit.com/r/learnSQL/comments/r6lwwh/how_can_i_return_rows_that_fully_satisfy_an_inner/
1,Reasonable_Tea2256,1638388236,r6nex1,3,1,I'm trying to work out the max and min amount of rows in a hypothetical table situation. Table 1 has 5 rows and Table 2 has 2. The problem asks for the min and max amount of rows that there will be in the inner join of the 2 tables. Also the max and min rows for a left outer join of the two. Table one's foreign key references table 1's primary key.,learnSQL,Maximum and Minimum amount of Rows in an inner join,1.0,https://www.reddit.com/r/learnSQL/comments/r6nex1/maximum_and_minimum_amount_of_rows_in_an_inner/
2,ProductOfPython,1638409747,r6vjhw,2,1,"`-- Showing countries with the highest death count per population`

`SELECT Location, MAX(cast(Total_deaths as INT)) as TotalDeathCount`

`From covid.coviddeath`

`Where continent is not null`

`Group By Location`

`order by TotalDeathCount desc;`

I am getting error 1064 when trying to cast Total\_deaths into an INT",learnSQL,What am I supposed to do in this situation?,1.0,https://www.reddit.com/r/learnSQL/comments/r6vjhw/what_am_i_supposed_to_do_in_this_situation/
3,one_time,1638418447,r6yhot,0,1,"Basically I am trying to get the conversion rate of add to cart from product page viewed. The code is executed in bigquery. For the date range it says it will process 575 gb.

I want to see if I can improve it so that it processes less.

https://pastebin.com/FKbkxEz5

Thank you in advance for any help :)",learnSQL,Is this the most efficient SQL query? How can I improve?,1.0,https://www.reddit.com/r/learnSQL/comments/r6yhot/is_this_the_most_efficient_sql_query_how_can_i/
4,moni_bk,1638460421,r7ag2t,1,1,"Hello all. I'm a newbie and have struggled with this for two days. Any help is appreciated.
I'm using Adventureworks Database. I basically want to select Max Business Entity ID and use that number as a parameter for the following join query. So for example the max BE ID is 20777. I want to use that number as a parameter in my join query to only show those records with BE ID of 2077. I've tried using stored procedures but not sure if that's needed? And if so struggling with that as well. Here's what I have but it's not working. The join part is working well, it's just passing the MaxBE that I'm struggling with.


declare @MaxBE
set @MaxBE = (select Max(businessentityid) from person.person)
select pp.BusinessEntityID,pp.firstname,pp.lastname,pe.EmailAddress 
from person.person pp
left join person.EmailAddress pe on pp.BusinessEntityID = pe.BusinessEntityID",learnSQL,Finding Max Int and using it to set query,1.0,https://www.reddit.com/r/learnSQL/comments/r7ag2t/finding_max_int_and_using_it_to_set_query/
5,express_rants,1638478831,r7h6za,6,1,"Any good resources (books, websites, anything) out there. TIA.",learnSQL,Learn Advanced SQL,1.0,https://www.reddit.com/r/learnSQL/comments/r7h6za/learn_advanced_sql/
6,JazzlikeCoach,1638507131,r7qv5f,0,1,"I don't have a job. I'm apply for this job. Please help. I have few work experience in a corporate but not in online. I got to apply online because of covid.

https://preview.redd.it/i2iiif1nc9381.png?width=759&amp;format=png&amp;auto=webp&amp;s=6aac760c8c5c422fc58eed53fe5ed769eb17ba51

&amp;#x200B;

https://preview.redd.it/21yxkbm1d9381.png?width=541&amp;format=png&amp;auto=webp&amp;s=124cb2dd48461b11788bfc9c26f32ffc4153ab28

I'm still intermediate sql coder. I want to sort the modified date into per month. how to do it?",learnSQL,Help for query,1.0,https://www.reddit.com/r/learnSQL/comments/r7qv5f/help_for_query/
7,Atlas_975,1638531995,r7xe5i,2,1,"I have the following tables:

Cities:

https://preview.redd.it/o8jd3qz2fb381.png?width=1096&amp;format=png&amp;auto=webp&amp;s=23b2f72b19da15b24075485fbb1baad92ea49b73

Countries:

https://preview.redd.it/kym0x3q5fb381.png?width=1101&amp;format=png&amp;auto=webp&amp;s=1eaab3bd3e5900271915388d736dc9848ccf5216

and the following question:

https://preview.redd.it/elq6qfl8fb381.png?width=864&amp;format=png&amp;auto=webp&amp;s=01345c6f28a060bd294d4d7183cb68b95e3d50d8

Geography has never been my strong suit, i really have no clue what to be looking for in this data, does anyone know what id need to filter by to even determine if a country is in the southern hemisphere? Also I'm sorry yes it is a homework question, not assessed though.",learnSQL,"A bit of a strange SQL question, wondering if anyone has answered something similar",1.0,https://www.reddit.com/r/learnSQL/comments/r7xe5i/a_bit_of_a_strange_sql_question_wondering_if/
8,rnd-forest-91,1638549193,r832ex,0,1," Write a SQL query to find the median salary of each company. Bonus points if you can solve it without using any built-in SQL functions. 

[https://lifewithdata.com/2021/08/03/google-sql-interview-questions-leetcode-569-median-employee-salary/](https://lifewithdata.com/2021/08/03/google-sql-interview-questions-leetcode-569-median-employee-salary/)",learnSQL,Google SQL interview Questions – Leetcode 569 – Median Employee Salary - Level - Hard,1.0,https://www.reddit.com/r/learnSQL/comments/r832ex/google_sql_interview_questions_leetcode_569/
9,SnooAdvice5523,1638573498,r8bpns,3,1,"Hello I am currently in a database management class that is teaching SQL. I understand the basic of SQL very well but when it comes to complex queries, I become very confused. Any recommendations on how to improve my skills even after the class is over?",learnSQL,Advanced SQL,1.0,https://www.reddit.com/r/learnSQL/comments/r8bpns/advanced_sql/
10,BM1lly,1638598966,r8jear,2,1,"I'm trying to combine two queries to show which staff members have the highest walks and least incidents. If possible I'd like the format to be  
Staff ID|Walk Count|Incident Count     

I tried combining them using a union and got the correct values but incorrect format.  
SELECT TOP 1 Invoices.\[Staff ID\], Count(\*) AS WalkCount

FROM Invoices

GROUP BY Invoices.\[Staff ID\]

UNION ALL

SELECT TOP 1 Incidents.\[Staff ID\], Count(\*) AS IncidentCount

FROM Incidents

GROUP BY Incidents.\[Staff ID\];

I also tried combining them this way and got the correct format but incorrect values  
SELECT TOP 1 Invoices.\[Staff ID\], Count(\*) AS WalkCount, Incidents.\[Staff ID\], Count(\*) AS IncidentCount

FROM Invoices, Incidents

GROUP BY Invoices.\[Staff ID\], Incidents.\[Staff ID\];  


I'm not overly familiar with SQL so I've been stuck on this for a little while. Any input would be greatly appreciated!",learnSQL,Combining two count queries in Access,1.0,https://www.reddit.com/r/learnSQL/comments/r8jear/combining_two_count_queries_in_access/
11,openears3,1638650826,r8yqeh,15,1,"Many times I've learned the basics of SQL then forgot it all since I didn't practice it, then learnt basics again and again. I've been in a endless loop this way as I don't work with SQL professionally. However, my manager suggested a SQL adhoc task force team for me. So for the next 6 months to 1 year, I want to dedicate time learning SQL and Microsoft Power BI.

Does anyone have any learning roadmap suggestions? I don't mind learning the basics again as I could probably breeze through it, but I want to continue doing daily SQL puzzles, etc to advance my skills and continue learning.

My ultimate goal is to spend about an hour a day learning and practicing SQL for the next 6 months.",learnSQL,Where to begin? In an endless loop of learning the basics.,1.0,https://www.reddit.com/r/learnSQL/comments/r8yqeh/where_to_begin_in_an_endless_loop_of_learning_the/
12,Legallydope,1638722542,r9jklq,9,1,"Hi all - I’m sure ya have gotten this question more than once but I wasn’t able to find any threads to help me build a roadmap to my journey to learning SQL. 

I have no experience or knowledge of any programming language. I have a degree finance and currently work as a finance and accounting associate. I’ve been watching videos in LinkedIn learning to get warmed up with SQL. But I still don’t know how do I begin and where do I begin. What software do I neeed to download to get started? does anyone have suggestions videos and courses that helped them with theory vs sources that helped them with the practical. I’m trying to learn for fun right now but it will definitely helpful to know SQL in finance. 

Any tips much welcomed and appreciated.",learnSQL,How to begin learning SQL with background in Finance,1.0,https://www.reddit.com/r/learnSQL/comments/r9jklq/how_to_begin_learning_sql_with_background_in/
13,marginalraju,1638765821,r9yszc,0,1, ,learnSQL,Deleting All Database Objects From Demo Hosting With A SQL Scheduler,1.0,https://www.c-sharpcorner.com/article/deleting-all-database-objects-from-demo-hosting-with-a-sql-scheduler/default.aspx
14,NicholasL86,1638794285,ra6c1q,4,1, ,learnSQL,MongoDB Vs MySQL: Which One Is A Better Database?,1.0,https://codersera.com/blog/mongodb-vs-mysql/
15,Nohuiknkkk,1638831800,rakc5a,2,1,"
I have been self learning SQL from last few days and know the basics. Can anyone check this data:
https://imgur.com/a/UmyIHMn


I  tried writing a query but got overwhelmed. I know I would need to use JOIN to get data from multiple tables but I don’t know where to start. 


It would be super helpful if anyone can write the query so I can analyse and learn.

Thanks.",learnSQL,Beginner seeking help.,1.0,https://www.reddit.com/r/learnSQL/comments/rakc5a/beginner_seeking_help/
16,AdviceNotAskedFor,1638832927,rakqgm,3,1,"EmployeeNames

|Name|Reason|Date Start|Date End|
|:-|:-|:-|:-|
|Joe|Home|11-01-21|11-04-2021|
|Alice|California|11-02-21|11-06-2021|
|Jerimiah|Away|11-05-21|11-05-2021|
|Samantha|Houston|11-06-21|11-08-2021|

  


Hi all,

&amp;#x200B;

I've got a table similar to that above, but with like 1k rows.  

&amp;#x200B;

Whats the best way to get a tally of how many people will be gone on certain date for the whole month?   I think i need to iteration, but I can't even begin to think this one through.

&amp;#x200B;

My idea table out put would be something similar to this:

OutputTable

|Date|\# of people gone|
|:-|:-|
|11-01-2021|1|
|11-02-2021|2|
|11-03-2021|2|
|11-04-2021|2|
|11-05-2021|1|
|11-06-2021|1|
|11-07-2021|1|
|11-08-2021|1|
|11-09-2021|0|
|||",learnSQL,Need help counting dates,1.0,https://www.reddit.com/r/learnSQL/comments/rakqgm/need_help_counting_dates/
17,biggAzzZuck,1638845543,raoulg,0,1,"[question](https://postimg.cc/MXK77gnQ)

[Table Used](https://postimg.cc/bDHd4YdR)

```
CREATE OR REPLACE FUNCTION CheckBookType(
    book_type titles.title %type
)

RETURN BOOLEAN IS

c_acceptable_books  titles.category%TYPE;
c_ReturnValue BOOLEAN;

BEGIN 
    SELECT category
    INTO c_acceptable_books
    WHERE title = book_type;

IF (c_acceptable_books = 'business', 'psychology', 'mod_cook', 'trad_cook', 'popular_comp') THEN
c_ReturnValue := TRUE;
ELSE
c_ReturnValue := FALSE; 
END IF;
RETURN c_ReturnValue;
END CheckBookType;
```

I'm stuck on what to place in the BEGIN section and is the rest of the code correct?",learnSQL,Help with pl/sql functions,1.0,https://www.reddit.com/r/learnSQL/comments/raoulg/help_with_plsql_functions/
18,Dy518684,1638882551,rayv8s,10,10,Hi everyone! I need some help. In my current role I use a MS Excel through Microsoft Query to write my queries and it is not easy to edit in there. Does anyone know of any other software to write queries in?,learnSQL,SQL Tool help,1.0,https://www.reddit.com/r/learnSQL/comments/rayv8s/sql_tool_help/
19,lurtri,1638887325,rb0dzq,11,1,"Hi there,

I have the following question, 

 

## Instructions

1. Create a table called orders  
 and a table called items  
. You decide which fields should be in each table, although make sure the items  
 table has a column called price.  

2. There should be a one to many relationship between the orders  
 table and the items  
 table. An order can have many items, but an item can belong to only one order.  

3. Create a function that returns the total price for a given order.  

4. **Bonus** :
   1. Create a table called users  
.
   2. There should be a one to many relationship between the users  
 table and the orders  
 table.
   3. Create a function that returns the total price for a given order of a given user.

&amp;#x200B;

I have the following code, and I am stuck, any help would be great! 

&amp;#x200B;

CREATE TABLE items(id SERIAL UNIQUE, item varchar(20),price int, order\_number int);

&amp;#x200B;

CREATE TABLE orders(id SERIAL, item1 int, sending\_country varchar(20), PRIMARY KEY(id), FOREIGN KEY (item1) REFERENCES items(id));

&amp;#x200B;

ALTER TABLE items ADD FOREIGN KEY (order\_number) REFERENCES orders(id);

&amp;#x200B;

SELECT sum(price)

FROM items

INNER JOIN orders ON orders.item1 = [items.id](https://items.id)

WHERE [orders.id](https://orders.id) = items.order\_number;

&amp;#x200B;

&amp;#x200B;

CREATE TABLE users(id SERIAL, last\_name varchar(20),orders int, PRIMARY KEY (id), FOREIGN KEY (orders) REFERENCES orders(id));

&amp;#x200B;

SELECT sum(price)

FROM items

INNER JOIN orders ON orders.item1 = [items.id](https://items.id)

INNER JOIN users ON users.orders = [orders.id](https://orders.id) 

WHERE [orders.id](https://orders.id) = items.order\_number AND [orders.id](https://orders.id) = users.orders;",learnSQL,Help with a question,0.67,https://www.reddit.com/r/learnSQL/comments/rb0dzq/help_with_a_question/
20,rnd-forest-91,1638890943,rb1nx3,20,2," write a query to display the comparison result (higher/lower/same) of the average salary of employees in a department to the company’s average salary. 

Link - [https://lifewithdata.com/2021/08/07/amazon-sql-interview-questions-leetcode-615-average-salary-departments-vs-company/](https://lifewithdata.com/2021/08/07/amazon-sql-interview-questions-leetcode-615-average-salary-departments-vs-company/)",learnSQL,Amazon SQL interview Questions - Average Salary: Departments VS Company - Level - Hard,0.67,https://www.reddit.com/r/learnSQL/comments/rb1nx3/amazon_sql_interview_questions_average_salary/
21,MyNameIsRenee,1638927006,rbf1ym,4,0,"Hi Everyone!

can someone help me with my final project? I'm a type 1 diabetic who got really sick the past two weeks and haven't been able to work on my project and it's due this week. It's the lowest level SQL class in college so it's not too bad. I need an ERD Level 0, 1, 2 and I need to put together a database of any business related dealings of my choosing. I 'm not looking for someone to do it for me, but maybe for someone to help me get started and fix my codes if I send them to you. My professor isn't giving me an extension so I just have to buckle down and do it. My email is [reneemp05@gmail.com](mailto:reneemp05@gmail.com). Thank you for taking the time to read this even if you can't help. Have a great day.",learnSQL,Looking for An Angel to Help Me With My Final Project,0.5,https://www.reddit.com/r/learnSQL/comments/rbf1ym/looking_for_an_angel_to_help_me_with_my_final/
22,[deleted],1638927076,rbf2vy,4,3,[deleted],learnSQL,Question about fixing a SQL security hole,0.8,https://www.reddit.com/r/learnSQL/comments/rbf2vy/question_about_fixing_a_sql_security_hole/
23,Le_Va,1638928935,rbfppd,8,14,"Can anyone tell me why all of a sudden my SQL is underlining every word such as create or select, even when pressing enter.

https://preview.redd.it/v53emvx368481.png?width=303&amp;format=png&amp;auto=webp&amp;s=10a0799df3e1cf6f3c5954b64d0d06ef116794e4

https://preview.redd.it/pk0lpbp068481.png?width=307&amp;format=png&amp;auto=webp&amp;s=ece1744921dc8c0cef3634d0f7bcbe249a4f8d95",learnSQL,SQL underlining every word pink at the end,0.94,https://www.reddit.com/r/learnSQL/comments/rbfppd/sql_underlining_every_word_pink_at_the_end/
24,corporatecoder,1638972618,rbs6ac,3,7,"Hi,

I have am trying to update a table (Table\_Acopy) every day with the new data rather than truncate/drop and reimporting the data through OpenQuery. The OpenQuery is the bottleneck.

Table\_A/Table\_Acopy have the following structure:

|Item#|Code|Value|...|
|:-|:-|:-|:-|
|11111|Color|Blue|...|
|11111|Length|4 inch|...|
|22222|Diameter|1 inch|...|

Since Table\_Acopy is a copy of a table from a different server, an efficient way to keep it up to date without a daily truncate and reimport could be to only delete and reimport the rows that have been recently changed. However, this requires each row to have a time stamp.

The problem is that this time stamp is in another table, let's call it Table\_B. Table\_B has the following structure:

|Item#|Code|Prev Value|LastChangeDate|
|:-|:-|:-|:-|
|11111|Color|Red|12/08/2021|
|11111|Length|3 inch|12/08/2021|
|33333|Shape|spherical|12/07/2021|

My plan is:

1.) OpenQuery pull all data from Table\_B with a LastChangeDate &gt;= the last date I updated the tables (aka ran stored procedure).

2.) Use distinct Item#s from Table\_B (could be slightly more efficient and also use the Codes along with Item#, but this is least of my worries) and delete all rows in Table\_Acopy with these Item#s.

3.) **This step is the problem.** OpenQuery all the rows with just those distinct Item#s used in Step 2 and add these to the Table\_Acopy with a FULL OUTER JOIN.

I do not know how to dynamically find all the rows from a table with a value in a list through OpenQuery. I know how to dynamically use LastSPRunDate to only pull the new data in OpenQuery, but not with a list. Below is my attempt:

    DROP TABLE Table_Bcopy
    
    IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='Table_Bcopy' and xtype='U')
    	CREATE TABLE Table_Bcopy(
                Item# varchar(5)
            )
    
    INSERT INTO Table_Bcopy(Item#)
    VALUES ('11111'),
    		('11111'),
    		('33333')
    
    
    --DECLARE @TestList varchar(10)
    --SET @TestList = (SELECT DISTINCT Item# FROM Table_Bcopy)
    --PRINT(@TestList)
    
    
    DECLARE @TSQL varchar(8000)
    
    SET @TSQL = 'SELECT *
                FROM OPENQUERY(ServerName,''SELECT * FROM DataBase.Table_A
    			                           WHERE Item# in ' + (SELECT DISTINCT Item# FROM Table_Bcopy) + ''')'
    EXEC(@TSQL)

\*Note: Table\_Bcopy is just the newly changed rows, not the entire Table\_B.

\*Other Note: The server is an AS/400

I think ""(SELECT DISTINCT Item# FROM Table\_Bcopy)"" is the problem, but I don't know what to do instead. The error I keep getting is ""Subquery returned more than 1 value. This is not permitted when the subquery follows =, !=, &lt;, &lt;= , &gt;, &gt;= or when the subquery is used as an expression.""

Any help would be greatly appreciated.",learnSQL,Dynamic SQL OpenQuery Help Request,0.9,https://www.reddit.com/r/learnSQL/comments/rbs6ac/dynamic_sql_openquery_help_request/
25,traveling_wilburys,1639016002,rc75cy,7,3,"I am working on the following problem but my query is not working as expected.  Here is the problem description followed by my query.

&amp;#x200B;

https://preview.redd.it/5wljob0wdf481.png?width=677&amp;format=png&amp;auto=webp&amp;s=26cb3370319db607fcccf8f514795fbcdddcc09f

&amp;#x200B;

https://preview.redd.it/u4jco3fydf481.png?width=799&amp;format=png&amp;auto=webp&amp;s=d3e0a2c341039fcef2c2bb421cc403cb708cd159

&amp;#x200B;

&amp;#x200B;

My Query : (also pulling in Esalary and ManagerSalary along with Employee name Fields for illustration) 

    select name as Employee , esalary, ManagerSalary from 
    (
    select a.name, coalesce(a.salary,0) as esalary, coalesce(b.salary,0) as ManagerSalary
    from Employee a 
    left join Employee b
    on a.managerId = b.id
    )  t1
    
    where esalary &gt; ManagerSalary 
    

Output:

    {""headers"": [""Employee"", ""esalary"", ""ManagerSalary""], ""values"": [[""Joe"", 70000, 60000], [""Sam"", 60000, 0], [""Max"", 90000, 0]]}

Expected:

    {""headers"": [""Employee"", ""esalary"", ""ManagerSalary""], ""values"": [[""Joe"", 70000, 60000]]}

Any thoughts? This works fine if I do an inner join instead of a left join too, but I'm trying to understand why the where condition would fail here.",learnSQL,SQL Query not returning expected result,0.72,https://www.reddit.com/r/learnSQL/comments/rc75cy/sql_query_not_returning_expected_result/
26,DrBjHardick,1639019204,rc85e5,3,1, ,learnSQL,Basic insert Into Query (What I'm I doing wrong here),0.6,https://www.reddit.com/gallery/rc85e5
27,kidkibo,1639023417,rc9f92,5,1,"Hey all!

Y:all know any free interactive websites / courses for Intermediate SQL? Thinking like Window Functions, CTEs, non-equi joins, and the like

I see plenty of resources for beginning sql, but their examples tend to cap out at basic single table queries

Thanks!",learnSQL,Resouces for Intermediate SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/rc9f92/resouces_for_intermediate_sql/
28,katbeezy,1639097229,rcvun4,3,1,"Hey everyone! I'm learning SQL as part of a data analytics certificate. I want to start playing around with MySQL and PostgreSQL, utilizing open-source data. My problem is that I can find data to upload, but I need practice questions or scenarios for me to start applying SQL with. Are there any websites that have SQL practice exercises?",learnSQL,Resource with SQL exercises?,1.0,https://www.reddit.com/r/learnSQL/comments/rcvun4/resource_with_sql_exercises/
29,Khshyarsha,1639110141,rd02pz,1,1,"Hi,

I want to write a trigger that will detect duplicate values for three criteria (customer first name, customer last name, and customer address) if a new record is inserted into the database, but rather than rolling back the transaction, the trigger will instead update the relevant original record with whatever value is present for a different column, customer phone number.  

More generally, it seems like it would be really handy to be able to work directly with the inserted values at play here as variables in SQL statements, but SQL Server just tells me that they can't be bounded - is there a way to do this?

Here's my code so far - the database is very simple and most of the labels etc. should be intuited pretty readily.  

CREATE TRIGGER Prevent\_Duplicate\_Customers

ON dbo.Customers

AFTER INSERT

AS

IF EXISTS ( SELECT \* FROM Customers 

INNER JOIN inserted on inserted.CustLName = Customers.CustLName AND inserted.CustFName = Customers.CustFName AND inserted.CustID &lt;&gt; Customers.CustID)

BEGIN

UPDATE Customers

	SET CustPhone = inserted.CustPhone

	WHERE CustFName = inserted.CustFName AND CustLName = inserted.CustLName

END 

GO",learnSQL,Trigger to update certain columns on otherwise duplicate records,1.0,https://www.reddit.com/r/learnSQL/comments/rd02pz/trigger_to_update_certain_columns_on_otherwise/
30,DasTapan,1639142386,rd8hmj,5,1,"Hello. I am Tapan. A 29 year old guy. Started learning sql(postgresql) to get a job.(currently unemployed). Planning to learn Python next. I want to do some project to put in GitHub for potential employer to see.(i currently don't know nothing abt GitHub). I will learn that after i start my sql project.


I am practicing my skills at pgexercise.com. I don't know nothing except sql right now. What projects should i do? How can i talk with database to do some thing meaningful from an app? Only thing i can do is create database,table in pgAdmin and do queries. I am sure that won't be qualify as  project.

Help me",learnSQL,Project Idea for recruiter to see,1.0,https://www.reddit.com/r/learnSQL/comments/rd8hmj/project_idea_for_recruiter_to_see/
31,dblack7777,1639145805,rd9ltn,1,1,"I have to analyze this and write an essay on 1NF, 2NF, and 3NF, dependency and what form of SQL is being used.  From the given info how can I determine if it is MySQL,SQL Server, Oracle or what?  Can anyone help with this? Also how is it in 1NF?

Thanks",learnSQL,Need Help,1.0,https://www.reddit.com/r/learnSQL/comments/rd9ltn/need_help/
32,HD_Thoreau_aweigh,1639155188,rdcxzf,2,1,"[Course](https://www.coursera.org/learn/sql-for-data-science?specialization=learn-sql-basics-data-science)

I started the above course but it's a bit awkward. I've taken a programming course before (VBA for excel) and from the beginning I was split screening: the instruction in one window, the Visual Basic Editor in the other. Instructor always had data and problem statements to download...

This course is strange though: she doesn't have any databases for download, doesn't recommend any one software, and doesn't provide any instruction on creating a sample database to play around in. I HATE THAT. I feel like I'm just watching videos and not learning a damn thing. Is this typical?

I've downloaded SQLite and MySQL; I'm thinking that I'll download a sports stats database, maybe take some preface courses on the MySQL interface, and then use that knowledge to practice the coding as I move through the modules.

Let me know if anyone has any suggestions or if that sounds like a reasonable plan of action.",learnSQL,Enrolled in Coursera Course - but no software or database to use. Is that typical?,1.0,https://www.reddit.com/r/learnSQL/comments/rdcxzf/enrolled_in_coursera_course_but_no_software_or/
33,Keeperofbeesandtruth,1639176661,rdkyoj,1,1, ,learnSQL,I can't find the missing parenthesis,1.0,https://i.redd.it/hkcd8dx1os481.png
34,lucytalksdata,1639225511,rdyqy1,0,1, ,learnSQL,SQL for Data Science - Quest #3,1.0,https://lucytalksdata.com/sql-for-data-science-quest-3/
35,hernancrespo89,1639253029,re7llc,1,1,"Hi,

Let me give an example to explain what I'm trying to do better. This is my data:

&amp;#x200B;

|Name|Place|Time|
|:-|:-|:-|
|Mary|Cinema|09:30|
|John|Market|10:35|
|Alice|Cinema|11:00|
|Mike|Cinema|11:30|

&amp;#x200B;

Let's assume that the interval is 1 hour.  I want to filter people who are in the same place maximum of one hour before/after each other. So in this example, the result would be Alice and Mike. 

&amp;#x200B;

How should I implement this logic? Is it possible in SQL?

Thanks in advance",learnSQL,How do I check if data occurred in a certain time interval?,1.0,https://www.reddit.com/r/learnSQL/comments/re7llc/how_do_i_check_if_data_occurred_in_a_certain_time/
36,dumpy_undies_420,1639595185,rh6nfb,0,1,"I'm thinking of transferring roles to a data analyst. I've been a chemist for over a year, and I think I want to try something new! 
Being a data analyst (ik it's a pretty vague term) sounds something I would be interested in. It has good wages and terms from what I see. It would compliment my minor in mathematics well. It would help me learn more about computer data something I've been wanting to figure out. The problem is I have no experience I'm things like ML, python, SQL, and etc.. a lot of jobs are asking for. I'm pretty much only good with a Microsoft excel :/
Any tips on where I should begin or start looking? Is it worth it? (A lot of self questions I have to answer myself but anything helps!)",learnSQL,Potentially switching careers. Chemist --》data analyst,1.0,https://www.reddit.com/r/learnSQL/comments/rh6nfb/potentially_switching_careers_chemist_data_analyst/
37,Dylanb993,1639621377,rhg17x,0,1,"Howdy ya'll,

&amp;#x200B;

I've been working my way through a SQL course on Udemy (The Complete SQL Bootcamp 2022: Go From Zero to Hero) and have been enjoying it greatly so far. I feel like for the first half of the course I was retaining a ton, but as new topics have continued, I'm struggling to retain them simply due to not being able to practice as much since we've stopped using a larger practice database.

&amp;#x200B;

What recommendations do ya'll have for either practicing SQL to make sure I remember stuff, or how to find free, public databases to play around with? For reference, I would prefer ways to practice that have solutions I can reference in case I get stuck.

&amp;#x200B;

Right now, I don't have much use for SQL in my daily life since I'm not a data scientist or analyst, but I wanted to learn because I find the idea of interacting with databases fascinating. I'm sure being aware of all the possibilities in SQL puts me ahead of the game, but I want to make sure I don't just forget it all after finishing the bootcamp (which is outstanding btw).",learnSQL,"Learning SQL, but wondering how to practice further",1.0,https://www.reddit.com/r/learnSQL/comments/rhg17x/learning_sql_but_wondering_how_to_practice_further/
38,Ryanmcbeth,1639655073,rhp2u0,0,1, ,learnSQL,Video Tutorial - SQL interview questions for C# / Entity Framework developers,1.0,https://www.youtube.com/watch?v=dxXVdSBDeg0
39,BotR13,1639672832,rhujt2,0,1,"I live in the south and I just graduated with my masters in SWE. In my masters I found a love of SQL and databases in general and want to work as a developer. I will begin applying right after New Years as I am trying to help my boss survive with no staff at my part time job. 

The problem is, I don't know what I should be looking for as a salary. Online glassdoor is showing an average of 80k for entry level SQL developer positions in my state. I see that fairly regularly on job postings too, but my boss says that my with my masters I should ask for me. He even said, ""if you don't walk away with at least 100k I will be very disappointed in you."" Is that true? Do any of you guys in the field have experience in this? What should I ask for? 

The worst part is, I am really bad and beta when it comes to negotiating things. I have trouble just saying no in general. Could any of you more experienced shine some light for me.",learnSQL,What should I be looking for as compensation for a job?,1.0,https://www.reddit.com/r/learnSQL/comments/rhujt2/what_should_i_be_looking_for_as_compensation_for/
40,mrroto,1639692633,ri1lpi,0,1,"UPDATE table1
SET status = ‘Deleted’
WHERE status = ‘Send’ OR status = ‘Print’
AND id = ‘100’",learnSQL,What are some potential issues with this UPDATE,1.0,https://www.reddit.com/r/learnSQL/comments/ri1lpi/what_are_some_potential_issues_with_this_update/
41,Comprehensive-Ad3963,1639696909,ri32r1,0,1,"Running this query:

`SELECT employees.EmployeeID,employees.LastName, COUNT(*) AS LateOrders`

`FROM employees`

`JOIN orders`

`ON orders.employeeID = employees.EmployeeID`

`WHERE employees.EmployeeID = 8 AND orders.ShippedDate &gt; orders.RequiredDate`

`GROUP BY EmployeeID;`

returns ""8   Callahan   4""

But the problem set I'm working from says the number of late orders isn't 4; it's 5.

Is my query incorrect, or is the problem set giving me the wrong expected result?",learnSQL,"Trying to query against a ""Northwind"" database. Is my query incorrect, or the problem set?",1.0,https://www.reddit.com/r/learnSQL/comments/ri32r1/trying_to_query_against_a_northwind_database_is/
42,EAshraf,1639742418,rifxh9,0,1,"Hi, 

I have these function I need help understanding:

DATEADD(MONTH, DATEDIFF(MONTH, 0, GETDATE()) - 1, 0)

DATEADD(ss, -1, DATEADD(month, DATEDIFF(month, 0, GETDATE()), 0))

&amp;#x200B;

Could someone please explain the functions to me using these as examples? 

&amp;#x200B;

Thank you so much",learnSQL,"Need help understanding DateDiff, DateAdd, and GetDate Fucntions!",1.0,https://www.reddit.com/r/learnSQL/comments/rifxh9/need_help_understanding_datediff_dateadd_and/
43,chandranshujain,1639768838,rioqll,0,1, ,learnSQL,New youtube channel alert please support by subscribing,1.0,https://youtube.com/channel/UCGHGyHlW6szb4FdZAlseoZw
44,EnoughInternet0,1639788514,rivay7,0,1," 

Hi, the title says it all however the results i get from my query is the subjects studied by scientists born in France rather than subjects they have not studied where have I gone wrong? using MySQL.

**SELECT** First\_Name, surname, subject

**FROM** research\_area, scientist\_subject, scientist

**WHERE** research\_area.subject\_code = scientist\_subject.subject\_code and scientist.ID = scientist\_subject.Scientist\_ID 

**AND** subject **NOT IN** ( **SELECT** Scientist\_Subject.Subject\_Code **FROM** research\_area, scientist\_subject, scientist **WHERE** research\_area.subject\_code = scientist\_subject.subject\_code and ID = Scientist\_ID **AND** ISO\_Code = ""FR"" ) ;",learnSQL,"Subquery to retrieve first name, surname and subjects not studied by scientists born in France",1.0,https://www.reddit.com/r/learnSQL/comments/rivay7/subquery_to_retrieve_first_name_surname_and/
45,RiversideMofo,1639793033,riwqkh,0,1, ,learnSQL,"First time using phpmyadmin instead of DBbrowser. Why is there no .db file? I am trying to recreate the updateuser page from the left but I can't declare the $db in the same way as the .db file does not exist, only a .opt, .frm &amp; a .ibd",1.0,https://i.redd.it/xjavpr6jk7681.png
46,INeedToWinTheGame,1639793289,riwtll,0,1,"Hi everyone that's going to read this post.   
I need a course for SQL because I've tried the one from DataCamp, and when I reached the Join part, I can't really grasp that part. I also tried sqlbolt, but got stuck again in the join part.   
I understand the basic SELECT FROM and Where and also Order by queries or that's what I think I can do. 

Anyone knows a course that can dumb down sql so it can be a little bit easier to learn?   


Please, and thank you.",learnSQL,"A good course for SQL, please",1.0,https://www.reddit.com/r/learnSQL/comments/riwtll/a_good_course_for_sql_please/
47,oussama-he,1639814493,rj2pnh,0,1,"I have a database that looks something like this:

https://preview.redd.it/ua7dn3x2b9681.jpg?width=1362&amp;format=pjpg&amp;auto=webp&amp;s=6bc3ead893a10bac6ae1213b306ad7e446a11df1

I want to get all the employees in the db with information from each table (department, position, ...). I've written the query, but it returns multiples duplicate, means the same employee appears multiple times, so I need help to eliminate these duplicates.

    SELECT 
    DISTINCT
    ""core_wfemployee"".""id"",
    ""core_wfemployee"".""code"", 
    ""core_wfemployee"".""name_en"",   
    ""core_store"".""hr_name"",
    ""users_user"".""name"",
    ""core_department"".""name"",
    ""core_position"".""name"",
    ""core_schemegroup"".""name"",
    ""core_store"".""id"",
    ""core_department"".""id"",
    ""core_position"".""id"",
    ""core_schemegroup"".""id""
    FROM 
    ""core_wfemployee"", ""core_store"", ""users_user"", ""core_department"", ""core_position"", ""core_schemegroup""
    

I've tried to add WHERE clause, but it eliminates the employees that haven't a position or a store, means employee rows that have null for position or store.

Please, can someone help me to write the correct query?",learnSQL,how to eliminate duplications when getting data from multiple tables?,1.0,https://www.reddit.com/r/learnSQL/comments/rj2pnh/how_to_eliminate_duplications_when_getting_data/
48,manishsalunke,1639851683,rjd9je,0,1, ,learnSQL,The Complete SQL Bootcamp 2022: Go from Zero to Hero,1.0,https://www.youtube.com/watch?v=wY62KuCXjnM
49,wtfhysics,1639857998,rjfepd,0,1,"Using the parameter temp I'm trying to get the price pSA and then update the rest based on pSA. I've tried two different ways but when I execute either code, nothing changes in the table.

`CREATE OR REPLACE PROCEDURE checkprices (`

`temp temporada.nombre%TYPE`

`) IS`

`CURSOR c1 IS`

`SELECT`

`categoria,`

`psa,`

`pad,`

`pmp,`

`ppc`

`FROM`

`pvptemporada p,`

`categoria    c`

`WHERE`

`p.categoria = c.nombre`

`AND psa IS NOT NULL`

`and temporada=temp;`

`BEGIN`

`for regc1 in c1 loop`

`regc1.pAD := ( regc1.psa * 1.1 );`

`regc1.pMP := ( regc1.psa * 1.2 );`

`regc1.pPC := ( regc1.psa * 1.25 );`

`end loop;`

`END;`

And then I also tried:

`CREATE OR REPLACE PROCEDURE checkprices (`

`temp temporada.nombre%TYPE`

`) IS`

`BEGIN`

`update pvptemporada`

`set pAD = pSA*1.1`

`where temporada=temp;`

`update pvptemporada`

`set pMP = pSA*1.2`

`where temporada=temp;`

`update pvptemporada`

`set pPC = pSA*1.25`

`where temporada=temp;`

`END;`

The table currently contains:

https://preview.redd.it/ymmfk6j5yc681.png?width=458&amp;format=png&amp;auto=webp&amp;s=ae10e5384a57ac94d63de51cf545ed0bb5353fe7",learnSQL,Updating data from within a procedure (two attempts compile but don't do anything...?),1.0,https://www.reddit.com/r/learnSQL/comments/rjfepd/updating_data_from_within_a_procedure_two/
50,rjray,1639868060,rjir9f,0,1,"I am returning to working on a personal side-project after about a year or so off. The project is a fairly simple database application built on JavaScript and using the Sequelize ORM for the DB layer. These details are not important to my questions, though.

Reviewing the code, I was reminded that I had coded special generic getter/setter methods for the classes that Sequelize creates that handle NULL values in string fields specially; a NULL is coerced into a zero-length string on a get and an empty string is coerced back into NULL on set.

BUT... I recall having discussed this issue a year or more ago on a different sub (which I've forgotten), and having been told that this is really not the best way to do this, from a general RDBMS and SQL perspective. Alas, I've been hella busy with my day job and grad school for the last solid year and I don't remember what the recommended approach was.

Now that I have a little time to work on this again, I'd like to see if I can improve this aspect of it. So I am asking: what are the ""proper"" ways to handle NULL values in places that the language-of-choice considers troublesome? Note that my approach does not lead to no NULL values in the database relations, only in the JavaScript data. So I'm still maintaining the presence of NULL in a record when that field is null.",learnSQL,"The ""Proper"" Way to Handle NULL Values",1.0,https://www.reddit.com/r/learnSQL/comments/rjir9f/the_proper_way_to_handle_null_values/
51,Vaggelis95gr,1639991083,rkj1n9,0,1,"**Hello everyone!,** imagine that you have the script bellow...and you want your code to be more specific?, how can i replace the case with if statement?

    SELECT *,
    
    CASE 
    	WHEN TITLE LIKE '%EXTRA SMALL%' THEN 'EXTRA SMALL'
    	WHEN TITLE LIKE '%SMALL%' THEN 'SMALL'
    END SIZE
    
    FROM PRODUCTS

Thank you very much!",learnSQL,HOW TO USE IF INSTEAD OF CASES?,1.0,https://www.reddit.com/r/learnSQL/comments/rkj1n9/how_to_use_if_instead_of_cases/
52,ftl9366,1640039674,rkz36w,0,1,"I have this table, how do I write query to pull instrument ID where all ID types are missing except for 'PASS' and END\_DT is null. It will be INSTRUMENT\_ID # 4 in this case. Thanks!

https://preview.redd.it/ymxqm9rzxr681.png?width=287&amp;format=png&amp;auto=webp&amp;s=730e44e90f88eec431d9d95a6b81049d82fc5437",learnSQL,Need Help with a query,1.0,https://www.reddit.com/r/learnSQL/comments/rkz36w/need_help_with_a_query/
53,0nlyupvotes,1640145645,rlwg6u,0,1,"Create stored procedure that checks the creditlimit and the purchase status of the customers.

If a platinum customer has crediltlimit less than 100,000 raise an exception. In the exception handler update the crediltlimit to 100000.

If a silver customer has creditlimit greater than 60,000 raise an exception. In the exception handler update the crediltlimit to 60000.",learnSQL,Guys need help with this stored procedure query.,1.0,https://www.reddit.com/r/learnSQL/comments/rlwg6u/guys_need_help_with_this_stored_procedure_query/
54,Dylanb993,1640239099,rmopgx,0,1,"howdy ya'll,

newbie here and I'm working my way through The Complete SQL Bootcamp: Zero to Hero by Jose Portilla on Udemy.

&amp;#x200B;

I'm confused as to how to go about adding or dropping a foreign key constraint on an already existing table for a single column. In the lecture he uses SET and DROP, with ALTER TABLE but then also briefly mentions ADD CONSTRAINT but doesn't differentiate when to use which one.

&amp;#x200B;

For example, I have 3 tables. One called teachers, one called students, and I tried making a third called stu\_tea that just combines Teacher\_id from teachers, and student\_id from students. Obviously I could have done the foreign key stuff initially when creating stu\_tea, but I wanted to see how it could be done after the fact.

&amp;#x200B;

I can't for the life of me figure out how to DROP the foreign key part.

&amp;#x200B;

To add one I got the following to work: 

    ALTER TABLE stu_tea
    ADD FOREIGN KEY (teacher_id)
    REFERENCES teachers(teacher_id);

but how would I drop that same constraint? 

&amp;#x200B;

I've tried googling it, and only ended up more confused after trying every possible syntax I could find.

Any help and explanation is MUCH appreciated!

Happy Holidays Ya'll",learnSQL,How to add/drop a foreign key constraint on a single column postgreSQL,1.0,https://www.reddit.com/r/learnSQL/comments/rmopgx/how_to_adddrop_a_foreign_key_constraint_on_a/
55,Ryanmcbeth,1640254272,rmsjyj,0,1, ,learnSQL,Video Tutorial - SQL Joins Explained for a Job Interview,1.0,https://youtu.be/r8BHHJSIwEE
56,cmstrump,1640335593,rni5bk,0,1,"The following guide explains how BI platform uses data modeling language that streamlines SQL queries by creating reusable complex data models with custom columns and dynamic sub-querying as well as auto-SQL generator leverages joins defined in the data model, figures out which tables to join and generates dynamic sub-queries based on context: [bippLang Data Modeling Language Streamlines SQL](https://bipp.io/features/bipplang-data-modeling-language)",learnSQL,How bippLang Data Modeling Language Streamlines SQL,1.0,https://www.reddit.com/r/learnSQL/comments/rni5bk/how_bipplang_data_modeling_language_streamlines/
57,gotabayarajapaksha,1640413249,ro41vu,0,1,"&amp;#x200B;

https://preview.redd.it/vtpskm9zsm781.png?width=529&amp;format=png&amp;auto=webp&amp;s=f703fed35d1c4347776ef3b0ecb0503ffa3b6ceb

I want it to look like this

&amp;#x200B;

https://preview.redd.it/p66tbjh0tm781.png?width=467&amp;format=png&amp;auto=webp&amp;s=c0ff2846f54d6cc795ad5376b9f0c7fad84d57a2

Can someone please point me in the right direction as to what to google or to a tutorial?? Thank you so much!!",learnSQL,How can I get an invoice of products to show up in the format of the output table?,1.0,https://www.reddit.com/r/learnSQL/comments/ro41vu/how_can_i_get_an_invoice_of_products_to_show_up/
58,Kuken500,1640429606,ro7pkq,0,1,"Hi guys!

I have a rather small database of about 1060 rows, containing questions for an app I'm building. I have been working on the app for about +3 years on- and off (cannot see an ending to this LOL). And almost from the start I questioned myself if the chosen database structure was ""correct"" - and sure it works, but I can see some problems - mostly regarding the ""reusability"".

Let say that I have different ""Subjects"" - ""cars"" for example. In that car subject, I have ""topics"" like ""breaks"", ""engine"", ""fluids"" etc. And every topic has some questions and answers to them. Currently a questions ""belongs to"" a topic, and a topic belongs to subject. I have done this with a extra id column. ""topic_id"", ""subject_id"". This works, but what if I want to have the same question in two different topics, this leaves me with no other choice than to have duplicate questions. And if all data would be static forever that won't be a problem, but it will be a problem if I have to moderate duplicate questions over several different topics.

The same goes for images that relates to either a Subject, topic or a question. It would be smoother not to have an `image` colum on every table. Wouldn't it be nice to be able to ""reuse"" an image for multipel questions without being forced to moderate all of the different questions that use the same image?

What would be your approach to this?",learnSQL,How should I structure my database?,1.0,https://www.reddit.com/r/learnSQL/comments/ro7pkq/how_should_i_structure_my_database/
59,shortybc,1640453144,rodofj,0,1,"Can I create a temp table inside a cursor? 

This is waht I am cuurently working with:

create or replace function vPres()

returns void as $$

&amp;#x200B;

declare temporary table vppresTemp (vname varchar);

declare 

	c\_vppres cursor for 

		select vice\_pres\_name from admin\_vpres v inner join election e

		on v.vice\_pres\_name = e.candidate 

		where e.winner\_loser\_indic = 'W';

v\_name admin\_vpres.vice\_pres\_name%type;

		

begin 

	open c\_vppres;

	fetch c\_vppres into v\_name;

	while found loop 

	insert into c\_vppres values (v\_name);

end loop;

close c\_vppres;

end;

$$ language plpgsql;

&amp;#x200B;

But I alway get the following Error:

SQL-Fehler \[42601\]: ERROR: syntax error at or near ""#""

  Position: 19

Can somebody help me?",learnSQL,Temporary table in cursor,1.0,https://www.reddit.com/r/learnSQL/comments/rodofj/temporary_table_in_cursor/
60,Mambaaaaa24,1640468701,roi59d,0,1,"Hey all. So I wrote a query (I will post it below) and now I want to modify it a little bit, but im kinda lost. 

select product\_id, product\_name, description, list\_price from products where lower(description) like '%speed:ddr4‐%' order by list\_price desc; 

This is the query that I wrote and this is what I get from my database(picture below).  And thats exactly what I wanted to get, but now I need some help modifying it.

https://preview.redd.it/rivf277ebr781.png?width=611&amp;format=png&amp;auto=webp&amp;s=2699cf990970e5914fa4c213cb9c85df9f916512

I wanna modify it in a way that the query lists the product\_id, description, list\_price, but I also want the query to list a trade margin (thats the difference between the selling price(""LIST\_PRICE"") and the purchase price(""STANDARD\_COST"") for DDR4 memory modules with a capacity of 64GB in a descending order of the trade margin.

Any and all tips will be much appreciated, thanks in advance everyone. Oh and If you have any SQL     yt videos or books that are good to learn from, please link them in the comments.",learnSQL,Need help modifying a SQLite query,1.0,https://www.reddit.com/r/learnSQL/comments/roi59d/need_help_modifying_a_sqlite_query/
61,g3org3costanza,1640475308,rok4b9,0,1,"Creating an app where people can query football stats by compounding increasingly constraining conditions in a madlibs type of way. For example, a person could first add that they want to search for a player, and select their name from a drop down, and further say they want to know how this player has played in all games against a certain team, when coming off of a win. All these conditions would then be translated to an SQL query, which will then be executed on the backend. 

I feel like this might be dangerous? I'm only allowing SELECT conditions to take place, so there's no manipulation, but letting a user practically build queries, even if only restricted to the options given through dropdown menus, still feels sketchy. Any thoughts?",learnSQL,Security Concerns?,1.0,https://www.reddit.com/r/learnSQL/comments/rok4b9/security_concerns/
62,mythbusternz,1640489545,rooamo,0,1,"Hey experts, 

Bit confused when I looked into the SQL Server data type for say population of the world 

Obviously, this should be as big as possible and has to be a positive natural number. But I do not see unsigned **bigint**.

Can someone help me with how is this done, not that I have this immediate problem stopping my work, I ask as I am learning.",learnSQL,SQL data type for huge natural numbers like population (Unsigned bigint ?),1.0,https://www.reddit.com/r/learnSQL/comments/rooamo/sql_data_type_for_huge_natural_numbers_like/
63,creativedisco,1640490273,rooi9s,0,1,"**Objective**: Import a csv file into PostgreSQL using pgadmin 4 (since I'm new at this and that's the most my skill level will allow). That csv file has columns with empty (null?) values that also need to be imported into the SQL database into columns that have datatype NUMERIC. 

**Problem**: I can't seem to manage the null values. Either (a) I get an invalid input syntax error, (b) I can alter the debit and credit columns to be VARCHAR datatypes, but then I have my debits and credits as a bunch of strings that I can't do math with.

See below for specifics:

\----------------------------------------------------------------------------------------------------------------------------------------------

I've searched all over Google, Reddit, stackexchange, but cannot seem to find a solution to this problem.

1. I've set up a table in pgadmin via the following query:

CREATE TABLE bank\_import(

	bank\_id SERIAL PRIMARY KEY,

	bank\_account VARCHAR(25),

	trans\_date TIMESTAMP,

	post\_date TIMESTAMP NOT NULL,

	check\_no SMALLINT,

	bank\_description VARCHAR(50),

	bank\_debit NUMERIC,

	bank\_credit NUMERIC

)

2. I've downloaded the CSV file from my bank that has my transactions from the previous month and corresponds identically to the columns above (except for bank\_id). 

3. In the CSV file, there are no values in the ""check\_no"" column because this only gets a value when I write a check, and I don't do that a ton. Also, there will ONLY be a value in either the ""bank\_debit"" or the ""bank\_credit"" column, but never both. So in any given row, either the bank\_debit column or the bank\_credit column will be blank.

4. When I import the CSV file, I get this error:  

1. ERROR:  invalid input syntax for type smallint: """"

5. I tried googling the answer. This site [https://stackoverflow.com/questions/9282154/importing-csv-file-with-null-values-into-phpmyadmin](https://stackoverflow.com/questions/9282154/importing-csv-file-with-null-values-into-phpmyadmin) and a few others seem to suggest setting the Null Strings option in pgadmin to NULL.

6. So I did that and got this error:  

1. ERROR:  invalid input syntax for type smallint: """"

7. Okay, so let me alter the table. I'll set the check\_no, bank\_debit, and bank\_credit to VARCHAR(50). When I do that, I'm able to import the CSV data just fine, but now there's another problem: All of the data in the debit and credit columns are now strings, and that's not gonna work since I can't do math stuff with a string.",learnSQL,Hit a wall with trying to import CSV file with null values into PostgreSQL via pgadmin 4.,1.0,https://www.reddit.com/r/learnSQL/comments/rooi9s/hit_a_wall_with_trying_to_import_csv_file_with/
64,NotAHacker8,1640510199,rothlw,0,1,"Hello everyone!

I have a table with a lot of items that look like this:

    {
        ID: xxx,
        number: 2001,
        timestamp: 2021-12-26T10:54:35.000Z,
        -- and some more properties
    
    },
    {
        ID: xxx,
        number: 2001,
        timestamp: 2021-12-26T10:53:39.000Z,
        -- and some more properties
    
    },
    {
        ID: xxx,
        number: 2002,
        timestamp: 2021-12-26T10:54:35.000Z,
        -- and some more properties
    
    },
    {
        ID: xxx,
        number: 2002,
        timestamp: 2021-12-26T10:55:31.000Z,
        -- and some more properties
    
    },
    

What I want to do is to select all the items with a unique number *and* with the most recent timestamp. I tried distinct and group by, but that didn't work. Any solution?",learnSQL,Unique Items (probably a stupid question),1.0,https://www.reddit.com/r/learnSQL/comments/rothlw/unique_items_probably_a_stupid_question/
65,SergioBoySV,1640568153,rpb22w,0,1,"I am still in the process of setting up all SQL stuff (community server and workbench) on my mac (M1, Monterrey) in order to really dive into it, but I get this notification when I try to start MySQLServer from the system preferences. Anyone that can offer some insight into what this means before I go breaking things. I would really appreciate it!",learnSQL,"Learn SQL for the very first time, what is this notification that appears on my mac after clicking 'Start MySQL Server'",1.0,https://www.reddit.com/r/learnSQL/comments/rpb22w/learn_sql_for_the_very_first_time_what_is_this/
66,Background_Loquat875,1640580027,rpewed,0,1, ,learnSQL,Can someone help me in this question?,1.0,https://www.reddit.com/gallery/rpepuy
67,asapMuk,1640660932,rq533g,0,1,"I've been trying to learn SQL this past week, and been going through SQLBolts tutorial and I have some questions on how OUTER JOIN commands (LEFT join, Right join, and FULL join) work. I understand LEFT and RIGHT JOIN return all rows from one of two tables  (not sure how to tell which table it will return rows from) and then for the other table will only return rows matching a criteria you set with the ON command that overlaps with the other table usually a primary key. What I'm confused about is how where, select, and from statements affect JOIN commands.

 E.g If you do Select \* FROM table1 LEFT JOIN table 2 ON table1.column1 = table2.column2 

Will you return a table with every single row from table 1 or will you return every single row from table2? And is this the same for using RIGHT JOIN as well? 

Also with ON statement does it make it so that anything you do to the attribute from table 1 (column1) affects the attribute from table 2 (column2) or does it just allow you to access attributes connected column1 and column2. Like lets say column1 was primary key like student ID's and column2 was also student ID but table 1 had class schedules of students and table 2 had living information about those students how does the USE of ON as well as statements like from, select, and where affect this?",learnSQL,Questions on OUTER JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/rq533g/questions_on_outer_join/
68,badboyzpwns,1640666623,rq6zzi,0,1,"Say we own reddit's database. There is a table called' ***posts/*** There are going to be many users creating a post , but there are also many users viewing post(s).

Should the primary key of ***posts*** be indexed? This will make inserts and deletes slower in the table (however, updates with where clause will be faster)

&amp;#x200B;

[https://stackoverflow.com/questions/41410482/what-are-the-disadvantages-to-indexes-in-database-tables](https://stackoverflow.com/questions/41410482/what-are-the-disadvantages-to-indexes-in-database-tables)",learnSQL,Newbie - Should this table be indexed in this situation?,1.0,https://www.reddit.com/r/learnSQL/comments/rq6zzi/newbie_should_this_table_be_indexed_in_this/
69,gumbyewok,1640668061,rq7gwa,0,1,Is there any reason why you would load a SQL Server View into RedShift? The query for the view takes forever to load. Wouldn’t it be more efficient to load the tables into RedShift and perform any manipulation there?,learnSQL,Glue Job loading a SQL View into RedShift,1.0,https://www.reddit.com/r/learnSQL/comments/rq7gwa/glue_job_loading_a_sql_view_into_redshift/
70,sweetsummerschild,1640682739,rqbpak,0,1,"    SELECT 
        SUM(base_subtotal) AS 'Yesterday'
    FROM
        sales_order s
            JOIN
        store st USING (store_id)
    WHERE
        status IN ('payment_accepted' , 'complete', 'processing')
            AND DATE(created_at) = DATE(DATE_SUB(CURDATE(), INTERVAL 1 DAY))
            AND st.code = 'glde'

So I want to get data from yesterday's results, but for some reason this query returned no data. I checked and there are records from yesterday, so I think the problem lies in this clause :

    DATE(created_at) = DATE(DATE_SUB(CURDATE(), INTERVAL 1 DAY))

Is this because the date is format wrong? created\_at is timestamp, and I can't find out why the query is not working.",learnSQL,Getting data from yesterday?,1.0,https://www.reddit.com/r/learnSQL/comments/rqbpak/getting_data_from_yesterday/
71,thumbsdrivesmecrazy,1640702865,rqhgl1,0,1,"The following analysis explains how current approaches to data modeling allow us to maintain the balance between data democratization and the complexity of data modeling: [The Art and Science of Data Modeling](https://bipp.io/blog/the-art-and-science-of-data-modeling/)

Visual data modeling is the future - putting the power of data modeling in everyone’s hands - GUI-based data model layer lets business users define all the model details simply.",learnSQL,The Art and Science of Data Modeling - Visual Is The Future - Analysis,1.0,https://www.reddit.com/r/learnSQL/comments/rqhgl1/the_art_and_science_of_data_modeling_visual_is/
72,MrBcCardy,1640782104,rr7g83,0,1,"Hi there! Probably you know leetcode and problems one can solve there. My question is on the problem [262. Trips and Users](https://leetcode.com/problems/trips-and-users/)  

Basically, there are 2 tables

https://preview.redd.it/mnj7ju919h881.png?width=815&amp;format=png&amp;auto=webp&amp;s=585ec992778f416894ba541866c90f840379ba9d

 

The **cancellation rate** is computed by dividing the number of canceled (by client or driver) requests with unbanned users by the total number of requests with unbanned users on that day.

Write a SQL query to find the **cancellation rate** of requests with unbanned users (**both client and driver must not be banned**) each day between ""2013-10-01""  
 and ""2013-10-03""  
. Round Cancellation Rate  
 to **two decimal** points.

Return the result table in **any order**.

The query result format is in the following example.

&amp;#x200B;

https://preview.redd.it/x3ieijw99h881.png?width=320&amp;format=png&amp;auto=webp&amp;s=24318078cb3f136c4e594cc49d923415024d4142

I've written the following code, but the system won't accept it. 

    WITH NB as (SELECT * 
    FROM Trips
    WHERE client_id IN (Select users_id 
    FROM users
    WHERE banned='No') and driver_id IN (Select users_id 
    FROM users
    WHERE banned='No') and request_at between '2013-10-01' and '2013-10-03'
    )
    SELECT  request_at as Day, round(count_cancelled/completed,2) as 'Cancellation Rate'
    FROM (
    SELECT request_at, 
    	   count(distinct case WHEN `status` &lt;&gt; 'completed' then 'id' end) as count_cancelled,
           count(`status`) as completed
    FROM NB
    GROUP BY request_at) c;

&amp;#x200B;

[This is what I get](https://preview.redd.it/z1lgrv4w9h881.png?width=610&amp;format=png&amp;auto=webp&amp;s=3e283b81324fab76f647e91fd184f693611e87ae)

I'd like to check if I miss anything or system just won't accept it because of some technical (perchance, marking....) problem",learnSQL,What is wrong with my submission?,1.0,https://www.reddit.com/r/learnSQL/comments/rr7g83/what_is_wrong_with_my_submission/
73,snip3r77,1640786410,rr8t06,0,1,"&amp;#x200B;

https://preview.redd.it/k31g01eomh881.png?width=223&amp;format=png&amp;auto=webp&amp;s=32859b54cfa7b8ce17a2ece551422c4bfcc239eb

If you just 'link' them based on Child, it will only output Father and A and not the output stable in the image above. Pls advise. 

Thanks",learnSQL,how do you query the following( join tables and... ) ?,1.0,https://www.reddit.com/r/learnSQL/comments/rr8t06/how_do_you_query_the_following_join_tables_and/
74,thumbsdrivesmecrazy,1640857486,rrxz5e,0,1,"In December 2021, [r/bipp](https://new.reddit.com/r/bipp/) BI platform introduced new interface feature that makes SQL visual, letting users query or explore data through a point-and-click interface and create and share charts in minutes, all without any programming: [Visual SQL data explorer - bipp Analytics](https://bipp.io/features/visual-sql-data-explorer/)

&amp;#x200B;

[bipp Visual SQL Data Explorer](https://preview.redd.it/95q2mf57in881.png?width=1151&amp;format=png&amp;auto=webp&amp;s=8df41592a43a1dd16691544892904226f4407148)

Visual SQL Data Explorer helps small teams quickly get insights from their data and lets all users create charts without any coding, so you shouldn’t have to learn a programming language to get insights from your data. The no-code visual UI is intuitive for business users and presents a flexible option for programmers.",learnSQL,bipp Visual SQL Data Explorer - Get Your Database to Charts Easily,1.0,https://www.reddit.com/r/learnSQL/comments/rrxz5e/bipp_visual_sql_data_explorer_get_your_database/
75,noobJedi,1640890904,rs9b0s,0,1," 

Hey I was trying to achieve this:

Join Query to join two table based on a common column and condition on another column that are similar.  
Here are the tables:  
**T1**

&amp;#x200B;

https://preview.redd.it/jlxu6n7k9q881.jpg?width=476&amp;format=pjpg&amp;auto=webp&amp;s=a5e565a6458bec82e7e7422cfa21bdb57e876cb9

**T2**

&amp;#x200B;

https://preview.redd.it/g6yv5duk9q881.jpg?width=1606&amp;format=pjpg&amp;auto=webp&amp;s=fa538070536a88e34fcb7a1696f806e17b5dc4e6

Wanted to append Swings column from T2 to T1 and return the T1.  
T1 and T2 are match by T1.Ticker and T2.SymbolDb, and condition being max(T2.time\_close) &lt; T1.TimeStamp. (meaning the I want T1.swing value where max value of T2.timeclose which is just less than T1.TimeStamp).

T2 table has thousands of rows.  
I had tried writing query but it returns thousands of rows of t1 . t1 ONLY HAS about 9 rows.

P.S: I am absolute beginner",learnSQL,Join query with COndition,1.0,https://www.reddit.com/r/learnSQL/comments/rs9b0s/join_query_with_condition/
76,rjray,1640895643,rsb5es,0,1,"(TL;DR: Need to know how to model a semi-redundant set of relationships)

I am redesigning a database application of mine (personal side-project) based on what I've recently learned in a formal DBMS class. I've already made a number of changes that are clearly improvements over the previous schema. But I have one area that I'm struggling with, and hope I can get some help on.

The application tracks reference material for my hobby. A reference can be a book, a magazine article/feature, a set of film photos, a DVD/CD ROM full of photos, etc. Things like that. The problem is with books.

A `Reference` has the basic fields that all ref-types have in common: `id`, `name`, `language`, and timestamps. A `Book` has three additional properties: `isbn`, `publisher`, `series`, and `series_number`. (It also has a foreign key reference to the related `Reference` record.) Based on what I've recently learned, it would be wise to have the publisher be a separate entity with a FK reference to it in the `Book` entity. That would prevent the information on a publisher from being lost if the last book from that publisher is deleted.

However (and where the confusion comes in), while all books (theoretically) have a publisher, not all are a part of a series. So having the `series` and `series_number` in the `Book` schema would be wasteful. Plus, as far as `series` goes, having that in `Book` brings the same issue as having `publisher` in `Book`. So my design was to have `Book`, `Publisher`, and `Series` all be separate entities. I would use a FK relation to map `Publisher` to book and a relation table to map those books that are in a series to the relevant `Series` (the table records would both associate book to series and store the series number of the book).

BUT! A series is also linked to a specific publisher. I have more than one different series in my collection titled ""Aircraft in Detail"", and I have to know the publisher to distinguish them. So `Series` also needs a FK relation into `Publisher`. But now, the publisher information is redundant for a book; I can get it either directly through the FK on `Book`, or indirectly through the FK on `Series`. And this feels like a bad design smell.

What would be the most sensible way of approaching this? Given that a `Book` instance will only ever be linked to one `Publisher` and possibly one `Series`?",learnSQL,Joins vs. Extra Fields: Trying to avoid redundancy,1.0,https://www.reddit.com/r/learnSQL/comments/rsb5es/joins_vs_extra_fields_trying_to_avoid_redundancy/
77,lordaghilan,1640939568,rspd92,0,1,"I spent the last 2 days learning the basics of PostgreSQL. When I say basics I mean

SELECT FROM WHERE HAVING ORDER BY GROUP BY INNER JOIN HAVING

I want to create sort of project or do something I can add to my portfolio to show potential recruiters I am somewhat familiar with SQL. I'm looking for something small, maybe something which would take max 5-6 hours. I'm a first year CS student so I thought I'd pick up SQL. Apart from what I listed, are there any other major things to learn in SQL. I plan on learning LEFT JOIN since I forgot to do so today.

I am also planning on using Pg as the db for a Python Flask Site I'm building. 

BTW, how do Python and SQL interact with each other if they do so at all? I'm familiar with Python so if I can build a SQL/Python based project that would be ideal. I really appreciate the time you took to read this and any ideas and feedback!",learnSQL,Project to Display,1.0,https://www.reddit.com/r/learnSQL/comments/rspd92/project_to_display/
0,Watermelon638,1635770757,qkd7po,0,1,"Hi,

I recently uploaded a dataset  from excel into BigQuery and none of the column names have translated into field names and all of the data has converted to string instead of the correct type. I have uploaded data into BigQuery before but i'm not sure where it went wrong today.

&amp;#x200B;

[Here is an example of the dataset](https://preview.redd.it/tucx278qbzw71.png?width=1920&amp;format=png&amp;auto=webp&amp;s=f345cfba4aa0a382e204716e56b5b66feb65b280)

&amp;#x200B;

&amp;#x200B;

[This is the schema on BigQuery](https://preview.redd.it/6yujo1giczw71.png?width=1920&amp;format=png&amp;auto=webp&amp;s=64b26de83d7f529b62eefd931e19a7c36ac73fcc)

Any suggestions on how to fix this would be helpful!",learnSQL,Column names haven't translated to Field Names,1.0,https://www.reddit.com/r/learnSQL/comments/qkd7po/column_names_havent_translated_to_field_names/
1,querymeister,1635777534,qkfeb4,0,1,"Hi Everyone,

we are currently building an App for BI professionals to use SQL in online Notebooks.   
Since we have gotten a lot of interest from people that are new to SQL, I figured I would offer it here.   
Basically, you can make a free account and practice your skills on our Demo database (postgres).  
Since everything is in a Notebook format, you can keep your notes in place with your Queries.  
You could also invite friends or publish your Notebooks if you need feedback or help with anything. 

I'd be super interested in hearing what you think about the App of course :)",learnSQL,Query.me | Try SQL with live data in Notebooks,1.0,https://www.reddit.com/r/learnSQL/comments/qkfeb4/queryme_try_sql_with_live_data_in_notebooks/
2,NuNerd,1635800198,qknlud,0,1,"Hello everyone!

I've been a premium Dataquest member for two years now and I've been offered a chance to get free lifetime access if I can refer 4 friends to buy annual subscription on Dataquest.

You would get $15 discount.

Since I don't know anyone in person who would buy their subscription I'm writing here because there might be some people here who might be interested.

Dataquest is a great platform to learn data science for both beginners and advanced learners. It's hands on approach to learning really makes it fun and motivating.

Referral link: [app.dataquest.io/referral-signup/4gjy2pre/](https://app.dataquest.io/referral-signup/4gjy2pre/)

If you are interested just click on a link and subscribe to their premium annual plan that costs $399.

It would mean a lot to me!

Thank you in advance!",learnSQL,Dataquest discount for those who want to learn data science!,1.0,https://www.reddit.com/r/learnSQL/comments/qknlud/dataquest_discount_for_those_who_want_to_learn/
3,fast_monkey668,1635803252,qkoow7,2,1,"Consider a table that looks like this where the entries B,C, and D don't matter:

A | B | C | D

x

x

x

x

y

y

&amp;#x200B;

What can I do to count the amount of occurrences of x and y in column A ? 

In this case the answer would be x = 4, y = 2

Thank you for your help!",learnSQL,Simply Query Help,0.67,https://www.reddit.com/r/learnSQL/comments/qkoow7/simply_query_help/
4,LeasTEXH01,1635821357,qkunl9,3,1,"Hello, SQL newbie here and I'm trying to write a code that calculates the year-over-year growth in total sales (as a percentage). I'm using the Superstore dataset. How would I do this with the following code? 

    SELECT 
    EXTRACT(year FROM order_date) AS order_year,
    SUM(sales) AS total_sales,
    FROM orders
    WHERE order_date BETWEEN date '2016-01-01' and date '2019-12-01'
    GROUP BY 1
    ORDER BY 1",learnSQL,How to calculate YoY Growth in PostgreSQL,1.0,https://www.reddit.com/r/learnSQL/comments/qkunl9/how_to_calculate_yoy_growth_in_postgresql/
5,gyeah7,1635828610,qkwp2a,3,1,"I'm not sure if I have my answer correctly..

  

**Select employee\_id, sum(employee\_salary)**

**From employee\_salary** 

**Group by employee\_id, department\_id**   

&amp;#x200B;

Not sure if I need to do group by **department\_id..** 

https://preview.redd.it/nmwhrx7i44x71.png?width=394&amp;format=png&amp;auto=webp&amp;s=99c19258dd08ba1f5eb3e88927b4ca097bc6da05",learnSQL,Finding total salary from all departments for each,1.0,https://www.reddit.com/r/learnSQL/comments/qkwp2a/finding_total_salary_from_all_departments_for_each/
6,csnorman12,1635864352,ql5slq,18,1,"When I was learning SQL I was often frustrated by a few things. **First, I wanted to learn more than just basic SQL syntax.** I wanted a database that I could write queries against, make mistakes, and learn by trial/error.  **Second, I didn't want to learn SQL with some online text editor.** I wanted to learn within a real database management system (DBMS). Half the battle when learning SQL is learning the DBMS. Learning a DBMS also allowed me to find my own data and build my own practice database. **Third, I wanted to practice with real data**. I wanted to solve questions that would be similar to real-world scenarios. 

Years after learning SQL, I decided to provide a resource for students that share my same frustrations. Last month I published my SQL course and it has already helped hundreds of students. These students have given me great feedback and I continually add to the course to make it better. If you're interested then please message me or comment below and I will share the course link and a coupon code.",learnSQL,Frustrations when learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ql5slq/frustrations_when_learning_sql/
7,throwawayhahalolhaha,1635870660,ql83f9,1,1,"I am new to ER diagrams and I have a simple question about the best way to model the following:

One or more **inhabitants** (weak entity) is assigned to be the leader of a **group** (strong entity). A **group** consists of 1 to many **inhabitants**. An **inhabitant** cannot be a member of more than one **group**.

What I have done:

**group** (strong entity) --- contains (identifying) --- **inhabitant** (weak entity) \[total participation on both sides &amp; 1:N\]

Then with the same entities, I have a new relationship that looks like this:

**group** \-- Leader\_Group (non-identifying) --- **Inhabitant** \[total participation on the side of Group &amp; 1:N\]

Does this make sense? I am struggling to find a better way to capture the information.",learnSQL,ER Diagram / Model - Multiple Relationships Between Two Entities,1.0,https://www.reddit.com/r/learnSQL/comments/ql83f9/er_diagram_model_multiple_relationships_between/
8,Main_Chipmunk_6005,1635887583,qledjf,1,1," The Column I am trying to filter by is written in this kind of format: ""2008-04-05 05:24:36"". How can I sort this to only query a particular year? Can you give me an example of the query?",learnSQL,How to Query only a specific time frame,1.0,https://www.reddit.com/r/learnSQL/comments/qledjf/how_to_query_only_a_specific_time_frame/
9,Nikzsss,1636047270,qmpy1n,3,1,"Fields given are name, roll number, mark1, mark2 and mark3",learnSQL,How do I display a rank list(name and roll number) of students based on their average marks from 3 subjects?,1.0,https://www.reddit.com/r/learnSQL/comments/qmpy1n/how_do_i_display_a_rank_listname_and_roll_number/
10,HASTURGOD,1636051655,qmrjn1,1,1,"I'm trying to get some data limited to 2 prior business days. 

In my where statement,  I tried; 

Cast(dateadd(d,-2,getdate()) as date)

Is that correct?",learnSQL,Business Days,1.0,https://www.reddit.com/r/learnSQL/comments/qmrjn1/business_days/
11,puch4ty,1636126598,qndqqi,3,1,"Hello, I have a table looking something like this:

&amp;#x200B;

|1|EE-984562149|
|:-|:-|
|2|CRM-648964165|
|3|GP-36249841654|
|4|NN-4654981966|
|5|CRM-6549849564|
|6|EE-9684949544|

My question is how do I return only the values ""EE%"" as ""EE"" and ""GP%"" as ""GP"" and make a header of this column to be CODE?",learnSQL,How do I get a part of a string which is unregular in length?,1.0,https://www.reddit.com/r/learnSQL/comments/qndqqi/how_do_i_get_a_part_of_a_string_which_is/
12,19Ant91,1636135714,qngzpf,4,1,"So for the sake of disclosure, this is for a homework assignment.

Given the tables STUDENT, LIVES, DORM. I need to find all of the DORMs where students are **only** from a given city (city is an attribute of student).

For background, STUDENT is related to LIVES through an ID attribute and LIVES is related to DORM through a DormID attribute.

I've tried a bunch of stuff and I'm trying to use NOT IN at the moment, but every query I make returns dorms that have at least one person from a given city.

I almost need some sort of FOR ALL clause, but I don't think anything like that exists in MySQL. Can anyone give me any pointers?

Here's what I have so far,

    SELECT * FROM DORM, LIVES, STUDENT
    WHERE DORM.DormID=LIVES.DormID
    AND LIVES.ID=STUDENT.ID
    WHERE STUDENT.ID NOT IN
    (SELECT ID FROM STUDENT WHERE city!='miami');",learnSQL,MySql - Selecting tables that only reference other tables with a specific attribute,1.0,https://www.reddit.com/r/learnSQL/comments/qngzpf/mysql_selecting_tables_that_only_reference_other/
13,Glittering_Sail_5719,1636147269,qnkyms,1,1," 

Hi,

I am just starting learning SQL..

I need help:

I want to create a check constraint for a column in Table1 so that it is smaller than another column value in another table?

I tried join but it is not working!",learnSQL,sql question,1.0,https://www.reddit.com/r/learnSQL/comments/qnkyms/sql_question/
14,DragXom,1636209522,qo1l0u,22,1, ,learnSQL,"I want to learn SQL for free, where do I start?",1.0,https://www.reddit.com/r/learnSQL/comments/qo1l0u/i_want_to_learn_sql_for_free_where_do_i_start/
15,twentyfive_25,1636221642,qo5ndt,0,1,"I am using SQLite3 to search through my database tables for a list. I would like this to only select the tables that contain a specific string.

The below is working fine to generate a list of my tables:

    SELECT name FROM sqlite_master WHERE type=""table"" ORDER BY name;

However, when i add in the LIKE, this does not return anything: 

    SELECT name FROM sqlite_master WHERE type=""table"" LIKE ""dinner"" ORDER BY name;

An example of my tables below:

    dinner_fish_and_chips
    dinner_chicken_pie
    lunch_beef_noodles
    dinner_chicken_chow_mein
    breakfast_crossaints

Any help is much apprecaited.",learnSQL,SQLite3 - list of tables which contain string not working,1.0,https://www.reddit.com/r/learnSQL/comments/qo5ndt/sqlite3_list_of_tables_which_contain_string_not/
16,HotPermafrost,1636234680,qo9woy,3,1,"I know it's super basic but I don't know how to do it. This is what I tried:  


 SELECT TITULO, PRECIO\_ORI

	FROM LIBRO

	WHERE EDICION = 1978 and EDICION = 1948 and EDICION = 1985",learnSQL,"Hi, I have to select TITULO, PRECIO_ORI from 3 different EDICION and the AND operator for each one of the selected years does not work to get that. How do I do it? Thanks",1.0,https://www.reddit.com/r/learnSQL/comments/qo9woy/hi_i_have_to_select_titulo_precio_ori_from_3/
17,xozov,1636277342,qol41x,1,1,"Please tell me a query to solve this problem,

`TABLE(Name,Value,ID):`

`+-------------+`

`|Name|Value|ID|`

`+-------------+`

`|Adam| 50  |20|`

`|Ron | 23  |65|`

`|Jen | 60  |75|`

`+-------------+`

Question: Given Two ""ID"" update the table by:-

1) Add ""Value"" of ""ID"" 20 and 65,and put the sum inside ""ID"" 20's ""value"".

2) Absolute difference of ""Value"" of ""ID"" 20 and 65, and put the difference inside ""ID"" 65's ""value"".

&amp;#x200B;

`Final Answer Table:`

`+-------------+`

`|Name|Value|ID|`

`+-------------+`

`|Adam| 73  |20|`

`|Ron | 27  |65|`

`|Jen | 60  |75|`

`+-------------+`",learnSQL,MySQL query HELP,1.0,https://www.reddit.com/r/learnSQL/comments/qol41x/mysql_query_help/
18,CrownOfIce,1636290311,qoo58x,0,1,"Hello,

How do I activate foreign keys in DB browser? Every time I enable foreign keys in Pragma it gets reset to 0. How can I make it stay on?",learnSQL,Activate Foreign Keys in DB Browser,1.0,https://www.reddit.com/r/learnSQL/comments/qoo58x/activate_foreign_keys_in_db_browser/
19,nightslikethese29,1636308431,qou4fs,5,1,"https://i.imgur.com/XYrVjGR.png

Please see the above query. I was getting it wrong because I was writing it:

HAVING

       avg_budget &gt; 60000000;

I have a feeling that this is because of the order of operations. Is that a correct assumption?",learnSQL,Why can't I reference an alias in the HAVING clause?,1.0,https://www.reddit.com/r/learnSQL/comments/qou4fs/why_cant_i_reference_an_alias_in_the_having_clause/
20,Aron2k1,1636408988,qpog8c,1,1,"Hi Ive made two tables and one of them references another using a foreign key. I'm trying to add data into all the tables however when i try and add data into the child (refered to table) I get an error that says I cannot add or update a child row a foreign key constraint fails. 

&amp;#x200B;

Does anyone know how I can avoid this? I understand that the data values for the foreign key row has to be the same but I still got the error?",learnSQL,mySQL Help please,1.0,https://www.reddit.com/r/learnSQL/comments/qpog8c/mysql_help_please/
21,Equal-Technology2528,1636423500,qpt79p,0,1,"I'm working within an ERP system that uses work orders. I know the data I'm looking for but I'm having a hard time creating a query of any kind to produce the results I need. This ERP system is designed to be able to create work orders and then link child work orders off of it. 

When you do this, the child work orders are scheduled in a fashion to meet the requested ""Want Date"" of the parent work order. Because of the way the scheduling system works in this ERP, that ""Want Date"" field is not carried over to the child work orders. I need that date to calculate a DATEDIFF for material requirements on those child work orders. So, I know the information I need, just having trouble getting it to populate into the row results with any kind of join or other things I've tried. 

Example: 

Note: SUB\_ID 0 (zero) equals the Parent Work Order. A SUB\_ID of anything 1 or greater is a child work order that is linked to the parent.   


https://preview.redd.it/eo9lphfs7hy71.png?width=1057&amp;format=png&amp;auto=webp&amp;s=7f809b7428dfd95f4d778b60af01d7758af6ad19

DESIRED\_WANT\_DATE in the bottom three rows is not an available field in those child work orders so they populate as NULL. Is there anyway I can copy the parent work orders DESIRED\_WANT\_DATE into the NULL values of the child work orders for the query results? Keep in mind this example is looking at a single WO just for testing the query. The final result will be pulling out much more information than what's shown and include many more work orders. 

In the query results shown, DESIRED\_WANT\_DATE is from one table while all other columns are from the same 2nd table. The results are using an INNER JOIN on the BASE\_ID and SUB\_ID as those columns reside in both tables.   


The ""DAYS EARLY/LATE""  column (2nd to last) is a calculated column using DATEDIFF. FINISH\_DATE is determined by the system based on when the material requirement will be made available. This information is calculated from various sources (purchase orders, other work orders, etc). My goal is to take the FINISH\_DATE minus DESIRED\_WANT\_DATE to get a number. Anything negative would represent a material that is expected to be late and we can then sort the results to prioritize remedying the materials causing the most negative impact.",learnSQL,Defining certain row information based on other defined criteria,1.0,https://www.reddit.com/r/learnSQL/comments/qpt79p/defining_certain_row_information_based_on_other/
22,sql_theCloneWars,1636425674,qptvem,4,1,"Hi,

I've got a sql question that I'm struggling with wrapping my head around.

I've got two columns.  

* Column A , can contain null values and the names A, B, and C
* Column B, can't contain null values and can contain A, B and U.  


I want to say:

SELECT

Column A - If A Then Adam. If B then Brent and if C Then Collin.  If Null go to Column B.

Column B - If A then Adam. If B then Brent if U then Unknown.

&amp;#x200B;

I know I can use the COALESCE function to give me the first non null value between the two columns... and this would be fine if I just wanted to leave the columns with A,B,C, or U... but since I want names to display rather than just the first initial, I'm having a hard time getting this down.

Can I wrap a Case function within a Coalesce function? and if so, whats the best approach to do that?",learnSQL,Little Sql Help - Coalesce/Case?,1.0,https://www.reddit.com/r/learnSQL/comments/qptvem/little_sql_help_coalescecase/
23,iLike206,1636429495,qpv03f,1,1,"I have 2 codes that I have to do for my class but it kept giving me errors. 

 USE TSQL 2018

GO

&amp;#x200B;

CREATE SCHEMA Operations AUTHORIZATION dbo;

GO

&amp;#x200B;

IF OBJECT\_ID('Operations.Operators') IS NOT NULL 

DROP TABLE Operations.Operators;

&amp;#x200B;

CREATE TABLE Operations.Operators (

opID INT NOT NULL IDENTITY PRIMARY KEY,

opName nvarchar(20) NOT NULL,

opDescription nvarchar(80) NOT NULL

CONSTRAINT con\_opdescription DEFAULT('No Description')

dateEntered DATE NOT NULL DEFAULT GETDATE()

INSERT INTO Operations.Operators(opName)

VALUES('A', 'B', 'C')

);

CREATE TABLE Operations.Stock (

stockid INT 

CONSTRAINT pk\_stock PRIMARY KEY(stockid),

opID INT 

CONSTRAINT fk\_ops FOREIGN KEY(opID) REFERENCES dbo.Operators(opID),

unitprice MONEY NOT NULL, 

discontinued BIT NOT NULL

CONSTRAINT def\_disc DEFAULT(0)

ALTER TABLE Operations.Stock

ADD CONSTRAINT chk\_unitprice CHECK(unitprice &gt;=0)

INSERT INTO Operations.Stock

VALUES(1,3,$22.95)

&amp;#x200B;

&amp;#x200B;

I kept getting the error message ""Msg 2714, Level 16, State 6, Line 6

There is already an object named 'Operations' in the database.

Msg 2759, Level 16, State 0, Line 6

CREATE SCHEMA failed due to previous errors.

Msg 142, Level 15, State 2, Line 7

Incorrect syntax for definition of the 'TABLE' constraint.""  

&amp;#x200B;

And "" 

Msg 213, Level 16, State 1, Line 39  
Column name or number of supplied values does not match table definition.""  

&amp;#x200B;

Can anyone help me with this and explain to me what I did wrong?",learnSQL,SQL HELP,1.0,https://www.reddit.com/r/learnSQL/comments/qpv03f/sql_help/
24,Low_Discussion_1788,1636462767,qq355j,4,1,"Hi All, newbie here. 

I'm using a fictitious dataset on stock prices to practice my SQL skills and have run into an issue. I'm currently using BigQuery to run my SQL queries. I'm trying to extract the named day of the week from the date, using the DATENAME function, but it seems that it is not supported on BigQuery. 

I then decided to try extracting the day of the week as a number, and then use a CASE statement to indicate the day. However, I get the error that *number\_day* is an unrecognised name.

    SELECT 
        *,
        EXTRACT(DAY FROM date) AS number_day,
        CASE
            WHEN number_day = 1 THEN 'Monday'
            WHEN number_day = 2 THEN 'Tuesday'
            WHEN number_day = 3 THEN 'Wednesday'
            WHEN number_day = 4 THEN 'Thursday'
            WHEN number_day = 5 THEN 'Friday'
            WHEN number_day = 6 THEN 'Saturday'
            WHEN number_day = 7 THEN 'Sunday'
        END
    FROM 
        stock_price_data.Stock_Price

Would appreciate any advise on this. 

Thanks in advance!",learnSQL,BigQuery: Unrecognised name in case statement,1.0,https://www.reddit.com/r/learnSQL/comments/qq355j/bigquery_unrecognised_name_in_case_statement/
25,TheRealAbear,1636499740,qqg1rj,5,1,"Lets say I have a query trying to find average points an nba player scores grouped by player and team

Tables are Team and Player respectfully 

Query

&amp;#x200B;

`SELECT Team,Player, SUM(POINTS)/COUNT(Games_Played)`

`FROM Team t`

 `JOIN Player p`

`ON t.iID = p.TeamId`

`WHERE Team LIKE 'Pelicans'`

`GROUP BY player, Team`

&amp;#x200B;

I get the same number, lets say 100, for every player. It seems as if the query is grouping and summing by the team, not the player. 

&amp;#x200B;

Any ideas why? Ive played around with joins and the group by clause to no avail",learnSQL,SQL Join Question(with aggregate function),1.0,https://www.reddit.com/r/learnSQL/comments/qqg1rj/sql_join_questionwith_aggregate_function/
26,climbing-rocks,1636547928,qqthzk,3,1,"Imagine the table below but with 1000s of records, I want to select a subset of the data, where I get a table back that has 5 rows with fish, 5 with dog and 5 with cat.

|ID|PET|AGE|
|:-|:-|:-|
|1|CAT|14|
|2|CAT|63|
|3|DOG|47|
|4|DOG|92|
|5|FISH|36|

 at the moment my SQL looks like this, is there a better way?

    (SELECT * FROM TABLE WHERE PET = CAT LIMIT 5) 
    UNION ALL 
    (SELECT * FROM TABLE WHERE PET = DOG LIMIT 5) 
    UNION ALL 
    (SELECT * FROM TABLE WHERE PET = FISH LIMIT 5)",learnSQL,Is there a better way to select even samples?,1.0,https://www.reddit.com/r/learnSQL/comments/qqthzk/is_there_a_better_way_to_select_even_samples/
27,GAGARIN0461,1636552135,qquuct,1,1,"I have two tables, where I want to retrieve ""name"" and ""type"". The tables look like this:

**Table ""people""**

|person\_id|number|active|
|:-|:-|:-|
|1|100|1|
|2|200|1|
|3|300|0|

**Table ""people\_attributes""**

|id|person\_id|attribute\_name|attribute\_value|
|:-|:-|:-|:-|
|1|1|name|john|
|2|1|type|demon|
|3|2|name|jane|
|4|2|type|troll|
|5|3|name|jill|
|6|3|type|faun|

How do I write a query to retrieve ""name"" and ""type"" for each of the rows in table ""people\_attribute""? It's been a long time since I last wrote SQL queries. 

Thanks",learnSQL,Query to get certain values from different table,1.0,https://www.reddit.com/r/learnSQL/comments/qquuct/query_to_get_certain_values_from_different_table/
28,PrestigiousZombie531,1636552526,qquyss,0,1,"* I am using postgres 13 and I have a doubt regarding database schema
* I want to support email, password + social login using facebook.... on my web app
* My current schema looks like this
* USERS
   * user\_id (integer not null)
   * nickname (unique but can be null)
   * email (unique not null)
   * password (can be null)
   * email\_verified (boolean not null)
   * enabled (boolean not null)
   * created\_at
   * updated\_at
   * picture\_url (can be null)
* SOCIAL\_TOKENS
   * provider\_user\_id (varchar id assigned by say facebook that makes user unique on their website)
   * provider\_type (facebook,google, github, etc)
   * user\_id (foreign key to the users table)
   * access\_token (varchar not null)
   * refresh\_token (can be null)
   * expires
   * created\_at
   * updated\_at
* I want to support both users with email password and ones with social login
* I cant help but notice that my table has a lot of nullable columns especially the USERS table
* How do I
   * NORMALIZE the too many nullable columns from USERS table
   * let social login users set a password?
   * let user have multiple emails?
* Thank you in advance for your help",learnSQL,Question about a database schema that supports both password based and social login,1.0,https://www.reddit.com/r/learnSQL/comments/qquyss/question_about_a_database_schema_that_supports/
29,Bradzoey,1636559192,qqx9vg,0,1,"Hello I am trying to a solve a problem that involves two tables. Table 2 keeps track of the of the number of times (x) that a specific string(s) appears in Table 1. I want to create a trigger that every time new data is inserted into Table 1... Table 2 will be updated accordingly depending on if the string exists already or does not. Any help will be much appreciated.

I used the following code to create my two tables.

create table Table1 (

   s varchar2(100),

   a number,

b number

primary key ( a, b));

&amp;#x200B;

create table Table2(

s varchar2(100) primary key,

   c number( \* , 0));",learnSQL,New to SQL/ Triggers,1.0,https://www.reddit.com/r/learnSQL/comments/qqx9vg/new_to_sql_triggers/
30,est-1913,1636572602,qr24u4,0,1,"Note: I am working with Apache Impala.

My database has the following structure:

| person | sport | attempt | score |
|--------|-------|---------|-------|
| John   | Run   | 1       | 8     |
| John   | Run   | 2       | 2     |
| John   | Run   | 4       | 2     |
| John   | Jump  | 1       | 4     |
| John   | Jump  | 2       | 9     |
| John   | Swim  | 2       | 9     |
| John   | Swim  | 4       | 3     |
| Marie  | Run   | 1       | 4     |
| Marie  | Run   | 2       | 4     |
| Marie  | Swim  | 5       | 8     |

I am interested in the changes in person + sport combination scores by from attempt to attempt.

Without considering missing values (i.e. only considering numeric changes) this is pretty easy to achieve:
    
    SELECT *
    FROM (
        SELECT
            person,
            sport,
            LAG(attempt, 1) OVER(PARTITION BY person, sport ORDER BY attempt) AS previous_attempt,
            attempt,
            LAG(score, 1) OVER(PARTITION BY person, sport ORDER BY attempt) AS previous_score,
            score
        FROM results
        )
    WHERE previous_attempt IS NOT NULL
    AND score &lt;&gt; previous_score     

Results in:

| person | sport | previous_attempt | attempt | previous_score | score |
|--------|-------|------------------|---------|----------------|-------|
| John   | Jump  | 1                | 2       | 4              | 9     |
| John   | Run   | 1                | 2       | 8              | 2     |
| John   | Swim  | 2                | 4       | 9              | 3     |

However, I am also interested in missing attempts, so the output should look like the following:

| person | sport | previous_attempt | attempt | previous_score | score |
|--------|-------|------------------|---------|----------------|-------|
| John   | Run   | 1                | 2       | 8              | 2     |
| John   | Jump  | 1                | 2       | 4              | 9     |
| John   | Jump  | 2                | 4       | 9              | NULL  |
| John   | Swim  | 1                | 2       | NULL           | 9     |
| John   | Swim  | 2                | 4       | 9              | 3     |
| Marie  | Run   | 2                | 5       | 4              | NULL  |
| Marie  | Swim  | 2                | 5       | NULL           | 8     |

I have struggled all this with this and I just cannot seem to make it work. Due to the enormous database size I try to avoid computationally expensive joins.",learnSQL,Help needed by LAG / LEAD with NULLs,1.0,https://www.reddit.com/r/learnSQL/comments/qr24u4/help_needed_by_lag_lead_with_nulls/
31,Unusual-Instance-717,1636602005,qrbycw,6,1,"Employee

|SSN|lastName|Salary|
|:-|:-|:-|
|111223333|Jones|45000|
|444556666|Smith|30000|
|2223334444|Wright|15000|
|111335555|Cobb|20000|
|333224444|Phillips|15000|

Say we have a table like this.

We want to find every employee that has one of the lowest two salaries. I'm not really sure how to go about it. I tried

    SELECT e.ssn, e.lname, e.salary
    FROM Employee e
    WHERE e.salary =
        (SELECT e2.salary
        FROM Employee e2
        ORDER BY e.salary ASC
        FETCH FIRST 2 ROWS ONLY
        );

But did not work.",learnSQL,How do I fetch every employee whos salary is equal to either of the bottom two salaries?,1.0,https://www.reddit.com/r/learnSQL/comments/qrbycw/how_do_i_fetch_every_employee_whos_salary_is/
32,sparklingjupiterdust,1636646098,qro9eu,8,1,"I'm going crazy because I've been googling this for half an hour and it seems like a relatively basic question, but I can't find any answers.

For example, if I have a table called movies and another one called movie\_prices, and do an inner join on them, what would the resultant table be called? Do I have to name it myself?",learnSQL,What is the name of the resulting table when you do an inner join?,1.0,https://www.reddit.com/r/learnSQL/comments/qro9eu/what_is_the_name_of_the_resulting_table_when_you/
33,o38528,1636656588,qrs325,6,1,"
I’m new to SQL so this is probably a dumb question. The task is as following:

——
CREATE TABLE numbers (x INT);
INSERT INTO numbers VALUES (3), (7), (2), (0);

What is the result of:

SELECT SUM (x % 2) FROM numbers;
——

Can someone please explain to me why the answer is 2?",learnSQL,Can someone please help me understand?,1.0,https://www.reddit.com/r/learnSQL/comments/qrs325/can_someone_please_help_me_understand/
34,pekmezzzZ,1636708760,qs7hsf,5,1,"In the table I created in MySQL, one of the columns is named ""I"" and the other is called ""I"". When I want to create the table in this way, phpmyadmin throws me an error like this:

\#1060 - Duplicate column name 'I'

&amp;#x200B;

What is the solution to this problem? Can someone who knows help? In my opinion, he accepts the letter I and I as the same, but they are not the same. Shouldn't this have to do with the utf encoding I created the table for? I tried creating the table and the database with utf\_turkish\_ci(this package contains the letters of my language). But I got the same error again. Waiting for your comments.",learnSQL,MySQL #1060 - Duplicate column name problem,1.0,https://www.reddit.com/r/learnSQL/comments/qs7hsf/mysql_1060_duplicate_column_name_problem/
35,corporatecoder,1636732197,qse2id,6,1,"I'm new to sql and I'm sure this is very simple, but I can't figure it out. I would greatly appreciate any help.

I am using \[this post\]([https://stackoverflow.com/questions/17274019/select-columns-from-second-row-add-to-the-end-of-the-first-row-in-sql-group-by-i](https://stackoverflow.com/questions/17274019/select-columns-from-second-row-add-to-the-end-of-the-first-row-in-sql-group-by-i)) to do something very similar, but cannot figure out how to export the return into a new table. I tried using the basic

                 SELECT * INTO NewTable FROM OldTable

but putting the ""INTO NewTable"" just before the ""FROM"" doesn't work.

Input Data:

|ID|Category|Value|
|:-|:-|:-|
|1|color|blue|
|1|size|big|
|1|shape|round|
|2|color|red|
|3|shape|box|
|3|size|tiny|

Desired Output:

|ID|Color|Size|Shape|etc.|
|:-|:-|:-|:-|:-|
|1|blue|big|round||
|2|red||||
|3||tiny|box||

&amp;#x200B;

My working code:

select min(ID),

max(case when Category='color' then Value end) color,

max(case when Category='size' then Value end) size,

max(case when Category='shape' then Value end) shape

--I tried ""INTO NewTable"" here, but got error--

from 

(   select ID, Category, Value

row\_number() over(partition by ID order by Category) seq    --have to keep seq here, not sure why

from OldTable) d       --what does d do here?

 group by ID;",learnSQL,How to export into new table?,1.0,https://www.reddit.com/r/learnSQL/comments/qse2id/how_to_export_into_new_table/
36,DaveUA,1636736940,qsfsnt,7,1,"Hi all, I have a table that looks like

    date                 product         member_id
    2021-01-01           1                01
    2021-02-01           1                01
    2021-03-01           1                01
    2021-04-01           2                01
    2021-05-01           2                01
    2021-06-01           2                01
    2021-07-01           1                01
    2021-08-01           1                01
    2021-09-01           1                01          

What a full table looks like:

         date                 product         member_id   min_start_date     max_start_date
    2021-01-01           1                01                       2021-01-01       2021-03-01
    2021-02-01           1                01                       2021-01-01       2021-03-01
    2021-03-01           1                01                       2021-01-01       2021-03-01
    2021-04-01           2                01                       2021-04-01       2021-06-01
    2021-05-01           2                01                       2021-04-01       2021-06-01
    2021-06-01           2                01                       2021-04-01       2021-06-01
    2021-07-01           1                01                       2021-07-01       2021-09-01
    2021-08-01           1                01                       2021-07-01       2021-09-01  
    2021-09-01           1                01                       2021-07-01       2021-09-01

and **desired** final output:

      product    member_id  min_start_date  max_start_date
         1               01               2021-01-01       2021-03-01
         1               01               2021-04-01       2021-06-01   
         1               01               2021-07-01       2021-09-01


So at each change in Product/Member_id, I get the minimum start date and maximum start date.

What I've tried: 
   
     create table temp as
     select 
          date,
         product,
         member_id,
        min(date) as min_start_date
        max(date) as max_start_date
    from product_detail
    group by date, product, member_id

    create table as prod_dates as
    select 
           a.*, 
           b.min_start_date,
          c.min_start_date,
    from a.product_detail a 
    left join temp b on a.member_id = b.member_id and a.date = b.min_start_date 
    left join temp c on a.member_id = c.member_id and a.date = c.max_start_date 
         
but it does not give me the correct date output for min_start_date and max_start_date

I will also have more than one member_id

How can I fix this?",learnSQL,How to get the minimum start date and maximum start date by product?,1.0,https://www.reddit.com/r/learnSQL/comments/qsfsnt/how_to_get_the_minimum_start_date_and_maximum/
37,Zomics,1636754129,qslvzk,0,1,"I've been a software developer for a couple of years now but I'm just starting out in the world of databases and SQL. I'll start off by saying that I'm working with Postgres to give context. I currently work at a small tech company and started to create a small prototype project that we hope grows into a larger product for us. I'm tasked with creating a simple database for some customer data stored in tabled reports.  I've spent the last few weeks learning about standard practices for SQL databases and creating a schema for the data that we wish to import. I've now started looking at how to translate that schema into an actual database of tables.

&amp;#x200B;

When I first started looking into doing this I created simple test tables inside of pgadmin on our server to test out writing queries and doing some simple SELECT and INSERT operations using C#. When I was doing this I came across documentation and tutorials that would create tables in this manner.

    CREATE TABLE distributors (
        did     integer,
        name    varchar(40),
        PRIMARY KEY(did)
    );
    
    CREATE TABLE distributors (
        did     integer PRIMARY KEY,
        name    varchar(40)
    );
    
    CREATE TABLE contacts(
       contact_id INT GENERATED ALWAYS AS IDENTITY,
       customer_id INT,
       contact_name VARCHAR(255) NOT NULL,
       phone VARCHAR(15),
       email VARCHAR(100),
       PRIMARY KEY(contact_id),
       CONSTRAINT fk_customer
          FOREIGN KEY(customer_id) 
    	  REFERENCES customers(customer_id)
    );

It essentially sets up a table all at once. Constraints, keys and all in one query. This is a how I created these test tables by running individual table queries inside of pgadmin one at a time. I found typing out each of these queries to be cumbersome and time consuming. 

&amp;#x200B;

I then looked for examples on how to translate a schema to a new database. I stumbled across this [GitHub](https://musicbrainz.org/doc/MusicBrainz_Database/Schema) for [MusicBrainz](https://musicbrainz.org/doc/MusicBrainz_Database/Schema). It illustrates the whole schema and shows you the scripts they use. I noticed they use individual SQL scripts that have one single job across all tables in the schema breaking it down into fine parts. Creating tables, dropping tables, creating constraints, keys etc. I've noticed others doing this as well while browsing around. I imagine this makes setting up backup databases much easier but also if you need to make changes to a current database schema you could quickly change individual components such as primary keys in a table very easy as you can make a quick change and then set up a new database with the new schema. 

&amp;#x200B;

My question comes down to why was this initially set up this way in the MusicBrainz project and whether this is a common practice? Are there other ways of breaking down a schema and writing SQL scripts to quickly import a schema into a database?",learnSQL,Standard practices for writing SQL scripts that import a schema.,1.0,https://www.reddit.com/r/learnSQL/comments/qslvzk/standard_practices_for_writing_sql_scripts_that/
38,alexfrnn,1636771782,qsrl4r,2,1, ,learnSQL,"are there some database options, like dbeaver or mysql server, to run versions for 32-bit laptops that run windows 7?",1.0,https://www.reddit.com/r/learnSQL/comments/qsrl4r/are_there_some_database_options_like_dbeaver_or/
39,lochydjango,1636789009,qsw6yg,0,1, ,learnSQL,learnSQL Subreddit Statistics,1.0,https://redditpagematrics.com/r/learnSQL
40,uwemneku,1636791936,qswuxn,1,1,"I'm trying to write a custom function that a parameter Y and returns the sum of all values in Column A where Column B is equal to Y.

Here's what I've written so far

&amp;#x200B;

    create or replace FUNCTION get_bal(project_id NUMBER)
       RETURN NUMBER
       IS 
       acc_bal NUMBER(8, 2) ;
       BEGIN 
          SELECT SUM(pledgeamt)
          INTO acc_bal 
          FROM dd_pledge 
          WHERE idproj = project_id; 
          RETURN acc_bal; 
        END;

How do I add an IF statement to check if acc\_bal is empty and return zero if this is true",learnSQL,Please I need help with writing a custom SQL Function in oracle mySqlDeveloper,1.0,https://www.reddit.com/r/learnSQL/comments/qswuxn/please_i_need_help_with_writing_a_custom_sql/
41,lucytalksdata,1636792704,qsx1d9,1,1,[https://lucytalksdata.com/sql-for-data-science-quest-1/](https://lucytalksdata.com/sql-for-data-science-quest-1/),learnSQL,SQL for Data Science - Quest #1,1.0,https://www.reddit.com/r/learnSQL/comments/qsx1d9/sql_for_data_science_quest_1/
42,AdviceNotAskedFor,1636810995,qt1iwm,1,1,Is there an online place I can try to wrap my head around recursion? Or a good downloadavle database with an example?,learnSQL,Recursion?,1.0,https://www.reddit.com/r/learnSQL/comments/qt1iwm/recursion/
43,buangakun3,1636813084,qt269q,9,1,"So I have the following sample attendance data (the complete data is [here](https://docs.google.com/spreadsheets/d/1ax3eukDnj67uh1Wo6GS_hupjD5KwJ_6agVo5pJ6ETVY/edit?usp=sharing).)

https://preview.redd.it/bkdmtbqe9dz71.png?width=468&amp;format=png&amp;auto=webp&amp;s=6f612e48693abf5af6e39beff9197a19971fc590

If you can see the data, one user can have several timestamps per day —most probably he/she is taking a break. 

What I want is to extract the min/max time —or the entry/leaving time— from each UserID per day on a separate column. The expected result resembles the following;

|Date|UserID|Entry|Leaving|
|:-|:-|:-|:-|
|2021-11-12|5838|10:13|23:06|
|2021-11-12|6487|09:20|18:20|
|2021-11-12|4880|8:40|16:40|
|...|...|...|...|",learnSQL,How to get the min/max time —or the entry/leaving time— from each UserID per day?,1.0,https://www.reddit.com/r/learnSQL/comments/qt269q/how_to_get_the_minmax_time_or_the_entryleaving/
44,sql_theCloneWars,1636830805,qt7zmf,1,1,"&amp;#x200B;

|Occurences|Name|start\_date|end\_date|
|:-|:-|:-|:-|
|13|Joe|09/02/2020|09/13/2020|
|4|Jim|09/10/2020|09/14/202|
|4|John|09/13/202o|09/14/2020|

&amp;#x200B;

So, i have a data set with Occurrences, name, startdate,enddate.  As you can see, the occurrences is basically start date - end date.  


I want get results that basically break the number of people per day.  For example, I want it to be broken down similar to this:

&amp;#x200B;

 

|Date|\#of people||
|:-|:-|:-|
|09/02/2020|1||
|09/03/2020|1||
|..... |.....||
|09/10/2020|2||
|.....|.....||
|09/13/2020|3||
|09/14/2020|2||
|09/15/2020|0||

Is there a possible way to do this?",learnSQL,Whats the best way to build this specific query based on data formatted like this,1.0,https://www.reddit.com/r/learnSQL/comments/qt7zmf/whats_the_best_way_to_build_this_specific_query/
45,Aj951MA,1636834206,qt92i8,5,1,"For someone reason I can’t wrap my head around the different types of joining. I read all the definitions and looked at the Venn diagrams, I even use full join, but for some reason… left, right, inner…etc are still not clicking. Can someone explain it to me like I’m 4?",learnSQL,Joining Question…,1.0,https://www.reddit.com/r/learnSQL/comments/qt92i8/joining_question/
46,saar17,1636901914,qtrhv5,0,1,[removed],learnSQL,(Help needed) Assistance with SQL queries,1.0,https://www.reddit.com/r/learnSQL/comments/qtrhv5/help_needed_assistance_with_sql_queries/
47,trustfulvoice94,1636936024,qu3kjv,8,1,"I've got a table: https://imgur.com/kIohrUY where I'm looking to calculate the 'new' column. 

The 'new' column should contain whether an id has been newly in a week. E.g. if id '41' is in Week-20, and it is also in Week-21, new is 'no'. 

Looking forward to your responses!",learnSQL,Assistance with Query,1.0,https://www.reddit.com/r/learnSQL/comments/qu3kjv/assistance_with_query/
48,Meeped16,1636940046,qu4twz,1,1, ,learnSQL,Help with CTE queries,1.0,https://i.redd.it/lcjo9cpmxnz71.png
49,dotnetdlc,1636967326,qucc8w,5,1,"Take the following 2 queries for example (using Bikestores database from sqlservertutorial)

    SELECT
        order_id,
        order_date,
        sales.orders.customer_id
    FROM
        sales.orders
    	inner join sales.customers on sales.orders.customer_id = sales.customers.customer_id
    	where sales.customers.city = 'New York'

&amp;#x200B;

    	SELECT
        order_id,
        order_date,
        customer_id
    FROM
        sales.orders
    WHERE
        customer_id IN (
            SELECT
                customer_id
            FROM
                sales.customers
            WHERE
                city = 'New York'
        )

According to sql server profiler both of them takes 0 milliseconds",learnSQL,Performance difference between join and subquery?,1.0,https://www.reddit.com/r/learnSQL/comments/qucc8w/performance_difference_between_join_and_subquery/
50,leviackerman9,1636985760,quheij,2,1,"Hello guys, I am new to SQL and having some problems while trying to upload a csv file into Bigquery. There was some problems with the format of the date in the csv file.I fixed it as far as I can. This is the format of the data now. Sometime uploading was successful but table did not contain any data. It was just 0 byte. What should I do to upload my file properly. 

https://preview.redd.it/ye4c3j4aprz71.png?width=361&amp;format=png&amp;auto=webp&amp;s=b9ac2c9fcd5cbaeb22b4ff3db64ac4a6004e5b17",learnSQL,I am getting errors every time while trying to load a csv file into bigquery,1.0,https://www.reddit.com/r/learnSQL/comments/quheij/i_am_getting_errors_every_time_while_trying_to/
51,Fair-Lalajaat_1230,1637000358,qumqtl,14,1, ,learnSQL,Interesting query,1.0,https://www.reddit.com/gallery/qumqtl
52,aquasoft,1637005184,quoiwp,5,1,"I've been learning a lot of SQL theory, but I need to actually practice what I've learned. Until now, sites or books that I've found have too few or too easy exercises/challenges.",learnSQL,What is the best way to practice SQL,1.0,https://www.reddit.com/r/learnSQL/comments/quoiwp/what_is_the_best_way_to_practice_sql/
53,edwardsnowden8494,1637026433,quw0xd,4,1,"I've been struggling with this for a bit I wonder if someone can assist. 

I have TABLE 1 with the following columns actor\_id, last\_name, last\_name\_length &amp; num\_films

I would like to update the num\_films columns with the amount of times actor\_id from Table1 appears in the actor\_id of table 2. For example if table 2 contains 6 rows associated with a particular actor\_id I'd like Table 1.num\_films to simply contain 6. I've tried various count and select queries but with no luck. Any advice?",learnSQL,Query to count amount of times row ID appears in another table,1.0,https://www.reddit.com/r/learnSQL/comments/quw0xd/query_to_count_amount_of_times_row_id_appears_in/
54,Adorable_Ear_9105,1637055893,qv49e3,0,1,I tried a alot but it showing Error when I run the thing.. and it's showing Read only database...can anyone tell me how to solve this problem,learnSQL,I cannot Run W3 School website in my macbook air..,1.0,https://www.reddit.com/r/learnSQL/comments/qv49e3/i_cannot_run_w3_school_website_in_my_macbook_air/
55,JustAnInternetPerson,1637068964,qv7o2l,4,1,"Greetings, Internet,  


I've just started learning SQL a few hours ago, and currently, i'm trying to join two tables without any matching columns by using a third table that contains the relationships between the first two tables.  


first, I wanted to just join them so that every item in table 1 shows with the corresponding partner(s) from table 2. For that, I used  


SELECT gericht.id as gericht, allergen.name as allergen  
FROM gericht\_hat\_allergen gha  
 INNER JOIN allergen  
 ON gha.code = allergen.code  
 INNER JOIN gericht  
 ON gha.gericht\_id = gericht.id  
ORDER BY [gericht.id](https://gericht.id);  


then, I wanted to join them so that every item from the first table is shown, even if it doesn't have any partners from table 2:  


SELECT gericht.id as gericht, allergen.name as allergen  
FROM gericht\_hat\_allergen gha  
 INNER JOIN allergen  
 ON gha.code = allergen.code  
 RIGHT JOIN gericht  
 ON gha.gericht\_id = gericht.id  
ORDER BY [gericht.id](https://gericht.id);  


Now, I want everything to show in the joined table. I want all items from table 1 shown with their respective partners from table 2, all items from table 1 that don't have a partner have partner &lt;NULL&gt; and all items from table 2 without a partner have partner &lt;NULL&gt; as well. Now, I thought I'd just do two right joins, but that seems to be wrong. If anyone could help me with this, that'd be greatly appreciated!",learnSQL,joining two tables using a third,1.0,https://www.reddit.com/r/learnSQL/comments/qv7o2l/joining_two_tables_using_a_third/
56,bubbabowski,1637075097,qv9rhy,1,1,"I am still learning sql, so I don't know the terminology, please forgive.  I am using MSSQL and would like to write a query that essentially says: Values a, b and f are part of a group called MyValues.  When I run a query, I'd like to reference ""MyValues"" in my WHERE clause.",learnSQL,How can I set a pre-determined group of values in a query?,1.0,https://www.reddit.com/r/learnSQL/comments/qv9rhy/how_can_i_set_a_predetermined_group_of_values_in/
57,develstacker,1637079382,qvbd78,0,1, ,learnSQL,"CTE, Recursive CTE, Table Variable, Local and Global Temp tables in SQL Server",1.0,https://youtu.be/zFhI0Ft3trY
58,Remount_Kings_Troop_,1637080183,qvbo2u,2,1,"The following Oracle SQL:

&gt; Select A.location_id, A.requirement from (select location_id, requirement from table1 where...) A

returns one result:


**location_id**|**requirement**
:--|:--  
30|100

which is correct.

The query:

&gt; Select B.location_id, B. requirement from (select location_id, requirement from table1 where...) B

returns no results, which is correct, since there is no data that meets that where statement (but that will not always be the case)

However, when I try a combined SQL statement:

&gt; select A.location_id, A.requirement, B.location_id, B.requirement
from (select location_id, requirement from table1 where...) A, (select location_id, requirement from table1 where...) B

I get no results.

I tried this using the NVL command in the main select statement:

select A.location_id, A.requirement, nvl(B.location_id,'10') nvl(B.requirement,'0')
from (select location_id, requirement) A, (select location_id, requirement) B

still, no results

And tried the NVL in the sub-select statement too:

select A.location_id, A.requirement, nvl(B.location_id,'10') nvl(B.requirement,'0')
from (select location_id, requirement) A, (select nvl(location_id,'10',) nvl(requirement,0) ) B

but no results.

What I'd like to see is this:

**location_id**|**requirement**
:--|:--  
30|100
10|0

I know I could UNION the results, but I actually need to do some math in the main select on the requirement value for some data sets (A.requirement - B.requirement)

Any advice?

Thanks.",learnSQL,"Oracle SQL Query returns values for one select statement but not when a second is added that has null values, even with NVL",1.0,https://www.reddit.com/r/learnSQL/comments/qvbo2u/oracle_sql_query_returns_values_for_one_select/
59,DC_OZ,1637082103,qvcflk,0,1,[removed],learnSQL,Any tutor recommendations for online classes.,1.0,https://www.reddit.com/r/learnSQL/comments/qvcflk/any_tutor_recommendations_for_online_classes/
60,serpentuk,1637101766,qvjz1h,10,1,"I have a set of employee data per store and would like to know who the “new” and “old” employees are - meaning the newly joined employees (newly taking into account vs. last week). The input data are the first 3 col’s (year-week, store, employee) and the output is status.

E.g. if an employee works at the Chicago store in week 2021-51 - since there is no previous data they are considered “new” or newly joined. If this same employee also works on 2021-52, they are considered “old”. If the employee takes a one week break, and then re-joins the same store, they are considered “new” once again, as it’s only vs. last week.

The aggregation should be done at store level, since each store is independent/separate. 

Data: https://ibb.co/Ntr5znY (looking to calculate the last column)",learnSQL,New Employees Query - Help,1.0,https://www.reddit.com/r/learnSQL/comments/qvjz1h/new_employees_query_help/
61,hornetpropaganda,1637103943,qvkrh3,0,1," 

I'm trying to create a stored procedure for a vaccination database. It needs to take date as an input (which must be in the past), it will find anybody who had a vaccination on the given day and check that they dont have any future bookings of the same vaccination number. If they do then cancel the future bookings.

I currently have a sp that can find anyone who had a vaccination on a given day and find anyone who has bookings after the search date but I'm completely lost as to how I could search per for each person and then delete their future bookings? I'd want to use a for loop but i know that's not really a thing in sql.

\[dbo\].\[Appointment\]

PK \[id\], \[placeId\], \[slot\], \[apptTime\], \[vaccineNumber\], \[personId\] FK, \[vialNumber\], \[vaccinator\]

\[dbo\].\[Person\]

PK \[NHI\], \[preferredName\], \[dateOfBirth\], \[eMail\], \[phone\], \[preferredContactMethod\]

CREATE PROCEDURE @ searchAppt

    @ searchDate datetime2(0) 

AS

BEGIN

    SELECT preferredName, NHI, apptTime, vaccineNumber  From Appointment  inner join Person on Appointment.personId = Person.NHI  WHERE apptTime =@ searchDate 
    SELECT preferredName, NHI, apptTime, vaccineNumber  From Appointment  inner join Person on Appointment.personId = Person.NHI  WHERE apptTime &gt; @ searchDate  

END;",learnSQL,Stored Procedure search help,1.0,https://www.reddit.com/r/learnSQL/comments/qvkrh3/stored_procedure_search_help/
62,mvpetri,1637113186,qvnsx5,7,1,"I understand this is a very beginner's question, but I would like advice.

I want to store an API response in a database. Most of the fields are just integers or small strings that falls withing a known range.

But I also want to save the api response, which is json file. The size can be small (10 lines) or large (100-200 lines, for example).  There will be dozens to a few hundred api calls to be saved per day.

So my question is: Considering I am using sql lite, what is the best practice here? Would it be OK to just save the entire json in the entry field, or should I save the json file elsewhere and just reference it?",learnSQL,SQLite: Is it ok to store arbitrary lines of text in a db?,1.0,https://www.reddit.com/r/learnSQL/comments/qvnsx5/sqlite_is_it_ok_to_store_arbitrary_lines_of_text/
63,PrestigiousZombie531,1637136803,qvuig1,4,1,"I am trying to setup a database where users can login via email/password or social login. A user can link multiple social logins to their account.

I tried to get something running from the link below

[https://dba.stackexchange.com/questions/74459/null-column-for-username-and-password-when-using-login-with-social-network](https://dba.stackexchange.com/questions/74459/null-column-for-username-and-password-when-using-login-with-social-network)

user(user\_id);

authenticator (authenticator\_id, name, description, authentication\_type);

user\_authentication(user\_id, authenticator\_id, authentication\_identity, authenticator\_token) ;

&amp;#x200B;

user

1

2

3

&amp;#x200B;

authenticator

1,password,,password

2,facebook,,facebook

3,google,,google

4,twitter,,twitter

5,github,,github

&amp;#x200B;

user\_authentication

[1,1,abc@gmail.com](mailto:1,1,abc@gmail.com),$2b$11$xwyYcDOlRBRQNQYdzmTYVuqRSxswsSzxINJdKl0bWuHFzCWZYztpy

[2,1,bcd@gmail.com](mailto:2,1,bcd@gmail.com),$2b$11$xwyYcDOlRBRQNQYdzmTYVuqRSxswsSzxINJdKl0bWuHFzCWZYztpy

[2,2,bcd@gmail.com](mailto:2,2,bcd@gmail.com),

[3,1,cde@gmail.com](mailto:3,1,cde@gmail.com),$2b$11$xwyYcDOlRBRQNQYdzmTYVuqRSxswsSzxINJdKl0bWuHFzCWZYztpy

[3.3,def@gmail.com](mailto:3.3,def@gmail.com),

&amp;#x200B;

A) PROBLEM HERE is EMAIL COLUMN CANNOT BE UNIQUE ANYMORE

If we make email column unique above, we have another problem. Lets say you make an account with [abc@gmail.com](mailto:abc@gmail.com) and a password. 1 month later you come back and sign in with Facebook whose email is also [abc@gmail.com](mailto:abc@gmail.com) (it wont log you in because email is unique) It somehow needs to keep email unique but at the same time track that you have password based account and social account with the same email. How to solve this?",learnSQL,How to solve this password login vs social login user management problem?,1.0,https://www.reddit.com/r/learnSQL/comments/qvuig1/how_to_solve_this_password_login_vs_social_login/
64,Status_Tea_1711,1637175394,qw68hl,4,1,"Hey,

I'm new to SQL and just wondering how I would go about structuring a PostgreSQL database where a portfolio table can have many assets of many different types, and each asset can have many transactions but where all asset types use the same transaction type.

My current approach is: Using an intermediary table called asset which is connected one to many to the portfolio table, then has one to one connections to each of the asset types (share, fund...) which actually store the data, and also has a one to many connection with transactions. This technically works but is a bit annoying as whenever I want to get the transactions for a share for example, I have to go up to the parent asset then back down to its many transactions. I had a quick look at foreign keys to multiple tables but my searching didn't seem to yield the results I was looking for.

Is there a simple way that I could implement this?

https://preview.redd.it/mktyaw2fb7081.png?width=1047&amp;format=png&amp;auto=webp&amp;s=3a8277acbd4d9a74db61b0394ee0dfcc9d51fd4a

Any help would be much appreciated.

Cheers",learnSQL,How would I structure a database where many tables have the same child table.,1.0,https://www.reddit.com/r/learnSQL/comments/qw68hl/how_would_i_structure_a_database_where_many/
65,Waterboy040,1637182911,qw8vsr,3,1,"i usually dont do this but i have been staring at the screen for hours blank.

I know that the FK Staff NO is the key and the tables i need to join are rental and staff but cant seem to figure how to go about doing it. Once i figure out how to do this i should be good to go.

[https://pastebin.com/h4RsSZM0](https://pastebin.com/h4RsSZM0)

&amp;#x200B;

&amp;#x200B;

this is a link to the data and the question. If you need anything else please let me",learnSQL,I need some help with a homework...,1.0,https://www.reddit.com/r/learnSQL/comments/qw8vsr/i_need_some_help_with_a_homework/
66,stewtech3,1637186162,qwa06w,2,1, ,learnSQL,This is my first try at a fictional scenario. Please let me know what I could have done better.,1.0,https://i.redd.it/29vvacyh98081.jpg
67,Otterpawps,1637201241,qwf0i1,2,1,"I am in and out of SQL and I am busting the rust once again.

I have 2 tables (Order and Ship) that are very similar and have a lot of the same info.

Order's rows are created on order creation. Ship's are created when orders are completed.

Ship's has an important column that has tracking information on it.

Therefore, Order has 100% all of the Order ID's. Ship only has some Order ID's as Order ID's are completed.

The problem is that I want to pull up all of Order ID's from Order's Table, but also fill in any of the Order ID's row's with tracking if it is available.

What is the best way to do this?",learnSQL,Need help with Join and More?,1.0,https://www.reddit.com/r/learnSQL/comments/qwf0i1/need_help_with_join_and_more/
68,JustAnInternetPerson,1637230091,qwmmca,9,1,"Greetins, Internet,  


I asked a similar question two days ago, but after trying to find out how to do what I wanted to do for about three hours yesterday, I stopped and decided to ask for help, because I really don't know why it doesn't work.  


I am trying to join two tables using a bridge table, which is working fine for the most part. I have my first table, containing meals (table gericht), and their ID, then I have my second table (table allergen), containing allergens and their code. Now I have my bridge table (table  gericht\_hat\_allergen gha), containing meal IDs and allergen codes.  


Not all meals from gericht have allergens, and not all allergens from allergen are used  


When I want to join the tables to simply display every meal that has any allergens and the corresponding allergens, it's working great. Same goes for selecting every meal, even those who don't have any allergens, and the reverse, so showing the full list of allergens and the meals that have allergens.  


Now, I want to join my tables in a way that allows me to see ALL meals and ALL allergens, even if they don't have any 'partners', so, like this  


meal1 | allergen 4  
&lt;NULL&gt; | allergen 5  
meal3 | &lt;NULL&gt;  


For that, I was trying to use full joins. I thought this would work:  


SELECT gericht.id as gericht, allergen.name as allergen  
FROM gericht\_hat\_allergen gha

INNER JOIN gericht  
 ON gha.gericht\_id = gericht.id  
 FULL JOIN allergen  
 ON gha.code = allergen.code  
ORDER BY [gericht.id](https://gericht.id);  


However, PHPStorm (which I am using) says that it can't resolve 'allergen' in the first row, and I don't know why. I have already tried reading up on full joins, but to no avail.  
I am fairly new to SQL (started two days ago), so chances are i am just not seeing a very simple mistake, so any help is appreciated!",learnSQL,full join two tables using a third,1.0,https://www.reddit.com/r/learnSQL/comments/qwmmca/full_join_two_tables_using_a_third/
69,Fair-Lalajaat_1230,1637233496,qwneos,4,1, ,learnSQL,Does rownumber ( ) command work to find repetition of email id if that repetition is not consecutive ?,1.0,https://i.redd.it/9nowlxg86c081.jpg
70,rnd-forest-91,1637239719,qwp0jj,8,1,"&amp;#x200B;

    WITH leadmanager_t AS 
    (
        SELECT 
            company_code,
            COUNT(DISTINCT lead_manager_code) as total_count
        FROM Lead_Manager
        GROUP BY 1
    ),
    seniormanager_t as 
    (
        SELECT 
            company_code,
            COUNT(DISTINCT senior_manager_code) as total_count
        FROM Senior_Manager
        GROUP BY 1
    ),
    manager_t as 
    (
        SELECT 
            company_code,
            COUNT(DISTINCT manager_code) as total_count
        FROM Manager
        GROUP BY 1
    ),
    employee_t as 
    (
        SELECT 
            company_code,
            COUNT(DISTINCT employee_code) as total_count
        FROM Employee
        GROUP BY 1
    )
    
    SELECT
        c.company_code,
        c.founder,
        lm.total_count,
        sm.total_count,
        m.total_count,
        e.total_count
    FROM company as c
    LEFT JOIN leadmanager_t as lm
    ON c.company_code = lm.company_code
    LEFT JOIN seniormanager_t as sm
    ON lm.company_code = sm.company_code
    LEFT JOIN manager_t as m
    ON sm.company_code = m.company_code
    LEFT JOIN employee_t as e
    ON m.company_code = e.company_code
    ORDER BY 1 ASC",learnSQL,Can anyone help me understand what is wrong with this query?,1.0,https://www.reddit.com/r/learnSQL/comments/qwp0jj/can_anyone_help_me_understand_what_is_wrong_with/
71,o38528,1637254871,qwu7jm,3,1,"Table A consists of 2 rows and 3 columns. Table B consists of 9 rows and 7 columns.

Why is it that «SELECT * FROM A, B» returns 18 rows and 10 columns?",learnSQL,Can someone please explain this to me?,1.0,https://www.reddit.com/r/learnSQL/comments/qwu7jm/can_someone_please_explain_this_to_me/
72,shrimpily,1637261630,qwwqcn,3,1,"Why to get the authors who appear with the maximum income I have to write something like this code below?

 Is there a more basic way to write this query?

    SELECT last_name, first_name
    FROM authors A1
    WHERE A1.income &gt;= ALL (SELECT A2.income FROM Authors A2);",learnSQL,Getting authors' maximum income,1.0,https://www.reddit.com/r/learnSQL/comments/qwwqcn/getting_authors_maximum_income/
73,Curiositry,1637269312,qwziv6,5,1, ,learnSQL,A beginner's guide to SQL,1.0,https://garden.bradwoods.io/notes/sql
74,fread9999,1637277489,qx2e9t,7,1,"I have one table. The columns are below:

&amp;#x200B;

**Columns :** Day -Time - Network- Brand

&amp;#x200B;

Questions

A) Given any 2 Networks (a,b), list of Brands have aired their commercials on both networks on the same day?

B) Find the first brand aired on each of the networks on the daily basis",learnSQL,Help with self join,1.0,https://www.reddit.com/r/learnSQL/comments/qx2e9t/help_with_self_join/
75,mikemacpattywack,1637366070,qxstpk,3,1,"    select MAX(Unitprice) AS large_amount, MIN(Unitprice) AS small_amount, invoice.InvoiceID, Invoiceitems.Unitprice, Invoiceitems.QuantityShipped from Invoiceitems 
    inner join Invoice on Invoiceitems.InvoiceID = Invoice.InvoiceID
    group by invoice.InvoiceID, Invoiceitems.Unitprice, Invoiceitems.QuantityShipped

Write a select statement that will list each invoice id. Beside each ID, have the query return the most and least expensive items from the invoice along with the total number of items invoiced. Use meaningful aliases for each aggregate column.

&amp;#x200B;

&amp;#x200B;

So this query really has me stumped. I am getting a result back but it is not correct as i get all the unit prices and not just the MIN and MAX. 

Some guidance would be appreciated.",learnSQL,How do I display MIN and MAX in this query??,1.0,https://www.reddit.com/r/learnSQL/comments/qxstpk/how_do_i_display_min_and_max_in_this_query/
76,Keeperofbeesandtruth,1637389968,qxzp1u,4,1,"`select game_id,game_date nvl(game_date,getdate())` 

`from game_schedule;`

it tells me :

 ORA-00923: FROM keyword not found where expected",learnSQL,I need to list game id d and date but use system date if game_date is null,1.0,https://www.reddit.com/r/learnSQL/comments/qxzp1u/i_need_to_list_game_id_d_and_date_but_use_system/
77,Keeperofbeesandtruth,1637471566,qynrfb,0,1,"select OTHERNAME,DBSERIALID

&amp;#x200B;

when DBSERIALID

&amp;#x200B;

from superdb;",learnSQL,"I need the function to find IDs that fit the following pattern of 2 letters followed by a dash, but I m not sure how",1.0,https://www.reddit.com/r/learnSQL/comments/qynrfb/i_need_the_function_to_find_ids_that_fit_the/
78,NouvelleVague1,1637511241,qyy83k,7,1," 

    select order_id, price-cost,days_to_process  from products p join orders o on o.product_id=p.product_id  join customers c on o.customer_id=c.customer_id  where p.categoryname='Accessories' and o.channel='Internet'  and c.income_level='high' and c.marital_status='unknown' and cost&gt;60;  

I am using ORACLE SQL , I have tried making indexes for customer\_id for the join between orders and customers and for the product\_id for the join between products and orders but the optimizer is not using them . I also tried creating indexes for the WHERE CLAUSES and only an index with marital\_status and income\_level was used by the optimizer , everything else it ignored.",learnSQL,Cannot find how to index this query properly,1.0,https://www.reddit.com/r/learnSQL/comments/qyy83k/cannot_find_how_to_index_this_query_properly/
79,SinisterTroll,1637531820,qz5hdt,10,1,Its alot to post here but if we could talk privately and go over a SQL question this would really help me. I really don't know what I'm doing and I really need help,learnSQL,Can someone help me with a SQL question,1.0,https://www.reddit.com/r/learnSQL/comments/qz5hdt/can_someone_help_me_with_a_sql_question/
80,csnorman12,1637599449,qzpnnz,0,1,"Black Friday sale! This week only. **Learn basic SQL Syntax and build a real-world database for only $9.99.** The data used in this course mimics transactional data from an electronic medical record. 

[Data Analytics: Intro to SQL using healthcare data (SSMS)](https://www.udemy.com/course/data-analytics-intro-to-sql-using-healthcare-data-ssms/?couponCode=NOV22BLACKFRIDAY)",learnSQL,Black Friday Deal - Intro to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/qzpnnz/black_friday_deal_intro_to_sql/
81,Keeperofbeesandtruth,1637628449,r00o53,1,1,"`select fname, lname ,`[`v.name`](https://v.name)`,' ' ""Stats""`

`from players p join venue v on p.team_id= v.team_id,""Stats""`

it tells me  table or view does not exist  but does not say this when I remove **' ' ""Stats""**",learnSQL,I need to have an empty column labeled stats,1.0,https://www.reddit.com/r/learnSQL/comments/r00o53/i_need_to_have_an_empty_column_labeled_stats/
82,BDaker22,1637629685,r012nn,2,1,"I’m new to SQL and I could use a little help. I am doing an item approval workflow and i have to send information from a request form to a request table. The primary key for this table is Request_ID. When that information is sent, an email is sent to certain people (depending on what the item is) so they can review the information and approve it. My problem is that I am not sure how to make sure their responses are correlating to the correct request id as their responses go into a response table. 

For example, if a request is submitted and has the request id of 1, how can I make sure the responses for that id are recorded properly so they don’t get saved to something like request id 2. Hopefully this makes sense. Any help is appreciated",learnSQL,Item Workflow Help,1.0,https://www.reddit.com/r/learnSQL/comments/r012nn/item_workflow_help/
83,mnewiraq,1637660003,r09lbw,5,1,"Hi All,

How can i generate/view database diagram for an existing database?

This will help me to understand the database hierarchy and then to connect it to Power BI.

Your support will be highly appreciated.",learnSQL,SQL database diagram,1.0,https://www.reddit.com/r/learnSQL/comments/r09lbw/sql_database_diagram/
84,Keeperofbeesandtruth,1637702400,r0nkxc,6,1, ,learnSQL,I need it to show those born before 1975 but regardless of which way I put the less than or grater than symbol it shows those born after,1.0,https://i.redd.it/k3hriyy3we181.png
85,mall_education,1637703427,r0nyl1,9,1,"TL;DR: I have to manually delete thousands of rows and want to know how I can do this faster.

&amp;#x200B;

Hi,

I started doing IT for a company about a year ago, and the guy before me made an app for them, but did not leave me with any way to alter the app. It's used to allow incoming delivery drivers to fill out a sheet and post it in a place that the warehouse workers can see, and it all connects to a SQL database. It works fine, but from what the last guy told me, he's using a string for the date section. This means that we have to go into the database table and manually delete rows or the program starts to run very slowly. My boss told me there wasn't a better way to do this, but I'm getting tired of manually combing through an unordered table and deleting thousands of rows. I've got no experience with SQL other than manually deleting these rows, so I was wondering if there was any way I could speed up or automate this process. I enjoy learning about this stuff, so all I really need is to be pointed in the right direction (I'm looking into it on my own, but I'm unsure where to start, and don't particularly want to test things in a way that can possibly mess up the database). Any help is greatly appreciated!",learnSQL,"Brand new to SQL, was left with a database that needs constant cleaning",1.0,https://www.reddit.com/r/learnSQL/comments/r0nyl1/brand_new_to_sql_was_left_with_a_database_that/
86,buangakun3,1637846058,r1wam9,3,1,"For example, I have the following Query.

    WITH user_info AS (
      SELECT
        name,
        code
      FROM
        data_a
    ), comp_info AS (
      SELECT
        code,
        company_name,
        dept_name
      FROM
        data_b
    ),
    SELECT
      user_info.name,
      comp_info.company_name, //extracted from comp_info by comparing user_info.code with comp_info.code
      comp_info.dept_name //extracted from comp_info by comparing user_info.code with comp_info.code
    FROM
      user_info,
      comp_info

What I want is to display `comp_info.company_name` and `comp_info.dept_name` which are extracted from comparing `user_info.code` with `comp_info.code`.

My question how would you do that?",learnSQL,How to return value based on condition,1.0,https://www.reddit.com/r/learnSQL/comments/r1wam9/how_to_return_value_based_on_condition/
87,b00ks,1637856182,r1zs27,6,1,"As it states, I've got a query right now that joins like four tables.  The one with the date that I want to max, I'm only selecting the date and I need to join it on a primary key that sort of propagates through the rest of the tables.

I keep on trying and my query keeps returning zero results.  Does anyone have a good tutorial/reading on doing this?",learnSQL,"I have a table with a lot of records for a user that have date stamps. I want to return the most recent date. I've read that I need a nested join statement, but I'm having a hard time due to the number of tables. Anyone have tips?",1.0,https://www.reddit.com/r/learnSQL/comments/r1zs27/i_have_a_table_with_a_lot_of_records_for_a_user/
88,DatBoi1337,1637943967,r2r1nu,4,1,"Hi, guys. I'm creating a schema for my Database course that consists in a university system that stores campus, courses, disciplines, etc. I've created the logical schema and made a associative entity called 'campus\_curso' with 'campus' and 'curso' foreign keys, but, when I insert data into one of those tables, 'campus\_curso' isn't updated as well. What should I do?   


Here is the code: [https://pastebin.com/9bnzTgBQ](https://pastebin.com/9bnzTgBQ)",learnSQL,How to update 'child' table simultaneously with 'father' table?,1.0,https://www.reddit.com/r/learnSQL/comments/r2r1nu/how_to_update_child_table_simultaneously_with/
89,scriptchump,1637957122,r2vllk,3,1,"Im trying to figure out how to show change history. This is also my first project with SQL so I know Im missing some key bits of information. Basically I have data in my table and Im able to run a query and pull the info I need but I want to run that query daily and save the output to a date table for each date. That way I can track changes from each day.

Im able to run this query and get these results:

https://preview.redd.it/51ep7xsmxz181.png?width=289&amp;format=png&amp;auto=webp&amp;s=4d391d27e05b9aeaa62fd54d0c4eec0a3220982f

I would like to send those results to a table like what's shown below:

https://preview.redd.it/np7kuysixz181.png?width=656&amp;format=png&amp;auto=webp&amp;s=96912dff8bfdac5d874afc5b0dd29df73438819f

Im getting closer but I might be looking in the wrong direction. Any help would be greatly appreciated!",learnSQL,Trying to run query to populate new date table,1.0,https://www.reddit.com/r/learnSQL/comments/r2vllk/trying_to_run_query_to_populate_new_date_table/
90,jessieitstime,1638091012,r40cf1,3,1,"(SELECT COUNT(*) FROM Employee WHERE isActive = 0) divide (SELECT COUNT(*) FROM Employee)


Basically dividing a query result by another query result.",learnSQL,Trying to divide the count(*) of Table A with condition by the count(*) of Table A,1.0,https://www.reddit.com/r/learnSQL/comments/r40cf1/trying_to_divide_the_count_of_table_a_with/
91,hedgefundrat,1638110882,r45vpn,0,1,"I am new to reddit so if this is in the wrong subreddit I do apolagize.

&amp;#x200B;

I am writing a dissertation on wealth distribution comparing BTC to the USD, and I am looking to create the below pictured chart for every single day bitcoin has existed.  I have extremely minimal SQL experience and no experience with any other coding languages. I was wondering if SQL would be the way to create a chart like this, and where I could learn how to code it. And then what program / language I could use to visualize it.   


I would greatly appreciate any help on how to download the BTC Public Ledger, and then how I would go about learning how to recreate the below pictured chart.

&amp;#x200B;

&amp;#x200B;

[Bitcoin Wealth Distribution As of 28\/11\/2021](https://preview.redd.it/t6iqtio0nc281.png?width=730&amp;format=png&amp;auto=webp&amp;s=b135d4229624a83b8878b45de012ef60ef311eba)",learnSQL,How to extract and visualize data from BTC Public Ledger,1.0,https://www.reddit.com/r/learnSQL/comments/r45vpn/how_to_extract_and_visualize_data_from_btc_public/
92,UnluckyChemist2162,1638121718,r49wso,1,1,"I haven't order his table, and would like to select The count of orders from 2017 and 2018 and put that number each in their own column. So 2017 in one column, 2018 and another column. Then, calculate the difference between 2018 and 2017. 


In my post history, you'll find opposed I made in another step right if you want something more detailed. The query I tried created some sort of struct which doesn't let me subtract the values in the two columns out from each other. 


I would love to know a simple way to select the count of Rows per year and subtract them to find the difference",learnSQL,"Is there an easy way to select the count of rows per year, with year in its own column?",1.0,https://www.reddit.com/r/learnSQL/comments/r49wso/is_there_an_easy_way_to_select_the_count_of_rows/
93,mergisi,1638127646,r4c68m,3,1,"It's the perfect tool for database engineers and non-engineers to work together. Many great opportunities are hidden behind complex queries that take hours to create. With AI2sql, it takes just 60 seconds to create accurate queries

[Click here](https://ai2sql.softr.app)",learnSQL,Automatically generate SQL queries,1.0,https://www.reddit.com/r/learnSQL/comments/r4c68m/automatically_generate_sql_queries/
94,ProductOfPython,1638156485,r4m96g,1,1,"`SELECT Location, date, total_cases, population, (total_cases/population)*100 as DeathPercentage`

`FROM covid.coviddeath`

`WHERE location like '%states%'`

`order by date asc;` 

I then get a graph that looks like this. 

&amp;#x200B;

\# Location, date, total\_cases, population, DeathPercentage

'United States', '1/1/21', '20330158', '332915074', '6.1067'

'United States', '1/10/21', '22564533', '332915074', '6.7779'

'United States', '1/11/21', '22775381', '332915074', '6.8412'

'United States', '1/12/21', '22994289', '332915074', '6.9070'

'United States', '1/13/21', '23224134', '332915074', '6.9760'

'United States', '1/14/21', '23462172', '332915074', '7.0475'

'United States', '1/15/21', '23709198', '332915074', '7.1217'

'United States', '1/16/21', '23917830', '332915074', '7.1844'

'United States', '1/17/21', '24094418', '332915074', '7.2374'

&amp;#x200B;

How would I go about changing the date from xx/xx/xx to xx/xx/xxxx? Would this even help make it so the dates are available to ascend?",learnSQL,What would be the most efficient way of changing the dates to xx/xx/xxxx?,1.0,https://www.reddit.com/r/learnSQL/comments/r4m96g/what_would_be_the_most_efficient_way_of_changing/
95,rbdqvbu8,1638160286,r4ngjy,0,1,"[https://dpaste.org/fiw0](https://dpaste.org/fiw0)

I have a website where I give customers the option to buy  monthly/yearly membership access to my products using either Stripe  credit/debit card payments or Btcpayserver cryptocurrency payments.  Stripe payments are recurring subscriptions unless the customer cancels  themselves while Btcpayserver cryptocurrency payments are not recurring  and the customer's membership access gets automatically converted to a  free membership with a daily cron job depending on the order date in the  Btcpayserver table when the customer made their cryptocurrency payment.

I need help designing the database tables where both credit/debit  card and cryptocurrency payments are supported along with the customer  membership access types (monthly/yearly).

The main problem I have right now is I am using multiple Stripe  tables with only 1 Btcpayserver table. Originally I had all the Stripe  tables working just for Stripe payments but then added on the  Btcpayserver table later and am not sure how to get them to work  together in a normalized fashion. Currently, when a cryptocurrency  payment is made, the UserMembership table membership column gets updated  to monthly/yearly while the Subscription table active column gets  updated to active (1).

I think I need to combine the Membership, UserMembership, and  Subscription tables to get them to work with both payment methods (and  also remove the Stripe related data from those tables) and then have 2  separate tables for Stripe and Btcpayserver related data only? I am open  to other ideas if this approach is wrong.

I would like the answer to this question to show a normalized  database with each table schema and columns written out with an  explanation of why this approach is the best way.",learnSQL,How to design database for multiple payment methods and memberships,1.0,https://www.reddit.com/r/learnSQL/comments/r4ngjy/how_to_design_database_for_multiple_payment/
96,sequel-beagle,1638203502,r4zlg8,0,1,"40 set based SQL questions here if you want to get an idea of your skill level.  Many of these puzzles you will find in exams, interview questions, etc...

[https://www.youtube.com/watch?v=56lliu1AJSk](https://www.youtube.com/watch?v=56lliu1AJSk)",learnSQL,Set based SQL interview questions here,1.0,https://www.reddit.com/r/learnSQL/comments/r4zlg8/set_based_sql_interview_questions_here/
97,rbdqvbu8,1638204456,r4zy29,0,1,"I want to design my database similarly to something like this: [Better way to design payment database with multiple payment methods](https://stackoverflow.com/questions/57510457/better-way-to-design-payment-database-with-multiple-payment-methods)

But my database is a little more complex where instead of buying 1  off items, customers are buying monthly/yearly memberships to access  services on the website. Stripe payments are recurring subscriptions  while btcpayserver cryptocurrency payments are made only 1 time and are  not recurring subscriptions.

When a customer buys either a monthly/yearly membership, the  subscription table active column becomes 1 (true) and the UserMembership  membership column becomes either monthly/yearly depending on what  membership the customer buys. If a customer switches back and forth  between payment methods every month/year, new records are not added and  instead existing records will be updated with the new data for that  user.

The problem with my current setup is that when a cryptocurrency  payment is made, there will be NULL columns where Stripe API data goes  (Stripe customer id, Stripe subscription id, Stripe price id) or there  will be previous existing stripe data if the user makes a stripe payment  then a cryptocurrency payment.

All I want to know is how to best design this database, if any  additional tables should be created, and where to put some of the  columns so that there will be no NULL columns anywhere. I am open to a  complete redesign if necessary since the database is not in production  yet.

Should I make a separate stripe table containing all of the stripe  API ids? Should I only have 1 amount column in the Membership table and  not in the Stripe and Btcpayserver tables?

If I add more payment methods in the future, I want to be sure the database can handle that for this type of business model.

[https://dpaste.org/VKt4](https://dpaste.org/VKt4)",learnSQL,Database multiple payment methods with multiple memberships,1.0,https://www.reddit.com/r/learnSQL/comments/r4zy29/database_multiple_payment_methods_with_multiple/
98,TheWitch07,1638222292,r56izn,1,1," SELECT \* FROM Productos WHERE (name LIKE '%') 

This returns all row records but I want the explanation of why. Sorry for my english",learnSQL,Why this returns all records?,1.0,https://www.reddit.com/r/learnSQL/comments/r56izn/why_this_returns_all_records/
0,nightslikethese29,1633114504,pzekqy,3,1,"So I'm having trouble understanding why a cast function was put in this part of the query:

&gt;ROUND(AVG(CAST(tripduration AS int64)/60),2) AS duration

From the schema on BigQuery:

&gt;tripduration	INTEGER	NULLABLE	Trip Duration (in seconds)

According to the schema, tripduration is an integer. Is there any reason to cast this? The instructor in the course made no real mention of why. Here is what she said in the video:

&gt;We'll also want this data to be in integer form for this calculation, so we'll input cast as int 64.

I guess I'm just lost as to why you're casting an integer to an integer. Any help would be appreciated!",learnSQL,Understanding why a cast function was used in this query from the Google Certificate,1.0,https://www.reddit.com/r/learnSQL/comments/pzekqy/understanding_why_a_cast_function_was_used_in/
1,keepingitAK38,1633207894,q036gr,12,1,"Hello, I took a couple of courses of SQL on code academy to learn about SQL and I am also in the middle of taking the google certification course. Looking for a way to practice prompts with the current beginner skill set I currently have. Please let me know any suggestions",learnSQL,Ways to practice SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/q036gr/ways_to_practice_sql/
2,ppzet9,1633267174,q0hlii,3,1,"Hi all,

I recently started learning SQL and decided to create my first database from scratch. The database will contain the history of my Spotify played songs along with some data about the tracks, albums and the artist. 

I came with the following scheme - does it look okay? What improvements should I implement? Also, I think I might have used the incorrect symbols for the relation between tables, but I'm not really sure.",learnSQL,Opinion on a database design,1.0,https://www.reddit.com/r/learnSQL/comments/q0hlii/opinion_on_a_database_design/
3,EvilPlutonium,1633389230,q1hwao,1,1," 

I'm new to SQL and trying to get a constraint added to a new table I've added in Oracle SQL Developer.

The table creates just fine, but when I attempt to ALTER TABLE to add the CHECK constraint, I get an error:

`Error report -`

`ORA-00904: ""DISCONTINUED"": invalid identifier`

`00904. 00000 - ""%s: invalid identifier""`

The SQL I've written to create the table, and then add the constraint are as follows:

`CREATE TABLE Inventory`

`(""ID"" NUMBER (10),`

`""Item"" VARCHAR2 (50),`

`""Description"" VARCHAR2 (4000),`

`""Category"" VARCHAR2 (50),`

`""Location"" VARCHAR2 (50),`

`""Supplier"" NUMBER,`

`""Manufacturer"" VARCHAR2 (50),`

`""Reorder Level"" NUMBER,`

`""Target Stock Level"" NUMBER,`

`""Attachments"" BLOB,`

`""Discontinued"" VARCHAR2 (10), /* Yes/No implemented via constraint (below)*/`

`""Comments"" VARCHAR2 (4000),`

`CONSTRAINT Inventory_id_pk PRIMARY KEY (ID));`

`ALTER TABLE Inventory`

`ADD CONSTRAINT inventory_discontinued_chk`

`CHECK (Discontinued IN('Yes', 'No'));`

I can't figure out why this is giving me the error. Any help would be appreciated.",learnSQL,Why isn't my CHECK Constraint working on my table?,1.0,https://www.reddit.com/r/learnSQL/comments/q1hwao/why_isnt_my_check_constraint_working_on_my_table/
4,datanoob2021,1633400712,q1lcqu,3,1,"Hello! I have some financial OHLCV(open, high, low, close, volume) data I am working with. I am trying to convert some of these prices where the currencies are an issue. I have two subqueries like:  


    WITH target_pairs AS
    (
    SELECT DISTINCT(split_part(symbol, '/',1)) AS symbol
    FROM public.stable_prices
    ),
    targeted_quotes AS
    (
    SELECT base_pair,
           open_time,
           close,
           quote_pair
    FROM public.daily_candle
    WHERE quote_pair IN (SELECT symbol FROM target_pairs)
    ),
    non_stable AS 
    (
    SELECT dc.open_time,
           dc.base_pair,
           dc.quote_pair,
           dc.close,
           dc.qa_volume
    FROM public.daily_candle dc
    LEFT JOIN targeted_quotes tq ON tq.open_time = dc.open_time
    AND tq.base_pair = dc.quote_pair 
    WHERE dc.quote_pair NOT IN (SELECT symbol FROM target_pairs)
    )

When I join targeted quotes to my query, I go from \~600k to 1.9 million results because my target pairs are around 5 in total. At the end of the day, I do not care which pair it matches up to as long as it matches and I only want to return the first match. 

I am using dbt so could possibly explore an option that is not pure SQL. I am currently connected to Redshift (which is essentially a Postgres variant). Any help would be appreciated!",learnSQL,LEFT JOIN - Limit 1 ?,1.0,https://www.reddit.com/r/learnSQL/comments/q1lcqu/left_join_limit_1/
5,insanetech_,1633411788,q1o8v3,0,1, ,learnSQL,Apache Pulsar in Action ebook,1.0,https://www.lunaticai.com/2021/10/apache-pulsar-in-action-pdf.html
6,mr_rice_crispers,1633450144,q1zn9n,16,5,"I have been learning SQL since the past 2 months and i consider myself a noob amongst noobs despite the 2 month timeframe.The only thing i know rn are

1. creating tables and linking them with each other using PKs and FKs
2. simple schema design (if it means what i think it means - ER Diagram implementation on the DBMS)
3. querying the data from the tables i created

I have listed the stuff i know (*and i plan on working on these for a month or so*) because MySQL workbench and mySQL is taking a hit on my drive usage on Win10.I have tried lots of solutions online for reducing my disk usage and none of it seems to work.I dont know if they are co-related but i always see mySQL service with the most ""memory"" in task manager ""details"" pane. **I want a suggestion something through which i can create schemas and tables**  (as well as store them) **and do queries on the tables but without using my local resources.**[Something similar to Rstudio cloud](https://rstudio.cloud/).",learnSQL,Want to learn SQL without using a local RDBMS like MySQL,0.86,https://www.reddit.com/r/learnSQL/comments/q1zn9n/want_to_learn_sql_without_using_a_local_rdbms/
7,mr_rice_crispers,1633473328,q27d31,5,3,"I am going through a tutorial ( to be specific it's an edX tutorial from Stanford Uni) and the topic i am currently not able to wrap my mind around is Sub Query + ALL construct. I have this table **College.**

|**~~cName~~**|**state**|**enrollment**|
|:-|:-|:-|
|Stanford|CA|15000|
|Berkeley|CA|36000|
|MIT|MA|10000|
|Cornell|NY|21000|

Now the query is :-

    SELECT cName
    FROM College C1
    WHERE enrollment &gt; ALL (SELECT enrollment FROM College C2
    		        WHERE C2.cName &lt;&gt; c1.cName);
    

cName  
\------------

Berkeley

&amp;#x200B;

I cant understand the process behind this particular query.From what i have understood so far,

* the sub query part is doing a natural self join -OK
* the sub part will give the result having 12 rows with each enrollment being in the column thrice. -OK
* What i cant grasp is that the outer query is based on the condition where enrollment is greater than ALL values of the inner/sub query,but the sub-query infact contains all the values so how can there be a tuple which is greater than that.  


Please help me and explain this since i have tried and it does work correctly",learnSQL,Sub Queries and ALL keyword usage thought process.,0.72,https://www.reddit.com/r/learnSQL/comments/q27d31/sub_queries_and_all_keyword_usage_thought_process/
8,Skwisgaar79,1633490421,q2c1y0,0,6," 

Hi all, some help would be greatly appreciated. I am taking a college course and learning SQL for the first time using [Mode.com](https://mode.com/). I can not figure out how to fix this error I keep getting. thanks in advance

 

https://preview.redd.it/m0gav3330rr71.png?width=1103&amp;format=png&amp;auto=webp&amp;s=18fe03714421adfcfc4eaf597065efd230028a92",learnSQL,Help,1.0,https://www.reddit.com/r/learnSQL/comments/q2c1y0/help/
9,NomiDev,1633509499,q2gbd6,6,2,"So I'm a beginner trying to design my database for my website project, the RDBMS is MySQL. Which is the best way to learn to make a solid database?",learnSQL,"What's the best way to learn SQL, to read a book or take a course?",1.0,https://www.reddit.com/r/learnSQL/comments/q2gbd6/whats_the_best_way_to_learn_sql_to_read_a_book_or/
10,tsmh,1633509520,q2gbin,0,1,"Hi, I'm new to sql and trying to learn and get into the indepth concepts. I discovered '@' symbol. I googled and got to know that it is used as a prefix for user defined variables. Does it mean that a variable can be defined using @ as prefix and can be destroyed instantaneously after serving its purpose? 

Please help. Thank you in advance :D",learnSQL,HELP,1.0,https://www.reddit.com/r/learnSQL/comments/q2gbin/help/
11,1jay_y,1633532491,q2m9cl,12,1,"Would there be a logic error at all? It randomly came up on my mind while working with dates for a process I was creating at work. Obviously you shouldn't use a TO\_DATE on a date value, but I wonder what kind of logic or conversion errors it could impose.",learnSQL,Genuinely curious. What would happen if you used TO_DATE on a date value?,1.0,https://www.reddit.com/r/learnSQL/comments/q2m9cl/genuinely_curious_what_would_happen_if_you_used/
12,HASTURGOD,1633538404,q2o88y,2,1,"I'm trying to calculate Prepaid Insurance = property taxes + Prepaid interest + HOA Insurance. 

Property Taxes -&gt; TABLE: DECKTN &amp; COLUMN: PROPTAXES
Prepaid Interest -&gt; TABLE: MG_PIT &amp; COLUMN: PRE_INT
HOA Insurance -&gt; TABLE: HOA_INS &amp; COLUMN: PREPAID_INS

I'm trying a left join that goes; 

LEFT JOIN(
Select PROPTAXES, PRE_INT, PREPAID_INS
From e3..DECKTN    pptAmt on pptAmt.TLR = K.TLR
Left join e3..MG_PIT     ppMAmt on ppMAmt.TLR = K.TLR
Left join e3..HOA_INS     piAmt on piAmt.TLR = K.TLR
) PreINS on PreINS.TLR = K.TLR

Not making much progress",learnSQL,adding from diff tables,1.0,https://www.reddit.com/r/learnSQL/comments/q2o88y/adding_from_diff_tables/
13,hellodaniellakeio,1633550735,q2sc4v,3,1,"Hi all,

I have the below query in Standard SQL (Big Query) - would anyone be able to assist converting from Unix Nanoseconds to Date Time as BQ only seems to offer up to TIMESTAMP\_MICROS

https://preview.redd.it/qoyioqhfzvr71.png?width=723&amp;format=png&amp;auto=webp&amp;s=80d3349b28a8bedf5516287f1650175df56fd1b9

Any help much appreciated.",learnSQL,Convert Unix Nanoseconds to DD/MM/YYYY HH:MM:SS format,1.0,https://www.reddit.com/r/learnSQL/comments/q2sc4v/convert_unix_nanoseconds_to_ddmmyyyy_hhmmss_format/
14,fast_monkey668,1633578423,q30lgb,4,1,"Hello Everyone. 

I have just started to learn SQL and I am currently working through a textbook that has practice problems at the end of every section along with the correct answers. 

First question was to list all the customers the have deposits but no loans. The query below works and returns 4 cids: 

SELECT cid

FROM Deposit

	EXCEPT 

SELECT cid

FROM Loan

However now I must use COUNT() to say how many customers(4) satisfy the condition. I don't know how to do that if anyone could point me in the right direction I would really appreciate it. 

Tables: 

Customer(cid, street, city)

Deposit(accno,  cid, bid, balance)

Loan(accno, cid,  bid, amount)

Thank you!!",learnSQL,Using Count() on a query,1.0,https://www.reddit.com/r/learnSQL/comments/q30lgb/using_count_on_a_query/
15,vadhavaniyafaijan,1633591736,q33ucx,1,1, ,learnSQL,SQL Map Cheat Sheet,1.0,https://i.redd.it/cc02s4ip5zr71.png
16,Telkor,1633600050,q35k98,0,1," Hi,

I have following query:

    select a.name, a.lastname, a.street, b.name, b.number from TableOne AS a inner join TableTwo AS b on a.Id= b.Id  where a.type = 'A' UNION SELECT name, null, null, null, null from TableTwo 

My hibernate version doesn't support UNION yet (no, I can't upgrade currently) so I need to write this query without using UNION. Is there any way to do that and how would the query look like?",learnSQL,Using UNION but without UNION,1.0,https://www.reddit.com/r/learnSQL/comments/q35k98/using_union_but_without_union/
17,steakandchips2,1633601955,q35zxf,2,1,"Hi all!

&amp;#x200B;

i am struggling with this query i need to do and i feel like i am making a stupid mistake, but i cant figure out what.. its one of those days.

this is for a hotel.

so i have 2 tables, hotel and room.

i need to calculate the average, max and minimum cost of rooms in the hotels, i have the rooms in a count statement to count how many room are in each hotel, but when i am selecting the tariff (price) im not sure how to do it for each one individually, without writing separate statements for each hotel.. there must be a way? this is my current statement, if anyone can help id really appreciate it!

&amp;#x200B;

`SELECT name, COUNT(DISTINCT bh54do_room.hotel_numb) AS golfing_rooms, MAX(tariff) AS maximum, MIN(tariff) AS minimum, ROUND(AVG(tariff),2) AS average`

`FROM bh54do_hotel, bh54do_room`

`GROUP BY bh54do_hotel.name;`",learnSQL,"max,min,average for seperate rows?",1.0,https://www.reddit.com/r/learnSQL/comments/q35zxf/maxminaverage_for_seperate_rows/
18,iAcceptVisa,1633617865,q3amkj,14,1, ,learnSQL,How would I be able to print this?,1.0,https://i.redd.it/0cxaiod4j1s71.jpg
19,tihon-,1633625702,q3ddey,0,1,[removed],learnSQL,Free Data Science course,1.0,https://www.reddit.com/r/learnSQL/comments/q3ddey/free_data_science_course/
20,ilikethemaymays,1633625879,q3dfpn,4,1,"New SQL learner here. So earlier this week I decided to finally learn a language - no excuses.

Now I've had my own issues in the past with free coding courses because it's difficult for me to feel as though I'm actually learning anything and it becomes discouraging. Most of them hold your hand through the course and give you brownie points for pecking in commands without much explanation of how it plays into a larger picture, or how to organize the idea before anything is typed. 

Some are merely ""Now type this into the field"" ...*clickity clackity-clack*... ""Yay! Now you're Level 3207! Check in tomorrow for the Platinum badge!"", and I'm left wondering what the heck I actually did. [insert young Michael Scott shaking Ed Truck's hand meme] Sometimes I'm a few days deep into a course and I start wondering, ""Should I have been writing all of this down?"" It feels as though there's no real direction.

That has just been my experience in the past and it started to occur again when learning SQL through some free online courses. So I figured maybe I'm the type of person who needs extra resources instead of relying solely on an online course to learn.

Yesterday I bought some e-books to supplement the knowledge to better understand the language including SQL All-In-One For Dummies.

The Dummies book has a chapter titled ""Modeling a System"" which explains in thorough detail how to visually organize your database, before any code is actually performed, through the use of Entity-Relationship diagrams as well as explaining the relational database hierarchy.

Friggin yes - this is what I needed all along - *a structure for putting together the idea for what is to be created and how to organize it before I even begin to clickity clackity.* The chapter gave me the confidence I needed for the online courses because I now understand how the arbitrary commands can relate into a larger idea.

This isn't to knock free code courses either. Just the fact I needed more than that to get a firm grasp on SQL. And it's the first language I can say I'm actually excited learning more about it since spending time studying the chapter.

If there's any other valuable resources out there that helps with learning concepts behind SQL, please feel free to share them.",learnSQL,SQL All-In-One For Dummies,1.0,https://www.reddit.com/r/learnSQL/comments/q3dfpn/sql_allinone_for_dummies/
21,noturmatebruv,1633627760,q3e4gy,3,1,"Here’s my questions: how do I insert values into an existing table where they don’t exist? to avoid duplicates?

Something like insert values(?,?,?) where not exist. I’ve tried so many ways to do it but I’m trying to find a way where I can avoid having to create a table for every value set? Thanks guys :)",learnSQL,hi guys! I’m new to SQL and I’m dealing with a dilemma that has been stressing me out.,1.0,https://www.reddit.com/r/learnSQL/comments/q3e4gy/hi_guys_im_new_to_sql_and_im_dealing_with_a/
22,kristiclimbs,1633632082,q3fn40,7,1,"Hello,

I tested the below query, it produces 13 rows:

    select distinct(name)
    where post_impressions &gt; 0
    and to_date(created_time) = '2021-08-06'
    and from_name = 'testing_queries'

however when I do this I see 15 rows:

    select distinct(name) as name, from_name, id, link, name from  my_table
    where post_impressions &gt; 0
    and to_date(created_time) = '2021-08-06'
    and from_name = 'testing_queries'

How can I recreate the same rows I see in the first query but just so that it shows my other columns as well?",learnSQL,"using distinct on one column, and selecting other columns adds additional rows, why?",1.0,https://www.reddit.com/r/learnSQL/comments/q3fn40/using_distinct_on_one_column_and_selecting_other/
23,Oscarteach15,1633663081,q3p8l3,1,1,"Hi, i have a course to learn SQL available in Udemy if anyone is interested, you can tell me in the comments.",learnSQL,Learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/q3p8l3/learn_sql/
24,kappa23,1633672094,q3ri93,6,1,"I have a list of IDs, and each of them have statuses attached to them

Sample data would be something like this 

ID	STATUS

1	A

1	B

1	C

1	D

2	A

2	C

2	D

3	A

3	C

Now I want to check across each unique ID if the status B is present. How do I do this?",learnSQL,Checking for strings against repeating IDs,1.0,https://www.reddit.com/r/learnSQL/comments/q3ri93/checking_for_strings_against_repeating_ids/
25,AaronSWE,1633673233,q3rrhk,17,1, ,learnSQL,SQL Cheatsheet (Basics),1.0,https://i.redd.it/hf2y9e6r36s71.jpg
26,rohit_Z,1633687845,q3urtt,1,1,"    alter table tbltransaction
    add constraint unqTransaction unique([Amount],[DateOfTransaction],[EmployeeNumber]);

i know how to drop the constraint from all coloumns but now i want to drop constraint from one column only.? how is the ques",learnSQL,drop constraint,1.0,https://www.reddit.com/r/learnSQL/comments/q3urtt/drop_constraint/
27,Electronic-Truth-419,1633710429,q418fq,2,1,"I'm not sure why I'm having trouble with this one. I can get the text at the beginning and the end, but I can't get the middle text. I'm trying to break up the string by hyphen into their own columns. I've searched around but I don't seem to understand some of the functions that are provided. I found one that does it by number count, but that would be inefficient since the text won't always be the same size. I have this:
    
    SELECT DISTINCT itemnum, 
    	   itemname, 
    	   --Gets data before first hyphen.
    	   LEFT(itemname,CHARINDEX('-', itemname) - 1),
    	   --Gets data after last hyphen.
    	   RIGHT(itemname,CHARINDEX('-', (REVERSE(itemname))) - 1),    
    FROM Table

This is the output for the string when I just run a select to get the itemname,

TEXT1 - TEXT2 - TEXT3 - TEXT4 - TEXT5  - TEXT6 - TEXT7 - TEXT8 - TEXT 9        

Any help is appreciated! Thank you.",learnSQL,Splitting string on hyphens,1.0,https://www.reddit.com/r/learnSQL/comments/q418fq/splitting_string_on_hyphens/
28,tihon-,1633770597,q4hp8t,0,1,[removed],learnSQL,Free Data Science course,1.0,https://www.reddit.com/r/learnSQL/comments/q4hp8t/free_data_science_course/
29,Significant_Bit741,1633785881,q4laga,10,1,"Hello all, I am trying to finish a project for school. The assignment asks me "" Problem 3: List all case numbers for crimes involving minors?"" 

Name of table: CHICAGO\_CRIME\_DATA

Name of Column: PRIMARY\_TYPE

Filtered by: OFFENSE INVOLVING CHILDREN

This is what I typed into sql which won't work:  
sql select \* from CHICAGO\_CRIME\_DATA where PRIMARY\_TYPE= 'OFFENSE INVOLVING CHILDREN;'

If you could please help me out that would be awesome as my assignment is due Monday. Thank you in advance, and have a great weekend!",learnSQL,"How do I request specific, filtered data from a table?",1.0,https://www.reddit.com/r/learnSQL/comments/q4laga/how_do_i_request_specific_filtered_data_from_a/
30,hrs967,1633787177,q4lnmx,2,1,"Hey, So I'm having some issues with some SQL assignments I've tried google, I've tried asking some friends with no luck, I'm working on SELECT, JOIN and UNION right now, the current problem is:

  Use the UNION operator to generate a result set consisting of five columns from the Students table: 

Status -A calculated column that contains a value of UNDERGRAD or GRADUATED

FirstName - The FirstName column

LastName - The LastName column

EnrollmentDate - The EnrollmentDate column

GraduationDate - The GraduationDate column

If the student doesn’t have a value in the GraduationDate column, the Status column should contain a value of UNDERGRAD. Otherwise, it should contain a value of GRADUATED.  


Any help would be highly appreciated

Also im using Microsoft SQL Server Management Studio 18",learnSQL,Help with learning something in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/q4lnmx/help_with_learning_something_in_sql/
31,jrz1977,1633827148,q4xwan,3,1,"Hi SQL learners,

Anyone interested in practicing SQL through puzzles and quizzes? I run a website to practice and prototype SQL. Today I setup some result set validation and assertions to check SQL results and a sample set of questions.  First set of puzzles is on a data set of 117th US senate.

If anyone finds it useful, I will set up weekly or bi-weekly puzzles with many more interesting datasets.

[https://sqlbook.io/books/896537269689651200](https://sqlbook.io/books/896537269689651200)",learnSQL,SQL Puzzles,1.0,https://www.reddit.com/r/learnSQL/comments/q4xwan/sql_puzzles/
32,Jksnr51,1633857416,q54n1p,5,1,"
I have some invoice deals data and what I would like to do is add an indicator column to give me an idea if a certain deal has been reloaded for the same supplier, same invoice description and same value on another deal_id.
 
E.g

Deal_id
Supplier_name
Invoice description
Value
Status 
Possibly_Reloaded (‘Y’ or N’)
Related_deal

Say I had two deals (deal 1 and 2) and they had the same invoice description, same value but one stated cancelled and the other invoiced in the status col. 

How would I add a ‘Y’ indicator in a new col (possibly_reloaded) to the cancelled deal to suggest to me that it has been possibly reloaded again on another deal?  Ideally, populate with Y if there is another deal with the same invoice description and value. 

it would also be good if I could bring that reloaded deal_id into another column called related_deal. 

Would appreciate some support.",learnSQL,How to add a column based on a set condition?,1.0,https://www.reddit.com/r/learnSQL/comments/q54n1p/how_to_add_a_column_based_on_a_set_condition/
33,joinertuy1,1633861203,q55ezz,2,1,"I have a question, how can i get the data here : [https://www.kaggle.com/juanmah/world-cities](https://www.kaggle.com/juanmah/world-cities)   
and upload it into a database i have that is key-value based. Im not sure how to start implementing code for this.",learnSQL,Writing code to transfer/upload data ?,1.0,https://www.reddit.com/r/learnSQL/comments/q55ezz/writing_code_to_transferupload_data/
34,hrs967,1633863436,q55vo9,4,1,"Currently working on an assignment, and Its just lost me,   


Write a SELECT statement that returns these columns

InstructorDept - The DepartmentID column from the Departments table for a related instructor

LastName - The LastName column from the Instructors table

FirstName - The FirstName column from the Instructors table

CourseDescription - The CourseDescription column from the Courses table

CourseDept - The DepartmentID column from the Courses table for a related instructor

Return one row for each course that’s in a different department than the department of the instructor assigned to teach that course.   


We are currently working with SELECT, UNION and JOIN's  
I've tried a couple of different things but nothing seems to work for me, any help would be greatly appreciated

  
 Also im using Microsoft SQL Server Management Studio 18",learnSQL,Struggling with Unions and Joins,1.0,https://www.reddit.com/r/learnSQL/comments/q55vo9/struggling_with_unions_and_joins/
35,sohail_ansari,1633964250,q5xo4j,2,1,"# Creating database 'UDHARI'
CREATE DATABASE UDHARI;

# Selecting database: UDHARI

# Creating Customers Table
    CREATE TABLE CUSTOMERS(
    PH_NO CHAR(10) PRIMARY KEY,
    CUSTOMER_NAME VARCHAR(50)
    ) ENGINE=INNODB;



# Creating Debt Table

    CREATE TABLE DEBT(
    d_id INT AUTO_INCREMENT PRIMARY KEY, 
    PHONE_NO INT NOT NULL,
    CONSTRAINT customers_ph_no_fk
    FOREIGN KEY (PHONE_NO)
    REFERENCES CUSTOMERS (PH_NO)
    ) ENGINE=INNODB;


ERROR 1005 (HY000): Can't create table 'udhari.debt' (errno: 150)",learnSQL,"I am in very big trouble, I don't know how to solve this error. I want to just add foreign key using MySQL. this will be my life's first project using MySQl and python. thanks in advance",1.0,https://www.reddit.com/r/learnSQL/comments/q5xo4j/i_am_in_very_big_trouble_i_dont_know_how_to_solve/
36,csnorman12,1633969206,q5zhh2,4,1,"Hey Everyone, 

 About a year ago I decided to build a SQL course to help others learn while interacting with healthcare data. And I just published the course a couple weeks ago. During the course students build a database that mimics billing data from an electronic medical record. The students begin by learning the basics to SQL and by the end of the course are writing more complex queries. Here are a few learning objectives covered in the course:

* Learn the basics to **SQL and Microsoft SQL Server Management Studio**
* Write complex SQL syntax
* Create Databases and inserting thousands of values
* Analyze thousands of rows of data – real world healthcare data
* Prepare data for visualizations such as PowerBI, Tableau, etc.
* Design Entity Relationship Diagrams
* Aggregate, format, and modify data using SQL operators and functions
* Gain experience with **Big Data** and solving complex questions using data
* Learn SQL Joins – working with multiple tables and databases

Course Coupon Code: [Data Analytics: Intro to SQL using healthcare data (SSMS)](https://www.udemy.com/course/data-analytics-intro-to-sql-using-healthcare-data-ssms/?referralCode=0F7DAE2C9255B7E823CA)",learnSQL,Oct. 2021 Promo Code - Intro to SQL Course,1.0,https://www.reddit.com/r/learnSQL/comments/q5zhh2/oct_2021_promo_code_intro_to_sql_course/
37,NormieInTheMaking,1634043518,q6llz8,3,1,"Say I do:

    Full Backup every Saturday at 00:00

    Diff Backup every day at 00:00

    Transaction log backup Every hour

And on Wednesday, at 14:15, my system suddenly crashed.

Now at which order do I have to restore my backups in order to bring back ALL the data that I had up until Wednesday 14:15?

Any detailed explanation is appreciated.",learnSQL,Question about backups...,1.0,https://www.reddit.com/r/learnSQL/comments/q6llz8/question_about_backups/
38,throwaway-orisit,1634072334,q6vjsl,4,1,"Hello, all.

I have recently gotten into a bit of a pickle at work.

I have been working with SQLs for several years, but I never did a deep dive on learning how to create the SQLs. I typically just build off of other codes written by other people. The most reliable source is no longer with the company. There are other people, but I don't know them nearly as well as the one that has left the company. Because of this, I'm looking for a good source that I can learn the proper coding of SQL queries so I can (hopefully) build them all myself going forward.

Does anyone happen to have a good, reliable source to learn proper SQL coding? I wouldn't say I'm a beginner, but I wouldn't put myself anywhere near intermediate, either, so a beginners guide that eventually grades up will probably be best.

Any help would be much appreciated.",learnSQL,Seeking SQL Learning Source,1.0,https://www.reddit.com/r/learnSQL/comments/q6vjsl/seeking_sql_learning_source/
39,chadbaldwin,1634084540,q6zd7u,0,1,"Hi all! I think this might be my first time posting in this sub. I enjoy writing blog posts about SQL, primarily T-SQL / Microsoft SQL Server. I also occasionally write about PowerShell as well as other tools and languages I might use in my daily work as a database developer.

I'm not sure what the rules are around posting blog links in this sub, so if this is frowned upon here, please let me know. I'm not advertising anything, I'm not a consultant, I just enjoy writing and sharing. Unless informed otherwise, I'll share future posts here as well, as long as they are related to SQL.

Anyway, this week I decided to accept the T-SQL Tuesday invitation. Every month a new blogger is chosen to host T-SQL Tuesday, they come up with a topic and then post it as a challenge/invite to others to respond. This was my first time joining in.

This month, the topic was ""short code snippets"", what are some code snippets you use in your daily work that you would like to share.

https://chadbaldwin.net/2021/10/12/tsql-tuesday-short-code.html",learnSQL,[Blog] T-SQL Tuesday #143 – Short code examples,1.0,https://www.reddit.com/r/learnSQL/comments/q6zd7u/blog_tsql_tuesday_143_short_code_examples/
40,thumbsdrivesmecrazy,1634118699,q77qs5,1,1,"MySQL is a powerful, open source object-relational database system that is developed, distributed, and supported by Oracle. It provides reliability, feature robustness, and performance. The following tutorial is explaining the basic and advanced aspects of MySQL and how it differs from standard SQL: [MySQL Tutorial for Beginners](https://bipp.io/sql-tutorial/oraclesql/)  
The following aspects are covered in the tutorial:

1) Basics

How to Concatenate Strings in MySQL

How to Convert the Case of a String

How to Replace Substrings

How to Trim Strings

How to use group\_concat()

How to Use substring()

How to Use substring() with Regular Expressions

How to Insert

How to Update

How to Delete

2) Database Management

How to Create a Table

How to Drop a Table

How to Rename a Table

How to Truncate a Table

How to Duplicate a Table

How to Add a Column

How to Drop a Column

How to Rename a Column

How to Add a Default Value to a Column

How to Remove a Default Value From a Column

How to Add a Not Null Constraint

How to Remove a Not Null Constraint

How to Create an Index

How to Drop an Index

How to Create a View

How to Drop a View

How to Alter Sequence

3) Dates And Time

How to Exclude Current or Partial Weeks

How to Use BETWEEN Correctly

How to Query Date and Time

How to Group by Time

How to Round Timestamps

4) Analysis

How to Use nullif()

How to Get the First Row per Group

How to Do Type Casting

How to Write a Common Table Expression

How to Import a CSV

How to Use Coalesce

How to Write a Case Statement

How to Query a JSON Column

How to Calculate Cumulative Sum-Running Total",learnSQL,MySQL Tutorial for Beginners,1.0,https://www.reddit.com/r/learnSQL/comments/q77qs5/mysql_tutorial_for_beginners/
41,thumbsdrivesmecrazy,1634122693,q78nbt,1,1,"MySQL is a powerful, open source object-relational database system that is developed, distributed, and supported by Oracle. It provides reliability, feature robustness, and performance. The following tutorial is explaining the basic and advanced aspects of MySQL and how it differs from standard SQL: [MySQL Tutorial for Beginners](https://bipp.io/sql-tutorial/mysql/)  
The following aspects are covered in the tutorial:

1) Basics

How to Concatenate Strings in MySQL

How to Convert the Case of a String

How to Replace Substrings

How to Trim Strings

How to use group\_concat()

How to Use substring()

How to Use substring() with Regular Expressions

How to Insert

How to Update

How to Delete

2) Database Management

How to Create a Table

How to Drop a Table

How to Rename a Table

How to Truncate a Table

How to Duplicate a Table

How to Add a Column

How to Drop a Column

How to Rename a Column

How to Add a Default Value to a Column

How to Remove a Default Value From a Column

How to Add a Not Null Constraint

How to Remove a Not Null Constraint

How to Create an Index

How to Drop an Index

How to Create a View

How to Drop a View

How to Alter Sequence

3) Dates And Time

How to Exclude Current or Partial Weeks

How to Use BETWEEN Correctly

How to Query Date and Time

How to Group by Time

How to Round Timestamps

4) Analysis

How to Use nullif()

How to Get the First Row per Group

How to Do Type Casting

How to Write a Common Table Expression

How to Import a CSV

How to Use Coalesce

How to Write a Case Statement

How to Query a JSON Column

How to Calculate Cumulative Sum-Running Total",learnSQL,MySQL Tutorial for Beginners,1.0,https://www.reddit.com/r/learnSQL/comments/q78nbt/mysql_tutorial_for_beginners/
42,ShroudedBlade,1634123824,q78y2i,6,1,"Hi there! First time posting in this subreddit. Anyway, I have finished Th Complete SQL Bootcamp 2021: Go from Zero to Hero by Jose Portilla in Udemy and now I'm wondering what should I do next? How can I further hammer in those fundamentals so I can make the right queries or at the very least know what to Google in case I forgot about the syntax? I know from here on out, practice is what will make me more proficient with the language but can you give me tips on where can I practice or how to start?",learnSQL,Basic knowledge done. Now what?,1.0,https://www.reddit.com/r/learnSQL/comments/q78y2i/basic_knowledge_done_now_what/
43,Sotijalo,1634124722,q7965p,0,1,"Hello! 

I'm new to SQL (new to all programming) and couldn't find an easy solution for a problem I have at work. So I was wondering if there is any simple way to pull this kind of thing off. Skip to the TL;DR if you don't want a description of my workplace. :-)

So I work at a sawmill. In the production line there's a measuring device which uses laser technology to 3D measure every single log that passes before it's sawn into planks. The system measures its length, diameter and possible deformation (basically if it's crooked). Then, after it's sawn into planks, there's a device for automatic measuring of the planks and their properties. We are looking into hiring the manufacturer of these devices so that they would build a feature where these meters automatically save the data into an SQL database for every single log and every single plank that comes out of them. 

So here's when I come in. Apparently the two meters would build their own tables of data, and I am to join these tables together in order to get the data I want out of it, and compare the data: what were the planks like from a specific type of log. My problem is, I would have to be able to join the information of the plank with the information of the log it was sawn out of. There are a few variables in this. Let's say it's 4 planks that are sawn from the log. So the data the plank meter puts out would have 4 records for every 1 record from the log table. Also if there are problems with the sawline or a malfunction, maybe even a power outage, the order may get mixed up: so basically the order of logs (log 1, 2, 3, 4) doesn't always correspond with the order of planks (plank 1, 2, 3, 4 having been sawn from log 1 for example). This line of numbers may get mixed up because of an error.

So, we thought, since the length of the logs is an identifiable unique value that stays the same after it's sawn, maybe the tables could be joined together looking at the length value that the meters put out. Problem is, they're not always the exact same between tables either, since the meters are not always exact to the millimeter.

So tl;dr: I would have to be able to join together two tables of information on two requisites: that the running number value is the closest possible, and the length would have to correspond as well, perhaps to be the same within 20 millimetres or so.

Is this possible using MySQL? Or is this issue far too complicated?

The tables would perhaps look like this, and in this example there's two planks per log, left being the table for log information, and right being for planks:

https://preview.redd.it/rjqkypw4e7t71.png?width=789&amp;format=png&amp;auto=webp&amp;s=87299b832592b5df52eb27e127cab193a4897334",learnSQL,Joining tables by closest values,1.0,https://www.reddit.com/r/learnSQL/comments/q7965p/joining_tables_by_closest_values/
44,Mishotaki,1634128180,q7a3ls,2,1,"Hello, i'm a beginner SQL user and my program developper has been failing to understand my simple request, so i'm here, hoping that you guys can help me.

i'm trying to find a list of the duplicates in a database to fix them, if an item has the same project number, sequence number, positon number and item number but has a different operation sequence and is shipped, the system thinks both are shipped.

so my table is called ""PRDBOM"", project number is ""prd\_id"", sequence is ""seq"", the line is ""line"", item number is ""itm\_id"" and operation is ""op\_seq""

I know where to start: ""SELECT \* FROM PRDBOM where and prd\_id = prd\_id  and seq = seq and line = line and itm\_id = itm\_id"" but i don't know how to do the comparison with ""op\_seq"" to tell it to only select the different ones...

thanks for any help",learnSQL,need help with a request,1.0,https://www.reddit.com/r/learnSQL/comments/q7a3ls/need_help_with_a_request/
45,jrz1977,1634131939,q7b8l1,1,1,"Wayne  Enterprises is a multi national conglomerate owned and chaired by Bruce  Wayne. This puzzle sets up revenue data for various entities under  Wayne Enterprises and asks a few puzzles. Can you solve them:

[https://sqlbook.io/books/897668798016917504](https://sqlbook.io/books/897668798016917504)",learnSQL,SQL Puzzle - Wayne Enterprises,1.0,https://www.reddit.com/r/learnSQL/comments/q7b8l1/sql_puzzle_wayne_enterprises/
46,flamingbeast999,1634161982,q7lkmt,10,1," The coding is actually SQL Server Version Details5.7.33-0ubuntu0.16.04.1-log 

Here's the conditions I'm trying to meet 

 

Create a **Horse** table with the following columns, data types, and constraints:

* **ID** \- integer with range 0 to 65 thousand, auto increment, primary key
* **RegisteredName** \- variable-length string with max 15 chars, not NULL
* **Breed** \- variable-length string with max 20  chars, must be one of the following: Egyptian Arab, Holsteiner, Quarter  Horse, Paint, Saddlebred
* **Height** \- number with 3 significant digits and 1 decimal place, must be ≥ 10.0 and ≤ 20.0
* **BirthDate** \- date, must be ≥ Jan 1, 2015

However it keeps giving me this error. 

 ERROR 1064 (42000) at line 1: You have an error in your SQL syntax;  check the manual that corresponds to your MySQL server version for the  right syntax to use near 'BETWEEN 10.0 AND 20.0),   BirthDate DATE CHECK (BirthDate =&gt; ""01-01-2015"") )' at line 8 

I'm a bit new to this anyone think they can help?

&amp;#x200B;

CREATE TABLE Horse (

  ID SMALLINT AUTO\_INCREMENT PRIMARY KEY,

  RegisteredName VARCHAR(15) NOT NULL,

  Breed VARCHAR(20),

  CHECK (

Breed IN(""Egyptian Arab"",""Holsteiner"",""Quarter Horse"",""Paint"",""Saddlebred"")

  ),

Height DECIMAL(3, 1) CHECK (BETWEEN 10.0 AND 20.0),

  BirthDate DATE CHECK (BirthDate =&gt; ""01-01-2015"")

);",learnSQL,I need some help fixing this code.,1.0,https://www.reddit.com/r/learnSQL/comments/q7lkmt/i_need_some_help_fixing_this_code/
47,flamingbeast999,1634171307,q7oetj,1,1,"So I need to write a SELECT statement to show a list of all employees' first names  and their managers' first names. List only employees that have a  manager. Order the results by Employee first name. Use aliases to give  the result columns distinctly different names, like ""Employee"" and  ""Manager"". 

I think I need to  Join the **Employee** table to itself using INNER JOIN. But I'm not sure if I did it right as it's telling me "" ERROR 1146 (42S02) at line 1: Table 'test.Manager' doesn't exist ""

&amp;#x200B;

SELECT Employee.FirstName AS Employee, Manager.FirstName AS Manager FROM Employee INNER JOIN Manager ON Employee.ManagerID = Manager.ManagerID ORDER BY Employee.FirstName",learnSQL,I got another syntax issue for y'all to help me with,1.0,https://www.reddit.com/r/learnSQL/comments/q7oetj/i_got_another_syntax_issue_for_yall_to_help_me/
48,NormieInTheMaking,1634196807,q7ut2a,1,1,"Need to design a mock database as part of a project in my ""Business Intelligence and Data Analysis Specialist"" training. Must have at least 15-20 tables. Any help is appreciated!",learnSQL,What does a SQL Server database in banking industry look like?,1.0,https://www.reddit.com/r/learnSQL/comments/q7ut2a/what_does_a_sql_server_database_in_banking/
49,HASTURGOD,1634221455,q80sbr,4,1,"I have a query:

Select loan, division, state, LoanNumber etc 

Now I want to get number of loans, I'm thinking count (LoanNumber). Is that right? 

What would count(*) do?

I tried count distinct but it's all 1s which I expected.",learnSQL,count(*) or count distinct or count(argument),1.0,https://www.reddit.com/r/learnSQL/comments/q80sbr/count_or_count_distinct_or_countargument/
50,KaleidoscopePrize327,1634232111,q84clq,4,1,"I am following a course, literally copying exactly what the instructor has on the screen, but my code keeps on getting this error:  

Each function argument is an expression, not a query; to use a query as an expression, the query must be wrapped with additional parentheses to make it a scalar subquery expression at \[4:6\]

   


This is my code.  
 

SELECT   
    station\_id,  
    num\_bikes\_available  
 (SELECT   
 AVG(num\_bikes\_available)  
 FROM   
 \`bigquery-public-data.new\_york\_citibike.citibike\_stations\`) AS avg\_num\_bikes\_available  
FROM   
 \`bigquery-public-data.new\_york\_citibike.citibike\_stations\`  


What am I doing wrong?",learnSQL,Help with Nested Query: what am I doing wrong?,1.0,https://www.reddit.com/r/learnSQL/comments/q84clq/help_with_nested_query_what_am_i_doing_wrong/
51,nachiketas_,1634240829,q879h8,3,1,"What does this statement do? How is this used?

    SELECT NULL, NULL, NULL, NULL, emp_name as ""Admin"", NULL, NULL, NULL, NULL
    FROM emp_table;",learnSQL,What does this syntax do? and Why is it used?,1.0,https://www.reddit.com/r/learnSQL/comments/q879h8/what_does_this_syntax_do_and_why_is_it_used/
52,AbideOutside,1634255661,q8bwj3,2,1,"I am trying to write a query to select the values and output them as they’re displayed on the bottom. I need to be able to select the MAX ID per Customer Num based off of the first letter in the corresponding Facility value. This would need to be grouped by Customer Num and Date. Any ideas on how to accomplish this? I’m pretty sure I’d need the LEFT function, MAX, and some case statements - however I can’t seem to figure out how to format this.

Original Table (table1)

Facility|Date|Customer Num|Name|ID
:--|:--|:--|:--|:--
AAA|1/1/2021|111|Bob|A999
AAA|1/1/2021|111|Bob|A555
AAA|1/1/2021|111|Bob|B999
BBB|1/1/2021|222|Fred|A888
BBB|1/1/2021|222|Fred|A012
BBB|1/1/2021|222|Fred|B888
AAA|1/2/2021|333|Kevin|A777
AAA|1/2/2021|333|Kevin|B777
AAA|1/3/2021|333|Kevin|A777
AAA|1/3/2021|333|Kevin|B777

Desired Output

Facility|Date|Customer Num|Name|ID
:--|:--|:--|:--|:--
AAA|1/1/2021|111|Bob|A999
BBB|1/1/2021|222|Fred|B888
AAA|1/2/2021|333|Kevin|A777
AAA|1/3/2021|333|Kevin|A777


Current Code (not working)


    SELECT Facility, Date, Customer_Num, Name,
    CASE 
        WHEN table1.Facility = 'AAA' THEN (SELECT MAX(table1.ID) 
    FROM table1 
        WHERE LEFT(table1.ID,1) = 'A' GROUP BY table1.ID, 
    table1.Date)
        WHEN table1.Facility = 'BBB' THEN (SELECT MAX(table1.ID) 
    FROM table1 
        WHERE LEFT(table1.ID,1) = 'B' GROUP BY table1.ID, 
    table1.Date)
    ELSE table1.ID
    END AS ID_updated
    FROM table1;

CSV output and insert statement: https://pastebin.com/ietu4Da7",learnSQL,Help with case statement with MAX?,1.0,https://www.reddit.com/r/learnSQL/comments/q8bwj3/help_with_case_statement_with_max/
53,TthrowAawayAcc,1634293540,q8ljwy,4,1, ,learnSQL,Oracle: How do I write a query that shows total profit for each month?,1.0,https://i.redd.it/3q61ig88clt71.jpg
54,deanstreetlab,1634360715,q95dd7,0,1,"Is it possible (using native SQL statements) to do a *reverse ON DELETE CASCADE* to remove a row in the parent table when all foreign keys pointing to it are deleted? 

For example,
```
CREATE TABLE forest (id int auto_increment primary key, varchar(50) location);
CREATE TABLE tree (name varchar(50) primary key, quantity int not null, in_forest int, FOREIGN KEY (in_forest) REFERENCES forest(id) ON DELETE CASCADE);
```

All referencing tree table records are deleted when a forest table record is deleted. But I also want to delete the referenced record in tree table when all referencing trees are deleted, how to do it?",learnSQL,How to delete a parent table row when there are no foreign key referencing it?,1.0,https://www.reddit.com/r/learnSQL/comments/q95dd7/how_to_delete_a_parent_table_row_when_there_are/
55,sweetsummerschild,1634375018,q98dsd,2,1," Hi, I’m new to BigQuery and I have a question about grouping data in StandardSQL. My data is currently on a daily level (yy-dd-mm) and I want to aggregate it into yy-mm. How can I do this? Thanks in advance.",learnSQL,Grouping data by month in BigQuery?,1.0,https://www.reddit.com/r/learnSQL/comments/q98dsd/grouping_data_by_month_in_bigquery/
56,jrz1977,1634397343,q9dz78,2,1,"This  dataset and puzzle contains results for FC Barcelona for the year 2021.  Explore the dataset and compute number of home vs away win/loss/tie  matches.

[https://sqlbook.io/books/898941413989814272](https://sqlbook.io/books/898941413989814272)

Disclaimer:

\- This is SQL derived from CSV for Soccer SPI rankings, as such the table and column definitions may not be idiomatic SQL

\- The goal is to encourage/practice how to explore a dataset using SQL and what insights we can learn from arbitrary data.",learnSQL,SQL Puzzle - How is FC Barcelona doing?,1.0,https://www.reddit.com/r/learnSQL/comments/q9dz78/sql_puzzle_how_is_fc_barcelona_doing/
57,twentyfive_25,1634409959,q9hzqm,7,1,"Hi, 

I am currently learning SQL and would like to create an if/else statement. Please could somebody advise on best practice to create this using SQL.

Example:

I want to add a name into a table, where the column is called first_name.

I add the name ""Joe"" into the first name column.

IF ""Joe"" does not exist in the first_name column, then add this in.

ELSE if ""Joe"" already exists in the first_name column, then do not continue.

Any help on this is much appreciated.",learnSQL,SQL - ELSE/IF Statement Syntax,1.0,https://www.reddit.com/r/learnSQL/comments/q9hzqm/sql_elseif_statement_syntax/
58,sp4mserv,1634492625,qa3mhe,1,1, ,learnSQL,How to create 37.5 million data in PostgreSQL in a matter of seconds,1.0,https://josipvojak.com/how-to-create-37-5-million-data-in-postgresql-in-a-matter-of-seconds-858693976d17?sk=888ccfc6d0747b5df266955497ce7e7a
59,Tech_Comm,1634514580,qaapcq,0,1, ,learnSQL,Long weekend experiment -- Trying to learn SQL in 24 hours,1.0,https://youtu.be/gJw3Gtoi65s
60,fast_monkey668,1634525928,qadw8p,0,1,"Working on SQL exercises online and I wrote the query below to output two columns one being the year and one being the number of hits drake has that year in the hip-hop category.

However this query is very slow because of Left Join and it must be faster to be accepted. 

The problem is that I have only ever learned about Joins and I don't know how this query can be improved to have better speed without using JOIN. 

Any help would be appreciated!

&amp;#x200B;

SELECT year, 

NULLIF(COUNT(MusicData.Title) , 0) AS Drake\_Music\_Hits\_Per\_Year

FROM StreamedMusic 

LEFT JOIN MusicData ON ( 

StreamedMusic.Title = MusicData.Title 

AND Drake = 1

AND MusicData.Genre LIKE ""%Hip-Hop%""

)

GROUP BY year",learnSQL,How to optimize Left Join?,1.0,https://www.reddit.com/r/learnSQL/comments/qadw8p/how_to_optimize_left_join/
61,Kenjisanf33d,1634536263,qaghys,3,1,"Newbie here,

I am very new to SQL

Here is my Question:

how do I split salespeople into 3 groups (Low, Mid, High) based on their sales?

When I use MAX() and MIN(), I can find the highest and lowest but how about middle sales? It confuses me :((

Any idea? 

|salespeople|sales|
|:-|:-|
|John|123|
|Melvin|312|
|Johnathan|615|
|Chris|945|
|Redfield|352|
|Debbie|578|
|Albert|890|
|Cliff|243|
|Nicholas|110|
|Jack|120|
|Dixon|1220|
|William|344|
|Wilson|243|
|Alfred|456|
|Edie|657|
|Ryan|456|
|Jason|745|
|Ryam|476|
|Emilia|354|
|Felix|869|
|Mary|748|
|Malvin|657|
|Sally|564|
|Violet|234|
|Mony|346|
|Winnie|657|",learnSQL,"how do I split salespeople into 3 groups (Low, Mid, High) based on their sales? (Need help)",1.0,https://www.reddit.com/r/learnSQL/comments/qaghys/how_do_i_split_salespeople_into_3_groups_low_mid/
62,fast_monkey668,1634538284,qagy2w,2,1,"SELECT ""Netflix"" AS Streaming\_Platform, m.Title , m. Revenue

FROM MovieData m

WHERE m.Revenue IN(

SELECT MAX(m.Revenue) 

FROM StreamedMovies s, MovieData m

WHERE [s.Netflix](https://s.Netflix) = 1

AND m.Title = s.Title)	

\---------------------------------------------------------

SELECT ""Netflix"" AS Streaming\_Platform, m.Title , m. Revenue

FROM MovieData m

WHERE EXISTS(

SELECT MAX(m.Revenue) 

FROM StreamedMovies s, MovieData m

WHERE [s.Netflix](https://s.Netflix) = 1

AND m.Title = s.Title)	

&amp;#x200B;

Hello Everyone. 

I want the above 2 queries to do the same thing but the Where Exists one doesn't work. 

If anyone could tell me how to make the second query act like the first one I would very much appreciate it. 

Thank you",learnSQL,Converting IN to EXISTS,1.0,https://www.reddit.com/r/learnSQL/comments/qagy2w/converting_in_to_exists/
63,KikuAndScales,1634547092,qaiqbe,2,1,"Im trying to clean up some decimals in my table in MS SQL. Here's my code:

    UPDATE table
    SET [Accounting Value] = REPLACE([Amount],',','') / 100
    WHERE REPLACE([Amount],',','') &lt;&gt; [Accounting Value] * 100

But I'm getting an overflow error, any advice on how can I fix this?",learnSQL,The conversion of the nvarchar value '2341031744' overflowed an int column,1.0,https://www.reddit.com/r/learnSQL/comments/qaiqbe/the_conversion_of_the_nvarchar_value_2341031744/
64,Jksnr51,1634590741,qavuy0,5,1,"Good evening everyone! I’m learning SQL via online courses and I’m progressing through it all okay. What I want to do is apply my learning and perform exercises/tasks that are common on a day to day basis or that are considered really useful in the real world. 

Like finding missing records between 2 tables being one example. 

Short story, I’m looking for all your recommendations of very useful tasks/exercises to get stuck into….fire away.",learnSQL,Useful exercises/techniques in sql…,1.0,https://www.reddit.com/r/learnSQL/comments/qavuy0/useful_exercisestechniques_in_sql/
65,Kenjisanf33d,1634609210,qb1j60,2,1," In the table, the phone\_number is in this format '###.###.####'. But I want to change it into this format '###-###-####'. I used format function, I couldn't get the right format.

Tool: SQL

Here is my code:

    SELECT `first_name`, `phone_number`, format(`phone_number`, '###-###-####') as formatedphone FROM customers; 

So, I would like someone to help me out. Your help is greatly appreciated.

|customer\_id|first\_name|phone\_number|
|:-|:-|:-|
|230|John|515.123.4545|
|231|Melvin|515.123.4545|
|232|Jason|515.123.4534|
|233|Debbie|590.423.4575|
|234|Elvin|590.423.4634|
|235|Ivan|590.423.4645|
|236|Chris|515.127.4567|
|237|Jason|515.127.4564|
|238|Jonathan|515.127.4565|
|239|Nabby|650.123.2234|
|240|Nancy|650.123.5234|
|241|Eddie|650.123.3234|",learnSQL,What is the best way to alter the format of a phone number?,1.0,https://www.reddit.com/r/learnSQL/comments/qb1j60/what_is_the_best_way_to_alter_the_format_of_a/
66,Mince_my_monocles,1634639683,qb8qd4,4,1,"Hey everyone,  
I'm completely new to to the world of postresql however I am trying to learn.  
I requested a full backup of the data from our site and received it in a .dump file.  
I was advised to use a pg\_restore command to restore the data so I can use it further.  
After a while of getting incorrect syntax errors + generally not knowing what to do I came across pgAdmin4 which looks a lot less confusing.  
Now when I'm using the restore function (tools &gt; restore), whenever I choose to create a database it tells me the database already exists and my role does not exist. Whenever I choose not to create a database it returns errors where no relations exist.  
I apologise if this is very vague, any help or pointing to a good book/article would be very appreciated!",learnSQL,Complete beginner trying to restore a .dump file that my dev team gave me,1.0,https://www.reddit.com/r/learnSQL/comments/qb8qd4/complete_beginner_trying_to_restore_a_dump_file/
67,chadbaldwin,1634663755,qbg4jz,2,1,"In this post, I talk about the process I went through, the failures and the successes, while I was working on a task to copy a fairly large table from one server to another. I didn't know right off the bat how to get it done, but wit the help of the community, I was able to learn and figure it out.

https://chadbaldwin.net/2021/10/19/copy-large-table.html",learnSQL,"[Blog] [MS SQL] Copy a large table between servers, a couple wrong ways, maybe one right way",1.0,https://www.reddit.com/r/learnSQL/comments/qbg4jz/blog_ms_sql_copy_a_large_table_between_servers_a/
68,HASTURGOD,1634683262,qbmx4a,2,1,"These are just general use case so I don't have any query to post. 

1. Query to find last date a column or record was used 

2. Query to find how many times a record has been used in a year[this year] 

3. Query to find names of individuals that have used that record &amp; how many times they used it in a day or month or year",learnSQL,How to... query,1.0,https://www.reddit.com/r/learnSQL/comments/qbmx4a/how_to_query/
69,PsErfan,1634752247,qc6n7b,5,1, ,learnSQL,Error during SQL 2008 installing,1.0,https://i.redd.it/ko5ps8v78nu71.jpg
70,sdaiv,1634756030,qc82ad,1,1,"Hello,

I have a table which looks something like:  


|Week|Age |Orders|
|:-|:-|:-|
|40|\&gt;18|1000|
|40|\&gt;25|500|

   
In my cases the ages' are 'aggregate', so those who are &gt;25 are also &gt;18. How would I subtract the the two ages from one another and ideally get:

&amp;#x200B;

|Week|Age|Orders|
|:-|:-|:-|
|40|\&gt;18|500 |
|40|\&gt;25|500|",learnSQL,Subtract values based on dimensions in a column,1.0,https://www.reddit.com/r/learnSQL/comments/qc82ad/subtract_values_based_on_dimensions_in_a_column/
71,Storm_Silver,1634759501,qc9c9i,3,1,"Hi, I am attempting to find the id from a column that has the most of another column but other than finding the number of values of each group and then sorting I can't figure out a good method to approach this problem

&amp;#x200B;

This is what I've attempted to do which outputs the total number of products per name:

    SELECT category_id, COUNT(product_name) AS total_products
    FROM products
    WHERE category_id IS NOT NULL
    GROUP BY category_id
    ORDER BY total_products DESC;

Is there a way to use Max() to obtain the product with the highest occurrences or am I approaching this wrong?",learnSQL,"Method for chaining count(), group_by and Max()?",1.0,https://www.reddit.com/r/learnSQL/comments/qc9c9i/method_for_chaining_count_group_by_and_max/
72,steakandchips2,1634809209,qco33j,0,1,"Hello all, i have a problem with this question :

Using the SQL ALTER statement as well as investigating how to create compound foreign keys, add a FOREIGN key constraint to the booking table to reference the room table.

&amp;#x200B;

my tables are room &amp; booking.

&amp;#x200B;

i need to have a foreign key on my booking table referencing my room table.

&amp;#x200B;

 Here are my tables:

&gt;`CREATE TABLE golfer`  
`(golfer_numb NUMBER(6) NOT NULL PRIMARY KEY,`  
`firstname VARCHAR2(25),`  
`surname VARCHAR2(25),`  
`street VARCHAR2(20),`  
`/*town column missing*/`  
`town VARCHAR2(20),`  
`region VARCHAR2(20),`  
`postcode VARCHAR2(8),`  
`tel_numb NUMBER(13));`  
&gt;  
&gt;  
&gt;  
&gt;`CREATE TABLE room`  
`(room_numb NUMBER(4) NOT NULL,`  
`hotel_numb NUMBER(2) NOT NULL REFERENCES hotel(hotel_numb),`  
`room_type VARCHAR2(1),`  
`tariff NUMBER(5,2),`  
`PRIMARY KEY(room_numb, hotel_numb));`

&amp;#x200B;

this is what i have so far, but im totally stuck! could someone please help me?

&gt;`ALTER TABLE room`  
&gt;  
&gt;`MODIFY (room_type FOREIGN KEY);`  
&gt;  
&gt;`ALTER TABLE booking`  
&gt;  
&gt;`ADD room_type VARCHAR2(1) CONSTRAINT fk_room_type FOREIGN KEY (room_type) REFERENCES room(room_type, room_numb);`

&amp;#x200B;

&amp;#x200B;

this is the error i have right now:

&gt;`Error starting at line : 453 in command -`  
&gt;  
&gt;`ALTER TABLE bh54do_booking`  
&gt;  
&gt;`ADD room_type VARCHAR2(1) CONSTRAINT fk_room_type FOREIGN KEY (room_type) REFERENCES bh54do_room(room_type, room_numb)`  
&gt;  
&gt;`Error report -`  
&gt;  
&gt;`ORA-02253: constraint specification not allowed here`  
&gt;  
&gt;`02253. 00000 -  ""constraint specification not allowed here""`  
&gt;  
&gt;`*Cause:    Constraint specification is not allowed here in the statement.`  
&gt;  
&gt;`*Action:   Remove the constraint specification from the statement.`",learnSQL,Use alter to add a foreign key to a table (compound key?),1.0,https://www.reddit.com/r/learnSQL/comments/qco33j/use_alter_to_add_a_foreign_key_to_a_table/
73,mr_rice_crispers,1634820778,qcr4aw,2,1,"I have this  [database](https://imgur.com/9KaFqXr) and my query is to find movie name and reviewer name where the reviewer changed increased his rating for a movie. ( Sarah Martinez - Gone With The Wind)  
The exact question is :-  ***For all cases where the same reviewer rated the same movie twice and gave it a higher rating the second time, return the reviewer's name and the title of the movie.***   


I didnt like how i had to use so many AND conditions and am looking for something more refined.

What i came up with:-  


    SELECT DISTINCT name,title
    FROM Movie NATURAL JOIN Rating NATURAL JOIN Reviewer
    WHERE rID IN
    	(SELECT R1.rID
    	FROM Rating R1, Rating R2
    	WHERE R1.rID = R2.rID AND R1.mID = R2.mID  
    	AND R2.stars &gt; R1.stars AND R2.ratingDate &gt; R1.ratingDate);
    

&amp;#x200B;

https://preview.redd.it/blsqb5dyvsu71.png?width=544&amp;format=png&amp;auto=webp&amp;s=b80927f624721cb0d4915250183e5d90eb698660",learnSQL,Any other way to write this query,1.0,https://www.reddit.com/r/learnSQL/comments/qcr4aw/any_other_way_to_write_this_query/
74,mr_rice_crispers,1634845302,qczpjj,3,1,"Help me get this same exact answer.  


My database :-   https://imgur.com/qXtYdn0   


**The exact answer i want:**\-

|Cassandra|9|Gabriel|9|
|:-|:-|:-|:-|
|Jessica|11|Kyle |12|

**The answer i am getting:-**  


|Cassandra|9|Gabriel|9|
|:-|:-|:-|:-|
|Kyle|12|Jessica|11|

My query :-  


    SELECT T.`Admirer Name`,T.AdmirerGrade,T.`Admired Name`,T.AdmiredGrade
    FROM 
    	(
    	SELECT H1.ID AS 'Admirer ID',H1.name as 'Admirer Name',H1.grade AS 'AdmirerGrade',H2.ID as 'Admired ID',H2.name as 'Admired Name',H2.grade AS 'AdmiredGrade'
    	FROM (Likes JOIN Highschooler H1 ON H1.ID=ID1) JOIN Highschooler H2 ON H2.ID=ID2
    	) T,
    	(
    	SELECT H1.ID AS 'Admirer ID',H1.name as 'Admirer Name',H1.grade AS 'AdmirerGrade',H2.ID as 'Admired ID',H2.name as 'Admired Name',H2.grade AS 'AdmiredGrade'
    	FROM (Likes JOIN Highschooler H1 ON H1.ID=ID1) JOIN Highschooler H2 ON H2.ID=ID2
    	) Q
    WHERE T.`Admired ID` = Q.`Admirer ID` AND T.`Admirer ID` = Q.`Admired ID` AND T.`Admirer ID` &gt; Q.`Admirer ID`;


System i am using :- SQLite  
Also,i can only execute one command at a time so i can not use VIEW.  
Please help me as i am stuck on this for the last few hours and it's making me crazy.",learnSQL,Stuck on wrong answer orientation wise for 3 hours and my mind is now completely shut off.,1.0,https://www.reddit.com/r/learnSQL/comments/qczpjj/stuck_on_wrong_answer_orientation_wise_for_3/
75,Signal_Explorer8071,1634852790,qd28t4,4,1," There are no data aggregates at my workplace, only raw data tables in the data warehouse.   
I want to create the aggregates. Here is how I plan to do it.   
a. Get a sandbox for my username   
b. Create a table in the sandbox. The query will be an aggregate query. Questions: 

1. Could you please share your comments on this approach. Is there a better way, perhaps?
2. How can I automate refreshing the table please? Any broad tips you can share please? Apologies if this comes across as a lazy question. I did try to Google :(",learnSQL,Creating aggregates,1.0,https://www.reddit.com/r/learnSQL/comments/qd28t4/creating_aggregates/
76,caesarmario_,1634878980,qd9r59,3,1," Hi everyone! So I'm trying to delete row that has least status total.

Table Screenshot :

&amp;#x200B;

https://preview.redd.it/nm8r0lz0pxu71.png?width=341&amp;format=png&amp;auto=webp&amp;s=dbb7eb61f156800b9c1b2b09ea6b2db4bdb906d8

In '5001718' and '5001720', there are two status, which are 'Good Debt' and 'Bad Debt'. I want to delete 'Bad Debt' since it has least values.

Similarly, if 'Good Debt' has least total compared to 'Bad Debt', then the 'Good Debt' will be deleted. What function do I need to use in SQL? Since I'm a bit blur what the code will be look like.

*All the columns are coming from single table*.

Thanks for your help.",learnSQL,Compare values and delete row that has least total,1.0,https://www.reddit.com/r/learnSQL/comments/qd9r59/compare_values_and_delete_row_that_has_least_total/
77,thumbsdrivesmecrazy,1634883924,qdav3c,0,1,"The following tutorial is explaining the following basic and advanced aspects of OracleSQL and how it differs from standard SQL on each of these aspects: [Oracle SQL Tutorial for Data Analysis - bipp Analytics](https://bipp.io/sql-tutorial/oraclesql/)  


1) Basics

How to Concatenate Strings in Oracle

How to Convert the Case of a String

How to Replace Substrings

How to Trim Strings

How to Use listagg()

How to Use substring()

How to Use substring() with Regular Expressions

How to Insert

How to Update

How to Delete

2) Database Management

How to Create a Table

How to Drop a Table

How to Rename a Table

How to Truncate a Table

How to Duplicate a Table

How to Add a Column

How to Drop a Column

How to Rename a Column

How to Add a Default Value to a Column

How to Remove a Default Value From a Column

How to Add a Not Null Constraint

How to Remove a Not Null Constraint

How to Create an Index

How to Drop an Index

How to Create a View

How to Drop a View

How to Alter Sequence

3) Dates And Time

How to Exclude Current or Partial Weeks

How to Use BETWEEN Correctly

How to Query Date and Time

How to Group by Time

How to Round Timestamps

4) Analysis

How to Use nullif()

How to Get the First Row per Group

How to Do Type Casting

How to Write a Common Table Expression

How to Import a CSV

How to Use Coalesce

How to Write a Case Statement

How to Query a JSON Column

How to Use Filter Clause to Have Multiple Counts

How to Calculate Cumulative Sum-Running Total",learnSQL,Oracle SQL Tutorial for Data Analysis,1.0,https://www.reddit.com/r/learnSQL/comments/qdav3c/oracle_sql_tutorial_for_data_analysis/
78,onesmallbite,1634924466,qdm4hz,2,1,"So I've never used SQL but have been trying to learn the basics online to increase my data analysis marketability.  Now that I know the very basic s of what it is, I am wondering if it could be useful for a current project. 

I'm working on evaluation of a new teaching method at a college.  We are collecting student demographics and academic data from the university each semester and we are doing in-class surveys and content quizzes at the beginning and end of each semester.  So far, we have about 12 datasets and that will increase by 3 each semester.  We will also likely pull more historical data for comparison. We need to analyze how the classes with the new teaching methods are influencing student achievement. 

So, given we have many relational datasets across students and courses, would SQL be useful for managing the data? So far I'm going through complex merging acrobatics every time I need to run a different analysis.

I see a lot of tutorials on how to use SQL once it's already set up.... But anyone know of tutorials on how to download/create an account and get a database set up??

Thanks for your advice!",learnSQL,Complete Newbie- Should I use SQL for data storage?,1.0,https://www.reddit.com/r/learnSQL/comments/qdm4hz/complete_newbie_should_i_use_sql_for_data_storage/
79,Bee_Healthy,1634929691,qdnx8b,4,1,Hello. So currently hold a database analyst certificate because I joined a year long program. The issue is I have minimal knowledge as they didn’t teach me much. How do I go on to learn everything I need to get a entry level job,learnSQL,Hold a database certificate but don’t know how to start,1.0,https://www.reddit.com/r/learnSQL/comments/qdnx8b/hold_a_database_certificate_but_dont_know_how_to/
80,finsterb,1634990101,qe3hi7,1,1,"Any recommendations on where I can download a free &amp; simple dataset for a project?

Basically I have to run a dataset using orange and report on my experience.

Any help will be greatly appreciated",learnSQL,Data set for a project,1.0,https://www.reddit.com/r/learnSQL/comments/qe3hi7/data_set_for_a_project/
81,Sock_Upper,1634997524,qe5chq,12,1,"Hello,

I am absolutely new to SQL, but am really interested in learning it. I’ve taken my first course and want to keep going. 

However, if it’s not too much to ask, I’d really like to gain insight as to what a typical task for a data analyst actually looks like.

Keep in mind, I really don’t have prior knowledge of how things work between the analyst and the employer, so be patient with me. You may think some of these questions are silly.

Specifically, I’m wondering:

How do you receive all of the data from whomever you’re analyzing data for?

Does your client or employer typically tell you what information or data they need?

How do you present or compile all of this data for your employer? 

What kind of data do you typically analyze, and do you go about it? Do you have to create tables for every variable that they might need (demographics, age, name information, etc.)? 

Sorry again if these are dumb questions!

Also, if there’s anything you think I should know about the typical procedure, let me know! I’d appreciate the insight.",learnSQL,Walk me through a typical assignment as a data analyst who uses SQL,1.0,https://www.reddit.com/r/learnSQL/comments/qe5chq/walk_me_through_a_typical_assignment_as_a_data/
82,IUsedToHaveAmbition,1635025441,qee8vb,10,1,"Let's say I have 2 tables: customer and order.

On the order table, there is a not nullable customer\_id column, so obviously, every order was made by a customer.

There are many customers that have never made an order before. I would like to see a list of these customers.

Why can't I do the following:

    SELECT * FROM customer LEFT OUTER JOIN order ON customer.customer_id = order.customer_id;

I would've though that LEFT *OUTER* JOIN would give me everything the in the left table that does not overlap in the right table, but I guess not.

The only way I know how to get a list of customer that have not made orders seems inefficient and uses a subquery:

    SELECT * FROM customer WHERE customer_id NOT IN ( SELECT DISTINCT customer_id FROM order );",learnSQL,Stupidest question ever. Why is LEFT OUTER JOIN the same as LEFT JOIN?,1.0,https://www.reddit.com/r/learnSQL/comments/qee8vb/stupidest_question_ever_why_is_left_outer_join/
83,distraughthoughts,1635034837,qeh0qg,0,1,"Hello,

If you are interested in learning SQL, have knowledge and wish to review SQL with others, or just have questions regarding the subject, I’ve created the following Discord server for SQL. 

https://discord.gg/Xr593UW",learnSQL,Need help with SQL? Check out this Discord server!,1.0,https://www.reddit.com/r/learnSQL/comments/qeh0qg/need_help_with_sql_check_out_this_discord_server/
84,octor_stranger,1635050959,qel6wa,0,1, ,learnSQL,when perform crud operation do that consider an transaction to the database?,1.0,https://www.reddit.com/r/learnSQL/comments/qel6wa/when_perform_crud_operation_do_that_consider_an/
85,octor_stranger,1635050992,qel76d,1,1, ,learnSQL,when perform crud operation do that consider a transaction to the database?,1.0,https://www.reddit.com/r/learnSQL/comments/qel76d/when_perform_crud_operation_do_that_consider_a/
86,CatolicQuotes,1635136802,qf957a,4,1,"I have table looking like this sample:

| symbol | strategy  | roi |   |   |
|--------|-----------|-----|---|---|
| AAPL   | overnight | 3.4 |   |   |
| AAPL   | benchmark | 2.3 |   |   |



I need to query and get this result:

| symbol | overnight_roi | benchmark_roi |   |   |
|--------|---------------|---------------|---|---|
| AAPL   | 3.4           | 2.3           |   |   |


How to do that? 
Or what commands I need to look up to learn?",learnSQL,"How to make data from multiple rows appear in one row, like pivot table?",1.0,https://www.reddit.com/r/learnSQL/comments/qf957a/how_to_make_data_from_multiple_rows_appear_in_one/
87,sweetsummerschild,1635160032,qfebb2,5,1,"Hi,

So I have this dataset like follows:

|user\_id|service\_id|date|
|:-|:-|:-|
|40709217|20|2018-01-02 00:00:00.000|
|40709217|347|2018-01-03 00:00:00.000|
|18246539|984|2018-03-22 00:00:00.000|
|18246539|101|2018-03-30 00:00:00.000|
|18246539|3023|2018-05-01 00:00:00.000|

I want to query the first second, and last service\_id and date for each user. How can I do that? The problem with me right now is that I don't know how to query the service\_id since they are unique.",learnSQL,"Querying the first, second and last service_id?",1.0,https://www.reddit.com/r/learnSQL/comments/qfebb2/querying_the_first_second_and_last_service_id/
88,Brodersenbc,1635161158,qfelry,3,1,"  I'm working on the below query.

SELECT \* FROM eg\_table1 LEFT JOIN eg\_table2 ON eg\_table1.part\_id =  eg\_table2.PRODNO WHERE eg\_table1.part\_id LIKE ""%ARG1%"" AND  eg\_table2.CCI\_PROJECT\_ID LIKE '%ARG2%'

It works fine, however, when ARG1 is not contained in table2 it  doesn't return anything. Could anyone help me find a way to add a functionality to this query to show ARG1 and an indicator that the value is in table 1 but not in table 2?",learnSQL,Create a SQL Query that compares two tables and return an indicator if value is contained in Table 1 but not in Table2,1.0,https://www.reddit.com/r/learnSQL/comments/qfelry/create_a_sql_query_that_compares_two_tables_and/
89,Happy_Olympia,1635178403,qfk70m,0,1,"Hi guys, I am trying to bulk insert in MAC and getting this error. Have been trying to solve for past 1 hr but the same error again. Can anyone please help?",learnSQL,"Msg 4860, Level 16, State 1, Line 3 Cannot bulk load. The file ""/path"" does not exist or you don't have file access rights.",1.0,https://www.reddit.com/r/learnSQL/comments/qfk70m/msg_4860_level_16_state_1_line_3_cannot_bulk_load/
90,DarkishFriend,1635265474,qga4aa,11,1,"I don't exactly know how to ask this question. Can Order By only order a SQL query by column names?

I think my problem is the software that I am using; BP Logix's Process Director. My boss wants a chart to examine task times, but they are being put alphabetically instead of the order of the user tasks for the given assignment. He wants them ordered by the order of the user tasks. bPT.TaskName is the column name of the information that this chart is gather information from. Can I use Order By for data inside the column head?",learnSQL,Question about ORDER BY function.,1.0,https://www.reddit.com/r/learnSQL/comments/qga4aa/question_about_order_by_function/
91,Sergeant_Arcade,1635277648,qgejtl,0,1,"I'm learning SQLite today but sometimes when I enter a command, it won't work. When I re-enter the EXACT same command, it works. But why is that? I noticed this happens when

    ...&gt;

appears next to my query. Here's the full query:

    
        SQLite version 3.36.0 2021-06-18 18:36:39
        Enter "".help"" for usage hints.
        Connected to a transient in-memory database.
        Use "".open FILENAME"" to reopen on a persistent database.
        sqlite&gt; sqlite3 test.db
           ...&gt; create table employees (id integer primary key, name text);
        Error: near ""sqlite3"": syntax error
        sqlite&gt; create table employees (id integer primary key, name text);
        sqlite&gt; insert into employees values(1, Joe);
        Error: no such column: Joe
        sqlite&gt; insert into employees values(1, ""Joe"");
        sqlite&gt; select * from employees
           ...&gt; select * from employees
           ...&gt; select * from employees;
        Error: near ""select"": syntax error
        sqlite&gt; select * from employees;
        1|Joe
        sqlite&gt;",learnSQL,SQLite sometimes doesn't accept commands? (...&gt;),1.0,https://www.reddit.com/r/learnSQL/comments/qgejtl/sqlite_sometimes_doesnt_accept_commands/
92,Sergeant_Arcade,1635287516,qgi0d2,0,1,"SQLite is downloaded and added to PATH, but every time I enter ""sqlite3 test.db"" or ""sqlite test.db"" into Windows Command Prompt, it is ""not recognized as an internal or external command, operable program or batch file."" 

Do I need to use Git Bash or something else entirely?",learnSQL,Where do I create a database in SQLite?,1.0,https://www.reddit.com/r/learnSQL/comments/qgi0d2/where_do_i_create_a_database_in_sqlite/
93,Sergeant_Arcade,1635296223,qgks7y,0,1,"Here's another SQLite question. I've learned a lot so far, but I need to open a .sqlite file to complete a class project. I can open .sql files just fine, so why is this not working? I double checked and the .sqlite is in the correct directory. Maybe you all can take a look at my terminal input and help me figure this out:

    
        Microsoft Windows [Version 10.0.19043.1288]
        (c) Microsoft Corporation. All rights reserved.
    
        C:\Users\Will's Lenovo Laptop&gt;sqlite3
        SQLite version 3.36.0 2021-06-18 18:36:39
        Enter "".help"" for usage hints.
        Connected to a transient in-memory database.
        Use "".open FILENAME"" to reopen on a persistent database.
        sqlite&gt; .open /Documents/sqlite3_Files/sql-population-queries-starting/db.sqlite
        Error: unable to open database ""/Documents/sqlite3_Files/sql-population-queries-                    starting/db.sqlite"": unable to open database file
        sqlite&gt;",learnSQL,Why can I not open .sqlite databases using SQLite?,1.0,https://www.reddit.com/r/learnSQL/comments/qgks7y/why_can_i_not_open_sqlite_databases_using_sqlite/
94,dispersedkids,1635338955,qgvxyh,2,1,"I have 2 tables in one of the column of first table I have foreign keys for second table but those foreign keys are separated by comma 
I want to fetch the rows from second table  with those foreign keys .. what should i do ?",learnSQL,Help,0.99,https://www.reddit.com/r/learnSQL/comments/qgvxyh/help/
95,Reginald_Martin,1635343172,qgxblp,0,1,Interested in building web applications? Learn the most in demand skill - SQL &amp; MySQL and Up-Skill your career now. [**Enroll now**](https://www.udemy.com/course/sql-and-mysql-masterclass/?couponCode=5C191F7FE24586D17744),learnSQL,Learn the most in demand skill - SQL &amp; MySQL at $9.99 | Udemy,1.0,https://www.reddit.com/r/learnSQL/comments/qgxblp/learn_the_most_in_demand_skill_sql_mysql_at_999/
96,bobnudd,1635356979,qh2bij,0,1,"I have a single table that I would like to join a subquery containing a grouped count

tbl1
ID | title | other
|:--|:--|:--|
|1|An example| something else|
|2|Second example| this too|
|3|An example| yes indeed|

subquery
```
select tbl1.title, count(*) as count_title
from tbl1
group by count_title
```

|title|count_title|
|:--|:--|
|An example|2|
|Second example|1|

I tried joining using that subquery but it didn't work

How can I create
|ID| title | other | count_title
|:--|:--|:--|:--|
|1|An example| something else|2|
|2|Second example| this too|1|
|3|An example| yes indeed|2|",learnSQL,join a grouped sub query?,1.0,https://www.reddit.com/r/learnSQL/comments/qh2bij/join_a_grouped_sub_query/
97,Sergeant_Arcade,1635357765,qh2lzx,3,1,"&amp;#x200B;

    
       sqlite&gt; SELECT continent, SUM(population)
       ...&gt; FROM countries
       ...&gt; JOIN population_years
       ...&gt; ON countries.id = country_id
       ...&gt; WHERE year = 2010;
    

This returns:

    
        continent      SUM(population)
        -------------  ---------------
        North America  6842.96425

I tried using ORDER BY to see if it would give me a full list, but it returns the same thing. SUM() by default returns only one result. How do I make it return the sum population of ALL countries with one query?",learnSQL,"How do I return sum population of ALL countries, not just the first result?",1.0,https://www.reddit.com/r/learnSQL/comments/qh2lzx/how_do_i_return_sum_population_of_all_countries/
98,deanstreetlab,1635417557,qhk4ue,5,1,"I am reading a SQL book whose examples often include creating an index on primary keys. I am not familiar with indexing but always thought MySQL would automatically index all primary keys, so wondering what's the point of explicitly indexing it?

For example, is there a point doing it?
```
CREATE TABLE cats (
  id INT,
  name VARCHAR(30) NOT NULL,
  PRIMARY KEY (id),
  INDEX(id(5))
)
```",learnSQL,Creating an index on primary key?,1.0,https://www.reddit.com/r/learnSQL/comments/qhk4ue/creating_an_index_on_primary_key/
99,GamesOverEasy_90,1635431845,qhoh3s,1,1, ,learnSQL,Differences Between WHERE and HAVING Clauses in SQL | Common SQL Interview Question,1.0,https://youtu.be/2ch68hrp-j0
0,justagirl0402,1630617704,pgr1y4,6,1,"     select
       * 
     from reporting.realTimeCall
     left join 
       (
        select
          companyProfileID,
          userProfileID,
          SUM(CASE WHEN tagID = 322029570 THEN 1 ELSE 0 END) AS isTagged_scheduler_reporting  
        from reporting.realTimeUserTags
        where tagID IN (
            322029570) -- list of tags
        group by 
          1,2
       )

I've tried to put an alias after the last "")"", but that doesn't work. Also tried aliasing both of the tables in my FROM statements - doesn't work. Thoughts?",learnSQL,Every derived table must have alias error - help,1.0,https://www.reddit.com/r/learnSQL/comments/pgr1y4/every_derived_table_must_have_alias_error_help/
1,Sad-Technician-327,1630704726,phecle,6,1,"”For those with the title Sales Representative, Senior Sales Representative, anf Sales Executive, search those whose last name begins with letter S.”",learnSQL,What would be the right command for this question?,1.0,https://www.reddit.com/r/learnSQL/comments/phecle/what_would_be_the_right_command_for_this_question/
2,stewtech3,1630716926,phhpbq,7,1,"Or Coursera, EDX etc?",learnSQL,Best Udemy course?,1.0,https://www.reddit.com/r/learnSQL/comments/phhpbq/best_udemy_course/
3,radiosnooze,1630747439,phocuu,3,1,"Hi, 

&amp;#x200B;

I have a table in MYSQL db that looks like it:  


|date|manager|status|
|:-|:-|:-|
|2021-02-02|Ax|Sold|
|2021-03-03|Ax|Cancelled|
|2021-03-04|Mo|Sold|
|2021-04-04|Za|Returned|
|2021-05-05|Za|Returned|
|2021-05-05|Ax|Sole|

And trying to get this result:  


&amp;#x200B;

|Manager|Sold|Cancelled|Returned|
|:-|:-|:-|:-|
|Ax|2|1||
|Mo|1|||
|Za|||2|

However I got stuck. Is this even possible in MYSQL?    
Thank you!",learnSQL,Table to Pivot problem.,1.0,https://www.reddit.com/r/learnSQL/comments/phocuu/table_to_pivot_problem/
4,OguzKayra,1630750574,phoy4y,0,1, ,learnSQL,Databases &amp; Database Manipulation With SQL,1.0,https://mymasterdesigner.com/2021/09/02/databases-database-manipulation/
5,cchaituc,1630756341,phq5bo,4,1,"I've been learning sql and databases since a few years now. Have an IT background, recently at work, i have been told to guide a fellow colleague with learning SQL. With that I did send a few links and resources to learn SQL.  My colleague is from a non-IT background so all terms and concepts are super fresh, but for me by now some concepts have become very basic, hence i find difficulty explaining it to my colleague or even i forget that some terms need to be explained better. 

So, what would be a concept checklist for databases and SQL that one should keep and follow. And any of your favourite youtubers? :)",learnSQL,Database &amp; SQL Concepts Checklist,1.0,https://www.reddit.com/r/learnSQL/comments/phq5bo/database_sql_concepts_checklist/
6,Sad-Technician-327,1630788665,phzexo,1,1, ,learnSQL,What would be the right command for this question? (Info in comments),1.0,https://i.redd.it/gv6rwg9gujl71.jpg
7,stewtech3,1630802139,pi32ax,3,1, ,learnSQL,Thoughts on this curriculum,1.0,https://link.medium.com/tVzLmWH4hjb
8,dwihow,1630912027,piues9,2,1," 

Hi all, I'm having some difficulty with the following question:

'FInd all Customers who ordered a bicycle'

&amp;#x200B;

https://preview.redd.it/ojfp7qd91ul71.png?width=590&amp;format=png&amp;auto=webp&amp;s=38f5229ef102b470771f9c6615259a4f26372f70",learnSQL,Multiple Tables Question,1.0,https://www.reddit.com/r/learnSQL/comments/piues9/multiple_tables_question/
9,radiosnooze,1630912928,piulv6,5,1,"I have a table with following data:  


&amp;#x200B;

|date|user\_id|product\_id|items\_purchased|price|
|:-|:-|:-|:-|:-|
|2021-01-01|1|1|1|12.99|
|2021-01-01|2|1|3|34.54|
|2021-02-01|3|2|1|20.12|
|2021-02-02|1|2|1|20.12|
|2021-02-03|2|3|2|60.34|

What I want to get is to calculate total price paid by user\_id, total sales and user's share in total sales in percentages:  


&amp;#x200B;

|user\_id|items\_purchased|total\_price|total\_sales|share\_in\_total\_sales\_in\_perc|
|:-|:-|:-|:-|:-|
|1|2|33.11|148.11|22,36|
|2|5|94.88|148.11|64.06|

The `total_sales` can be done by window function - `sum(price_usd) over() as total_sales`, `items_purchased` and `total_price` just by simple `sum()` and `group by user_id`, however I'm struggling with combining these two in a way that works. Any help is appreciated.",learnSQL,Question about window function and aggregation,1.0,https://www.reddit.com/r/learnSQL/comments/piulv6/question_about_window_function_and_aggregation/
10,antiscalope,1630914083,piuufe,3,1,"Hi,

I have a sqlite database with some body metrics that I'm extracted/imported from my Garmin Connect watch/account. I'm interested in working with my sleep data.

The relevant types for the table I want to look at are:

    CREATE TABLE sleep (
    	day DATE NOT NULL, 
            (...)
    	total_sleep TIME NOT NULL, 
            (...)
    )

I can poll fine with a simple query:

    SELECT
            day,
            total_sleep
    from sleep;

But `total_sleep` is returned as a TIME item (i.e. for 8 hours of sleep, it returns 08:00:00.000000), and grafana is unable to plot this on a graph. I'd like to convert this TIME value into a float. I'm a noob, I've done some research but I can't find how to achieve this... Can you help me please?

Side question: for grafana to properly parse `day` as a time series, I'm using this query instead:

    SELECT
            day || 'T00:00:00Z' AS ts,
            total_sleep
    from sleep;

It seems super dirty. Is that expected? Am I doing something wrong with grafana?

Many thanks!",learnSQL,"[noob, sqlite] convert amount of time in TIME format to number of hours as float",1.0,https://www.reddit.com/r/learnSQL/comments/piuufe/noob_sqlite_convert_amount_of_time_in_time_format/
11,Sad-Technician-327,1630918400,pivoiz,9,1,"Question is '' Search for first and last names of people whose first name starts with the letter T. ''

I have attached 3 photos (list, query, and result) Result is empty for some reason and I dont understand what im doing wrong.",learnSQL,What is wrong with this query?,1.0,https://www.reddit.com/r/learnSQL/comments/pivoiz/what_is_wrong_with_this_query/
12,insanetech_,1630923995,piwtdh,0,1, ,learnSQL,"SQL Pocket Guide, 4th Edition eBook",1.0,https://www.lunaticai.com/2021/08/sql-pocket-guide-4th-guide-pdf.html
13,Sad-Technician-327,1630933239,piyzg0,2,1,"There’s no MINUS function in access nor I found any help from google. 

In more detail, the question is ”What is the difference between minimum and maximum salary in dollars?”

Column basic_salary &amp; table hr",learnSQL,Calculating the difference between max and min salary in Access,1.0,https://www.reddit.com/r/learnSQL/comments/piyzg0/calculating_the_difference_between_max_and_min/
14,swimmingjim,1630970636,pjb1tj,1,1,"I am new to SQL and just using it in a Java program I have written. I am querying a simple database (H2), and just want to check the database if a username/password combination already exists. I would like it to return either a boolean or an int. How do you accomplish this?",learnSQL,Query - to see if record exists,1.0,https://www.reddit.com/r/learnSQL/comments/pjb1tj/query_to_see_if_record_exists/
15,IHateTheSATs,1630984968,pjev2z,2,1,"i was doing a LC question right here:  [question](https://leetcode.com/problems/rank-scores/)

        +----+-------+
        | Id | Score |
        +----+-------+
        | 1  | 3.50  |
        | 2  | 3.65  |
        | 3  | 4.00  |
        | 4  | 3.85  |
        | 5  | 4.00  |
        | 6  | 3.65  |
        +----+-------+

to become:

        +-------+---------+
        | score | Rank    |
        +-------+---------+
        | 4.00  | 1       |
        | 4.00  | 1       |
        | 3.85  | 2       |
        | 3.65  | 3       |
        | 3.65  | 3       |
        | 3.50  | 4       |
        +-------+---------+

i basically told my self that i need to just do a dense\_rank function like i wrote right here: 

&amp;#x200B;

        # Write your MySQL query statement below
        
        select 
        score,
        DENSE_RANK() over(order by score desc) as Rank
        
        from scores

however, i get this error right here: 

    
        Runtime Error
        You have an error in your SQL syntax; check the manual that corresponds to your 
    MySQL server version for the right syntax to use near 'Rank
        from scores' at line 5

I noticed that my code works if i put Rank as something like this\_is\_rank and it runs fine but i need it to be represented as rank to get the answer correctly, what am i doing incorrectly ?",learnSQL,why is this dense_rank solution that i wrote not working ?,1.0,https://www.reddit.com/r/learnSQL/comments/pjev2z/why_is_this_dense_rank_solution_that_i_wrote_not/
16,Wiltaire,1631017985,pjm5mk,6,1,"Hi all,

I cant seem to find any reason why the below code wont work

&amp;#x200B;

`SELECT created, id, emailcampaignid, type`

`CASE WHEN type = 'OPEN' then 1 else 0 end as is_opened`

`WHEN type = 'CLICK' then 1 else 0 end as is_clicked`

`WHEN type = 'BOUNCE' then 1 else 0 end as is_hard_bounce`

`WHEN type = 'DEFERRED' then 1 else 0 end as is_soft_bounce`

`FROM schema.table`

`WHERE created BETWEEN '1606773601' AND '1640901602'`

&amp;#x200B;

Please can you tell me what I am doing wrong",learnSQL,Simple query using case is giving me syntax warnings.,1.0,https://www.reddit.com/r/learnSQL/comments/pjm5mk/simple_query_using_case_is_giving_me_syntax/
17,FunnyTerrorist,1631025641,pjode0,3,1,"Hi all,

I have a table I created which has the following fields:

&amp;#x200B;

|car\_id|model\_name|status|
|:-|:-|:-|


I have created this by using the following query:

    select distinct car_id, merchant_name, status from (
    select c.car_id, c.model_name, s.status from cars c
    inner join stats s
    on s.car_id= c.car_id)
    as T

The problem is that I don't want to have the field ""status"" as distinct, but I want to have it as ""0"" or ""1"" based on if a set of car\_id &amp; model\_name was ever sold in the past.

so the field ""status"" should be changed to ""has\_been\_sold"" and contain 1 or 0 based if the car\_id &amp; model\_name has had ""had been sold"" as a value in the ""status"" field in the past.",learnSQL,how to add a constraint to a set of values based on history,1.0,https://www.reddit.com/r/learnSQL/comments/pjode0/how_to_add_a_constraint_to_a_set_of_values_based/
18,samajavaragamana,1631030088,pjptwv,0,1,"Hi All,

a. What is the name for queries such as 'desc table [xyz.abc](https://xyz.abc)'  (""meta queries""?) 

b. What meta queries would you advise to be run when one is just introduced to a dataset

c. For data profiling, do you prefer to use a python package or off the shelf tool or write your own script. Why. 

d. Which data profiling tool do you think is most comprehensive. Is any tool better than ProfileReport from pandas\_profiling

Thank you!",learnSQL,[Q] [D] Starting with a dataset - meta queries and data profiling,1.0,https://www.reddit.com/r/learnSQL/comments/pjptwv/q_d_starting_with_a_dataset_meta_queries_and_data/
19,EnchantedMoth3,1631073389,pk30ld,5,1,"This code was originally written for sqlite3. I'm currently switching the entire project to postgres. I'm using python and when I try to run this section I get:

&amp;#x200B;

\`\`\`psycopg2.errors.SyntaxError: subquery in FROM must have an alias\`\`\`

&amp;#x200B;

I've looked at documentation but I can't seem to figure out where the alias should go.

&amp;#x200B;

\`\`\`(SELECT \* FROM (SELECT symbol, name, stock\_id, max(close), date\`\`\` 

\`\`\`FROM stock\_price JOIN stock ON [stock.id](https://stock.id) = stock\_price.stock\_id\`\`\` 

\`\`\`GROUP BY stock\_id ORDER BY symbol) WHERE DATE = %s\`\`\`",learnSQL,How do I make this subquery work in postgres?,1.0,https://www.reddit.com/r/learnSQL/comments/pk30ld/how_do_i_make_this_subquery_work_in_postgres/
20,BrightDevs,1631172109,pksyaz,0,1, ,learnSQL,SQL Performance - pagination scalability,1.0,https://brightinventions.pl/blog/sql-performance-pagination-scalability/
21,pktpink,1631172446,pkt0pj,12,1,"# Show the 10 Artist names with more Songs and the number of songs, ordered by the number of songs and in case of tie, by the Artist Name in alphabetical order. 

I tried to do this

`SELECT` [`a.Name`](https://a.Name)

`FROM Artist a INNER JOIN Album alb ON a.ArtistId = alb.ArtistId`

`INNER JOIN Track t ON t.AlbumId = t.AlbumID`

`having COUNT(TrackId)` 

`ORDER BY` [`a.Name`](https://a.Name)

`LIMIT 10;`  


# Find all the artist names with songs in all the possible mediaTypes

I tried to this:

`SELECT` [`a.Name`](https://a.Name)

`FROM Artist a INNER JOIN Album alb ON a.ArtistId = alb.ArtistId`

`INNER JOIN Track t ON alb.AlbumId = t.AlbumID`

`INNER JOIN MediaType m ON t.MediaTypeId = m.MediaTypeId`

`HAVING COUNT(t.MediaTypeId = 15)`  


What I am doing wrong?  


This is my DDL:  


`CREATE TABLE Genre (GenreId int PRIMARY KEY, \`Name\` CHAR(255) );`

`CREATE TABLE MediaType ( MediaTypeId int PRIMARY KEY, \`Name\` CHAR(30) );`

`CREATE TABLE Artist(ArtistId INT PRIMARY KEY, \`Name\` CHAR(255) ); -- LONG CHAR????`

`CREATE TABLE Album(AlbumId INT PRIMARY KEY, Title CHAR(120), ArtistId INT );`

`CREATE TABLE Track( TrackId int PRIMARY KEY, \`Name\` CHAR(255), AlbumId INT,` 

 `MediaTypeId INT, GenreId INT, Composer CHAR(220), Milliseconds int, Bytes INT, UnitPrice decimal(8,2)); -- UnitPrice number`

`CREATE TABLE Playlist(PlaylistId int PRIMARY KEY, \`Name\` CHAR(30));`

`CREATE TABLE PlaylistTrack(PlaylistId INT PRIMARY KEY NOT NULL AUTO_INCREMENT, TrackId INT ); -- TrackId INT PRIMARY KEY`",learnSQL,Two Beginner Questions joining tables What I am doing wrong?,1.0,https://www.reddit.com/r/learnSQL/comments/pkt0pj/two_beginner_questions_joining_tables_what_i_am/
22,itchin_bitchin,1631254434,plfdwo,13,1,"Hello! I need help looking over my SQL queries to theoretical questions. I am a beginner in SQL and am unsure of my answers so far. Would really appreciate the help!

&amp;#x200B;

https://preview.redd.it/7tmjcqrvamm71.png?width=1800&amp;format=png&amp;auto=webp&amp;s=09ccbcb3a62fa598eb5b6b8161b505ac6c1ad592

https://preview.redd.it/9god4rozamm71.png?width=1832&amp;format=png&amp;auto=webp&amp;s=ec874157eb6d2249c5b7fd21819916ed173a46eb

https://preview.redd.it/wbv9pj24bmm71.png?width=1656&amp;format=png&amp;auto=webp&amp;s=a6dcc9f9ebe04dc5e6122ce8fb37e3005254b554

https://preview.redd.it/j5obdgb9bmm71.png?width=1476&amp;format=png&amp;auto=webp&amp;s=971760e945bc7d738967bf4a4f2bd59af5c1b9e2

https://preview.redd.it/x3kk38scbmm71.png?width=962&amp;format=png&amp;auto=webp&amp;s=cb73bc8808e68de5827133e97118b7bd6c6fa1ae",learnSQL,Need help validating my SQL Queries!,1.0,https://www.reddit.com/r/learnSQL/comments/plfdwo/need_help_validating_my_sql_queries/
23,drsorrysorry,1631289050,plnpp8,1,1,"I am working through the exercises here and came upon this problem [link](https://pgexercises.com/questions/joins/self.html)

My answer is the following:
    
    select distinct a.firstname, a.surname from cd.members a
    join cd.members b on b.memid = a.recommendedby
    order by surname, firstname;

which shows that it is incorrect but if I simply change the order around on the join such as 

    select distinct a.firstname, a.surname from cd.members a
    join cd.members b on a.memid = b.recommendedby
    order by surname, firstname;

it shows that it's correct but i don't understand why my answer didn't work.
Can someone explain? Thank you for your help.",learnSQL,Question about inner joins on the same table,1.0,https://www.reddit.com/r/learnSQL/comments/plnpp8/question_about_inner_joins_on_the_same_table/
24,EnchantedMoth3,1631386884,pmdae2,0,1,"I've tried DATE, DATETIME and TIMESTAMP with and without TIMEZONE and they both store the date but the time gets changed to 00:00:00 or dropped all-together. 

I'm using python to pull the data from an api. Do I need to convert the timestamp with python before storing it?",learnSQL,What data type allows for storing an existing UNIX-timestamp?,1.0,https://www.reddit.com/r/learnSQL/comments/pmdae2/what_data_type_allows_for_storing_an_existing/
25,EnchantedMoth3,1631395998,pmfw2f,1,1,"I'm working with python to pull data via API. The data includes a timestamp that I need to store 'as is'. However, PostgreSQL is zeroing out the time portion of the timestamp.

&amp;#x200B;

EXAMPLE raw data:

\`\`\`2021-09-10 15:47:00-04:00\`\`\`

BECOMES stored data:

\`\`\`2021-09-10 00:00:00-04:00\`\`\`

&amp;#x200B;

I've tried data types: \`\`\`TIMESTAMPTZ, TIMESTAMP WITH TIME ZONE, BIGINT, DATE, DATETIME\`\`\`...probably more. Any ideas why this is happening, how I can fix the issue?",learnSQL,PostgreSQL zeroing out time portion of timestamp on storage.,1.0,https://www.reddit.com/r/learnSQL/comments/pmfw2f/postgresql_zeroing_out_time_portion_of_timestamp/
26,rmp-2036,1631470486,pmxxsc,5,1,"Hi Everyone! This should be easy for you guys but I'm stuck! Here is what is being asked of me

 

1. Which customers live in Georgia or New Jersey? Put the result in ascending order by last name. List each customer's customer number, last name, and state. Write this query in two different ways.

this is what I wrote

SELECT  lastname, customer#, state

FROM    customers

ORDER BY lastname;

WHERE state = 'NJ' OR 'GA';

&amp;#x200B;

but it's throwing an error on the WHERE command.... and I'm not sure why?

&amp;#x200B;

Thank you for the help!",learnSQL,"FIRST SQL CLASS, NEED HELP WITH ERROR",1.0,https://www.reddit.com/r/learnSQL/comments/pmxxsc/first_sql_class_need_help_with_error/
27,LordSteinerTheBoss,1631522997,pnblr6,1,1,I'm getting an error at 'on conflict' in my code. Does anybody know the RedShift way of handling conflicts?,learnSQL,Handling conflicts in RedShift (AWS),1.0,https://www.reddit.com/r/learnSQL/comments/pnblr6/handling_conflicts_in_redshift_aws/
28,retrobanjo,1631556180,pnktl4,4,1,"Hi all. I'm looking for some advice on what is the best software to kick off creating some new SQL processes.

I learned some SQL using MS access but want to unskilled myself using more advanced SQL processors. I've done a bunch of SQL training courses so I'm keen to put into practice what I've learned with some dummy / real data.

My goal for a task I want to try and create is to Import excel files which change daily into a SQL table ready to run queries against. The files are downloaded everyday and structured the same each time but the directory changes each day as they are dumped in folder named after the date of the overnight run. The data downloaded is saved to asharepoint.

I want to make sure I'm starting off in the right place. I want to be able to run a script which a user can hit execute and the most recent data is imported into precreated tables. Which software is best suited for this task as I know each SQL developer is built differently.",learnSQL,Newby looking for a place to start building SQL processes,1.0,https://www.reddit.com/r/learnSQL/comments/pnktl4/newby_looking_for_a_place_to_start_building_sql/
29,OperationCorporation,1631557940,pnletv,4,1,"I have multiple clients accessing a table that contains serial numbers. Each client reads the latest entry and increases the serial number by one and adds a row. This obviously is flawed because if there are simultaneous queries there will be duplicate serial numbers. Is there a way to create a lock in SQL? If so, can I ensure that the lock is removed after a timeout in the case the client crashes and never finishes the transaction?",learnSQL,How to put a lock on a table?,1.0,https://www.reddit.com/r/learnSQL/comments/pnletv/how_to_put_a_lock_on_a_table/
30,ragingbull311,1631559882,pnm1h2,0,1, ,learnSQL,"Recursive CTE for BOM and Orders (x-post, looking for some advice)",1.0,/r/SQL/comments/pnl0jt/recursive_cte_for_bom_and_orders/
31,thumbsdrivesmecrazy,1631559934,pnm22p,0,1,"Here is a PostgreSQL tutorial explaining the following basic and advanced asoects of PostgresSQL, as well as, how it differs from standard SQL on each of these aspects: [**Postgre SQL tutorial for Beginners - bipp Analytics**](https://bipp.io/sql-tutorial/postgre-sql/)

1 Basics

* How to Compare Arrays in PostgreSQL
* How to Concatenate Strings in PostgreSQL
* How to Convert the Case of a String
* How to Create an Array
* How to Insert Array Data Into a Table
* How to Insert Data Into an Array
* How to Modify Arrays
* How to Query Arrays
* How to Replace Substrings
* How to Trim Strings
* How to Use string\_agg()
* How to Use substring()
* How to Use substring() with Regular Expressions
* How to Insert
* How to Update
* How to Delete

2 Database Management

* How to Create a Table
* How to Drop a Table
* How to Rename a Table
* How to Truncate a Table
* How to Duplicate a Table
* How to Add a Column
* How to Add a Column
* How to Rename a Column
* How to Add a Default Value to a Column
* How to Remove a Default Value From a Column
* How to Add a Not Null Constraint
* How to Remove a Not Null Constraint
* How to Create an Index
* How to Drop an Index
* How to Create a View
* How to Drop a View
* How to Alter Sequence

3 Dates And Time

* How to Exclude Current or Partial Weeks
* How to Use BETWEEN Correctly
* How to Query Date and Time
* How to Group by Time
* How to Round Timestamps

4 Analysis

* How to Use Lateral Joins
* How to Use nullif()
* How to Get the First Row per Group
* How to Use generate\_series to Avoid Gaps In Data
* How to Do Type Casting
* How to Write a Common Table Expression
* How to Import a CSV
* How to Compare Two Values When One Is Null
* How to Use Coalesce
* How to Write a Case Statement
* How to Query a JSON Column
* How to Use Filter Clause to Have Multiple Counts
* How to Calculate Cumulative Sum-Running Total",learnSQL,PostgreSQL Tutorial,1.0,https://www.reddit.com/r/learnSQL/comments/pnm22p/postgresql_tutorial/
32,LeasTEXH01,1631562463,pnmw2e,2,1," Trying to build a SQL query to get the sum for a column of sales prices. However, because the order\_id is not unique, the sum is counting duplicated sales prices. How can I remove the duplicated rows to get the true SUM of sales? 

&amp;#x200B;

    SELECT 
    segment, SUM(sales * quantity) - SUM(sales * quantity * discount) AS total_sales, SUM(discount) AS total_discounts, SUM(profit) AS total_profits
    FROM customers
    LEFT JOIN orders ON customers.customer_id = orders.customer_id
    GROUP BY segment
    ORDER by profit DESC
    
    *********************
    
    segment         total_sales.    total_discounts total_profits
    ""Consumer""	424096932.4894	126942.07	847336.77
    ""Corporate""	254976732.3447	74316.72	498778.72
    ""Home Office""	157165162.2974	45962.70	312493.60",learnSQL,Filter duplicates to calculate a SUM,1.0,https://www.reddit.com/r/learnSQL/comments/pnmw2e/filter_duplicates_to_calculate_a_sum/
33,Footypajama,1631586011,pntu01,0,1,"Studying stored procedures with output parameters for the first time, and just not sure what I'm doing wrong here.

     CREATE PROCEDURE spcolleges
     @College varchar (50),
     @Players varchar (50) OUTPUT
     as
     BEGIN
     select @Players = player_name
     from all_seasons
     where college = @College
     END

     DECLARE @PlayerList varchar
     Execute spPlayerCollegeListing 'Providence',  @Players OUTPUT
     Print

I continue getting this error

    Must declare the scalar variable ""@Players"".

Any thoughts? I made this procedure really simple, hopefully it's not too simple that I'm inadvertently creating an issue?

The stored procedure went through just fine. It's when I'm trying to execute it, this happens.",learnSQL,Really stumped - working with Stored Procedures with output parameters,1.0,https://www.reddit.com/r/learnSQL/comments/pntu01/really_stumped_working_with_stored_procedures/
34,Sad-Technician-327,1631586806,pnu1h9,0,1,"SELECT c.company, SUM(s.revenue) AS sales

FROM customers c, sales\_data s

WHERE c.customerid=s.customerid

AND c.c\_credit\_rating = 'AAA'

GROUP BY c.company",learnSQL,What is the right query if i wanted to use a SUBQUERY?,1.0,https://www.reddit.com/r/learnSQL/comments/pnu1h9/what_is_the_right_query_if_i_wanted_to_use_a/
35,Sad-Technician-327,1631591719,pnvbax,0,1," Search the names of the product groups sold by Mike (Personid = 30012)

tables: hr h, sales\_data s , product p

columns: personid, product\_group, efirstname, productid",learnSQL,I dont understand how to do this subquery,1.0,https://www.reddit.com/r/learnSQL/comments/pnvbax/i_dont_understand_how_to_do_this_subquery/
36,mihir-sam,1631597967,pnwrq0,0,1, ,learnSQL,Problem with combine multiple rows into single rows based on condition. For a more detailed explanation please refer to the original post and excel sheet attached.,1.0,/r/SQL/comments/pnwqjq/how_to_combine_multiple_rows_to_a_single_row/
37,insanetech_,1631618411,po0scx,0,1, ,learnSQL,"Learning PHP, MySQL &amp; JavaScript 6th Edition ebook",1.0,https://www.lunaticai.com/2021/09/learning-php-mysql-javascript-6th-edition-pdf.html
38,boxy2121,1631695757,pomamm,0,1,"Hi everyone,

&amp;#x200B;

I'm looking to hire freelance data analytics writers to write bog articles on my company's blog. We're a tech company based in Singapore, with 18k readers on our blog.

&amp;#x200B;

If you're interested in applying your analytics expertise and building your portfolio for personal branding, please check out this job description and apply directly on LinkedIn:

&amp;#x200B;

[https://www.linkedin.com/jobs/view/2693130301/](https://www.linkedin.com/jobs/view/2693130301/)

&amp;#x200B;

This role is remote and will be paid by article.

&amp;#x200B;

(PS. Dear admin, if this post isn't allowed, please feel free to take it down)",learnSQL,Hiring Analytics Freelance Writers (Remote),1.0,https://www.reddit.com/r/learnSQL/comments/pomamm/hiring_analytics_freelance_writers_remote/
39,one_time,1631701762,pong3w,4,1,"Hey all, I feel like I have learnt as much as I can with beginner SQL. I am quite comfortable with joins, group by, simple subqueries etc

But I want to start learning more about advanced topics as stated in the title.

Can anyone point me to really good resources? Free would be preferred however I am willing to spend $ 15 to $ 20. If they are paid I want them to be excellent at teaching me :)

Thank you in advance!",learnSQL,"Where do I learn more intermediate/advanced topics such as windows functions, CTEs, advanced subqueries?",1.0,https://www.reddit.com/r/learnSQL/comments/pong3w/where_do_i_learn_more_intermediateadvanced_topics/
40,animesaki,1631703845,ponwok,3,1,"1)create a view with the list of restaurands and the city in which they are located

2)create a view with the list of customers that went to restaurants in the last 2 months

3)how much money was made per employee in the last month

4)list of customers in x city

5)list of customers in x city that went to y restaurant in the last 3 months

I'm new to sql and have no idea how to solve these.I guess that i need to do a select using some joins or something similar but again idk how. Any help is appriciated",learnSQL,Need some help with querries,1.0,https://www.reddit.com/r/learnSQL/comments/ponwok/need_some_help_with_querries/
41,danhle11,1631704230,ponzz6,0,1,"When i run `SELECT CHAR(128,129,130,131,132,133,134,135,136,137);`

I got `0x80818283848586878889`  
 istead of `Çüéâäàåçêë`

Does anybody know why?, I'm using charset `utf8mb4`

When I run `show variables like '%char%';`  
 I got

https://preview.redd.it/3crdknxggnn71.png?width=664&amp;format=png&amp;auto=webp&amp;s=34d882ddc8d8688f311c694d09a65e1744dcd431

I'm using MySQL version 8.0.26",learnSQL,MySQL query show something like 0x8081 instead of special characters,1.0,https://www.reddit.com/r/learnSQL/comments/ponzz6/mysql_query_show_something_like_0x8081_instead_of/
42,Skokob,1631711105,popqi7,4,1,"How would I create a format file for this table?!

[First name] NVARCHAR 100 null
[Last Name] NVARCHAR 100 null
[DOB] Date null",learnSQL,Create a format file for SQL 2017,1.0,https://www.reddit.com/r/learnSQL/comments/popqi7/create_a_format_file_for_sql_2017/
43,BrightDevs,1631712906,poq8pd,0,1, ,learnSQL,How to alter large MySQL tables on production?,1.0,https://brightinventions.pl/blog/how-to-alter-large-mysql-tables-on-production/
44,NotCanDoButWillDo,1631780640,pp98d2,4,1,"I am currently doing the Google Analytics certificate and have done a bit of SQL in that course. I do realise however I need to ""turbo charge"" my SQL skills further (if I want to work in data) and am considering the most efficient way to do this. Is it using practice sites such as StrataScratch, Leetcode, etc., doing an online course (that would force you to go through all the exercises), or buying a book and going through it, again doing the exercises. I'm considering getting Practical SQL (as I already have PostgreSQL on my system already) which I've heard is good.

Any comments, advice would be greatly appreciated.",learnSQL,SQL advice,1.0,https://www.reddit.com/r/learnSQL/comments/pp98d2/sql_advice/
45,cjailc,1631789992,ppb2an,0,1,"Hi my name is Cameron and im just learning SQL. 

I am running in to some problems and was wondering if somebody could help me out. 

Its really beginner stuff, but im a little stuck. 

PM me if somebody would like to chat",learnSQL,Anybody want to help in voice chat?,1.0,https://www.reddit.com/r/learnSQL/comments/ppb2an/anybody_want_to_help_in_voice_chat/
46,treatmesubj,1631820758,ppkakm,4,1,"I'm messing around in a metadata schema with a columns table, tables table, schemas table, &amp; DBs table.
I'm trying to search for column-names in a columns table and join their respective table from the tables table, respective schema from schemas table, &amp; respective DB from DBs table. 

Here's my SQL...

	SELECT PDRDATABASECOLUMN.NAME AS 'COLUMN_NAME', PDRDATABASETABLE.NAME AS 'TABLE_NAME', PDRDATABASESCHEMA.NAME AS 'SCHEMA_NAME', PDRDATABASE.NAME AS 'DATABASE_NAME'
	FROM XMETA_CMVIEWS.PDRDATABASECOLUMN
	WHERE (
		NAME IN 'BLAH'
		OR NAME IN 'BLEH'
		OR NAME IN 'BLEK'
	)
	LEFT JOIN XMETA_CMVIEWS.PDRDATABASECOLUMN.OFDATABASETABLERID ON XMETA_CMVIEWS.PDRDATABASETABLE.RID
	LEFT JOIN XMETA_CMVIEWS.PDRDATABASETABLE.OFDATABASESCHEMARID ON XMETA_CMVIEWS.PDRDATABASESCHEMA.RID
	LEFT JOIN XMETA_CMVIEWS.PDRDATABASESCHEMA.OFDATABASESCHEMARID ON XMETA_CMVIEWS.PDRDATABASE.RID
	WITH UR;",learnSQL,Joins - Would this SQL execute assuming my item-names are correct?,1.0,https://www.reddit.com/r/learnSQL/comments/ppkakm/joins_would_this_sql_execute_assuming_my/
47,zeasammy,1631826819,ppm9w1,2,1,What are good books and training resources to learn Microsoft SQL Server?,learnSQL,Learn SQL server,1.0,https://www.reddit.com/r/learnSQL/comments/ppm9w1/learn_sql_server/
48,Former_Transition_27,1631826909,ppmaxx,2,1,"We have a accountid column in our application. Value in this column is received from another system. Now there is a new enhancement, which require us to set a auto generated sequence to the same column. So once enhancement goes live accountid should hold either received value or auto generated sequence. How will we auto generate and make sure uniqueness of this column?",learnSQL,MS SQL advice,1.0,https://www.reddit.com/r/learnSQL/comments/ppmaxx/ms_sql_advice/
49,elasticsearch_help,1631885560,pq08b7,0,1,[removed],learnSQL,Can someone help me with this question,1.0,https://www.reddit.com/r/learnSQL/comments/pq08b7/can_someone_help_me_with_this_question/
50,FruityFreshFine,1631887680,pq0ui1,10,1,"The question reads as follows.

List the film id  and title of films that have been returned between 2005-05-29 and 2005-05-30.

I entered the following query in the Query tool

\--------------------------------------------------------------------------------

1 SELECT \* FROM rental

2 INNER JOIN inventory

3 ON inventory.inventory\_id = rental.inventory\_id

4 WHERE return\_date BETWEEN '2005-05-29' AND '2005-05-30'

5 INNER JOIN film

6 ON film.film\_id = inventory.film\_id

\-----------------------------------------------------------------------------------

However I received the following message

ERROR:  syntax error at or near ""INNER""

 LINE 5: INNER JOIN film   
 

What seems to be a problem here?",learnSQL,SQL DOUBT,1.0,https://www.reddit.com/r/learnSQL/comments/pq0ui1/sql_doubt/
51,E__Rock,1631891503,pq2120,0,1,"In SQL Server, I'd like to add a result that counts the total number lines in my original temp table.  My examples:

    SELECT JOBID ,
    Number ,
    ShipDate
    INTO #TempTable1
    FROM dbo.Ordertracking AS OT
    WHERE OT.ShipDate = '2021-09-17' ;

Results:
    000001 - J202100055 - 2021-09-17
    000001 - R202199001 - 2021-09-17
    000002 - J202100056 - 2021-09-17
    000002 - R202199052 - 2021-09-17
    000003 - J202100057 - 2021-09-17
    000003 - R202199093 - 2021-09-17
    000003 - R202199094 - 2021-09-17
    000003 - R202199095 - 2021-09-17
    000003 - R202199096 - 2021-09-17

In my column for Number, this is a shared column for two different datasets.  There are job numbers that start with R or J.  R numbers are separate products of the overall J number. Most of the time there is 1 J# and 1 R#, but sometimes there can be 1 J# and up to 10 R#s.  These are all connected by the column JOBID.  

I'd like to be able to COUNT the unique number of R#s for any given JOBID and exclude the J#s from the count, then output with something that adds another column for the count results.  Something similar to...
    ALTER TABLE #TempTable1
    Add RCounts AS COUNT(*) blahblahblah

Thank you for your help!",learnSQL,Help with COUNT in Sql Svr,1.0,https://www.reddit.com/r/learnSQL/comments/pq2120/help_with_count_in_sql_svr/
52,FruityFreshFine,1631900637,pq4ybp,1,1,"I downloaded a tar file.After creating a database ,restoring and refreshing it I only have one schema when there were supposed to be two schemas. How do I go about solving this issue?",learnSQL,Missing schema,1.0,https://www.reddit.com/r/learnSQL/comments/pq4ybp/missing_schema/
53,deritemekam,1631953336,pqikme,12,1,"Hello everyone. I'm starting to learn SQL and I want to practice on my own data. I have a table in Excel and I want to use simple SQL queries to get some result and check how it suits me. What do I need to do for this?

I have a MacBook on M1, is this a big problem?",learnSQL,Fully local SQL database with own data for practice (M1 chip),1.0,https://www.reddit.com/r/learnSQL/comments/pqikme/fully_local_sql_database_with_own_data_for/
54,mr_rice_crispers,1632150035,prwn30,12,1,"I have learnt beginner level of SQL and can do basic schem design, querying using views and normal queries. Also,i have learnt R very recently - also very basic stuff (like plotting and basic usage) 

I have realised i learn a lot while on the job but sadly this is not my native field and I have not been able to get a job in this domain as well..

I would love to do more on both of these languages/technologies whilst getting projects just a level above my proficiency so i can learn as well as earn. I have gone through upwork and most of the gigs are graphic design or SEO. Any leads/sites would be appreciated",learnSQL,I want to learn and earn,1.0,https://www.reddit.com/r/learnSQL/comments/prwn30/i_want_to_learn_and_earn/
55,Somuchwastedtimernie,1632159797,przu1l,3,1,"Hey All,

Thanks for taking the time to check out my post. As my title suggests, I'm having some issues trying to implement a DateDiff function into my query. Everything up to this point is working with my query, but I keep getting the error:

\- function datediff(timestamp without time zone, timestamp without time zone) does not exist

Without bogging everyone down with too much details, I need to determine the average from how long a store opens until it makes their first sale. I've been tinkering around with: 

    AVG(DATEDIFF(days, store.open_date, sales.sale_date))

Both are in TIMESTAMP format that go all the way down to the millisecond. There's a few different joins with my query as well as a GROUP BY to id a stores name, and the potential industry they could be in. Ultimately I'm trying to determine each stores/industries average time to their first sale. 

Any advice on why my DATEDIFF function might not be working?",learnSQL,Help with a DateDiff function,1.0,https://www.reddit.com/r/learnSQL/comments/przu1l/help_with_a_datediff_function/
56,csnorman12,1632159948,przvtl,4,1,"Hello Everyone,

Hope you're having a great Monday morning. Over the past year I've been building an Intro to SQL Course using SSMS and Healthcare data. The course is currently on sale because it just launched TODAY. You should check it out if you're new to SQL.

Here is the link: [Data Analytics: Intro to SQL using Healthcare Data (SSMS)](https://www.udemy.com/course/data-analytics-intro-to-sql-using-healthcare-data-ssms/?referralCode=0F7DAE2C9255B7E823CA)

&amp;#x200B;

https://preview.redd.it/uebjnhvx3po71.png?width=873&amp;format=png&amp;auto=webp&amp;s=2f03753b8d727af7a8b0b9e7721ea07f66153d5e",learnSQL,Intro to SQL Course,1.0,https://www.reddit.com/r/learnSQL/comments/przvtl/intro_to_sql_course/
57,ProtectOrgINC,1632171369,ps3ml3,0,1,"Free Trial of our monitoring solution portal, if anyone is interested. You can read more about us here: [ProtectOrg | Enterprise Grade Monitoring &amp; Security Solutions | Compliance](https://protectorg.com/) \- the trial signup link is on homepage or you can go direct to signup portal [here](https://portal.protectorg.com/?_ga=2.82340886.146739909.1632168180-1523745359.1622139480#/signup)

&amp;#x200B;

https://preview.redd.it/iqldp6rt1qo71.jpg?width=1445&amp;format=pjpg&amp;auto=webp&amp;s=b7fb1f4514156878d63da28593066d0c0b2cfbef",learnSQL,SQL Monitoring - Free Trial,1.0,https://www.reddit.com/r/learnSQL/comments/ps3ml3/sql_monitoring_free_trial/
58,Sad-Technician-327,1632178172,ps5rqn,1,1,"Here is the table but i dont seem to understand what is the right query to get this result.

&amp;#x200B;

https://preview.redd.it/xsy5mix5mqo71.png?width=321&amp;format=png&amp;auto=webp&amp;s=baab3c7847e6224fb3911cd5d5a66b7a7847a279",learnSQL,Help! How to make this table using union (Access),1.0,https://www.reddit.com/r/learnSQL/comments/ps5rqn/help_how_to_make_this_table_using_union_access/
59,Somuchwastedtimernie,1632240948,psm1ju,3,1,"Hey All,

Thanks for taking the time to check out my post. I'm currently working with a Postgres DB and am trying to take a rolling average with some NaT values in the rows. The rolling average is working so far, but the average is omitting any NaT row, which is skewing the overall monthly average. The average will divide by 1 when there are 3 consecutive NaT's, when it should be the first\_sale\_avg digit + the 3 0's, and then divide by 4 to get the monthly rolling average. 

My query is returning something along the lines of:

&amp;#x200B;

|date|first\_sale\_avg (in days)|Monthly\_Rolling\_sale\_avg (4 months)|
|:-|:-|:-|
|12/19|5 days|5|
|1/20|10 days|7.5|
|2/20|15 days|10|
|3/20|20 days|12.5|
|4/20|25, etc...|17.5, etc...|
|5/20|NaT|20|
|6/20|NaT|22.5|
|7/20|NaT|25|
|8/20|100|100|

My query, along with a lot of other stuff, is along the lines of:

    DATE_TRUNC('day', AVG(c.first_sale_avg) OVER (ORDER BY date ROWS BETWEEN 2 PRECEDING AND CURRENT ROW)) as Monthly_Rolling_Average

I can't for the life of me figure out how to change the NaT's to 0 days so they're incorporated into my rolling average but any advice?",learnSQL,Help Taking Rolling Averages,1.0,https://www.reddit.com/r/learnSQL/comments/psm1ju/help_taking_rolling_averages/
60,apeyko,1632304042,pt42ck,4,1,"Hello guys, I was wondering if it is possible to create a column in SQL, which is the average of one column in the same row, and one column from the previous row.

&amp;#x200B;

An example database would be:

&amp;#x200B;

|Time|Value|
|:-|:-|
|1|Y\_1|
|2|Y\_2|
|3|Y\_3|
|4|Y\_4|

&amp;#x200B;

With Value being a Float.

Now I would like to create a query which result in a table that looks like this:

&amp;#x200B;

|Time|Value|AR|
|:-|:-|:-|
|1|Y\_1|AR = Y\_1|
|2|Y\_2|AR = AVG( Y\_2 + AR\_1 )|
|3|Y\_3|AR = AVG( Y\_3 + AR\_2 )|
|4|Y\_4|AR = AVG (Y\_4 + AR\_3 )|

&amp;#x200B;

&amp;#x200B;

As you can see, the new **AR** column is an average of the **value** column in the current row, and the **ar** column in the previous row, which is why I'm having trouble writing a query that can do this task. Does anyone have experience with this type of (recursive?) queries?",learnSQL,"Help! Creating a new column, that references it's value in the preceding row.",1.0,https://www.reddit.com/r/learnSQL/comments/pt42ck/help_creating_a_new_column_that_references_its/
61,padansastolice,1632314538,pt6pts,1,1,"hello guys,

I'm  making a web app in python dash and I'm getting this error,I'm kinda  still a noob in the databses department so I'm a bit stuck.Can you give  any hints?

pyodbc.ProgrammingError:  ('42000', ""\[42000\] \[Microsoft\]\[ODBC SQL Server  Driver\]\[SQL  Server\]Incorrect syntax near the keyword 'BETWEEN'. (156)   (SQLExecDirectW); \[42000\] \[Microsoft\]\[ODBC SQL Server Driver\]\[SQL   Server\]Statement(s) could not be prepared. (8180)"")

This is my query:

 `db_query_string = """"""SELECT NotificationLog.ID as 'ID',`  
                        `DAY(Timestamp) as 'DAY',`  
                        `MONTH(Timestamp) as 'MONTH',`  
                        `NotificationLog.Duration,`  
                        `DATEPART(WEEK, NotificationLog.Timestamp)-1 as 'Week Number'`  
                        `FROM NotificationLog`  
                            `BETWEEN ? AND ?""""""`  
 `return db_query_string`

Traceback  (most recent call last):   File  ""C:\\Users\\denis.akvic\\Desktop\\flask\\apps\\app7.py"", line 267, in  fetch\_the\_downtime     records = mssql\_conn.execute\_query(query\_string,  parameters, str(database))   File  ""C:\\Users\\denis.akvic\\Desktop\\flask\\mssql\_conn.py"", line 63, in  execute\_query     cursor.execute(query\_string, parameters)  pyodbc.ProgrammingError: ('42000', ""\[42000\] \[Microsoft\]\[ODBC SQL Server  Driver\]\[SQL Server\]Incorrect syntax near the keyword 'BETWEEN'. (156)  (SQLExecDirectW); \[42000\] \[Microsoft\]\[ODBC SQL Server Driver\]\[SQL  Server\]Statement(s) could not be prepared. (8180)"")",learnSQL,"Need help with error pyodbc.ProgrammingError: ('42000', ""[42000]",1.0,https://www.reddit.com/r/learnSQL/comments/pt6pts/need_help_with_error_pyodbcprogrammingerror_42000/
62,treatmesubj,1632349092,pth6c6,2,3,"I'm trying to piece together 3 tables/views: PRODUCTS_V (Products), &amp; OPPORTUNITIES_V (Sales Opps), &amp; OPPORTUNITYLINEITEM_V (Products associated with a Sales Opp).

I want only products in a certain product group. I also want opportunities in 3Q 2021.

I wrote an initial query with subqueries in the WHERE statement. I then figured I might be able to refactor/simplify the SQL if I used JOINs instead. However, my rewrite of the initial query returns like 3x as many rows. I can't figure out what the difference is.

To simplify my paste, I'll just do `SELECT *` which would have more columns in the join query than the query with subqueries in the WHERE clause, but I figured they'd return the same amount of rows. 

Query 1: Subqueries in WHERE clause

    -- Get all UT15 AI apps Product Codes associated with a Opportunity in the current quarter
    SELECT *
    FROM ISC.OPPORTUNITYLINEITEM_V
    WHERE (
        PRODUCTCODE IN (
            -- Only UT15 AI apps Product Codes
            SELECT DISTINCT PRODUCTCODE
            FROM ISC.PRODUCTS_V
            WHERE UT15_CODE = '15ITT'
        )
        AND OPPORTUNITYID IN (
            -- Only Opps in current quarter
            SELECT DISTINCT ID
            FROM ISC.OPPORTUNITIES_V
            WHERE FISCAL = '2021 3'
        )
    )
    WITH UR;

Query 2: JOINS

    -- Get all UT15 AI apps Product Codes associated with a Opportunity in the current quarter
    SELECT *
    FROM
        ISC.OPPORTUNITYLINEITEM_V OPP_LIS
    INNER JOIN
        ISC.OPPORTUNITIES_V OPPS
            ON OPP_LIS.OPPORTUNITYID = OPPS.ID
    INNER JOIN
        ISC.PRODUCTS_V PRODS
            ON OPP_LIS.PRODUCTCODE = PRODS.PRODUCTCODE
    WHERE (
        -- Only UT15 AI apps Product Codes
        PRODS.UT15_CODE = '15ITT'
        -- Only Opps in current quarter
        AND OPPS.FISCAL = '2021 3'
    )
    WITH UR;",learnSQL,Why do these 2 queries return different amounts of rows?,1.0,https://www.reddit.com/r/learnSQL/comments/pth6c6/why_do_these_2_queries_return_different_amounts/
63,259felix,1632384611,ptqj5q,0,1,"Hello all,

I am currently facing the following problem:

I have two classes SalesOrders and SalesOrderEntries.

SalesOrders has amongst others the attributes order\_date, customer, SalesOrderEntries, etc. where SalesOrderEntries is linked to the class of its own.

SalesOrderEntries has the attributes product\_name, amount, quantity, supplier, etc.

&amp;#x200B;

I want to receive a list that contains the sum of each products amount and quantity per supplier from sales orders that were placed between two dates.

So far I got this:  


SELECT \* FROM SalesOrderEntries

WHERE SalesOrder\_order\_date

BETWEEN 01.01.2020 AND 01.03.2021

&amp;#x200B;

Can you guys help me out here?",learnSQL,First time in touch with SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ptqj5q/first_time_in_touch_with_sql/
64,the_budding_dawn,1632416520,ptznqw,0,1,"I have the data, but I have no idea how to view the actual information besides in a text editor? I've tried downloading a few programs suggested from Google searches and I'm lost.",learnSQL,How can I view the EpikFail data?,1.0,https://www.reddit.com/r/learnSQL/comments/ptznqw/how_can_i_view_the_epikfail_data/
65,enderandrew42,1632439484,pu7cfm,1,1,"I'm tasked with writing an integration last second to take data from one time keeping application and get it into another application because of a merger / acquisition.

I have an export of time keeping data for a given pay period and I'm importing that data with SQL queries and XML being sent to an API handler to get the data into the new application.

I can only import data for a current pay period because previous pay periods are locked. 

So I query all the data in this import file starting with the new pay period date. I have a column that says whether something should be Start of Shift, End of Shift, Start of Lunch, End of Lunch. I use a CASE to convert these to numbers and order by so that my punches are than in order with 1 = Start of Shift, 2 = Start of Lunch, 3 = End of Lunch, 4 = End of Shift.

I import these punches into my new time keeping software in that order. 

Here is the edge case I'm running into. Employee X works late on Sunday night at the end of a pay period. They punch out early Monday morning to end their shift at 1:30 am. 

How can I delete rows from my import tables if the first row on a specific date (start of pay period) for a given employee is not a Start of Shift punch?

I am trying to do:

    SELECT
    	EmpId
    	,DISTINCT TO_CHAR(TimeStamp 'MM/DD/YYYY')
    	,Activity
    FROM
    	Import_Table i
    	INNER JOIN Other_Table o ON i.EmpID = o.EmpID
    WHERE	
    	TO_CHAR(i.TimeStamp 'MM/DD/YYYY') = TO_CHAR(o.PayPeriodStart 'MM/DD/YYYY')
    ORDER BY
    	1,3

But apparently I can't do a DISTINCT on a TO_CHAR function. The TimeStamp is date and time, but I want to find the first row for that specific day for each employee.

Thanks!",learnSQL,Oracle - First row for a given employee on a given date does not equal a certain value,1.0,https://www.reddit.com/r/learnSQL/comments/pu7cfm/oracle_first_row_for_a_given_employee_on_a_given/
66,o38528,1632477173,pugh9b,4,1, ,learnSQL,What does «signed» and «unsigned» mean?,1.0,https://www.reddit.com/r/learnSQL/comments/pugh9b/what_does_signed_and_unsigned_mean/
67,Abejita_111,1632480470,puh7a8,4,1,"Hi All,
Reaching out for the best book recommendations to learn sql? Current skill level: low; patience at a similar level (after a few failed attempts).  
I’ve heard there was a great book for beginners but colleague can’t remember the name. He thinks it had a rabbit on the front and may have been from rabbit publishers? 🤷‍♀️
Any ideas or other recommendations much appreciated! 
Thanks!! 🙂",learnSQL,Book recommendations …,1.0,https://www.reddit.com/r/learnSQL/comments/puh7a8/book_recommendations/
68,jwight,1632498042,pumdyr,4,1,"i know this is a basic question but I haven't been able ti find an answer that explains things well. I learned sql on my own from reading and videos. the rule that I know is that when you have an aggregate (like sum) you need to have a group  by that includes all the fields except what you are aggregating. 

the issue is that sometimes i want the total of a column but it was explained to me that i should have it in the group by and not sum it because i'm summing another column. so when should i sum and when should i jsut have the column in the group by?",learnSQL,Sum and Group by question,1.0,https://www.reddit.com/r/learnSQL/comments/pumdyr/sum_and_group_by_question/
69,DidgeridooDingo,1632509529,puq4a5,37,1,"This is probably mission impossible, but what advice would you give?

What resources would be best to learn quickly the basics? Paid or free?

Thanks.",learnSQL,Need to learn basic SQL in the next 48h with limited time,1.0,https://www.reddit.com/r/learnSQL/comments/puq4a5/need_to_learn_basic_sql_in_the_next_48h_with/
70,sharpexg,1632547804,pv0hn9,1,1,"I've a small business. I want to keep stocks/inventory records..

Tried to do it in excel table, but was difficult due to stocks split into different products and sent to different vendors for processing. And when I get back semi processed items it is further processed into different final product. So linear table does not solve my problem.

Can DBMS solve my problem? If yes which is easier to learn and can manage reports with excel file?  
The data will not be very large.. 100\~200 entries per month.  


A DBMS with GUI would be much convenient to learn for me. MS access is good choice?",learnSQL,Which DBMS to learn?,1.0,https://www.reddit.com/r/learnSQL/comments/pv0hn9/which_dbms_to_learn/
71,HASTURGOD,1632550132,pv0zlk,1,1,"
Need to add a new column let's call it  DDDate. This date needs to be calculated by taking the Application Date &amp; adding the following number of days based on product type;

Purchases: Application Date +90days
Refinances: Application Date +70days
HELOC: Application Date +40days

Also need to Exclude new construction loans - leave data field blank in this case.

Only populate Date for loans that receive an initial approval &gt;= 9/15/21",learnSQL,Need to add logic to an existing Processing &amp; Sales pipeline.,1.0,https://www.reddit.com/r/learnSQL/comments/pv0zlk/need_to_add_logic_to_an_existing_processing_sales/
72,TurbulentAnimal5246,1632572993,pv5uo0,14,1,"I want to practice sql and doing a lot of examples covers the most topic I need to dive into SQL for data science 

can anyone help me to give me some datasets to learn from it",learnSQL,SQL FOR DATA ANALYSIS,1.0,https://www.reddit.com/r/learnSQL/comments/pv5uo0/sql_for_data_analysis/
73,theliteration,1632597277,pvdiaa,9,1,"Hi all, this a pretty basic question but I'm stumped. I'm learning some basic SQL and have a large database in .csv or .xlsx that I'd like to be able to communicate with via SQL. How do I do this? Do I need to upload the file into a database that is programmed in SQL? Thank you in advance!",learnSQL,Search a .csv or .xlsx file using SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/pvdiaa/search_a_csv_or_xlsx_file_using_sql/
74,FewVacation,1632650460,pvqxiw,0,1,"I have two tables tbl1 and tbl2. Consider tbl2 as the main set and tbl1 has been derived from other sources but will essentially now be a subset of tbl2.

tbl1

|cd|productcd|type|
|:-|:-|:-|
|1|1|A|
|1|2|AB|
|1|3|A|
|2|3|AB|
|2|4|AC|
|3|1|A|

tbl2

|cd|productcd|type|
|:-|:-|:-|
|1|1|A|
|1|2|AB|
|1|3|A|
|1|4|AB|
|1|5|AC|
|2|1|A|
|2|3|AB|
|2|4|AC|
|2|7|HV|
|3|1|A|
|3|2|AC|
|3|7|BC|
|3|4|E|
|3|5|T|

How do I retrieve for each group of CD limit each group to only 4 records?

So the final o/p has to be all the records of tbl1 and missing records ( max limit of 4) will be populated from tbl2

Final o/p being

&amp;#x200B;

|cd|productcd|type|
|:-|:-|:-|
|1|1|A|
|1|2|AB|
|1|3|A|
|1|4|AB|
|2|3|AB|
|2|4|AC|
|2|1|A|
|2|7|HV|
|3|1|A|
|3|2|AC|
|3|7|BC|
|3|4|E|
||||",learnSQL,SQL to insert set of records,1.0,https://www.reddit.com/r/learnSQL/comments/pvqxiw/sql_to_insert_set_of_records/
75,ccie6861,1632665337,pvujyq,6,1,"Thank you for your suggestions. I Googled for this and kept finding the wrong solution to my problem. I'm hoping someone here can suggest a solution.

I'm a network engineer, so my SQL skills fall into the ""enough knowledge to break something really well""-level. Don't assume I know something in your solution as I probably don't.

I am building a tool for syncing data from a less than friend employee management system into various other systems. What I am attempting to do is create a view that merges multiple rows in such a way that the unique data from each row shows up as a numbered column in the view.

The specifics are such:

Two tables: EMPLOYEE and EMAILS

EMPLOYEE contains EmployeeID, FirstName, LastName, etc  
EMAILS contains EmployeeID, EmailAddress, PrimaryEmail, etc where PrimaryEmail is a binary indicator of which listed Email is the employees main one. All others are aliases for e-mail only. There is a finite number of e-mails permitted per employee (roughly 25)

It is a fairly trivial thing to join the two columns and sort or search by EmployeeID to get a list of all the user's e-mails as sequential rows. However, I require a view that lists the e-mails as columns with names such as PrimaryEmailAddress, AliasEmailAddress0, AliasEmailAddress1, AliasEmailAddress2, etc.

All examples I can find demonstrate this with a solution where the alias e-mail addresses are concatenated into a single text field, usually in a CSV format. I would like to maintain the individual rows.

If it matters, the backend is SQLite3 and I'm using Python for most of the programming, but I want to do the actual data manipulation in the SQL, not in Python.

Suggestions?",learnSQL,Combine rows without concatenating the values,1.0,https://www.reddit.com/r/learnSQL/comments/pvujyq/combine_rows_without_concatenating_the_values/
76,marhaba89,1632685993,pw10l0,1,1,"I am going through the sql mode tutorial and there is an exercise in the CASE WHEN section that asks the following: 

 Write a query that shows the number of players at schools with names that start with A through M, and the number at schools with names starting with N - Z. 

the table looks like this, more or less: 

&amp;#x200B;

|full\_school\_name (string)|school\_name (string)|player\_name (string)|
|:-|:-|:-|
|Cincinnati Bearcats|Cincinnati|John Doe|
|Marist Red Foxes|Marist|Karl Smith|
|Mercer Bears|Mercer|John Jones|
||||

I first tried to test this out: 

SELECT CASE WHEN full\_school\_name LIKE '\[a-m\]%' THEN 'a\_m' ELSE NULL END AS column1

&amp;#x200B;

FROM benn.college\_football\_players

&amp;#x200B;

but the results come back empty.  I checked the answer given by mode which is 

&amp;#x200B;

SELECT CASE WHEN school\_name &lt; 'n' THEN 'A-M' 

&amp;#x200B;

WHEN school\_name &gt;= 'n' THEN 'N-Z' ELSE NULL END AS school\_name\_group, 

&amp;#x200B;

COUNT(1) AS players  

&amp;#x200B;

 FROM benn.college\_football\_players  

&amp;#x200B;

GROUP BY 1

&amp;#x200B;

I guess I have two questions, is LIKE an operator that can be used with CASE WHEN and if so, did I do something wrong when I wrote my query? and 2) why are they using &gt; or &lt;= as the operators for the school name? the data type for that column is a string column. I guess I am just very confused about this.",learnSQL,Is it possible to use LIKE in a CASE WHEN?,1.0,https://www.reddit.com/r/learnSQL/comments/pw10l0/is_it_possible_to_use_like_in_a_case_when/
77,nimble_nerd,1632691156,pw2mry,4,1,"I used to use SQL years ago but forgot how to do something like the following. Can anyone correct it for me please.

Essentially I'm trying to write a few temporary tables and then select from one or both of them. Made up example:

With T1 as ( 
Select Name, Address
From Users 
Left Join ID on Users.Name = ID.Name
),

T2 as (
Select a.HouseType, b.area
From Details a
Left Join Country b on a.Reference = b.Ref 
)

Select * From T2

The above example might not make much sense but I just want to be able to create temporary local tables in one whole statement to help me break it down easily.

I used to use this method all the time but have forgotten now:(",learnSQL,Creating sub/temp tables in your query and then joining them,1.0,https://www.reddit.com/r/learnSQL/comments/pw2mry/creating_subtemp_tables_in_your_query_and_then/
78,imshrekimhunk,1632691727,pw2syu,1,1," How would one write a simple blacklist expression using SQL. Example is someone is recieving unwanted sms messages and i would need to write a blacklist expression that would mark all of those messages using keywords so they can be blocked. 

Any help would be appreciated since im completely new to this. I am using [sqliteonline.com](https://sqlite.com) to create/test this but with no success so far.",learnSQL,"Create blacklist regex expression using SQL syntax, wildcards permitted",1.0,https://www.reddit.com/r/learnSQL/comments/pw2syu/create_blacklist_regex_expression_using_sql/
79,TurbulentAnimal5246,1632767189,pwn8g3,12,1,"[https://8weeksqlchallenge.com/getting-started/](https://8weeksqlchallenge.com/getting-started/)

I started solving these awesome questions about SQL FOR DATA SCIENCE 

but some i have struggling in 

 I have a suggestion what do you think To try to solve it and share solutions so that we learn from each other and thus our experience will increase with time These are great and powerful questions",learnSQL,8 weeks of SQL challenge,1.0,https://www.reddit.com/r/learnSQL/comments/pwn8g3/8_weeks_of_sql_challenge/
80,HASTURGOD,1632768413,pwnnjx,2,1,"Need to add logic confirming the following; 

If Document title contains ""2000"" AND Document Type is ""Application/Disclosure"" AND Document Name is ""Application"" AND Description is ""2003"" 

Report should indicate;

2000 Uploaded- Yes

If above isn't true then;
2000 Uploaded- No",learnSQL,Need help with logic,1.0,https://www.reddit.com/r/learnSQL/comments/pwnnjx/need_help_with_logic/
81,TallGarden5885,1632776424,pwqh5e,2,1,How can I safely and (somewhat) easily learn MySQL on Linux?,learnSQL,MySQL on Linux,1.0,https://www.reddit.com/r/learnSQL/comments/pwqh5e/mysql_on_linux/
82,Medium-Sprinkles0909,1632819874,px2b5t,2,1, ,learnSQL,"Hi! If you're confused about which to use: SQLite, PostgreSQL, or MySQL, this article may help with that! I know I was super confused and overwhelmed at the beginning, hope this helps a few of you out there :) https://dev.to/codesphere/should-i-use-sqlite-postgresql-or-mysql-1o4b",1.0,https://www.reddit.com/r/learnSQL/comments/px2b5t/hi_if_youre_confused_about_which_to_use_sqlite/
83,buangakun3,1632830671,px4wnu,13,1,"For example, I have the following data;

|Date|Item|Amount Sold|
|:-|:-|:-|
|2021/10/28|Apple|4|
|2021/10/27|Apple|2|
|2021/10/26|Mango|5|
|2021/10/25|Mango|6|
|2021/10/24|Banana|3|
|2021/10/23|Banana|4|

What I want is to calculate the amount of sold ratio per item. The result should be like the following;

&amp;#x200B;

|Date|Item|Amount Sold|Ratio|
|:-|:-|:-|:-|
|2021/10/28|Apple|4|0.7 |
|2021/10/27|Apple|2|0.3|
|2021/10/26|Mango|5|0.5|
|2021/10/25|Mango|6|0.5|
|2021/10/24|Banana|3|0.4|
|2021/10/23|Banana|4|0.6|

If we take the apple's group as an  example, the ratio is calculated like so;

`Apple = 4/(4+2) = 0.7`

`Apple = 2/(4+2) = 0.3`

How to do this use SQL?",learnSQL,How to calculate the ratio for each group?,1.0,https://www.reddit.com/r/learnSQL/comments/px4wnu/how_to_calculate_the_ratio_for_each_group/
84,deanstreetlab,1632834975,px66b0,4,1,"I have 3 hypothetical tables `greeting`, `english_greet`, `spanish_greet` as follows:

```
CREATE TABLE greeting (id INT AUTO_INCREMENT PRIMARY KEY, 
name VARCHAR(20) NOT NULL,
language TINYINT(1) NOT NULL);
```

```
CREATE TABLE english_greet (greet VARCHAR(100) NOT NULL,
greet_id INT NOT NULL,
FOREIGN KEY (greet_id) REFERENCES greeting (id);
```

```
CREATE TABLE spanish_greet (greet VARCHAR(100) NOT NULL,
greet_id INT NOT NULL,
FOREIGN KEY (greet_id) REFERENCES greeting (id);
```

It is just that I am separating the actual contents from `greeting` table and putting that into either `english_greet` or `spanish_greet` table, flagged by the language column (say 1 for english_greet, 2 for spanish_greet). 

The question is how can I do a join?

I tried some variations of `SELECT * from greeting CASE language WHEN 1 THEN INNER JOIN english_greet on greeting.id = english_greet.greet_id WHEN 2 THEN INNER JOIN spanish_greet on greeting.id = spanish_greet.greet_id`, but showing syntax errors.

I don't want to forcefully join all 3 tables, as each greeting is either in english or spanish but never both.",learnSQL,How to switch a table to do an inner join ?,1.0,https://www.reddit.com/r/learnSQL/comments/px66b0/how_to_switch_a_table_to_do_an_inner_join/
85,AsleepConcentrate2,1632844956,px9jhc,0,1,"Some background: my organization did a survey regarding people’s travel patterns. We’re trying to code responses into a standardized format for further analysis. 

The way the survey output was generated is as follows: let’s say someone indicated that they needed to travel for school. They ticked a checkbox on the survey; in the output, there’s a column (let’s call it SchoolTrip) with a value of 0 if it was left blank, and 1 if it was checked. 

What I’d like to do is evaluate each of those columns to see if they were checked or not (so 1 or 0), and if it was checked, to then pull a trip type code from another table with the codes for all the trip types. 

In this example, a school trip has a key of 2 and a code (in a column called TripCode) of T2. So I’d like my query to return each record in the master data table plus a new column that shows the trip code (assuming the value for SchoolTrip was 1). 

Any ideas on how to write this?",learnSQL,Trying to build a query using if statements to link between tables in MS Access,1.0,https://www.reddit.com/r/learnSQL/comments/px9jhc/trying_to_build_a_query_using_if_statements_to/
86,treebeard555,1632866712,pxh52a,3,1,"This is my first time working with subqueries, and I don't understand how it's working. I would appreciate it if you could break down step by step what's going on. I'm using a public dataset available in bigquery. Here's the code:

    select 
        station_id,
        name,
        number_of_rides as num_of_rides_starting
    from 
        (select 
            start_station_id,
            count(*) number_of_rides
        from 
            bigquery-public-data.new_york.citibike_trips
        group by 
            start_station_id
            )
        as station_num_trips
        inner join 
            bigquery-public-data.new_york.citibike_stations on station_id = start_station_id
        order by 
            number_of_rides DESC",learnSQL,Can you break down for me step by step how this query within a query is working?,1.0,https://www.reddit.com/r/learnSQL/comments/pxh52a/can_you_break_down_for_me_step_by_step_how_this/
87,PurpleDue1031,1632955282,py6k3l,1,1," 

**SELECT col1 'mycol1', col2 'mycol2, col1 | ""  "" | col2 from mytable where col1=""test"";**

&amp;#x200B;

what is wrong with the above select statement? how can i fix it?",learnSQL,Question,1.0,https://www.reddit.com/r/learnSQL/comments/py6k3l/question/
88,fergal-dude,1633025468,pypg1o,12,1,"I have a simple query that works, it returns 3 student contacts.  BUT I only want the one with the lowerest ContactPriorityOrder.

This query works:

    SELECT 
        students.first_name,
        students.last_name,
        StudentContactAssoc.PersonId,
        StudentContactAssoc.StudentContactAssocId,
        StudentContactAssoc.ContactPriorityOrder
    
    FROM students
    
        LEFT OUTER JOIN
        StudentContactAssoc
        ON students.ID = StudentContactAssoc.StudentDCID
        
    WHERE STUDENTDCID = 9301

and produces this table:

    
    +------------+-----------+----------+-----------------------+----------------------+
    | first_name | last_name | PersonId | StudentContactAssocId | ContactPriorityOrder |
    +------------+-----------+----------+-----------------------+----------------------+
    | Danny      | Palmer    |    28698 |                   379 |                    3 |
    | Danny      | Palmer    |  2236446 |               1013054 |                    1 |
    | Danny      | Palmer    |  2236498 |               1013055 |                    2 |
    +------------+-----------+----------+-----------------------+----------------------+
    

but when I try to use the MIN() function on StudentContactAssoc.ContactPriorityOrder, like this:

    SELECT 
        students.first_name,
        students.last_name,
        StudentContactAssoc.PersonId,
        StudentContactAssoc.StudentContactAssocId,
        MIN(StudentContactAssoc.ContactPriorityOrder) AS Lowest
    
    FROM students
    
        LEFT OUTER JOIN
        StudentContactAssoc
        ON students.ID = StudentContactAssoc.StudentDCID
        
    WHERE STUDENTDCID = 9301
    

I get the following error:

`Error: ORA-00937: not a single-group group function`

I though that since I was getting numbered results this would be a great case for using the MIN() function.

Any help would be greatly appreciated...",learnSQL,"Using MIN(),",1.0,https://www.reddit.com/r/learnSQL/comments/pypg1o/using_min/
89,JRNKNG,1633095253,pz84fd,13,1,"I have a list with many different names (1500+). Of these 1500 names I want to exclude 20, is there a way to do this efficiently and not having to write the same AND NOT statement twenty times?",learnSQL,How to prevent repeating AND NOT name='George' AND NOT name ='Michael' AND NOT .... etc when I want to exclude quite a few names from a list with many different ones?,1.0,https://www.reddit.com/r/learnSQL/comments/pz84fd/how_to_prevent_repeating_and_not_namegeorge_and/
0,cheapAssCEO,1627868385,ow4xd4,1,1, ,learnSQL,"In SQL, is A left join B the same as B right join A?",1.0,https://www.reddit.com/r/learnSQL/comments/ow4xd4/in_sql_is_a_left_join_b_the_same_as_b_right_join_a/
1,s168501,1627902233,owc7q0,3,1,"Suppose i have a table users with column height (INT) and I want to write a select statement which will add a new column to it named isTall with True or false whether user has x&gt;180 cm. How can I do that? I guess is relatively easy, but I am new to SQL",learnSQL,add new column based on previous column,1.0,https://www.reddit.com/r/learnSQL/comments/owc7q0/add_new_column_based_on_previous_column/
2,kokito00,1627923301,owinyx,1,1,"when I create varchar (15), after adding a row to the table, it has an automatically defined size,or  depending on what I write (so characters)?",learnSQL,Do Null and the word 'Test-text' have the same size?,1.0,https://www.reddit.com/r/learnSQL/comments/owinyx/do_null_and_the_word_testtext_have_the_same_size/
3,alfie1906,1627928042,owkblt,1,1,I'm looking at trying to take my SQL skills to the next level and I'd really like to dive into cloud databases. Are there any specific courses people could recommend which go quite in-depth into cloud database development? I'm open to different cloud platforms and different types of SQL,learnSQL,Cloud SQL Courses,1.0,https://www.reddit.com/r/learnSQL/comments/owkblt/cloud_sql_courses/
4,JungleAustralia,1627990288,ox1iz5,11,1," 

Hello I am new here :-) I am trying to write an SQL statement that would return, by frequent flyer tier, the count of all members and the average customer revenue. I need to assume that not all customers have taken a flight. Any help would be much appreciated.

SELECT CUST\_ID

FROM CUSTOMER

UNION

SELECT TIER\_ID

FROM STATUS

UNION

SELECT FARE

FROM FLIGHTS

UNION

SELECT CUST\_ID

FROM FLIGHTS;

 

https://preview.redd.it/udxqzmtdp4f71.jpg?width=538&amp;format=pjpg&amp;auto=webp&amp;s=0969f0380013f490b299f5311f7fe1fda7725b34",learnSQL,Help Please :-),1.0,https://www.reddit.com/r/learnSQL/comments/ox1iz5/help_please/
5,Icy-Fall-996,1627999423,ox45aa,0,1, ,learnSQL,"Hi all, need a huge favour. Need someone to create and populate some tables through sql and generate some queries. (Paid work of course) Message me for further info",1.0,https://www.reddit.com/r/learnSQL/comments/ox45aa/hi_all_need_a_huge_favour_need_someone_to_create/
6,leftabomb,1628106663,oy0s02,5,1,"I am currently doing this type of thing to remove some strings from my_string.

    TRIM(
        REPLACE(
            REPLACE(
                REPLACE(
                    REPLACE(
                        REPLACE(my_string, 'string_to_remove1', '')
                    , 'string_to_remove2', '')
                , 'string_to_remove3', '')
            , 'string_to_remove4', '')
        , 'string_to_remove5', '')
    ) AS cleaned_string,

Is there an easier way to do this, maybe something like

    REPLACE(my_string,[string_to_remove1,string_to_remove2,string_to_remove1,string_to_remove3],'')",learnSQL,[BigQuery] How can I remove several strings from a string in the most efficient way?,1.0,https://www.reddit.com/r/learnSQL/comments/oy0s02/bigquery_how_can_i_remove_several_strings_from_a/
7,Gullible_Penalty1721,1628108907,oy1kh1,0,1, ,learnSQL,Market Research for New SQL Program,1.0,/r/learnSQL/comments/oe9gt4/market_research_for_new_sql_program/
8,learnfromtheguru,1628158895,oyeodc,0,1, ,learnSQL,Channel 9 - SQL Server Video tutorials,1.0,https://channel9.msdn.com/Tags/sql+server
9,Aaron-SWE,1628167928,oygw0g,9,1,"Maybe I'm getting confused.

But whenever I read about databases, they are always described the same way (e.g. tables, columns, etc).

So I'm assuming they are just referring to a relational database?

Unless NoSQL databases also use columns and tables? (I've never worked with them so I'm not sure)",learnSQL,"When people say ""database"". Are they almost always taking about relational databases?",1.0,https://www.reddit.com/r/learnSQL/comments/oygw0g/when_people_say_database_are_they_almost_always/
10,Usual-Bathroom3480,1628181921,oymdi6,1,1," 

Hi EveryOne.

I wish start with SQL Server 2019 but I don´t know what version of SSDT use, could you help me please!!

Thank you!",learnSQL,SQL DATA TOLLS,1.0,https://www.reddit.com/r/learnSQL/comments/oymdi6/sql_data_tolls/
11,pancakeses,1628195717,oyr7dc,0,1,"Trying to validate that this table structure makes sense.

&amp;#x200B;

I have two existing tables:

* **Season**: Basically just a named range of dates
* **Entity**: Persons or organizations who own or use shares

&amp;#x200B;

Here's what I'm trying to accomplish:

* For a given **Season**, an **Entity** can own any quantity of shares for a given **SharesType**
* For a given **Season**, an **Entity's** owned shares may be used by either the owning **Entity** or any number of other **Entity's**. I will have to perform checking that the total of all **SharesUsage** rows related to a particular owning **Entity** is less than or equal to the owning **Entity's** **SharesOwnership** value.
* Also, the ownership and usage of shares is consistent across any given **Season**, so there's no worry about these values changing half-way through a **Season**.

&amp;#x200B;

Here's what I have at this point, but I'm wondering if I've overlooked a simpler solution.

[https://lucid.app/publicSegments/view/39e0cf35-b440-4a78-bd4b-6165205f492e/image.png](https://lucid.app/publicSegments/view/39e0cf35-b440-4a78-bd4b-6165205f492e/image.png)

&amp;#x200B;

This will be used in a django web application on Postgres.

Please let me know if you need more/different details or if there's somewhere more appropriate to post this.",learnSQL,Does this structure make sense for tracking shares ownership and usage?,1.0,https://www.reddit.com/r/learnSQL/comments/oyr7dc/does_this_structure_make_sense_for_tracking/
12,badboyzpwns,1628207563,oyuzgg,0,1,"I only have experience working on a database alone. I'm wondering what it's like in a work environment with a teammate.

My asumption the workflow is going to be:

1. Host in on a database server like elephantSQL.
2. Make a  development database and do not touch the production database. 
3. Back up the development database everyday or before work starts
4. Both backend devs work on the development database
5. Repeat steps 3 -4 until satisfied
6. When you want to deploy the changes of the database (eg; added columns in development database), you can put all the data from production database to development database. Then deploy the development database as the production database?",learnSQL,Newbie - How to change a database in a work enviornment,1.0,https://www.reddit.com/r/learnSQL/comments/oyuzgg/newbie_how_to_change_a_database_in_a_work/
13,Markez04,1628209715,oyvmdh,2,1,"I'd like my output to be something like this: 

&amp;#x200B;

|NameID|Home\_fruit|Grocery\_fruit|
|:-|:-|:-|
|1|apple|apple|
|1|orange|Null|
|1|Null|Banana|
|2|apple|apple|
|2|orange|orange|

&amp;#x200B;

My Current output:

&amp;#x200B;

|NameID|Home\_fruit|Grocery\_fruit|
|:-|:-|:-|
|1|apple|apple|
|1|orange|banana|
|2|apple|orange|
|2|orange|apple|

&amp;#x200B;

Any help or tips would be greatly appreciated!",learnSQL,How to apply a coalesce function with organized rows?,1.0,https://www.reddit.com/r/learnSQL/comments/oyvmdh/how_to_apply_a_coalesce_function_with_organized/
14,curic23,1628232801,oz1fj2,3,1,"Hi,

My idea was to only show all items, but if the item has an inventory larger than 10 then +10 is writen

    SELECT
    a.[Item No_]
    ,a.[Description]
    ,a.[Barcode No_]
    ,case 
        when SUM(i.Inventory) over (Partition By i.[Item No_]) &gt; 10 then '+10'
        else SUM(i.Inventory) over (Partition By i.[Item No_])		
        end as inventory
    
    FROM [items] as A
    left join [Inventory] as I on A.[Item No_] = I.[Item No_]	

If I set '+10' I only get 10 in the output

If I set '&gt;10' I get an error Error converting data type varchar to numeric.

Do I have to use CAST or CONVERT, or is there a smart way?",learnSQL,SQL should I convert or not?,1.0,https://www.reddit.com/r/learnSQL/comments/oz1fj2/sql_should_i_convert_or_not/
15,bboycage,1628244322,oz3p6o,1,1, ,learnSQL,Translating SAS PROC SQL queries into PandaSQL queries?,1.0,/r/learnpython/comments/oyyqea/translating_sas_proc_sql_queries_into_pandasql/
16,rushimanche,1628279829,oze93c,0,1,[removed],learnSQL,sql error when trying to check if an id exists in three different places in sql database,1.0,https://www.reddit.com/r/learnSQL/comments/oze93c/sql_error_when_trying_to_check_if_an_id_exists_in/
17,Deizle73,1628350094,ozvbog,4,1,"Hey guys,

I've started a new job, and my boss really wants my to learn sql. What's the best option?  I appreciate the help!",learnSQL,Best T-SQL online course,1.0,https://www.reddit.com/r/learnSQL/comments/ozvbog/best_tsql_online_course/
18,biologic6,1628389052,p06bhs,2,1,"Good Evening 

I am a little rusty with compound queries and I am trying to figure out if I am in the right direction.

Question: for sales in 2000 output the model with the highest number of sales sold. 

SalesData

|FieldName|Type|Data Example|
|:-|:-|:-|
|Serial Number|varchar(50)|""WG9QR7""|
|Date|varchar(50)|""2000-01-01""|
|Price|float|17584.54|

CarModel

|FieldName|Type|Data|
|:-|:-|:-|
|Manufacturer|varchar(50)|""Toyota""|
|Automobile Type|varchar(50)|""Consumer""|
|Group|varchar(50)|""SUV""|
|Model|varchar(50)|""Rav4""|

Answer: 

    SELECT MAX (MostSold)
    FROM (SELECT CarModel.Model, COUNT(CarModel.Model) AS MostSold
    	FROM CarModel, SalesData
    	WHERE SalesData.Date IS LIKE '2000%' );

Would anyone be able to suggest a better way to do this?",learnSQL,Stacking queries,1.0,https://www.reddit.com/r/learnSQL/comments/p06bhs/stacking_queries/
19,Dwayne_Daddy11,1628404797,p09qlw,1,1,"Hi all,

I am currently teaching myself how to do basic SQL given the [Oracle Sample Database](https://www.oracletutorial.com/getting-started/oracle-sample-database/), as it has been helpful for the most part. I am currently up to [Oracle Subquery](https://www.oracletutorial.com/oracle-basics/oracle-subquery/) and was looking over the *A) Oracle subquery in the SELECT clause example* and I cannot seem to understand it. I know we select the  product\_name and list\_price and round the average to 2 decimal places, but I do not understand what is going on during the `SELECT(item_price)` stage, especially  `WHERE p1. category_id = p2.category_id`

Why is the `WHERE` used in this instance? Why do they separate the `PRODUCTS` table with `p1 and p2?` 

More clarification and understanding would be great, as this has been bugging me for quite some time. Thank you 

&amp;#x200B;

[A\) Oracle subquery in the SELECT clause example](https://preview.redd.it/3s61pr3wx2g71.png?width=733&amp;format=png&amp;auto=webp&amp;s=4fe58437b39479d21c3eaee6ac1b0c5aa86306a4)",learnSQL,Oracle correlated subquery in the SELECT clause (Oracle Sample Database),1.0,https://www.reddit.com/r/learnSQL/comments/p09qlw/oracle_correlated_subquery_in_the_select_clause/
20,jonscrypto,1628455928,p0mqat,0,1,"I'm  setting up a routine that loads a table of Citi Bike station locations  in NYC daily to BigQuery. I want to write a query that shows what changes each day  (eg add or removal of a station, change in capacity, any other  inconsistencies).

So I was  thinking a union of a left and right join of current and prior day's table to see what was added or removed (I think I can use full outer join instead in BQ), but what's the best way to find changes in the  values of each record?

I was thinking I can outer join on multiple fields (using multiple queries?)  to find inequalities, but that seems messy and not sure it's the best  approach. Also I can write conditions on each field (eg WHERE  table\_A.field\_A IS NOT table\_B.field\_A) but that seems inefficient. I was also thinking a python script, but I haven't figured out the best  way to do that in BQ yet and also seems less efficient than clean SQL.

What is the best practice approach for comparing differences between records and values in two tables?",learnSQL,Best way to find changes to a table imported daily,1.0,https://www.reddit.com/r/learnSQL/comments/p0mqat/best_way_to_find_changes_to_a_table_imported_daily/
21,LCdr_Others,1628512391,p10jic,13,1,Any tips?,learnSQL,Starting first job in IT next week using MS SQL Server,1.0,https://www.reddit.com/r/learnSQL/comments/p10jic/starting_first_job_in_it_next_week_using_ms_sql/
22,bazpaul,1628517122,p11v73,3,1,"Hi folks,

I'm new to creating SQL tables and am trying to figure out what the best practise would be in my particular situation. I'm building a little python application to suggest some movies to me. My main table ('movies') contains data on tonnes of movies, information like; title, year, director, desc, imdb score, image....etc. My little app will reference this table when it want to look up movie information.

Now separately in another part of my app I will have different custom lists of movies. For example;

* Most popular movies
* Trending now
* Most streamed
* Out now in box office

I will create these lists using python getting data from different sources.

My big questions is; how should these lists be stored in my SQL db? My first thought is that each list would be a separate table with a unique ID that maps the movie back to the main table ('movies') and some of these tables might gave extra columns for example: Box office takings in $$.

Then my second thought was that maybe there should be extra columns in my main 'movies' database that somehow records what list this movie is in. For example a columns that is called 'lists' which has all the lists it's part of -- but this just seems crazy and poor design.

The only issue i can see with my first thought is what if I have tonnes of lists? I'll end up with one large 'movies' table and tonnes of small tables which are simply lists of movie IDs - but maybe thats alright?

Any help would be great",learnSQL,Best practise when creating lists of items from my main table,1.0,https://www.reddit.com/r/learnSQL/comments/p11v73/best_practise_when_creating_lists_of_items_from/
23,scaled2good,1628533634,p17by6,5,1,"Hi Yall, I have a query which returns me the count of auth\_types.

Like this:

&amp;#x200B;

|Auth\_type|Count|
|:-|:-|
|Security\_1|20|
|Security\_2|100|
|Security\_3|5|

The people in the DB have multiple Auth types. Atm the logic I am using to count the Auth types is whichever Auth type is assigned first is counted. So my query has a max(Auth\_type) in the select statement.

    SELECT Auth_type, count(*) AS Count
    FROM 
        (SELECT id_number, max(Auth_type)
        FROM (
                select -- a big fat query goes here that returns personnel
             ) GROUP BY id_number) GROUP BY Auth_type;

&amp;#x200B;

What I want to do: **Keep the max(Auth\_type) logic as is for all Auth\_types except when Auth\_type = Security\_3. In this case I dont want to select the first Auth\_type that appears instead just Security\_3.**

&amp;#x200B;

I am using oracle, how can I do this?",learnSQL,Select max(col) UNLESS col = 'special_col' THEN select 'special_col'- How to apply this logic???,1.0,https://www.reddit.com/r/learnSQL/comments/p17by6/select_maxcol_unless_col_special_col_then_select/
24,abdullah_ibrahim,1628610922,p1s12d,8,1,"Hey guys

I am learning sql now and I figured the best way is to write as many queries as I can.

Hackerrank problem as follows:

 We define an employee's *total earnings* to be their monthly (salary x months)  worked, and the *maximum total earnings* to be the maximum total earnings for any employee in the **Employee** table. Write a query to find the *maximum total earnings* for all employees as well as the total number of employees who have maximum total earnings. 

This is my solution:

SELECT COUNT(employee\_id)

FROM employee

HAVING MAX(salary \* months);

As I read it I feel that it is totally okay but clearly it isn't.

Can anyone elaborate?

Thanks",learnSQL,Hackerrank Top Earners Problem,1.0,https://www.reddit.com/r/learnSQL/comments/p1s12d/hackerrank_top_earners_problem/
25,GoodellsMandMs,1628615238,p1tjgc,12,1,"im really new to sql, so i may be missing something obivous!

i have a table of nfl game stats and im joining it on itself so that i can get a players game stats, and their stats from a previous game. obviously as the season progresses there are more previous games. is there a way i can get at most 3 games back?

EX: if i want only 3 games back i would want this

game2, game1

game3, game2

game3, game1

game4, game3

game4, game2 

game4, game1

game5, game4

game5, game3 

game5, game2

(game 1 is 4 games back from game 5 so i dont want a row with game 5 and game 1)",learnSQL,"join table on itself, only join at most n rows",1.0,https://www.reddit.com/r/learnSQL/comments/p1tjgc/join_table_on_itself_only_join_at_most_n_rows/
26,Mathdataacademy,1628627453,p1xmc2,0,1,[removed],learnSQL,Amazing Fun Facts | Amazing Facts Of Maths | Interesting Facts About Mat...,1.0,https://www.reddit.com/r/learnSQL/comments/p1xmc2/amazing_fun_facts_amazing_facts_of_maths/
27,noxlv,1628682464,p2bgox,6,1,"I want to find a record created more than 30 minutes ago. 

    and Created &gt; -30m

So the condition should point out it's greater than. I don't get any result

But why does it work the other way around?

    and Created &lt; -30m

To me, it's created less than 30 minutes ago",learnSQL,SQL Operator For Date,1.0,https://www.reddit.com/r/learnSQL/comments/p2bgox/sql_operator_for_date/
28,learnfromtheguru,1628763757,p2x0lz,1,1,[removed],learnSQL,Microsoft has suspended its SQL Server on Windows Containers,1.0,https://www.reddit.com/r/learnSQL/comments/p2x0lz/microsoft_has_suspended_its_sql_server_on_windows/
29,Nicholas_TW,1628778207,p30v56,10,1,"Let's say I have a table like so:

&amp;#x200B;

|Category|Data|
|:-|:-|
|alpha|1|
|alpha|2|
|beta|3|
|beta|4|
|delta|5|
|delta|6|
|delta|7|

...And I want to select the first row in each category (so, \['alpha', 1\], \['beta', 3\], and \['delta', 5\]). How would I structure a query to do this in SQL Server?

&amp;#x200B;

I know ""SELECT TOP 1 \* FROM Table WHERE Category = 'foobar'"" could get me the top element for a single given category, but not for each category.",learnSQL,"SQL Server, How to select the top X rows for each category?",1.0,https://www.reddit.com/r/learnSQL/comments/p30v56/sql_server_how_to_select_the_top_x_rows_for_each/
30,mmccarthy404,1628784037,p32ssh,2,1,"I never had good training or mentorship on building loading scripts, and I think I'm pretty weak in building robust loaders, my solutions seem brute force, and I'm looking for ideas to improve my logic!

For example, say we have an extremely simple schema like so:

[simple SQL schema](https://lh3.googleusercontent.com/proxy/MbrYel6p0nR7AKVhSqmS27HeCgTcq2ONqDvVFaAocFfYulZ8hQLynk62vV2APzC4XWip_f9S_Pbn-vJUK5bjYXFaepqfiGZ-tLFkwcTt1fb79W-xLzcxuww3j8UHudmVnVyAzj0JbsvhAjX8nPVSHnzjDFfmdJOSValo)

And assuming I'm trying to load this data from a single csv file with two columns, Student\_Name and Advisor\_Name, I've always done this in a brute force way which seems to get more unorganized the more linkages we have.

What I would currently do here is:

1. Read in the full csv.
2. Do a for loop over each row:
   1. Open a SQL transaction.
   2. Query whether record exists for Advisor\_Name value, if so:
      1. Get existing primary key for Advisor\_Name.
   3. Else:
      1. Insert new record for Advisor\_Name, get new primary key for Advisor\_Name.
   4. Query whether record exists for Student\_Name value, if so:
      1. Do Nothing.
   5. Else:
      1. Insert new record for Student\_Name.
   6. Commit the SQL transaction assuming no errors.

I guess when written out this looks a lot cleaner, but in my code, it get's complicated when I need to deal with up to a dozen primary keys per row, and I need to do multiple SQL queries to check and insert data per row of my data file. I'm currently not working with many functions or classes to help my organization, but I probably should be.

How can I improve my logic to help organize my code and load data more efficiently, are there any good git repos I can learn from?",learnSQL,How can I programmatically load data into a SQL schema in a more organized and efficient way?,1.0,https://www.reddit.com/r/learnSQL/comments/p32ssh/how_can_i_programmatically_load_data_into_a_sql/
31,DvD_cD,1628803141,p3956o,11,1,"This query:

&gt;select alias, name, color, country, points\_total, points\_rank  
from users  
inner join cached\_rankings cr on users.id = cr.user\_id and cr.game = 'ge'  
where country = 'BG'  
order by users.country, cr.points\_total desc

is giving me:

*Processing img ekbbgze0uzg71...*

Which is expected, the higher points\_total is the first row, but when I use it as a sub query:

&gt;select \*  
from (  
select alias, name, color, country, points\_total, points\_rank  
from users  
inner join cached\_rankings cr on users.id = cr.user\_id and cr.game = 'ge'  
where country = 'BG'  
order by users.country, cr.points\_total desc  
) x  
group by country

I'm getting the record row:

*Processing img q5w2piiduzg71...*

How to order correctly and get the first row from the inner table?",learnSQL,Getting first result of group by,1.0,https://www.reddit.com/r/learnSQL/comments/p3956o/getting_first_result_of_group_by/
32,BiteYerBumHard,1628848684,p3kco1,2,1,"Hi - I think the title basically says it all but here's the detail.

I have this line of code:

SELECT DISTINCT matchnum, winner FROM results WHERE NOT EXISTS (SELECT \* FROM results t WHERE t.matchnum = results.matchnum AND t.winner &lt;&gt; results.winner) AND results.winner = 'Grant';

$result = $conn-&gt;query($sql); &lt;------- **Crashes here (as you might expect).** 

I have a whole series of queries on the site which all execute perfectly but when it encounters this query the page fails to load.

I copied the query and pasted it directly into MySqlAdmin and it runs perfectly providing the expected result. 

The two offending lines read in toto:

$sql = ""SELECT DISTINCT matchnum, winner FROM results WHERE NOT EXISTS (SELECT \* FROM results t WHERE t.matchnum = results.matchnum AND t.winner &lt;&gt; results.winner) AND results.winner = 'Grant';""

$result = $conn-&gt;query($sql);

Any thoughts?",learnSQL,Query runs in MySQLAdmin but not as a web page query.,1.0,https://www.reddit.com/r/learnSQL/comments/p3kco1/query_runs_in_mysqladmin_but_not_as_a_web_page/
33,goforasolution,1628885595,p3t52s,0,1,"I checked the Panda's documentation and did some general internet searching. What I'm coming across mostly help on how stack *only* two separate dataframe columns on top of each other into a single column. I would post the links but feel like that makes sense to avoid for now.

But let's say the case is you have 5 data frames or more and they are all one column each having multiple rows. *Instead* of concatenating and appending them together so they come out in a new data frame column to column like this:

    Column_1 Column_2 Column_3 Column_4 Column_5

    Data         Data        Data         Data        Data

How would you stack each column so they end up *on top of each other* in a new single column? EG *like this*:

    New_Column

    Column1
    Data
    Column_2 
    Data appends
    Column_3
    Data appends
    Column_4 
    Data appends
    Column_5 
    Data appends",learnSQL,Using Pandas stack stacks multiple columns on top of each other into a single column,1.0,https://www.reddit.com/r/learnSQL/comments/p3t52s/using_pandas_stack_stacks_multiple_columns_on_top/
34,goforasolution,1628885771,p3t76c,3,1,"I checked the Panda's documentation and did some general internet searching. What I'm coming across mostly help on how stack only two separate dataframe columns on top of each other into a single column. I would post the links but feel like that makes sense to avoid for now.

But let's say the case is you have 5 data frames or more and they are all one column each having multiple rows. Instead of concatenating and appending them together so they come out in a new data frame column to column like this:

    Column_1     Column_2     Column_3     Column_4   Column_5

    Data         Data        Data         Data        Data

How would you stack each column so they end up appending on top of each other in a new single column? EG like this:

    New_Column

    Column_1
    Data
    Column_2 
    Data appends
    Column_3
    Data appends
    Column_4 
    Data appends
    Column_5 
    Data appends",learnSQL,Using Pandas to stack multiple columns on top of each other into a single column,1.0,https://www.reddit.com/r/learnSQL/comments/p3t76c/using_pandas_to_stack_multiple_columns_on_top_of/
35,dsp9107,1629005813,p4nrzd,0,1,[removed],learnSQL,Tips &amp; Tricks | Decrease the burden on your SQL Server,1.0,https://www.reddit.com/r/learnSQL/comments/p4nrzd/tips_tricks_decrease_the_burden_on_your_sql_server/
36,Iron-Bysun,1629041576,p4vn48,4,1,"Hello everyone reading this. I have no programming experience but I started learning the fundamentals of SQL. I'm intrigued so far and learning as I go but my questions are as follows:

As a newbie with no prior experience no degree only certified in basic SQL, would I still be able to land a job in this field?

Second, how long does it take to know if you are job ready?

Finally What are some tricks to help me get better at it?",learnSQL,Three part question,1.0,https://www.reddit.com/r/learnSQL/comments/p4vn48/three_part_question/
37,Successful-Aide3077,1629056152,p504q3,0,1, ,learnSQL,AZ 303 - Azure SQL - Azure Architect Certification Prep Series,1.0,https://youtube.com/watch?v=nN_6olYaGK8&amp;feature=share
38,jacob_scooter,1629066369,p537ld,10,1,"pretty generic question, but best free online course to learn SQL?",learnSQL,where to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/p537ld/where_to_learn_sql/
39,alex123711,1629074745,p55izx,8,1,What do you need to know for SQL jobs?,learnSQL,What do you need to know for SQL jobs?,1.0,https://www.reddit.com/r/learnSQL/comments/p55izx/what_do_you_need_to_know_for_sql_jobs/
40,distraughthoughts,1629204202,p630e5,0,1,"Hello,

If you are interested in learning SQL, have knowledge and wish to review SQL with others, or just have questions regarding the subject, I’ve created the following Discord for SQL.

https://discord.gg/Xr593UW",learnSQL,Need help with SQL? Check out this Discord server!,1.0,https://www.reddit.com/r/learnSQL/comments/p630e5/need_help_with_sql_check_out_this_discord_server/
41,jsaltee,1629242582,p6f53s,5,1,"Hi, I have a few regex expressions I wrote for my python notebook to search for those expressions in a dataframe. However i'm running into problems and i think it would be easier to just limit my SQL query to only include the results containing those expressions. But i'm having some trouble coming up with some of the statements in the SQL syntax. For example:

To look for the word Pushrod ... bent (where there are 0 - 3 words between 'pushrod' and 'bent'), like: 'pushrod is bent', 'pushrod couldn't be bent', etc. I have this in regex syntax:

\[Pp\]ushrod\\s(\\S\*\\s){0,3}bent

How would I write this in SQL terms? i.e. in terms of:

WHERE column LIKE 'our\_new\_expression'

thanks",learnSQL,Regex in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/p6f53s/regex_in_sql/
42,insanetech_,1629290362,p6qbux,0,1, ,learnSQL,Mastering Kafka Streams and KsqlDB - Building Real-time Data Systems by Example PDF,1.0,https://www.lunaticai.com/2021/08/mastering-kafka-streams-and-ksqldb-pdf.html
43,PM_ME_LITTLEMIXBOPS,1629308531,p6w610,4,1,"Hi guys, looking for help with this question where I have to translate an ER diagram into a relational schema. https://imageupload.io/i/RruxsHVGxN

So far my solution is this:

A(Aatt), pk: Aatt

S(Aatt, Batt, S1, S2), pk: Aatt, Batt

B(Batt, X), pk: Batt

C(Batt, X), pk: Batt

D(Batt, X, X2), pk: Batt

Not sure if this is correct.",learnSQL,Translate ER diagram into relational schema,1.0,https://www.reddit.com/r/learnSQL/comments/p6w610/translate_er_diagram_into_relational_schema/
44,Straight-Grass-9218,1629321309,p70fdj,2,1,"Hi everyone I'm doing sql in SAS so I hope this is still an appropriate subreddit. I haven't done any work like this in a number of years, which I think is why I'm missing the obvious mistake here.

So I have two tables with the following columns

tableOne: ID, month, source, state, department, agent, county, region.

tableTwo: state, region, county, group 1, group 2

What I'm trying to do is just add group 1 and group 2 to table 1 but I'm overcomplicating it and or forgetting some basics

SELECT ID, month, source, a.state, department, agent, a.county, a.region, b.'group 1', b.'group 2'

From tableOne AS a

INNER JOIN tableTwo AS b

ON a.state = b.state AND a.region = b.region AND a.county = b.county

Any and all feedback is welcome!",learnSQL,Shacking off the rust,1.0,https://www.reddit.com/r/learnSQL/comments/p70fdj/shacking_off_the_rust/
45,NotErikUden,1629405965,p7na7c,0,1, ,learnSQL,MySQL Workbench import text file with one field and lines separated by \n?,1.0,/r/SQL/comments/p7n73l/mysql_workbench_import_text_file_with_one_field/
46,JayKlizzy,1629574511,p8xrwf,8,2,"Hello, I am learning through Udacity's SQL for Data Analysis course. In joining three tables, I wrote the following code:


    SELECT  region.name, sales_reps.name, accounts.name
    FROM region
    JOIN sales_reps
    ON region.id = sales_reps.region_id
    JOIN accounts
    ON sales_reps.id= accounts.sales_rep_id
    ORDER BY accounts.name;

However, the results only showed one column -  the accounts.name column. When I checked the solution, the code was exactly the same as mine except each column in the SELECT line had an alias. 


    SELECT  region.name region, sales_reps.name rep, accounts.name account 
    FROM region
    JOIN sales_reps
    ON region.id = sales_reps.region_id
    JOIN accounts
    ON sales_reps.id= accounts.sales_rep_id
    ORDER BY accounts.name;

When I changed my code to include aliases for all three columns, all three columns showed.

The lessons and a google search indicated that you *could* provide aliases for columns, but I can't find anything about them being mandatory for correct output. Am I missing something?",learnSQL,Question about aliases in JOINs,1.0,https://www.reddit.com/r/learnSQL/comments/p8xrwf/question_about_aliases_in_joins/
47,WheelchairedKlingon,1629667476,p9lb7w,8,1,"Hey, guys. I'm used to using aggregate functions in  SQL, but I'm having trouble finding the median value of a column I have in my dataset.

&amp;#x200B;

I've seen this method being used to find the median, but I honestly don't understand the syntax at all outside of the aggregate average, the use of a subquery, the aliasing of **AVG(PRICE)** and the in/decrement of ROWDESC.

The OVER function and Partition part I'm completely lost with.

&amp;#x200B;

Any help would be greatly apprecaited. 

&amp;#x200B;

    SELECT INVOICENUMBER, 
           AVG(PRICE) AS MEDIANVAL 
    FROM   (SELECT INVOICENUMBER, 
                   PRICE, 
                   ROW_NUMBER() 
                     OVER ( 
                       PARTITION BY INVOICENUMBER 
                       ORDER BY PRICE ASC, INVOICENUMBER ASC) AS ROWASC, 
                   ROW_NUMBER() 
                     OVER ( 
                       PARTITION BY INVOICENUMBER 
                       ORDER BY PRICE DESC)                   AS ROWDESC 
            FROM   INVOICE SOH) X 
    WHERE  ROWASC IN ( ROWDESC, ROWDESC - 1, ROWDESC + 1 ) 
    GROUP  BY INVOICENUMBER 
    ORDER  BY INVOICENUMBER;",learnSQL,Finding the median value of a column,1.0,https://www.reddit.com/r/learnSQL/comments/p9lb7w/finding_the_median_value_of_a_column/
48,TheFrisianDude,1629789260,paicxt,3,1,"Hi All,

I hope someone can help my out here.

I need to know what percentage or a number of Total has a Duration thats less then 24H.

How do i get that and how do i display this next to  the Total?

This is what i got:

&amp;#x200B;

&amp;#x200B;

    SELECT 
    	COUNT(*) AS Total, 
    	TIMEDIFF(A.time, B.time) AS ""Duration"", 
    	AVG(HOUR(TIMEDIFF(A.time,B.time))) AS ""AVGDuration""
    
            **some joins for A B **	
    
    FROM C
      
      
    WHERE (A.time BETWEEN ""2021-06-01 00:00:00"" AND ""2021-07-01 00:00:00"")",learnSQL,Help with percentage less then 24H,1.0,https://www.reddit.com/r/learnSQL/comments/paicxt/help_with_percentage_less_then_24h/
49,nowboarding,1629805492,palo59,5,1,"In postgres I have a query that returns some dates, for example

    select * from generate_series('2021-08-20'::date, '2021-08-24', '1 day');

I also have a query that gets a few rows for each date. It casts a `timestamp` column to a `date` so that it can be compared to the above dates.

    select * from tbl where column1 = 'value' and columntimestamp::date = '2021-08-24' order by column2 desc limit 5;

What's the most efficient way to run this query for all of the dates returned by the first query? So the whole query should return 25 rows in total. 5 rows for each of the second query for 5 rows of dates from the first query.

Btw is it possible to create a derived index on `columntimestamp::date` so that the query can run fast?",learnSQL,How to combine these 2 queries?,1.0,https://www.reddit.com/r/learnSQL/comments/palo59/how_to_combine_these_2_queries/
50,fucksalads8,1629847061,paysvs,14,1,"So I am interviewing for a product manager position where they need me to have 'intermediate' proficiency in SQL. 

I have zero knowledge of coding languages and have one week until the technical interview. 

Please help!

Just went through a 4 hour video on YouTube from freecodecamp and I'm feeling quite overwhelmed",learnSQL,Need help :(,1.0,https://www.reddit.com/r/learnSQL/comments/paysvs/need_help/
51,jpayne0061,1629890080,pb93pn,2,1,"I'm gonna post the full tutorial here, but if you'd like all the pictures in one place, here you go: [https://app.sixweeksql.com/blog](https://app.sixweeksql.com/blog)

&amp;#x200B;

 In this tutorial, we will...

* Download a tool for writing and executing SQL
* Use SQL to analyze data
* Learn how to create a simple data visualization

**This tutorial is not intended to give you an in-depth explanation of how SQL works, or to go into any technical details of databases. The goal is to show you how SQL can be used in a hands-on approach.**

You can view the images linked here along with the full tutorial [here](https://app.sixweeksql.com/blog)

&amp;#x200B;

**It All Starts With the Data**

Lets download some data from [Louisville Open Data](https://data.louisvilleky.gov/). The dataset we are going to use is crime data collected by the city of Louisville, KY from 2018. [You can download it here](http://lky-open-data.s3.amazonaws.com/LMPD/Crime_Data_2018.csv) directly or on the [Louisville Open Data Crime Reports page](https://data.louisvilleky.gov/dataset/crime-reports)

After you've downloaded the data set, let's take a look at it. You can view it with excel, some other spreadsheet program, or just notepad, if that's all you have. This dataset is formatted as a [CSV](https://en.wikipedia.org/wiki/Comma-separated_values) (comma-separated values). Each row is on its own line, and each value is separated by a comma.

Here is what it looks like if viewed in a spreadsheet program. Note that a spreadsheet program will not show the commas. If you're viewing in a plain text editor, like notepad, it will look much different.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/crime-rows.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/crime-rows.png)

It looks like every row represents a reported crime. This is a pretty interesting dataset if you ask me. Personally, I have so many questions!

* Which zip codes experience the most car theft?
* What times of the day are crimes most likely to occur?
* Which crimes are most popular?

Without some type of technology to aid us, answering these questions would be difficult, to say the least. There are almost 80,000 rows in this spreadsheet. Lucky for us, we are going to use SQL to aid us in our efforts. Lets get started!

&amp;#x200B;

**Download a tool so we can use SQL**

We need a **SQL client** that can interpret and execute SQL. For this tutorial, we will use **DB Browser for SQLite**. Its a simple and light weight tool that is used to manage data. It knows how to interpret and execute SQL. [You can download the tool here](https://sqlitebrowser.org/dl/)

If you've got a somewhat newer windows pc, you probably have a 64 bit machine, and can download the version highlighted below.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/download-db-browser.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/download-db-browser.png)

After its downloaded, right click the file and choose **Extract All**

[https://app.sixweeksql.com/assets/blog/crime-tutorial/extract.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/extract.png)

Once the zip file is extracted, navigate to the **DB Browser for SQLite** folder and find the **DB Browser for SQLite** Application file (exe). Open the application.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/application.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/application.png)

Once you start the application, you should see it open. It looks like this:

[https://app.sixweeksql.com/assets/blog/crime-tutorial/app-view.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/app-view.png)

&amp;#x200B;

**Create a Database**

A database is just a container for your data, and we will need one for this tutorial. Select **New Database**

[https://app.sixweeksql.com/assets/blog/crime-tutorial/new-db.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/new-db.png)

Type in a name for your database (I named mine crime), and click **Save**.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/save-db-file.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/save-db-file.png)

A window will pop up that prompts you to create a new table inside of your database. Just close it.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/close-prompt.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/close-prompt.png)

Import Louisville Crime Data

Next, we will use the **import** tool provided by **DB Browser for SQLite** to get our Louisville Crime dataset loaded into it. File &gt; Import &gt; Table From CSV File...

[https://app.sixweeksql.com/assets/blog/crime-tutorial/import.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/import.png)

Find and select your Louisville Crime dataset that you downloaded earlier and click **Open**

[https://app.sixweeksql.com/assets/blog/crime-tutorial/find-crime.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/find-crime.png)

The **DB Browser for SQLite** import tool is going to use our csv (comma separated values) file to create a database table. You can pick the name of the database table at this step. I've shortened my table name to **Crime**. Click **Okay** once you're ready to create the table.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/import-wizard.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/import-wizard.png)

Under the **Database Structure** tab, you should now see the new table listed.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/new-table.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/new-table.png)

&amp;#x200B;

**Start Writing Some SQL**

If you've gotten this far, pat yourself on the back! We are now ready to execute our first bit of SQL. Navigate to the **Execute SQL** tab and enter the SQL you see below. We are going to select all columns (\*) from the **Crime** table, but only the first 10 rows. If you named your table something other than crime, you will need to use that name instead. Click the execute SQL button once you're ready to execute your SQL.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/execute-tab.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/execute-tab.png)

You should see the results of your query below the text editor, where you typed in your SQL.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/first-result.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/first-result.png)

You can adjust the size of the results window by hovering over the right edge.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/adjust-grid.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/adjust-grid.png)

Let's write our next SQL query. Copy the SQL you see below and execute it. Examine the SQL, and the results. Are they what you expected?

[https://app.sixweeksql.com/assets/blog/crime-tutorial/assault-query.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/assault-query.png)

Next, lets edit our query to only show assaults that occurred in zip code 40215. Check out the extra information below the grid. It indicates there were 821 rows returned.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/assaults-40215.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/assaults-40215.png)

This query will yield each unique value found in the **CRIME\_TYPE** column. It looks lilke there are 16 different crime types in the table.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/distinct-crime-type.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/distinct-crime-type.png)

**If you're up to it, try running some of your own queries. It is okay if you don't know exactly what you're doing. Experimenting and learning through discovery is the best way to learn in my opinion**

Using the extra information below the results grid, lets see how many burglaries were reported in 2018.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/burglary-count.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/burglary-count.png)

Now lets see how many homicides were reported in 2018

[https://app.sixweeksql.com/assets/blog/crime-tutorial/homicide-count.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/homicide-count.png)

How do you think the **GROUP BY** command works?

[https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by.png)

Here we can use the **GROUP BY** command on the ZIP\_CODE column to get a count of crimes reported in each zip code.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by-zip.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by-zip.png)

Add this **WHERE** clause so we can get a count of vehicle break-ins for each zip code. The **NULL** value indicates there was no data entered in the zip code for 350 rows.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by-zip-vehicle.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by-zip-vehicle.png)

You can add the **ORDER BY** clause to order the results by a particular column.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/order-by.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/order-by.png)

We can add another condition onto our **WHERE** clause to exclude the ***NULL*** values. Usually, you will use the **&lt;&gt;** or **!=** operators when you want to specify ""not equal to"", but NULL values are different.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/not-null.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/not-null.png)

&amp;#x200B;

**Create a Data Visualization**

Next up, we are going to create a data visualization like the one below

[https://app.sixweeksql.com/assets/blog/crime-tutorial/bar-chart.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/bar-chart.png)

Let's go back to our query where we group by crime type and get a count

[https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/group-by.png)

Execute the query, and click the upper left corner of the graph. This will select the data. You can copy it with **control + c**.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/select-data.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/select-data.png)

Head to [Datawrapper](https://www.datawrapper.de/). It is an online tool for creating data visualizations. You do not need an account to use the tool. Click the **Start Creating** button to get started

[https://app.sixweeksql.com/assets/blog/crime-tutorial/start-creating.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/start-creating.png)

Paste the data you copied from **DB Browser for SQLite** with **control + v**

[https://app.sixweeksql.com/assets/blog/crime-tutorial/paste.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/paste.png)

Click proceed to go to the next step

[https://app.sixweeksql.com/assets/blog/crime-tutorial/proceed.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/proceed.png)

Despite our data being haphazardly pasted in, the tool did a good job formatting it for us. Click Proceed to go to the next step.

[https://app.sixweeksql.com/assets/blog/crime-tutorial/formatted.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/formatted.png)

Click on the column chart option to see your data visualized!

[https://app.sixweeksql.com/assets/blog/crime-tutorial/column-chart.png](https://app.sixweeksql.com/assets/blog/crime-tutorial/column-chart.png)

&amp;#x200B;

**Summary**

I hope you learned a few things during this tutorial. Learning SQL is difficult, and takes some time to get comfortable with it. Remember to experiment often, and to be curious!",learnSQL,Analyze Crime Data and make a Data Visualization in this 30 Minute Intro to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/pb93pn/analyze_crime_data_and_make_a_data_visualization/
52,triplenoped,1629906594,pbe04c,6,1,"Hi,

I have to tables, one of them contains general info about a product, one of them is a possible procedure. Goal is to write a stored procedure that lists all procedures that are available for the product.

Example:

Procedures

ProcedureName | Conditions
---|---
procedure1 | country = 'us' and color = 'red'
procedure2 | discounted = 1

Products

ProductName | Country | Color | Discounted
---|---|----|----
product1 | us | red | 1
product2 | gb | red | 0
product3 | de | red | 1
product4 | fr | red | 0

    exec GetAvailablesProcedures @productName='product1'

should return both procedure1 and procedure2

    exec GetAvailablesProcedures @productName='product2'

should return nothing

    exec GetAvailablesProcedures @productName='product3'

should return only procedure2

The important things are that this should be SQL only and I don't have to worry about SQL injection attacks.

I already have a stored procedure that returns 1 or 0 depending given a procedureID and productID that checks the condition.
I'm not sure how to use that to get a table of all available procedures though.

Any help is appreciated. Thanks!",learnSQL,Storing where clause in an sql table?,1.0,https://www.reddit.com/r/learnSQL/comments/pbe04c/storing_where_clause_in_an_sql_table/
53,jotto2323,1629915389,pbgzaj,2,1,"&amp;#x200B;

[I used to login with my college login database but now that I don't have that I'm not sure how to login to a database. How do I go about this?](https://preview.redd.it/74kdquujpjj71.png?width=999&amp;format=png&amp;auto=webp&amp;s=06076fc6b9a64977409ca2aea3ef721847da42a4)",learnSQL,Help! Not sure how to connect to a server no that I don't have my college login available.,1.0,https://www.reddit.com/r/learnSQL/comments/pbgzaj/help_not_sure_how_to_connect_to_a_server_no_that/
54,snip3r77,1629992000,pc1wgh,0,1,"OK the part that I extract the values and dump to csv is easily done but I have some question on how we should handle 'no-value', I know varchar has no issue but what about double or float or int? I'm using python/pandas and how should I change the value so that I can ingest IF the column is double or float or in this case should I use varchar. Thanks

[https://i.imgur.com/nJBVhHn.png](https://i.imgur.com/nJBVhHn.png)",learnSQL,ingest from xls,1.0,https://www.reddit.com/r/learnSQL/comments/pc1wgh/ingest_from_xls/
55,offhandaxe,1630005326,pc6dai,7,1,Like the title says I have a interview next week that needs 1 year of SQL experience I have that experience but it's 6 years ago and I've forgotten almost all of it what would be the best way to study for my interview this upcoming week I would prefer videos I can watch and take notes on or documents I can read out but I can't really get any books right now,learnSQL,I have an interview next week and need a sql refresher.,1.0,https://www.reddit.com/r/learnSQL/comments/pc6dai/i_have_an_interview_next_week_and_need_a_sql/
56,marhaba89,1630074428,pcofb3,1,1,"Hi, 

I am working in HIVE. I have a set that looks something like this: 

&amp;#x200B;

|Name|Asset ||
|:-|:-|:-|
|John |1000000||
|Jane|5000000||
|Mary|\[NULL\]||
|Carlos|25000||

The asset column is a VARCHAR(100) type. I want to create a column based on the asset column using ranges. like this: 

* 5M+ Transformational
* 1M - 4.9M - Principal
* 25K and less (including null) Annual 

I have no idea how to do this. I googled some and what i found said to use CASE WHEN but it wasn't clear on how I could use ranges to create the condition.",learnSQL,Help creating a conditional column based on ranges,1.0,https://www.reddit.com/r/learnSQL/comments/pcofb3/help_creating_a_conditional_column_based_on_ranges/
57,E__Rock,1630078126,pcpl9l,5,1,"Hello.  I'm trying to enter a line in a temp table that figures the time elapsed between two production dates.  I know the simple equation I used is incorrect and I need to use DIFFDATE, but am unsure how to implement.  Can someone walk me through it in my script?

    --Build the table for Job History from 2021 and beyond.

SELECT  JobID ,
        Number ,
        OrderSubmissionStart ,
        ColorAdjustStart ,
        ColorAdjustEnd ,
        RetouchStart ,
        RetouchEnd ,
        PrintingStart ,
        PrintingEnd ,
        FinishingEnd ,
        PackingStart ,
        ShippingEnd
INTO    #TempJobHistory
FROM    dbo.XYZ
WHERE   ShippingEnd &gt; '2021-01-01 00:00:00.000';

--Calculate time elapsed.
ALTER TABLE #TempJobHistory
ADD ProductionTimeElapsed TIME NULL;
UPDATE  #TempJobHistory
SET     ProductionTimeElapsed = ( ShippingEnd - OrderSubmissionStart );

-- Pull results for given production day.
SELECT  JobID ,
        Number ,
        ProductionTimeElapsed ,
        OrderSubmissionStart ,
        ColorAdjustStart ,
        ColorAdjustEnd ,
        RetouchStart ,
        RetouchEnd ,
        PrintingStart ,
        PrintingEnd ,
        FinishingEnd ,
        PackingStart ,
        ShippingEnd
FROM    #TempJobHistory
WHERE   ShippingEnd &gt; '2021-08-26 04:00:00.000' --variable search date anything after 4am.
ORDER BY ShippingEnd DESC

-- Drop temp table
DROP TABLE #TempJobHistory",learnSQL,Help me with DIFFDATE,1.0,https://www.reddit.com/r/learnSQL/comments/pcpl9l/help_me_with_diffdate/
58,parkmintra,1630141709,pd6ja0,1,1,"The problem : Consider the table containing the list of individuals for every country along with their net worth. The table structure is like: 

Country | Name | Net Worth 
India | Mukesh Ambani | 40000000000 
US | Bill Gates | 90000000000 
US | Jeff Bezos | 95000000000 ….. 

Question: Write an SQL query in order to find the cumulative net worth of top 10 individuals for every country.

Expected output: 
Country | Total Net worth 
India | 100000000000 
US | 200000000000 *


I have tried it with this :
Select Country,
	(sum(Networth)
	) as 'Total Net Worth'
From Data
Group by Country
Order by [Total Net Worth] DESC;

which gives me the sum of each country, but I need only the sum of top 10 for each country. Please do help me. Thanks 💖",learnSQL,Help pls,1.0,https://www.reddit.com/r/learnSQL/comments/pd6ja0/help_pls/
59,ArifSagar,1630172838,pdeepo,14,1, ,learnSQL,typing SQL commands in all caps hits different. It's just next level satisfaction.,1.0,https://i.redd.it/q8zjdgi6z4k71.png
60,dev2049,1630301243,pebqwp,0,1, ,learnSQL,Collection of Most-Asked SQL Interview Questions &amp; Answers For Beginners in 2021,1.0,https://code.coursesity.com/sql-interview-questions
61,lucian-12,1630410776,pf49vo,1,1,"Hi,

If you are interested in building better MySQL applications, in this course you’ll find tips for tuning MySQL like a pro. Use the link below:

[https://www.udemy.com/course/mysql-high-performance-tuning-guide/?couponCode=3C0807BA6AA5C47E46E9](https://www.udemy.com/course/mysql-high-performance-tuning-guide/?couponCode=3C0807BA6AA5C47E46E9)

Thank you!",learnSQL,MySQL High-Performance Course - Free Coupon - available next 2 days,1.0,https://www.reddit.com/r/learnSQL/comments/pf49vo/mysql_highperformance_course_free_coupon/
62,originalgoodname,1630411568,pf4h95,1,1,"on line 12, were matching on awayteam\_id....? i was staring at this for a long time before looking at the solution and I don't understand why its awayteam and not matching hometeam\_id to team\_api\_id

https://preview.redd.it/33e7bugxook71.png?width=1486&amp;format=png&amp;auto=webp&amp;s=1b724cb916bff33ac6b9359762463c1b5f23d05f

https://preview.redd.it/w8cvksgxook71.png?width=1480&amp;format=png&amp;auto=webp&amp;s=d1a10ef085e1048ad2410f8f9e5849878255813c

https://preview.redd.it/qjfz2ugxook71.png?width=743&amp;format=png&amp;auto=webp&amp;s=341679dcf65ee1faa4aaf54b3808fdbcd709a196",learnSQL,join question,1.0,https://www.reddit.com/r/learnSQL/comments/pf4h95/join_question/
63,0ur0bor0_s,1630426682,pf956c,0,1," 

**Looking for assistance on a schema, if bored, help! :)**

Needing  to pull average CSAT, average resolution time for refunds, payouts, and  invoicing from startups created after January 1, 2020.

select

csat\_rating\_rate as csat,

resolution\_time\_in\_mins as res\_time,

group\_counts as group\_ct

from analytics.support\_cases

where first\_response\_group\_name = 'Support Tier 1'

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/8cs11b93ypk71.png?width=439&amp;format=png&amp;auto=webp&amp;s=6d0598cd2333ed2d0e2c3431b2931a018bbb8f14",learnSQL,Schema Query quiz,1.0,https://www.reddit.com/r/learnSQL/comments/pf956c/schema_query_quiz/
64,zillika,1630428713,pf9tjm,1,1,The Forever plan is a bit costly.,learnSQL,Are the scholarships still available on learnsql.com ?,1.0,https://www.reddit.com/r/learnSQL/comments/pf9tjm/are_the_scholarships_still_available_on/
0,nonkeymn,1625253440,och6ou,2,1, ,learnSQL,SQL Interviews Be Like (Parody),1.0,https://www.youtube.com/watch?v=z7Ymn3Uuuc4&amp;t=1s
1,kkwestside,1625328872,od11qp,11,1,"Hi Guys,

I am a mechanical engineer but I managed to shift my career to some kind of a reporting specialist roughly 3 years ago and I want to be a Data Analyst. 

Since I'm not working at the BI department, I don't have the authority to access the Datawarehouse via SQL (I asked they said it's not possible), I can only export reports to xlsx or csv files, and do my analysis by concatenating/manipulating them.

I generally write VBA to automate business tasks of my department and create dashboards with PowerBI (Comprehensive reports, mainly using DAX, some reports are fed by roughly 20 million rows via Powerquery).

I try to learn SQL by myself, but SQL courses are not like python courses, with python for instance you can go deeper and deeper with tutorials and hands-on experience. But with SQL every course teaches SELECT, UPDATE CREATE, JOIN, UNION etc. and stops there, I cannot find any course that goes really deep.

So, last week my dream came true and an HR Requrieter wrote me and asked if I was interested in a Data Analyst position, then we arranged a meeting, and when everything was going great, in the middle of the meeting, she asked me to if I was using SQL actively on my work, I said I don't but I'm trying to learn it by myself, and she was very disappointed like *""there is no point of proceeding meeting disappointed"".*

So my question is  I want to advance at SQL, so in the next meeting with another company, SQL wouldn't be the dealbreaker, but I believe I need to have tasks and projects and get my hands dirty but I can't find anywhere I'm lost.

My question is do you know any hands-on project course or a website that goes really really deep. Or do you have any other recommendations? Any suggestion would be much appreciated.",learnSQL,SQL Hands on Projects Recommendations,1.0,https://www.reddit.com/r/learnSQL/comments/od11qp/sql_hands_on_projects_recommendations/
2,Soopermane,1625426010,odr00d,7,1,"&amp;#x200B;

    CREATE TABLE engineers (
        lastname   VARCHAR2(30),
        firstname  VARCHAR2(30),
        email      VARCHAR2(50),
        graddate   NUMBER(20),
        EID        VARCHAR2(20) PRIMARY KEY
    );--created table
    insert all--inserting
     into engineers(lastname, firstname, email,graddate,eid) values
    ('smitty', 'kitty', 'smittykitty@gmail.com', 2020, 'eid1')
    
     into engineers(lastname, firstname, email,graddate,eid) values
    ('smitty2', 'kitty', 'smittykitty2@gmail.com', 2020, 'eid2')
    select * from dual;
    
    CREATE TABLE faculty (
        lastname   VARCHAR2(30),
        firstname  VARCHAR2(30),
        email      VARCHAR2(50),
        hiredate   NUMBER(20),
        FID        VARCHAR2(20) PRIMARY KEY
    );--created table
    
    insert all--inserting
    into faculty (lastname, firstname, email,hiredate,FID) values
    ('gary', 'peyton', 'garymarry@gmail.com',2020,'fid1')
    
    into faculty (lastname, firstname, email,hiredate,FID) values
    ('lary', 'leyton' ,'larylarry@gmail.com',2010,'fid2')
    
    select * from dual;
    

now i need to create a table which will include foreign keys from the first two tables. 

&amp;#x200B;

    CREATE TABLE classenrollments (
    
        enid VARCHAR2(20) PRIMARY KEY,
            
        CONSTRAINT classenrollments_faculty_fk FOREIGN KEY ( enid )
            REFERENCES faculty ( fid ),
            
        CONSTRAINT classenrollments_engineers_fk FOREIGN KEY ( enid )
              REFERENCES engineers ( EID )
    );---created table
    
    insert all --insert statement
    
    into classenrollments (enid) values ('enid1')
    into classenrollments (enid) values ('enid')   
    
    select * from dual;
    

however, i get errors or a blank table when i run the ""classenrollments' table, the first two tables work fine. I'm using Oracle SQL developer. 

how can i fix the foreign keys table?",learnSQL,Need help with foreign keys,1.0,https://www.reddit.com/r/learnSQL/comments/odr00d/need_help_with_foreign_keys/
3,CNCoder,1625438867,odut6k,0,1,"    SET SERVEROUTPUT ON
    CREATE OR REPLACE PROCEDURE cust_city (
        cust_city IN customer.custcity%TYPE,   
        city_output    OUT   customer.custcity%TYPE,
        howmany_times    OUT   customer.custcity%TYPE,
        total_output   OUT   car.purchcost%TYPE
    ) AS
    BEGIN
        SELECT
        custcity,
        COUNT(custcity) AS HowmanyTimes,        
        SUM(purchcost) AS totalcost   
        INTO city_output, howmany_times, total_output
        FROM
            car a
        JOIN customer d
        ON a.custname = d.custname
        WHERE
            UPPER(custcity) = UPPER(cust_city)
        GROUP BY
            custcity;
    
    END;
    
    DECLARE
    v_city_output customer.custstreet%TYPE;
    v_howmany_times customer.custstreet%TYPE;
    v_total_output customer.custstreet%TYPE;
    
    
    v_count NUMBER(6);
    CURSOR carcity IS
    SELECT * FROM customer
    WHERE custcity = 'OAKVILLE' ;
    
    
    
    
    BEGIN
    FOR v_uncar IN carcity LOOP
    cust_city(v_uncar.custcity,v_city_output, v_howmany_times, v_total_output);
    DBMS_OUTPUT.PUT_LINE(v_city_output || '   ' || v_howmany_times || '   ' || v_total_output );
    END LOOP;
    
    SELECT COUNT(*)
    INTO v_count
    from customer
    WHERE custcity = 'OAKVILLE';
    DBMS_OUTPUT.PUT_LINE(v_count || ' cars');
    END;

Hey guys, I am writing a PLSQL which is gonna get a prompt from the user to enter a city. Then, it will show the number of cars bought in that city(from all the customers like 50 cars bought in new york) and the total amount that spent. Can you please help with the loop and prompt i have been trying for hours and i couldn't find anything",learnSQL,Need Help,1.0,https://www.reddit.com/r/learnSQL/comments/odut6k/need_help/
4,noxlv,1625478069,oe3xsn,0,1,"How can you convert the syntax to presto?

    party ARRAY&lt;STRUCT&lt;workaround:ARRAY&lt;STRUCT&lt;id:STRING,id2:STRING&gt;&gt;,id_3:STRING,role:STRING&gt;&gt;

How can you then translate this when calling the statement?

    Create VIEW Select DB.Tbl.*, party.item.id as party.id
    From Db.Tbl LEFT OUTER JOIN Db.Tbl.party LEFT OUTER JOIN party.workaround",learnSQL,SQL in Presto,1.0,https://www.reddit.com/r/learnSQL/comments/oe3xsn/sql_in_presto/
5,Gullible_Penalty1721,1625498188,oe9gt4,6,1," Hey All!​

​I’m Larry and I’m a Datawarehouse Developer.​

I’m in the process of developing a program that can better serve aspiring SQL Developers just like you so you're not stuck in a job you don't like and so you can get to the next level in your Database Development career.​  
​  
I used to be in the exact same position and found a way to up my career level and eventually started making 6 figures. I'm now am on a mission to help people like you do the same!  
That said, by filling out this survey, it will help me tremendously to learn more about aspiring SQL Developers of what you are working on, what you want to accomplish, and what you need help with.  Let me help you get to the optimal stage in your Database Development career.​  
​  
In exchange for 15 minutes of your time to fill out my survey, I will be I'm offering 5 FREE 1 on 1 sessions and everyone else that applies I will do a group mentor session.  
Here is the link: [https://forms.gle/FGJQaMARLQUfDLEP9](https://forms.gle/FGJQaMARLQUfDLEP9?fbclid=IwAR1B4PINQS2EW4rkuTQLdKppG2BnVd2pN7-ze90Gdi5NN2FzruTDihy1ouY)

Thanks so much!",learnSQL,Market Research for New SQL Program,1.0,https://www.reddit.com/r/learnSQL/comments/oe9gt4/market_research_for_new_sql_program/
6,noxlv,1625518319,oeg2y9,0,1," How can you convert the syntax to presto?

    party ARRAY&lt;STRUCT&lt;workaround:ARRAY&lt;STRUCT&lt;id:STRING,id2:STRING&gt;&gt;,id_3:STRING,role:STRING&gt;&gt; 

How can you then translate this when calling the statement?

    Create VIEW Select DB.Tbl.*, party.item.id as party.id From Db.Tbl LEFT OUTER JOIN Db.Tbl.party LEFT OUTER JOIN party.workaround",learnSQL,Presto Syntax,1.0,https://www.reddit.com/r/learnSQL/comments/oeg2y9/presto_syntax/
7,noxlv,1625555374,oeputh,0,1,"I know in Spark/Impala, you can use  

    array_column.POS

to represent the numeric position of each element within the array.

How can you write this for Presto? Doesn't look like Array\_Position works?",learnSQL,Element Numeric Position,1.0,https://www.reddit.com/r/learnSQL/comments/oeputh/element_numeric_position/
8,PBandBanana_,1625612222,of67yy,0,1,[removed],learnSQL,"Anyone else have trouble getting the w3school ""SQL Wildcard"" questions to work in MySQL?",1.0,https://www.reddit.com/r/learnSQL/comments/of67yy/anyone_else_have_trouble_getting_the_w3school_sql/
9,TravisCuzick,1625669863,ofkjxv,23,1,"Hey Everybody,

I've created a course on advanced SQL querying/data analysis techniques that I'd like to share with you guys. Here's the link to get the course for free on Udemy (FYI - the coupon expires in three days): [https://www.udemy.com/course/advanced-sql-server-masterclass-for-data-analysis/?couponCode=FREE-ADVANCED-SQL](https://www.udemy.com/course/advanced-sql-server-masterclass-for-data-analysis/?couponCode=FREE-ADVANCED-SQL). Of course, I appreciate any feedback you can provide!

The course picks up where introductory books/courses leave off, starting with Window Functions and moving on to topics like subqueries/CTEs, temp tables, query optimization, and even a little procedural SQL programming. There's also an abundance of coding exercises, some quite challenging, sprinkled throughout the course to reinforce the concepts.

SQL Server is used for the examples and exercises, but most of the content would be applicable to the vast majority of database systems.

Please note that this is an *advanced* course, so I'm assuming you have a solid background in SQL foundations: applying criteria with WHERE, JOINs, aggregate queries, etc.. If you'd like a refresher on these concepts, I've also created a free coupon for my intro SQL course here: [https://www.udemy.com/course/sql-basics-crash-course-with-sql-server/?couponCode=FREE-SQL](https://www.udemy.com/course/sql-basics-crash-course-with-sql-server/?couponCode=FREE-SQL).

Cheers, and happy coding!",learnSQL,FREE Course on Advanced SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ofkjxv/free_course_on_advanced_sql/
10,SilverCyclist,1625672231,ofldg0,0,1,"I've just started my SQL journey, so this is probably a green question, but I'm attempting to see how a CRM differs from a RDBMS. [A quick google search gave me:](https://searchcustomerexperience.techtarget.com/answer/CRM-vs-database-marketing#:~:text=Database%20marketing%20falls%20under%20the,while%20CRM%20is%20process%2Ddriven)

&amp;#x200B;

&gt;**Database** marketing falls under the **customer relationship management** umbrella, as **CRM** includes all sales, marketing and customer service initiatives **in an** organization. **Database** marketing **is** a data-driven approach toward improving customer experience, while **CRM is** process-driven. 

&amp;#x200B;

So I have a few questions:

1. Does this mean CRMs exist within a potential RDBMS?
2. What do they mean here by data-driven vs. process-driven? Data-driven I get. But I work with CRMs all the time and I have no idea what ""process driven"" means. Is that just slang for ""sales?""
3. The phrase ""improving customer experience"" - I'm assuming then that CRMs are on the sales side while RDBMS - assuming they're seperate - are on the product development side?

Any help you can offer would be greatly appreciated.",learnSQL,New to SQL: RDBMS vs. CRM question,1.0,https://www.reddit.com/r/learnSQL/comments/ofldg0/new_to_sql_rdbms_vs_crm_question/
11,thriveee,1625693358,ofsk8r,8,1, ,learnSQL,I am trying to use left outer join instead of VLOOKUP (excel function) between 2 tables. I just need all fields from table 1 and flag yes or no in a new column if value from table 1 has a match in table 2. I think I need to use case statement but need help.,1.0,https://www.reddit.com/r/learnSQL/comments/ofsk8r/i_am_trying_to_use_left_outer_join_instead_of/
12,AllEncompassingThey,1625708316,ofx3rt,5,1,"I'm beginning to learn SQL. Was hoping to eventually get a cert to make my resume stand out for entry/associate level jobs. I've read that there's no longer a Microsoft SQL certification.

Are there any others, from any source? Any cert that's recognized as representing a solid foundation of SQL? How would you ""prove"" to a recruiter on paper that you knew what you were talking about on your resume?",learnSQL,Are there any certs I can take for SQL to display on my resume that I have a good foundation?,1.0,https://www.reddit.com/r/learnSQL/comments/ofx3rt/are_there_any_certs_i_can_take_for_sql_to_display/
13,Resume_Throwaway58,1625711272,ofxxs9,0,1,"I have a query `SELECT to_timestamp( TRUNC( CAST( ts AS bigint ) / 1000 ) )`

`FROM TABLE;`

That converts unix time to time stamp. I'd like to append my table to add these values as a column to my table.",learnSQL,Add calculated column to table Postgres,1.0,https://www.reddit.com/r/learnSQL/comments/ofxxs9/add_calculated_column_to_table_postgres/
14,curic23,1625728636,og27ly,1,1,"Hi guys,

Can you execute a stored procedure with multiple output parameters inside a select statement and how the OUTPUT parameters as columns?

&amp;#x200B;

    SET NOCOUNT ON;
    
    	
    	DECLARE @PriceCurr as varchar(10)
            DECLARE @Customer as varchar(10)
    	DECLARE @oPrice decimal (38,20)
    	DECLARE @oSalesUnitofMesureas varchar(10)
    
            SET @Customer = Some customer
            SET @oSalesUnitofMesureas = something
            SET @PriceCurr = 'EUR'  
    
    SELECT 
               [No_] 
    	  ,[name]
    	  ,[Brand name]
    	  ,@oPrice as [Purchase Price]
    	
    	  exec [dbo].[GetExportMarginCustomerPrice]
    				[No_],
    				@Customer,
    				@oPrice OUTPUT,
    				@PriceCurr OUTPUT,
    				@oSalesUnitofMesureas OUTPUT	
    	  
          
      FROM [TEST]

The stored procedure gets \[No\_\] (not fix, would be for every \[No\_\]) and Customer (fix parameter) and returns the 3 OUTPUTS.

Should I execute the stored procedure and then insert it into a temp table, or is there a way to call it inside a select statement? Or would it be easier to turn this stored procedure into a function?",learnSQL,Execute stored procedure inside Select?,1.0,https://www.reddit.com/r/learnSQL/comments/og27ly/execute_stored_procedure_inside_select/
15,captaintyler98,1625740312,og4in2,3,1,"Hello guys, hope you're doing well and keeping safe. 

I want to learn sql for data analysis so I'm trying to install SSMS on my computer. But my system is very old so the latest version doesn't work. It requires 64-bit operating system.

So can you guys help me find out the latest version for 32 bit operating system. 

I know I've to used 2016/2014 version for 32 bit 
But what was the last version for 32 bit operating system?",learnSQL,What is the latest version of Ssms (sql server management studio) for 32bit operating system ?,1.0,https://www.reddit.com/r/learnSQL/comments/og4in2/what_is_the_latest_version_of_ssms_sql_server/
16,alienalgen94,1625757845,og9gbn,3,1,"I am a new junior developer seeking mentorship on how to best organize my thoughts and what needs to be built so I can deliver lots of code every week to an agile team.

After I have coded I am usually great at documentation after the fact. However my before-I-code process can sometimes be a little foggy, slow and uncertain.

I am considering creating a mini-task list of check boxes to check off and state is what I am accomplishing or have accomplished.

Any tips to a new junior dev would be super appreciated! 

P.S. My new software house writes in Angular, .NET and SQL Server living in Azure :)",learnSQL,Organized SQL Developers: do you have any pre-coding process or ritual that helps clarify your coding objectives faster and therefore helps to speed up how quickly you solve coding problems and debug?,1.0,https://www.reddit.com/r/learnSQL/comments/og9gbn/organized_sql_developers_do_you_have_any/
17,Warpath1321,1625763221,ogbaul,3,1,"Good day to all, I am new to SQL and only know basic stuff. If any one of you can find a solution to the questions below I will be very grateful, its all confusing to me.  
Table: [https://anonfiles.com/NbH8m950u7/Life\_Expectancy\_Data\_csv](https://anonfiles.com/NbH8m950u7/Life_Expectancy_Data_csv)  


a. Identify which disease causes max deaths in each country. 

b. Year wise highest mortality rate for each disease.",learnSQL,Help with queries!,1.0,https://www.reddit.com/r/learnSQL/comments/ogbaul/help_with_queries/
18,JackMWhit,1625819063,ogr8sj,2,1,"I have a program I'm making which is going to be storing data in an SQL database, but I can't figure out the best way to structure it as I'm new to using SQL. (I'm using SQlite3 in Python)

&amp;#x200B;

I'm logging around 4 times per hour how much a few hundred things are worth. Ideally, I'd be able to pull a report then to get average prices for the last 24hours, 30 days etc through queries.

&amp;#x200B;

What I'm trying to decide is how best to do this? I was thinking 1 row per timestamp, then a column per item and the price simply goes in the matching cell. Would this be an effective approach? And would this allow us to add new items on the fly within SQL?

&amp;#x200B;

I'd appreciate any help and I'm happy to provide more information if this was too vague. Thank you.",learnSQL,The best way to structure this data for an SQL database,1.0,https://www.reddit.com/r/learnSQL/comments/ogr8sj/the_best_way_to_structure_this_data_for_an_sql/
19,Emergency-Argument,1625821488,ogrqi5,1,1,"Hi,

I need to create a csv table extract based on a query at the beginning of every month. I am thinking I should create a table which holds the query result which resets and updates each month (doesn't need to store all the historical queries).

How should I automate the extraction part?",learnSQL,[Oracle] How to set up a monthly table extract,1.0,https://www.reddit.com/r/learnSQL/comments/ogrqi5/oracle_how_to_set_up_a_monthly_table_extract/
20,Full-Highway7361,1625838239,ogvue6,0,1,"I installed MYSQL few months, then i set a password , but I forgot it . so i uninstalled MYSQL completely and then again it is asking for the same password , again I uninstalled . can someone help me how to install MYSQL like first time where I can set a new password and I wont forget it this time , very much need for my lab",learnSQL,installation issue,1.0,https://www.reddit.com/r/learnSQL/comments/ogvue6/installation_issue/
21,roryjbd,1625857029,oh25mj,11,1,"I’m currently learning SQL through a DataCamp course, but I want to be able to do some practice questions (i.e writing queries) when I’ve got 10 mins that aren’t just like completing half written queries. Any suggestions? Ideally something free or reasonably priced",learnSQL,Practice Questions,1.0,https://www.reddit.com/r/learnSQL/comments/oh25mj/practice_questions/
22,bigchungusmode96,1625943629,ohondu,14,1,"I have table A which contains a column for unique IDs column. Table B contains rows that match to a subset of table A's IDs, with some of table B's rows having more than one row per ID. 

I want to get the sum of values for each ID found in Table B and merge that back into table A. I'm using a left join from Table A because I don't want to exclude the subset of IDs in table A that aren't in Table B.

    SELECT ID FROM TABLE_A;
    SELECT ID, VALUES, ORDER_TYPE FROM TABLE_B;
    
    SELECT ID FROM TABLE_A LEFT JOIN (SELECT ID, SUM(VALUES) as VALUES FROM TABLE_B GROUP BY ID) TABLE_B ON  TABLE_A.ID = TABLE_B.ID;

The logic above is sound, but the tricky part is I want to completely exclude rows with IDs that contain a certain order type. If an ID has multiple matches from table B but one of those matching rows has that order type, then any &amp; all rows for that ID should be excluded from the pulled data.

    SELECT ID, VALUES, ORDER_TYPE FROM TABLE_B WHERE ORDER_TYPE != 'TYPE_X'; 

If table B only had at most one matching row for each ID then something like this could be feasible:

    SELECT * FROM 
        (SELECT ID FROM TABLE_A LEFT JOIN (SELECT ID, VALUES, ORDER_TYPE FROM TABLE_B) TABLE_B ON TABLE_A.ID = TABLE_B.ID)  
        WHERE ORDER_TYPE != 'TYPE_X';

But unfortunately table B can have one or more rows with the same ID. So what's the best option if I still want to do the left join but remove rows for IDs that do have their certain order type from Table B? Thanks!",learnSQL,Oracle SQL exclude all rows for IDs based on values from left join,1.0,https://www.reddit.com/r/learnSQL/comments/ohondu/oracle_sql_exclude_all_rows_for_ids_based_on/
23,Mathdataacademy,1625971668,ohwd6q,0,1,[removed],learnSQL,How To Register A Free Google Big Query Account | Math &amp; Data Academy,1.0,https://www.reddit.com/r/learnSQL/comments/ohwd6q/how_to_register_a_free_google_big_query_account/
24,DeputyDak,1626050957,oigj2v,7,1,"I tried a problem some time back where I was given a table of customers (customer details), and a table of transactions (which showed which customer bought what product). And then a product table which showed the price of each product.

The query was supposed to calculate the average of each customer's purchases (i.e. Take customer X and calculate the average of all the purchases customer X has made), and then only display the individual purchases that was higher than that average.

So I selected the relevant tables (selected the price of each product that was purchased), and then used the AVG function on that and wrote GROUP BY Customer\_ID.

So after that, I got the average of each customer...........but the problem now is that all the customers have been grouped. So I can't compare the average with every single transaction that the customer has done. 

What's the solution to this?",learnSQL,How Do You Group By Without Actually Getting Rid Of The Reptitions Of Rows?,1.0,https://www.reddit.com/r/learnSQL/comments/oigj2v/how_do_you_group_by_without_actually_getting_rid/
25,jobandjethro,1626112273,oiwhw5,1,1,I have successfully written a 800+ line sql code that calculates various metrics for my workplace using hive sql and hue to automate datasourcing for tableau dashboarding.  I'm wondering if anyone can offer me some benchmarking here. Am I an expert? Or is this intermediate stuff?,learnSQL,Trying to benchmark skillset... any ideas where I'm at?,1.0,https://www.reddit.com/r/learnSQL/comments/oiwhw5/trying_to_benchmark_skillset_any_ideas_where_im_at/
26,Soopermane,1626132821,oj3b0u,0,1,"Hello, I have created a profile:

    CREATE PROFILE PUser 
       LIMIT 
       SESSIONS_PER_USER          3 --3 concurrent sessions
       FAILED_LOGIN_ATTEMPTS      4 -- 4 failed login attempts allowed
       PASSWORD_LIFE_TIME	      120 --password expires after 120 days
       PASSWORD_LOCK_TIME	      1 --lockout of 1 hour when 4 attempts are reached
       PASSWORD_VERIFY_FUNCTION	ora12c_verify_function
    ;
    

than i created a user

    --creating first user
    CREATE USER U1Me
    IDENTIFIED BY ""larrythecat@123!""   
    DEFAULT TABLESPACE Users QUOTA 50M on Users 
    TEMPORARY TABLESPACE temp 
    PROFILE PUser 
    PASSWORD EXPIRE;
    

now i need to create a role and assign it to a user 

    --creating roles
    CREATE ROLE connection_db
    IDENTIFIED BY ""Kittythebo$$!"";
    grant create TABLE to  profile PUser;
    grant create session to  profile PUser; 
    grant connection_db to user U1Me;
    

But i'm getting a bunch of errors at the create role part. Any idea on what I'm doing wrong?",learnSQL,Oracle create role,1.0,https://www.reddit.com/r/learnSQL/comments/oj3b0u/oracle_create_role/
27,DeputyDak,1626133329,oj3ggc,3,1,"Using MySQL. I have a query that generates 2 columns. The query uses an aggregation function and a group by function to group data from a table. 

    (SELECT ManufacturerID, COUNT(CarID) FROM Store GROUP BY ManufacturerID)

Now I have another table containing the ManufacturerID and manufacturer Name. What I want to do is very simple. I just want to take this "" table "" that I've made and add the manufacturer name (From the manufacturer table) next to the ID. 

How do I do this? 

I've tried: 

    Select regionName,
    (SELECT RegionID, COUNT(StoreID) FROM Store GROUP BY RegionID)
    FROM region;

But it gives me an error saying "" Operand should contain 1 column "".",learnSQL,How To Add Columns To A Subquery?,1.0,https://www.reddit.com/r/learnSQL/comments/oj3ggc/how_to_add_columns_to_a_subquery/
28,GoodMatter1,1626197584,ojkj8k,12,1,"Hi everyone wonder if anyone could help with the question below:

Provide a leadership of user with correct answers who have commented on at least 10 unique posts and whose account is older than 6 months.

This is the database where you can test ur sql but I can’t seem to get it. I know you have to use a sub-query.  

https://data.stackexchange.com/stackoverflow/query/new

Any help would be great! Feel free to DM me or comment on here",learnSQL,Help with tough query,1.0,https://www.reddit.com/r/learnSQL/comments/ojkj8k/help_with_tough_query/
29,Hannahmaebe,1626204412,ojmxcp,4,1,Hello! I’m fairly new to sql. I need to run a query where I return random invoice numbers. I need one per store and also job type. Unsure how to approach this.,learnSQL,Query to find random records,1.0,https://www.reddit.com/r/learnSQL/comments/ojmxcp/query_to_find_random_records/
30,thumbsdrivesmecrazy,1626233817,ojvzif,0,1,"bipp’s in-built query editor helps you develop large, complex data models. It lets you write, execute and test queries before making them a part of the model.

It supports querying multiple types of databases from a single tool, and lets you save those queries and collaborate using GIT, here are the key features explained: [Powerful, Modern, Collaborative SQL Editor | Debugging Multiple Databases - bipp Analytics](https://bipp.io/features/sql-editor)

* Git Intergration
* One Click Queries
* Code Completion
* Query History
* Debugging Multiple Databases",learnSQL,Collaborative SQL Editor Integrated With Git - bipp Analytics,1.0,https://www.reddit.com/r/learnSQL/comments/ojvzif/collaborative_sql_editor_integrated_with_git_bipp/
31,FairlyOddParent734,1626244979,ojyovw,3,1,"I'm working on surface level analysis on an NBA player's FT% under different circumstances. I'm having issues getting the proper response from the Case function when I use HAVING to filter by certain aggregates being met.

Example Query:

SELECT COUNT (\*) as ""Number of Games"",

	CASE

WHen ftp &gt; .968077144 then ""Signifigantly Above League Average""

WHEN ftp &gt; .884497663 then ""Firmly Above League Average""

WHEN ftp &gt; .800918182 then ""Slighty Above League Average""

WHEN ftp &gt; .717338701 then ""Slightly Below League Average""

WHen ftp &gt; .63375922 then ""Firmly Below League Average""

when ftp &gt; .565 then ""Signifigantly Below League Average""

Else ""Hack A Simmons""

End AS ""Free Throw Percentage""

from BStats

Where GS = 1

GROUP BY ""Free Throw Percentage""

HAVING points &gt;= avg(points);

The reply should include all 7 results, but instead only replies, when even if there are no games that meet the aggregate for the other results, it should list out a 0. 

&amp;#x200B;

|Number of Games|Free Throw Percentage Description|
|:-|:-|
|32|Slightly Below League Average|
|10|Slightly Above League Average|",learnSQL,Having Issues with HAVING; SQLite,1.0,https://www.reddit.com/r/learnSQL/comments/ojyovw/having_issues_with_having_sqlite/
32,Deepak__Deepu,1626255768,ok0y10,1,1, ,learnSQL,Need Help: Sum between two dates and get the label,1.0,/r/SQL/comments/ok0vr8/need_help_sum_between_two_dates_and_get_the_label/
33,noxlv,1626264357,ok2yml,9,1,"1.When you use UNION ALL for a few tables, does order matter? Will you still get the same logic and value? What about performance wise?

2. When you list a bunch of ON from JOIN condition, does order affect the performance? 

3.What about in where condition? (Say you have around 20 conditions with equals, like, and not like)",learnSQL,Increase performance,1.0,https://www.reddit.com/r/learnSQL/comments/ok2yml/increase_performance/
34,GoodMatter1,1626279746,ok7u29,5,1, ,learnSQL,"Need help! Hi everyone, You all were so helpful last time so I’d thought I’d give it ago again. I had my exam and there was one problem I had no idea how to solve. Could someone walk me through it? My professor is a little scary so I thought I’d try here before with her. I was so lost….",1.0,https://i.redd.it/heawvwi4f7b71.jpg
35,hazeldev,1626299738,okensh,0,1,"Hi, I'm trying to bulk create records for `recording__country` as well as `recording`. My problem is when inserting into the country table, the subqueries contain multiple records so i get `more than one row returned by a subquery used as an expression`.

How can I modify the query so N records for both tables are inserted?

    WITH cte_insert_rec AS (
        INSERT INTO recording (asset_id, isrc, track_title)
            SELECT UNNEST('{212592853858267648, 212592853858268160}'::BIGINT[]),
                UNNEST('{GB-CMU-94-96975, GH-LEI-76-96957}'::TEXT[]),
                UNNEST('{Porro qui voluptatem amet pariatur, Et occaecati eos et sapiente.}'::TEXT[]),
            RETURNING
                id
    ),
    cte_countries AS (
        SELECT * FROM UNNEST('{RE, SX}'::TEXT[]) AS country
    )
    INSERT INTO recording__country (recording_id, country, ownership_share)
    VALUES ((SELECT id FROM cte_insert_rec), (SELECT country FROM cte_countries), 1);",learnSQL,How to bulk insert using multiple IDs from a CTE (postgres),1.0,https://www.reddit.com/r/learnSQL/comments/okensh/how_to_bulk_insert_using_multiple_ids_from_a_cte/
36,climbing-rocks,1626342847,okpnow,0,1,"New to functions in SQL but I'm lost why isnt this working   


    CREATE OR REPLACE FUNCTION science.select_test(table_name_input text)
    	returns BOOLEAN
    	 LANGUAGE 'plpgsql'
        COST 100
        VOLATILE PARALLEL UNSAFE
    AS $BODY$
    BEGIN
    RAISE NOTICE 'Table name called %', table_name_input;
    select * from table_name_input limit 10 ;
    
    END;
    $BODY$;
    
    Select science.select_test(science.my_table)

This returns   
 NOTICE:  Table name called science.hcm\_dependents\_log    
ERROR:  relation ""table\_name\_input"" does not exist LINE 1: select \* from table\_name\_input limit 10   


  
So I know that it can see my input table name thus the print. Why cant it insert it into the select statement?",learnSQL,Functions - What am I doing wrong?,1.0,https://www.reddit.com/r/learnSQL/comments/okpnow/functions_what_am_i_doing_wrong/
37,SilverCyclist,1626374104,okyy6e,4,1,"Has anyone else taken this course, and do you think it's as painful as I do?

I've taken probably 6 courses through Coursera and my experience has been by-and-large positive. But this course is god awful and I can't tell if it's me or the subject matter. Generally speaking it:

* Covers topics in passing and expects you to internalize that topic
* Provides no slides to review which, given the first bullet, is almost required
* The instructor (at least this first one) is evidently reading from cards and she's not a great reader. Frequently tripping over words, or finishing a sentence only to realize there are three more words. 
* There's a ton of mini-quizes which is fine, but it also has a ""check all the right answers"" which is both wildly pedantic and in many instances neither provable or educational

I'm muscling through this course because the advice I was given on r/learnpython was that SQL is going to be required for the career path I want, but I'm struggling with this course, and I'm hoping to hear from others who've taken it. 

What was your experience? And does it get better?",learnSQL,"Coursera's ""SQL for Data Science"" questions",1.0,https://www.reddit.com/r/learnSQL/comments/okyy6e/courseras_sql_for_data_science_questions/
38,realtrevorfaux,1626379066,ol0lnz,0,1,"I put this together based on some really common customer/account analyses for SaaS businesses. My goal wasn't really to teach SQL so much as to teach how to apply SQL in the ""real world."" 

It starts with some simple string manipulation and gets into case expressions and window functions. I'm wondering if you find this useful or if you think that it's missing something or if it's just plain useless. What do you think?

[https://www.getcensus.com/cheatsheets/email-segmentation](https://www.getcensus.com/cheatsheets/email-segmentation)

It uses Fivetran data and Snowflake syntax but is applicable to any DB/DW with a table of email contacts.",learnSQL,Free cheat sheet for email segmentation in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ol0lnz/free_cheat_sheet_for_email_segmentation_in_sql/
39,UrMomsLoofah,1626445760,olhyhw,2,1,I’m an intern and pretty new to SQL. I was wondering if it was possible to retrieve all columns that have been updated in a database after making changes on the front end?,learnSQL,Is it possible to retrieve all columns that have been affected from front-end actions?,1.0,https://www.reddit.com/r/learnSQL/comments/olhyhw/is_it_possible_to_retrieve_all_columns_that_have/
40,thriveee,1626455434,oll8ts,2,1, ,learnSQL,Error Importing to sql server 2017,1.0,https://i.redd.it/ccvxwrzixlb71.jpg
41,deguza,1626457550,ollz5k,11,1,"Hello all,

Happy Friday!

I have a field called **client\_name** in the following format: LastName,FirstName.

I am currently splitting this with the following code:  


`,LEFT(c.client_name,CHARINDEX(',', c.client_name)-1) Last_Name` 

`,RIGHT(c.client_name, LEN(c.client_name)-CHARINDEX(',', c.client_name)) First_Name`

&amp;#x200B;

I found a function called SPLIT\_STRING, but it puts the components of the strings split into different rows.

Is there anything else I can use that would be more succinct?

Thanks",learnSQL,How to separate last name and first name written together,1.0,https://www.reddit.com/r/learnSQL/comments/ollz5k/how_to_separate_last_name_and_first_name_written/
42,Mathdataacademy,1626469134,olpwnp,0,1, ,learnSQL,Substring Statement Using Big Query in 4 minutes,1.0,https://youtu.be/0Bq49Sjnkv0
43,j-polo,1626469740,olq3ra,0,1,[removed],learnSQL,"Please assist - MySQL database keeps timing out (""has gone away"")",1.0,https://www.reddit.com/r/learnSQL/comments/olq3ra/please_assist_mysql_database_keeps_timing_out_has/
44,jsaltee,1626482041,olttaa,1,1,"i need help with something i'm working on involving regular expressions. i want to have a word 'apple' and a word 'red' separated by zero to three arbitrary words. for example, 'the apple appears to be red.' or 'apple is red.' how would i do this? thanks.",learnSQL,New to regular expressions,1.0,https://www.reddit.com/r/learnSQL/comments/olttaa/new_to_regular_expressions/
45,Mathdataacademy,1626507039,olzq08,0,1, ,learnSQL,Coalesce Statement | Math &amp; Data Academy | Easiest way to learn SQL (re...,1.0,https://youtube.com/watch?v=AWK3UHIJI6Y&amp;feature=share
46,oceandrv,1626508032,olzwu2,2,1,"Hi all,

I am learning SQL and recently finished a course which has given me the confidence to write queries and do joins etc.

However, what I would like to understand is E-R diagrams- how to read them and also when to use 2 primary keys to join a table? When to use foreign keys to join a table? 

For example, at work I have got this quite complex E-R diagram. I am just looking at two entities (which are tables) and both these entities have 2 primary keys which are the same in both the tables. How do I know if I should be joining the tables by using both primary keys? Or even better if I can figure out what would have happened if I tried joining the tables using only one of the primary keys.

Any advice regarding how I can strengthen this knowledge is much appreciated.

Thank you.",learnSQL,Understanding E-R diagrams and when to use multiple keys to join two tables.,1.0,https://www.reddit.com/r/learnSQL/comments/olzwu2/understanding_er_diagrams_and_when_to_use/
47,apriltaurus,1626538525,om79c8,3,1,"I have a database where I'm trying to write queries establishing relations between the different people in the table. It looks somewhat similar to this:

&amp;#x200B;

|id|name|parent|
|:-|:-|:-|
|1|lorem|2|
|2|ipsum|NULL|
|3|dolor|1|

I've figured out how to return rows based on the index of the parent/child, but it's when I try to go into more complex queries (extended family) or return a column of names rather than indexes that I have trouble.

For instance, I could write `select * from family where parent in (select id from family where parent = 2)` to get the grandchild of 2, which is 3. However, if I want to return a column with the name of the parent (dolor) rather than the index (3), that's where I get stumped. I tried to add a case function where it returns a column ""child\_of"", but for grandparents with multiple children it returns the same parent for all of the grandchildren. How would I narrow down the results?

I realize this may be easier with a relational database, but I at least wanted to challenge myself to work with one table.",learnSQL,Querying the value of one column based on the value of another,1.0,https://www.reddit.com/r/learnSQL/comments/om79c8/querying_the_value_of_one_column_based_on_the/
48,Mathdataacademy,1626541470,om87eb,0,1, ,learnSQL,Having Statement | Math &amp; Data Academy | Easiest way to learn SQL (real...,1.0,https://youtube.com/watch?v=gWQNNKzQa3w&amp;feature=share
49,snip3r77,1626587324,omko8j,4,1,"not sure if this is the place to ask.

assuming connections are ok.

will this have issue with null values if any. I've encountered many times that the null value will be painful. May I know if you have any suggestions or the usual practise to overcome this.

I know we can import over to the database BUT I need to automate via python in the future. Thanks

&amp;#x200B;

     # open the dataset csv file, skip the first row (header), and insert
# each line as a record into the covid_data table
with open(""data/nyccovid_{}.csv"".format(date.today().strftime(""%Y%m%d""))) as f:
    next(f)
    for row in f:
        cursor.execute(""""""
                INSERT INTO covid_data
                VALUES ('{}', '{}', '{}', '{}')
            """""".format(row.split("","")[0], row.split("","")[1], row.split("","")[2], row.split("","")[3])
)dbconnect.commit()
cursor.close()
dbconnect.close()",learnSQL,sure way to ingest from csv( null values) to sql using python,1.0,https://www.reddit.com/r/learnSQL/comments/omko8j/sure_way_to_ingest_from_csv_null_values_to_sql/
50,realtrevorfaux,1626634529,omwtnm,0,1,"Recently I was challenged to create a tutorial designed to help people get from 0 to 1 or ([from spreadsheets to SQL](https://trevorfox.com/2021/07/from-spreadsheets-to-sql/)) towards ""real world"" analysis. The goal is to get people from online SQL classes to running actual analyses in SQL.

To make it as simple as possible, I chose the combination of Postgres.app, Postico, and a simple CSV-to-table workflow. The whole tutorial, from start to finish should take about 30 minutes. Then you'll have a simple stack for analysis in SQL. Hopefully, you find it useful!

[https://trevorfox.com/2021/07/from-spreadsheets-to-sql/](https://trevorfox.com/2021/07/from-spreadsheets-to-sql/)",learnSQL,Tutorial: How to get from Spreadsheets to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/omwtnm/tutorial_how_to_get_from_spreadsheets_to_sql/
51,proddestroyer,1626639745,omyj9y,0,1, ,learnSQL,Need help on SQL assignment just (2 questions) for a noobie Plz help,1.0,/r/SQL/comments/omydt3/need_help_on_sql_assignment_just_2_questions_for/
52,cally0611,1626671361,on7dv4,0,1,"Hi,

I have sql query that results in this table.

    select d.PlanDate, d.ProcessUnitID, d. xProfID, (d.DActualcumtotal - d.DTargetcumtotal) as Result, x.xProfileID, x.JobOrderName,x.WorkNumber, p.ProcessUnitName, i.TotalAvailable, i.InvxID, i.InvProcType, c.CoDate,c.CoTotalAmount,c.CoxProfID from FullTable d
    LEFT JOIN xProfile x
    ON d.xProfID = x.xProfileID
    LEFT JOIN ProcessUnit p
    ON d.ProcessUnitID = p.ProcessUnitID
    LEFT JOIN Inventory i
    ON d.xProfID = i.InvxID and d.ProcessUnitID=i.InvProcUnit and d.PlanDate = i.InvDate
    LEFT JOIN Counting c
    ON d.xProfID = c.CoxProfID and d.PlanDate = c.CoDate
    where d.PlanDate = '2021-07-09' 
    order by d.xProfID

&amp;#x200B;

[Result Table](https://preview.redd.it/be6c2f7zq3c71.png?width=2338&amp;format=png&amp;auto=webp&amp;s=d53be42ef06f3ae19991dc7a7eb65d84ad58ae1f)

However, I want the 3 right most column to appear as rows below, the CoDate would match PlanDate, CoTotalAmount = TotalAvail and CoProfID = ProfID.

These 3 columns comes from another table called Counting,

I understand that I have to do pivot, but I am at lost on how to achieve it here with all these left joins in this result table. Please assist.",learnSQL,Need to merge a pivot result table ( column converted to rows ) with a result table with left joins,1.0,https://www.reddit.com/r/learnSQL/comments/on7dv4/need_to_merge_a_pivot_result_table_column/
53,thriveee,1626694972,oncdm7,4,1,"I am trying to get the most recent expiration  date for a given productID. I am working on a project where a productID has multiple expiration dates and I want to summarize each productID by the most recent expiration date ( note: some expiration dates are in the future, max(date) won’t work.",learnSQL,Most recent expiration date for a ProductID,1.0,https://www.reddit.com/r/learnSQL/comments/oncdm7/most_recent_expiration_date_for_a_productid/
54,radiosnooze,1626723238,onle2p,4,1,"Hi,   
I have two tables what look like this:  


table 1.   


|id|title|
|:-|:-|
|1|Blue|
|2|Green|
|3|Yellow|
|4|Red|
|5|Black|

Table 2.

&amp;#x200B;

|tag\_id|date\_added|date\_revised|
|:-|:-|:-|
|1|05/07/2020|08/09/2021|
|2|05/07/2020|08/09/2021|
|1|05/07/2020|08/09/2021|
|4|07/07/2020|08/09/2021|
|3|07/07/2020|08/09/2021|
|3|07/07/2020|08/09/2021|

  
id from table 1 and tag\_id from table 2 are the primary/foreign keys. 

I want to write the query which will produce the following pivot table (for bubble chart visualization) but got stuck:

&amp;#x200B;

&amp;#x200B;

|date\_added|Blue|Green|Yellow|Red|Black|
|:-|:-|:-|:-|:-|:-|
|05/07/2020|2|1||||
|07/07/2020|||3|1||

There are more far more entries in table 2 , I'm just showing few rows to understand how it's organized.   
Any help would be great!

Thanks",learnSQL,Joining and pivoting 2 tables,1.0,https://www.reddit.com/r/learnSQL/comments/onle2p/joining_and_pivoting_2_tables/
55,Dank_Suicide,1626727935,onmyx5,0,1, ,learnSQL,"I have a database, how do I decrypt these passwords? Is it possible to do it on Android?",1.0,https://i.redd.it/atcwgvjtf8c71.jpg
56,IHateTheSATs,1626751762,ontz0f,5,1,"so im looking at some of these tables, and there are ID's that im trying to left join. But how am i supposed to know which ID im supposed to join  on ?",learnSQL,how do i know which ID im supposed to join on ?,1.0,https://www.reddit.com/r/learnSQL/comments/ontz0f/how_do_i_know_which_id_im_supposed_to_join_on/
57,kaosenn,1626816470,oobjrx,1,1,"Hey guys, I hope this is the right subreddit to ask. I'm looking to 'unpivot' a table, though I'm not sure what the best way of going about it, is. I've listed a sample of what I'm looking at:

&amp;#x200B;

|Column\_A|Column\_B|Column\_C|Column\_D|
|:-|:-|:-|:-|
|000|A;B;C;D|01;02;03;04|X;Y;D;E|
|001|A;B|05;06|S;T|
|002|C|07|S|

&amp;#x200B;

From that, I'm looking for a way to unpivot it, but also to keep the relations it's currently in. As in, the first value in Column\_B, C, and D are tied together:

&amp;#x200B;

|Column\_A|Column\_B|Column\_C|Column\_D|
|:-|:-|:-|:-|
|000|A|01|X|
|000|B|02|Y|
|000|C|03|D|
|000|D|04|E|
|001|A|05|S|

And so on.

My initial thought is to use a CTE, which I've set up as:

WITH TEST AS(

SELECT DISTINCT Column\_A, Column\_B, Column\_C, Column\_D, VALUE AS Column\_D

from \[TABLE\] 

CROSS APPLY STRING\_SPLIT(Column\_D, ';'))

SELECT \* FROM TEST

&amp;#x200B;

Though that doesn't seem to produce the correct results, especially after stacking the CTEs and string splits. 

&amp;#x200B;

Any help would be appreciated!",learnSQL,Unpivoting a table,1.0,https://www.reddit.com/r/learnSQL/comments/oobjrx/unpivoting_a_table/
58,spursbob,1626820458,ooctii,4,1,"How do I return exclude duplicate warrant_serial values from the results. DISTINCT doesn't work as other columns have different values and GROUP BY fails with Column 'address.Country' is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause/

    SELECT DISTINCT sc.account_name,
                    dc.country,
                    bc.account_manager,
                    bc.service_manager,
                    sc.contract_number,
                    c.item_number,
                    c.warrant_serial,
                    sc.expiration_date,
                    ac.warranty_starts,
                    item_description,
                    ct.contract_type_name,
                    sc.sold_date
    FROM   contract_warranty_items c
           INNER JOIN service_contracts sc
                      INNER JOIN account bc
                                 INNER JOIN address dc
                                         ON dc.acc_number = bc.acc_number
                              ON sc.acc_number = bc.acc_number
                   ON c.contract_number = sc.contract_number
           INNER JOIN sys.dbo.item it
                   ON c.item_number = it.item_number
           INNER JOIN sys.dbo.contract_type ct
                   ON sc.contract_type = contract_type_id
           INNER JOIN acctitem ac
                   ON c.item_owned_id = ac.item_owned_record_id
    WHERE  SC.expiration_date &gt; 20210701",learnSQL,How to exclude rows with duplicate values in a single column?,1.0,https://www.reddit.com/r/learnSQL/comments/ooctii/how_to_exclude_rows_with_duplicate_values_in_a/
59,mfizzled,1626861234,oomp5g,4,1, ,learnSQL,"Making a recipe database, how do I actually input the recipe methods and link them with their respective recipeID?",1.0,https://imgur.com/n7Bx0za
60,kaosenn,1626878519,oor9ix,0,1,"Hey guys, I hope this is the right subreddit to ask. I'm looking to 'unpivot' a table, though I'm not sure what the best way of going about it, is. I've listed a sample of what I'm looking at:

&amp;#x200B;

|Column\_A|Column\_B|Column\_C|Column\_D|
|:-|:-|:-|:-|
|000|A;B;C;D|01;02;03;04|X;Y;D;E|
|001|A;B|05;06|S;T|
|002|C|07|S|

&amp;#x200B;

From that, I'm looking for a way to unpivot it, but also to keep the relations it's currently in. As in, the first value in Column\_B, C, and D are tied together:

&amp;#x200B;

|Column\_A|Column\_B|Column\_C|Column\_D|
|:-|:-|:-|:-|
|000|A|01|X|
|000|B|02|Y|
|000|C|03|D|
|000|D|04|E|
|001|A|05|S|

And so on.

My initial thought is to use a CTE, which I've set up as:

WITH TEST AS(

SELECT DISTINCT Column\_A, Column\_B, Column\_C, VALUE AS Column\_D

from \[TABLE\]

CROSS APPLY STRING\_SPLIT(Column\_D, ';'))

SELECT \* FROM TEST

&amp;#x200B;

Though that doesn't seem to produce the correct results, especially after stacking the CTEs and string splits.

&amp;#x200B;

Any help would be appreciated!",learnSQL,Unpivoting a table in T-SQL,1.0,https://www.reddit.com/r/learnSQL/comments/oor9ix/unpivoting_a_table_in_tsql/
61,mfizzled,1626881806,oosdm0,0,1,"For example on a recipe database, how would I link recipe_name (the name of the dish) with method_description (how to cook said dish)?

I have tried an inner join 

    SELECT recipes.recipe_ID, method.method_ID
    FROM recipes
    INNER JOIN method ON recipes.recipe_ID=method.recipe_ID	

but it didn't work unfortunately. Or if it did, I'm unsure of how to actually view the result.",learnSQL,"How do you actually link individual, corresponding sets of data in SQL?",1.0,https://www.reddit.com/r/learnSQL/comments/oosdm0/how_do_you_actually_link_individual_corresponding/
62,Mandala16180,1626882626,oosnj8,2,1,"Hi,

I need your help to form a SQL query which will provide the following output :

`Name  Subject stream`

`S1 x IT`

`S1 y IT`

`S1 z IT`

`S2 A ECE`

`S2 B ECE`

`S2 C ECE`

Desired output:

`S1, x y z , IT`

`S2 ,A B C, ECE`

`CREATE TABLE Students`

`(`

	`Name VARCHAR (10),`

`Subject VARCHAR (10),`

	`Stream VARCHAR (10)`

`);`

&amp;#x200B;

`INSERT INTO Students (Name, Subject, Stream) VALUES ('S1', 'x', 'IT' );`

`INSERT INTO Students (Name, Subject, Stream) VALUES ('S1', 'y', 'IT' );`

`INSERT INTO Students (Name, Subject, Stream) VALUES ('S1', 'z', 'IT' );`

`INSERT INTO Students (Name, Subject, Stream) VALUES ('S2', 'a', 'ECE'  );`

`INSERT INTO Students (Name, Subject, Stream) VALUES ('S2', 'b', 'ECE');`

`INSERT INTO Students (Name, Subject, Stream) VALUES ('S2', 'c', 'ECE');`

&amp;#x200B;

Thanks in advance!",learnSQL,Need Help for SQL Query Formation: Concatenating Unique Values of a Particular Column into a Single Field,1.0,https://www.reddit.com/r/learnSQL/comments/oosnj8/need_help_for_sql_query_formation_concatenating/
63,DGKSK8LIFE,1626897265,ooxmh5,0,1, ,learnSQL,How I solved MySQL to Redis caching with Go,1.0,https://dev.to/tarekali/how-i-solved-mysql-to-redis-caching-with-go-3lf7
64,rushimanche,1626920582,op4o9h,0,1,[removed],learnSQL,sql query for inserting data and updating when existing column value is present,1.0,https://www.reddit.com/r/learnSQL/comments/op4o9h/sql_query_for_inserting_data_and_updating_when/
65,chanigan,1626921663,op4ysq,1,1,"I have tables where records enter in various info multiple times. Joined with other tables, I'm looking to get a result where I only distinct records and the select fields are not NULL as long as there was a one record that had a value.  
  
For example  
  
CreatedDate            Email                Title  
01/01/2021             abc@net.com    Redditor  
02/01/2021             abc@net.com      
03/01/2021             abc@net.com    SQL  

Result  
03/01/2021             abc@net.com    SQL  

My code currently looks like this:
SELECT DISTINCT
cs.Email AS 'Id',
c.Title,
FROM mytable AS ""cs""
INNER JOIN titletable AS ""c""
ON cs.Email = c.Email
Order By cs.CreatedDate DESC  

However, I am not getting the results as desired.",learnSQL,How to get a distinct record with populated values (IS NOT NULL) from multiple records?,1.0,https://www.reddit.com/r/learnSQL/comments/op4ysq/how_to_get_a_distinct_record_with_populated/
66,W1590M,1626952841,opbtjv,0,1, ,learnSQL,SQL Cookbook featured in the Programming Cookbooks Bundle 2021 by O'Reilly,1.0,https://medium.com/@Humble_Bundle_Affiliate_Blog/programming-cookbooks-bundle-2021-by-oreilly-6e8886cc43f6?56
67,Nicholas_TW,1626969312,opgohg,1,1,"Let's say I'm selecting a column with these values:

    'C', 'A', 'B', 'Total', 'Z', 'X', 'Y'

And I want the Select to pull them in the order,

    'Total', 'A', 'B', 'C', 'X', 'Y', 'Z'

(Basically, in ascending order, but with 'Total' always the top).

Is there a way I can order my select to achieve this?

(I'm using SQL Server)",learnSQL,How to order a list with a specific element at the top?,1.0,https://www.reddit.com/r/learnSQL/comments/opgohg/how_to_order_a_list_with_a_specific_element_at/
68,Mattc478,1627049085,oq32hi,1,1,"How can I get the symbols that have a 3Yr EPS growth above the groups' average?

SELECT March\_2021.Symbol, Avg(march\_2021.eps\_3y\_gr) AS \[Avg\_3Y\_EPS\]

FROM March\_2021

GROUP BY March\_2021.Symbol

Where march\_2021.eps\_3y\_gr &gt; \[Avg\_3Y\_EPS\]",learnSQL,Get symbols above average,1.0,https://www.reddit.com/r/learnSQL/comments/oq32hi/get_symbols_above_average/
69,Jeeya_Singh,1627111091,oql7dd,0,1, ,learnSQL,QA_Manual_Testing and QA_Automation_Testing,1.0,https://i.redd.it/ap9syubu24d71.png
70,Jeeya_Singh,1627111340,oql997,0,1,[removed],learnSQL,Most Demand Course SQL DBA Technologies,1.0,https://www.reddit.com/r/learnSQL/comments/oql997/most_demand_course_sql_dba_technologies/
71,BiteYerBumHard,1627119960,oqmyf8,11,1,"Hi,

For a few years my wife and I have played 3 games of Rummikub every evening.

I have logged the results for the last 300 games (or 100 evenings) using various metrics (who played the first wildcard for example) to get stats as an academic exercise.

Sometimes I might win all three games and other times, she might, though these ""grand slam"" events are rare (see the sample table below). 

I want to find a way to check the records (added sequentially) to check the winner of each group of three to count the number of grand slam wins each. In the illustration below, on the 8th evening (or games 22 to 24), my wife won all three games and the 3rd evening (games 7 to 9) I did. 

I keep the data on a spreadsheet and import into My Sql and now need a query to parse the records in groups of three to see if there was a common winner. Any suggestions or questions?

Just to confirm - this is not to find who won any three consecutive games but who won three games in a single evening. 

&amp;#x200B;

https://preview.redd.it/etvdw47or4d71.png?width=587&amp;format=png&amp;auto=webp&amp;s=dd69f1208d8a2b22fc4f4d7f543ddc3730ce9eba",learnSQL,A method to cluster records in groups of three?,1.0,https://www.reddit.com/r/learnSQL/comments/oqmyf8/a_method_to_cluster_records_in_groups_of_three/
72,PrestigiousZombie531,1627124609,oqnwc6,0,1,[removed],learnSQL,How to maintain the total number of likes and dislikes per post?,1.0,https://www.reddit.com/r/learnSQL/comments/oqnwc6/how_to_maintain_the_total_number_of_likes_and/
73,mvpetri,1627210388,or9gyj,1,1,"Sorry if it is not appropriate to ask here, but I was trying to learn SQL using a small project to guide my learning, and one project I would like to do is to track views of videos for some youtube channels.

What I am thinking:

One table to save the data for each channel. Channel ID, Channel name, link, etc.

And now is the part I don't know the best way to do it: Each channel will have a list of videos. Each entry will be added when the channel uploads a new video and it will be updated if the video is deleted. Also, each video will have increasing views and I want to track that as well. How should I approach this?

One table of channels, and then one table of videos for each channel, and then a third table of views for each video in the table of videos?

Sounds a little bit cumbersome. How would you approach this problem?",learnSQL,How should I design a link tracking and view count tracking database?,1.0,https://www.reddit.com/r/learnSQL/comments/or9gyj/how_should_i_design_a_link_tracking_and_view/
74,Sergeei13,1627276206,orrzz5,1,1,"I've had a take-home assignment from one of my interviews where (among everything else) I needed to design a decent DB (they wanted relational) and queries for it. Could you please take a look and tell if this is super bad or actually ok for this use-case. I would really appreciate any reasonable feedback on how to improve. Thank you.  


&gt;!Just a side note: I'm mostly a front-end dev shifting to back-end only, and when it comes to SQL I feel I got so rusty on it that I could understand relational data and write queries better in the uni than I do them now as a sorta experienced dev, sooo please be understanding!&lt;  


To the requirements.  
I need to build some kind of organizations catalogue with three entities:  
**Building**  
\- Stores line address (all in one varchar, doesn't matter now);  
\- And its location (lat/lon);  
**Organization**  
\- has a name;  
\- has 1 or more phone numbers (phone numbers are unique across all orgs);  
\- has 1 or more categories it belongs to;  
**Org Category**   
This should be a hierarchical structure with no limit on depths. E.g. ""Food"" -&gt; ""Restaurants"" -&gt; ""Asian"",  ""Food"" -&gt; ""Restaurants"" -&gt; ""European"",  ""Food"" -&gt; ""Drive-throughs"", etc, I think you get the point.  
\- Has only one field: unique name;  


And here are the queries I need to run on this DB from the server:  
\- List organizations in given building;  
\- List organizations in given category;  
\- Get organization data by id;  
\- Add new building together with orgs in it;  


Here's the init migration script I wrote: [https://gist.github.com/TofuOverdose/d5f320d52bc6c6d9dfc9294f329947db](https://gist.github.com/TofuOverdose/d5f320d52bc6c6d9dfc9294f329947db)

As for the queries, this is where things get really bad for me. Adding new building is fine: I don't think there's any other way than just running a transaction (insert building then orgs, rollback if constraints don't work). However, I cannot come up with good queries for fetching all the data, with the structure so heavily normalized.  
Let's see how  ""Get organization data by id"" would work for example. Response from my server should look like this:  


    {
        ""id"": 123,
        ""name"": ""Test company 1"",
        ""phoneNumbers"": [""10000000001"", ""10000000002"", ""10000000003""],
        ""categories"": [
            { ""id"": 111, ""name"": ""category 1"" },
            { ""id"": 222, ""name"": ""category 2"" },
            { ""id"": 333, ""name"": ""category 3"" }
        ]
    } 

Which means I need to also `JOIN` simple `WHERE` set for `organizations` table with  
1. `orgs_categories` table to get categories mapping;  
2. `categories` to get actual data from the mapping;  
3. `orgs_phone_numbers` to list phone numbers (thanks god the ids are all I need);  
With joins I obviously get a lot of repetitive data, so what I do is just loop through rows on my server after calling the db and aggregate unique data (for phone numbers and categories) to get nice arrays as in json above.  
And this was just a simple query for single organization. You can probably imagine how it looks for a list of organizations, given that I need to respond with the same structure as for a single one. Or if the requirements change and I need to show the entire category structure (levels below the selected one). This is also very inefficient for the server (mostly memory-wise because of temporary arrays and lookup tables).   
I feel like this is a very generic issue with a generic solution, but since I'm not experienced (and even during that short experience use-cases were simple and we just used all kinds of ORMs to deal with databases), I can't come up with a decent solution and I feel so dumb.  
How can this be solved in the database? Is it so hard because its design is bad? Or is it usually the server's concern to later sort the results and should look into solutions for my specific language?

&amp;#x200B;

Btw, if you're here, thanks for going through it all, I love you ❤️",learnSQL,Need help with my database design and queries [PostgreSQL],1.0,https://www.reddit.com/r/learnSQL/comments/orrzz5/need_help_with_my_database_design_and_queries/
75,Bloodwolv,1627279786,orst4w,11,1,"Hi everyone,

Apologies if this doesnt belowing here.

im attempting pull data into excel and have written the below query

    SELECT a.item, a.trx_date, a.trx_type, a.order_no, a.status, a.order_date, a.trx_ref, a.loc1, a.loc2, a.des, a.qty, a.unit, a.invoice_no, a.grn, a.grade, a.reason, a.size, a.trx_time, a.process, c.stock_type
    FROM app.stktrn AS a
    INNER JOIN (SELECT DISTINCT order_no FROM app.stktrn WHERE grn = ?) AS b ON a.order_no=b.order_no
    LEFT JOIN app.stkmas AS c ON a.item=c.item
    WHERE c.grn_item=1

The query works if manually set the WHERE clause in the subquery to value i want, but that obviously cant work for me long term.

Why wont it allow me to set it is a parameter i can change upon refreshing the spreadsheet?

How do i get around this?",learnSQL,"Passing a parameter to a subquery (SQL Sever, Excel)",1.0,https://www.reddit.com/r/learnSQL/comments/orst4w/passing_a_parameter_to_a_subquery_sql_sever_excel/
76,Soopermane,1627351942,osdryk,0,1,"I have some sample code from an assignment, that i'd like to scan for vulnerabilities that exist because the code doesn't follow proper SQL guidelines. 

Here is the code that i want to scan. 

    $conn = getDB();
    $sql = ""SELECT id, firstname, lastname, salary, birth, ssn,
    phonenumber, address, email, nickname, Password
    FROM data
    WHERE id= '$input_id' and password='$input_pwd'"";
    $result = $conn-&gt;query($sql))",learnSQL,How to check SQL code for vulnerability.,1.0,https://www.reddit.com/r/learnSQL/comments/osdryk/how_to_check_sql_code_for_vulnerability/
77,jrz1977,1627352473,osdwzk,3,1,"Best way to learn anything is through practice and SQL is no different. I am continuing work on an online tool to learn and practice SQL. Idea is similar to stackblitz or jsfiddle, but for SQL. I know there are tools like sqlfiddle and others around. They are great resources, but there is always space for one more, with newer ideas and better UI.

Added new feature to generate DDL from CSV data. Give it a spin and I appreciate any feedback.

[https://sqlbook.io/](https://sqlbook.io/)

[https://sqlbook.io/csv2sql](https://sqlbook.io/csv2sql)",learnSQL,SQL Learning tool,1.0,https://www.reddit.com/r/learnSQL/comments/osdwzk/sql_learning_tool/
78,pythonlover99,1627382410,oskdvd,1,1,"Hi everyone,

I have a database with crypto candlesticks for every minute. However, I'd like to be able to group these candlesticks into 5m, 1h, 1d candlesticks with simple SQL commands.

&amp;#x200B;

I have both a datetime (""yyyy-mm-dd hh:mm:ss"") and unix timestamps. 

How can I summarize my data for every 5 minutes for example using preferably unix timestamps. 

&amp;#x200B;

Thanks!!",learnSQL,Group Crypto Candlestick Data,1.0,https://www.reddit.com/r/learnSQL/comments/oskdvd/group_crypto_candlestick_data/
79,learnfromtheguru,1627390224,osm7g5,2,1, ,learnSQL,Top 6 SQL Server Training &amp; Certification,1.0,https://www.aviationanalysis.net/best-sql-server-certification-path-to-boost-your-it-career-and-salary/
80,Markez04,1627391698,osmltk,6,1,"Goal is to have both Table A and Table B to be greater than or equal to 6 and when they match,

This is what I have:

Case when a.Table\_A &gt;=6 and a.Table\_B &gt;=6 and a.Table\_A=a.Table\_B Then 'Y' else 'N' end as Number Match

Any help would be greatly appreciated!",learnSQL,"Need help with ""Case with multiple conditions""",1.0,https://www.reddit.com/r/learnSQL/comments/osmltk/need_help_with_case_with_multiple_conditions/
81,Moe-t,1627409199,osrz4w,3,1, ,learnSQL,Ok how do I make this particular column have both whole numbers and character?,1.0,https://i.redd.it/r63hqvijpsd71.jpg
82,Wonderful-Exam1683,1627417417,osugdy,3,1,"\^\^title

What additional features does a PRIMARY KEY column have?",learnSQL,What is the difference between declaring a column to be PRIMARY KEY and declaring a column to be UNIQUE?,1.0,https://www.reddit.com/r/learnSQL/comments/osugdy/what_is_the_difference_between_declaring_a_column/
83,BackyardAnarchist,1627428802,osxysx,2,1,"Hi I encountered an error

Status is a varchar(2)

Contains both numbers and strings.

I need all items that are status 5 through 50

Some of the status codes are stings.

When I write my code 

I get 

'Conversion failed when converting the varchar value 'E1' to data type int.'

E1 is a value in the column but there are other two letter strings in there. 

&amp;#x200B;

I thought if I did a sub query which filtered out all non numeric values.

&amp;#x200B;

Where isnumeric(T1.Status)=1

&amp;#x200B;

When run by it's self it makes a table without any strings but when running that as a sub query that then filters 5 to 50 I get the same error

&amp;#x200B;

'Conversion failed when converting the varchar value 'E1' to data type int.'

&amp;#x200B;

Any ideas on how to get status 5 through 50?",learnSQL,Where status &gt; 5 and status &lt; 50,1.0,https://www.reddit.com/r/learnSQL/comments/osxysx/where_status_5_and_status_50/
84,TheInsaneApp,1627475964,ot92c4,0,1, ,learnSQL,"Practical SQL: A Beginner's Guide to Storytelling with Data PDF - Click on Open and then click on Download, Saving you from Chaos",1.0,https://www.lunaticai.com/2020/10/practical-sql-nostarch-pdf.html
86,thriveee,1627483804,otbfz5,6,1, ,learnSQL,How do I format a date 2020-01-26 00:00:00:000 to date only format,1.0,https://www.reddit.com/r/learnSQL/comments/otbfz5/how_do_i_format_a_date_20200126_000000000_to_date/
87,Icy-Fall-996,1627485317,otby7d,5,1, ,learnSQL,After some help pls - amateur hour :(,1.0,https://i.redd.it/0fhsnofvzyd71.jpg
88,town1d10t,1627488220,otcxfl,0,1,"I just found out that my workplace uses 4D as their database structure. I have a bit of knowledge on SQL. How much of that knowledge is transferable to how 4D is set up? 

If I should be asking this in a different subreddit, let me know. The only 4D subreddit I found is no longer active (rightfully so, based on our current struggles with the system).",learnSQL,SQL vs. 4D - how much is transferable?,1.0,https://www.reddit.com/r/learnSQL/comments/otcxfl/sql_vs_4d_how_much_is_transferable/
89,marhaba89,1627488832,otd4wq,3,1,"Hi, I'm using hive through dbeaver.

I have a column called physician and it's an (array&lt;string&gt;) type. I need to basically find all rows that have the word ""admitting"" in this column but i can't figure it out. This is what I tried:

Select physician
From table
Where physician @Array['admitting']::varchar[];

That's a solution I found on Google, but it got the following error: SQL error [42000] error while compiling statement: failed: parse exception line 3:23 cannot recognize input near 'array' '['""admitting"" in expression specification",learnSQL,New to SQL looking for help on querying using a contains statement,1.0,https://www.reddit.com/r/learnSQL/comments/otd4wq/new_to_sql_looking_for_help_on_querying_using_a/
90,thriveee,1627491982,ote7mt,1,1, ,learnSQL,How do you convert a float data type to a character ?,1.0,https://www.reddit.com/r/learnSQL/comments/ote7mt/how_do_you_convert_a_float_data_type_to_a/
91,khaalis,1627497932,otg89j,1,1,"Still relatively new to SQL. So I have a series of SQL Agent jobs with multiple steps. For auditing, I want to be able to run a report that shows each time a job fails (including showing all the steps) as well as the next successful run of the job (including all steps).  Where would I start?",learnSQL,Seeking Starting Point Suggestions for a Complex Report,1.0,https://www.reddit.com/r/learnSQL/comments/otg89j/seeking_starting_point_suggestions_for_a_complex/
92,pyro-pixel,1627511722,otkroj,0,1,"Is there an SQL and PHP proffesional who can walk me through using the two to store data and display it. Specifically i want a scoreboard, DM me if youre interested and ill provide all the details",learnSQL,I need an SQL and PHP expert or knowledgable and able to help,1.0,https://www.reddit.com/r/learnSQL/comments/otkroj/i_need_an_sql_and_php_expert_or_knowledgable_and/
93,rabirx,1627541748,otsd1a,0,1,"I have an SQL query built by Entity framework that runs weirdly slow (15 to 30 seconds). After half a day investigation, it came to a conclusion, that SQLite magically slows down if I add more than 25 or more parameter to the ORDER BY statement.

From my experiences, the columns doesn't matter, the order of them in the order by neither, it's only the number of them. If I shrink the amonut of order by to 24 or less, the query finishesd in quarter of a second. It doesn't matter how I permutate them, th result is always the same.

Does anyone ever encountered such an issue?",learnSQL,SQLite ORDER BY horredously slow above 24 order by parameter,1.0,https://www.reddit.com/r/learnSQL/comments/otsd1a/sqlite_order_by_horredously_slow_above_24_order/
94,JackMWhit,1627547790,ottjka,0,1,"Hello, I'm constructing a personal database and one thing I'd like to include is a table of passwords linked to accounts. My intention is to turn this database into a Rest API in python that I can use for an application on my phone or any computer.

If I put all of the data behind a hashed master password, would it be safe to store the passwords as plain text since they'd only be returned upon the master password being given? Or are there flaws to this approach too?

I'll be using AWS to host my database.

&amp;#x200B;

Any recommendations welcome :)",learnSQL,Password storing,1.0,https://www.reddit.com/r/learnSQL/comments/ottjka/password_storing/
95,ReadyToLearnCoding,1627555872,otv5da,4,1,"As I am teaching myself how to code, I find that forums are not a great way for me to ask ""ad-hoc"" questions.  I either do not have the time to process the answers or they are too technical for me.  I am wondering if anyone knows of a service that offers live chat.  So for example, I am trying to delete all of the data in my SQL database and am getting an error.  I would love to be able to go to the live chat and have someone walk me through how to solve this versus post in a forum.

Any recommendations would be great,",learnSQL,Live Chat?,1.0,https://www.reddit.com/r/learnSQL/comments/otv5da/live_chat/
96,ReadyToLearnCoding,1627559141,otvw34,1,1,"I have a table that I have created that has a reference to another table.  One of the tables is ""Parents"" and the other table is ""Children"".  One of the parents has two children in the ""Children"" table.  I am looking to have him reference both children, but do not know how to do so.  When I did this I ended up adding the parent twice and having two unique ids. Any suggestions on how to do this properly?",learnSQL,Referencing two data sets from one table to one individual from a different table,1.0,https://www.reddit.com/r/learnSQL/comments/otvw34/referencing_two_data_sets_from_one_table_to_one/
97,BrightDevs,1627562182,otwmuv,1,1, ,learnSQL,SQL Performance - composite indexes,1.0,https://brightinventions.pl/blog/sql-performance-composite-indexes/
98,Neon639,1627570482,otz1fd,0,1,"I'm doing a project for school where im using a python script to read serial from an Arduino then upload it to a database on MySQLdb but i keep getting syntax errors and i don't know where ive gone wrong, im rather new to SQL and i cant seem to find a solution. its been about 2 hours and ive resorted to reddit

Here is the Output:

    pi@raspberrypi:~ $ python test.py
    
    /dev/ttyACM0
    waiting for serial data...
    
    28
    
    hit 1
    collecting data...
    Dry
    
    hit 2
    161%
    
    hit 3
    11
    
    hit 4
    inserting to database...
    
    Traceback (most recent call last):
      File ""test.py"", line 40, in &lt;module&gt;
        cursor.execute(sql)
      File ""/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py"", line 250, in execute
        self.errorhandler(self, exc, value)
      File ""/usr/lib/python2.7/dist-packages/MySQLdb/connections.py"", line 50, in defaulterrorhandler
        raise errorvalue
    _mysql_exceptions.ProgrammingError: (1064, ""You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ' 11\r\n)' at line 4"")

Here is my code:

&gt;from flask\_mysqldb import MySQLdb  
&gt;  
&gt;import serial  
&gt;  
&gt;import time  
&gt;  
&gt;  
&gt;  
&gt;ser = serial.Serial('/dev/ttyACM0', 9600, timeout=120)  
&gt;  
&gt;db = MySQLdb.connect(""localhost"", ""root"", ""password"", ""greenhouse"")  
&gt;  
&gt;\#[ser.open](https://ser.open)()  
&gt;  
&gt;ser.is\_open  
&gt;  
&gt;cursor = db.cursor()  
&gt;  
&gt;print([ser.name](https://ser.name))  
&gt;  
&gt;while 1:  
&gt;  
&gt;print(""waiting for serial data..."")  
&gt;  
&gt;print("""")  
&gt;  
&gt;x = ser.readline()  
&gt;  
&gt;print(x)  
&gt;  
&gt;print(""hit 1"")  
&gt;  
&gt;time.sleep(1)  
&gt;  
&gt;print(""collecting data..."")  
&gt;  
&gt;y = ser.readline()  
&gt;  
&gt;print(y)  
&gt;  
&gt;print(""hit 2"")  
&gt;  
&gt;time.sleep(1)  
&gt;  
&gt;z = ser.readline()  
&gt;  
&gt;print(z)  
&gt;  
&gt;print(""hit 3"")  
&gt;  
&gt;time.sleep(1)  
&gt;  
&gt;a = ser.readline()  
&gt;  
&gt;print(a)  
&gt;  
&gt;print(""hit 4"")  
&gt;  
&gt;time.sleep(1)  
&gt;  
&gt;x = str(x)  
&gt;  
&gt;y = str(y)  
&gt;  
&gt;z = str(z)  
&gt;  
&gt;a = str(a)  
&gt;  
&gt;print(""inserting to database..."")  
&gt;  
&gt;print("""")  
&gt;  
&gt;time.sleep(1)  
&gt;  
&gt;sql = ""INSERT INTO systemdata(Rain, Soil, Humidity, Temperature) VALUES (%s, %s, %s, %s)"" %(x,y,z,a)  
&gt;  
&gt;cursor.execute(sql)  
&gt;  
&gt;db.commit()",learnSQL,Trying to update a table through python and keep getting a syntax error,1.0,https://www.reddit.com/r/learnSQL/comments/otz1fd/trying_to_update_a_table_through_python_and_keep/
99,thriveee,1627572416,otznns,7,1, ,learnSQL,How do I join 2 tables using date as common field . Date is in different format in each table. ( 2020-00-00 and 00/00/20)?,1.0,https://www.reddit.com/r/learnSQL/comments/otznns/how_do_i_join_2_tables_using_date_as_common_field/
0,thriveee,1622650013,nqpbnr,7,1, ,learnSQL,I don’t see where there is incorrect syntax near ‘as’. What’s the error?,1.0,https://i.redd.it/ho7t8y02mv271.jpg
1,EntertainerNarrow346,1622652046,nqq425,9,1,Hi ! Does anyone know a platform where I can upload a csv file and run simple queries on it ? My csv file size is 5 Mb. Thanks !,learnSQL,Online SQL editor,1.0,https://www.reddit.com/r/learnSQL/comments/nqq425/online_sql_editor/
2,marouaneletech,1622662866,nque3f,0,1, ,learnSQL,tuto database sql server / travailler avec la clause select et from,1.0,https://youtube.com/watch?v=fpY4QloBLF4&amp;feature=share
3,Djieffe88,1622663459,nqumjk,0,1,"I'm trying to put together a cookbook for a fellow coworker who is learning SQL. Do you know a website where I could find tons of little patterns like running totals, moving averages, % period over period and such ? 

I could wrote them myself... but ya know ... laziness is the analyst's best tool",learnSQL,"Any good references for T-SQL ""recipes"" that could serve as a reference ?",1.0,https://www.reddit.com/r/learnSQL/comments/nqumjk/any_good_references_for_tsql_recipes_that_could/
5,mtlchk,1622780082,nrwayr,11,1,"I need to select the first year in which a country's population exceeded 50 000 000 inhabitants. The following query 

select year, countryKey, population

from population

where population &gt;= 50000000

order by year asc;

gives me the first year and every year following. 

How can I select the first year that meets the condition for each country?",learnSQL,Need some help with an Oracle SQL query,1.0,https://www.reddit.com/r/learnSQL/comments/nrwayr/need_some_help_with_an_oracle_sql_query/
6,Outs1der_,1622814310,ns5he2,4,1,"I find two solutions that follow the same logic but only one can get the correct answer. I hope somebody can explain the reason.

&amp;#x200B;

The one solution with the correct output is:

    SELECT t1.num, t1.company, t1.name2, t2.num, t2.company
    FROM 
        (SELECT DISTINCT a.num, a.company, stopa.id id1, stopa.name name1,stopb.id id2,     
         stopb.name name2
    
         FROM route a JOIN route b ON (a.company=b.company AND a.num=b.num)
                      JOIN stops stopa ON (a.stop=stopa.id)
                      JOIN stops stopb ON (b.stop=stopb.id)
         WHERE stopa.name= 'Craiglockhart ' AND stopa.name &lt;&gt; stopb.name
        ) AS t1
    
    JOIN 
    
        (SELECT DISTINCT a.num, a.company, stopa.id id1, stopa.name name1,stopb.id id2,    
        stopb.name name2
         FROM route a JOIN route b ON (a.company=b.company AND a.num=b.num)
                      JOIN stops stopa ON (a.stop=stopa.id)
                      JOIN stops stopb ON (b.stop=stopb.id)
         WHERE stopb.name= 'Lochend' AND stopa.name &lt;&gt; stopb.name
        ) AS t2
    
    ON t1.name2 = t2.name1

&amp;#x200B;

The other solution with the error output is:

    SELECT t1.num, t1.company, t1.name2, t2.num, t2.company
    FROM 
        (SELECT DISTINCT a.num, a.company, stopa.id id1, stopa.name name1,stopb.id id2,     
         stopb.name name2
    
         FROM route a JOIN route b ON (a.company=b.company AND a.num=b.num)
                      JOIN stops stopa ON (a.stop=stopa.id)
                      JOIN stops stopb ON (b.stop=stopb.id)
        ) AS t1
    
    JOIN 
    
        (SELECT DISTINCT a.num, a.company, stopa.id id1, stopa.name name1,stopb.id id2,    
            stopb.name name2
         FROM route a JOIN route b ON (a.company=b.company AND a.num=b.num)
                      JOIN stops stopa ON (a.stop=stopa.id)
                      JOIN stops stopb ON (b.stop=stopb.id)
        ) AS t2
    
    ON t1.name2 = t2.name1
    WHERE t1.name1 = 'Craiglockhart' AND t2.name2 = 'Lochend' AND t1.name2 NOT IN ('Craiglockhart', 'Lochend')

&amp;#x200B;

In the second solution, I just move the selective condition outside the INNER JOIN. But the code cannot pass the compiler. Can anyone explain why is that?",learnSQL,Question on SQLZOO: find the routes involving two buses that can go from Craiglockhart to Lochend.,1.0,https://www.reddit.com/r/learnSQL/comments/ns5he2/question_on_sqlzoo_find_the_routes_involving_two/
7,Tgypmo,1622862047,nsm5hv,3,1,"It's saying I have an error in my SQL syntax but according to my class notes, I think this is how I'm meant to do it, am I wrong? I'm trying to make a message about a consistency constraint, using the table MESSAGE.

\&gt;INSERT INTO MESSAGE 

 ( SELECT DISTINCT CONCAT('A driver', S.LNUM, 'schedule', S.SNUM, 'between', S.START\_DATE\_TIME, 'and' , S.RETURN\_DATE\_TIME,' overlapped with schedule' , SS.SNUM, 'between' , SS.START\_DATE\_TIME,'and' SS.RETURN\_DATE\_TIME.)

FROM SCHEDULE AS S JOIN SCHEDULE AS SS ON S.LNUM = SS.LNUM

WHERE SS.START\_DATE\_TIME &gt; S.START.DATE.TIME

AND SS.START\_DATE\_TIME &lt; S.RETURN\_DATE\_TIME);",learnSQL,What's wrong with this query?,1.0,https://www.reddit.com/r/learnSQL/comments/nsm5hv/whats_wrong_with_this_query/
8,FondleMyFirn,1622921880,nt3kfj,6,1,"Hey everyone, 

I am trying to build a postgreSQL database from the [Stack Overflow Developer Survey](https://insights.stackoverflow.com/survey/). The end goal is to develop a dashboard or something in Python that ""speaks"" to this database so that people can visualize some of the data for themselves. 

However, before I am able to enter it as a database, I think that I need to do a `CREATE TABLE` and then fill in a bunch of the information. I suspect this is one way to go about it, and I think I will do it manually just for the experience. But I was also curious if there is maybe a faster way to upload data from a .csv file into the database?",learnSQL,Manual Table Creation OR Is There A Faster Way?,1.0,https://www.reddit.com/r/learnSQL/comments/nt3kfj/manual_table_creation_or_is_there_a_faster_way/
9,mortedella,1622975346,ntisqz,2,1,"Hi everyone,

This is the error message I get: [https://i.imgur.com/LkChijW.png](https://i.imgur.com/LkChijW.png) 

This is the general look of my sql code: [https://i.imgur.com/mAyJDv5.png](https://i.imgur.com/mAyJDv5.png) 

I am using XAMPP and Apache and MYSql are running.

&amp;#x200B;

Thank you",learnSQL,Error That I Get While Trying to Import SQL File to My Database,1.0,https://www.reddit.com/r/learnSQL/comments/ntisqz/error_that_i_get_while_trying_to_import_sql_file/
10,lordtristan_cristian,1622996975,ntpkhh,8,1,"An SQL problem with no primary key?

""
Consider the following relational database. Give an expression in the SQL to express each of the following queries:

employee (employee-name, street, city)

manages (employee-name, manager-name)

company (company-name, city)

works (employee-name, company-name, salary)
""


The professor didn't highlight or underline any of them. Let alone tell us if there is a primary key.",learnSQL,Is this even possible?,1.0,https://www.reddit.com/r/learnSQL/comments/ntpkhh/is_this_even_possible/
11,sumeone23,1623067762,nuauft,1,1,"Hello, I'm currently trying to learn on how to Normalize data and I'm having trouble. The given are EmpID, EmpName, Agency, Hourly rate, Company Code, Company Name, Hours Rendered, and Year-Week. I'm done with the 1NF removing the duplicated data and am now at 2NF. All that I know that belongs in 2NF is the Company\_T(Company Code, Company Name) where the  Primary Key is the Company Code. I feel that the Employee(EmpID,EmpName) belongs to 3NF but don't know why. I'm new to Normalizing data and I need some help completing the 2NF and 3NF and would take the time to explain it to me. It would be really much appreciated thank you very much.",learnSQL,Normalization,1.0,https://www.reddit.com/r/learnSQL/comments/nuauft/normalization/
13,VzOQzdzfkb,1623068574,nub6bc,3,1,"I am migrating from Access (noob level) to SQL (total noob level). I am using MariaDB to learn SQL. The order of rows is important to me, so I will need to put an id column to the table but when I go SELECT * FROM tablename;, it lists the rows from first row added by me to the last added, meaning there has to be some order inside the database file. Is there some way I can use this order to: know which row was added first, which one is second etc. The fourth one added, when the third one gets deleted, would be presented as third.
Can I somehow use this hidden built-in id, or do I have to put and reset the id's manualy?

If MariaDB doesn't have this feature, which SQL implementation does?",learnSQL,"Does SQL have a hidden ""Autonumber"" since it sorts it's rows from first inserted by me to last with SELECT * FROM tablename?",1.0,https://www.reddit.com/r/learnSQL/comments/nub6bc/does_sql_have_a_hidden_autonumber_since_it_sorts/
14,Java_East,1623075245,nudk4u,3,1,"I'm learning SQL right now, but I'm really wondering on how things are being processed in the background.  
Let's say I have an app that have transactions of at least 100 per second, what would happen if a transaction is made on the same account at the same time? can you give me a tldr for this?",learnSQL,Data Processing question,1.0,https://www.reddit.com/r/learnSQL/comments/nudk4u/data_processing_question/
15,Mister-Disaster,1623078596,nueumi,1,1,"I have a sqlite database with rows of planets name and column having the mass, radius and so on.

Is there a way to call the mass of earth in the form as Earth.mass or something similar? 

I have very little knowledge of SQL as I have just started out learning SQL just for this project, so sorry if this is a silly question.",learnSQL,calling values in a database using column name in sqlite,1.0,https://www.reddit.com/r/learnSQL/comments/nueumi/calling_values_in_a_database_using_column_name_in/
16,BobbitoGarcia,1623153406,nv2czb,0,2,"It can be books, videos, paid courses, etc. Recently, I failed a course teaching this and have been wanting to try and learn again.

This is book I previously used: https://redshelf.com/book/1560975/database-systems-1560975-9781943153671-nenad-jukic-susan-vrbsky-svetlozar-nestorov-abhishek-sharma.",learnSQL,What are some recommendations for learning concepts of Database Modeling?,1.0,https://www.reddit.com/r/learnSQL/comments/nv2czb/what_are_some_recommendations_for_learning/
17,i4viator,1623176852,nvau4q,0,1,"I'm learning sql server and I need either a site or videos on yt that can help will all things analytical/windowed funtions. Over clause, row_number, partition by, Rank, etc.


Thanks in advance!",learnSQL,A good site/videos to learn and practice analytical/windowed funtions,1.0,https://www.reddit.com/r/learnSQL/comments/nvau4q/a_good_sitevideos_to_learn_and_practice/
18,Software_Nuggets,1623178198,nvbbno,0,1, ,learnSQL,SQL Server - Introduction to SQL - the SELECT command for Beginners. Lesson One.,1.0,https://youtu.be/gzcGlwsnyN4
19,divertss,1623181259,nvch6g,5,1,"If I need an ide what ide would you recommend? I tried downloading xampp and after many issues and changing ports several times and running through cmd nothing would work. My own computer says I’m not an admin. It’s old.

Anyway, what ides would you recommend or is text document sufficient?",learnSQL,Can I write SQL in text document or do I need an ide?,1.0,https://www.reddit.com/r/learnSQL/comments/nvch6g/can_i_write_sql_in_text_document_or_do_i_need_an/
20,deadpool3727,1623213564,nvnd15,8,1, ,learnSQL,Can anyone please help with these. I have been stuck on these since 5 hrs.,1.0,https://i.redd.it/p2mfcy0s56471.png
21,anacondaonline,1623254634,nvzego,1,1,"This query is taking a long time to execute and give result.

I am trying to remove duplicate rows from my results.

SELECT column1 , column2 , column3,column4 , column5,column6 FROM TableA WHERE NOT EXIST (SELECT 1 from FROM TableB where TableB.columnX= TableA.column1 AND TableB.columnY= TableA.column2 AND TableB.columnZ= TableA.column3 )

Can it be made optimized and faster ?",learnSQL,query optimization,1.0,https://www.reddit.com/r/learnSQL/comments/nvzego/query_optimization/
22,ChayanDas19,1623258447,nw0vk7,2,1,"I'm having this 'foreign key constraint fails' show up while trying to INSERT INTO one of my tables:

https://pastebin.com/GDy8Yus8

Would really appreciate any help.",learnSQL,May I please get some help? 🙂 Absolute beginner in sql,1.0,https://www.reddit.com/r/learnSQL/comments/nw0vk7/may_i_please_get_some_help_absolute_beginner_in/
23,Guilty_House_5034,1623260114,nw1itu,0,1,"Hi All,

Like me, most of us might have started the learning journey through online tutorials. What I've noticed that most of these tutorials covers the basic but missed out on foundation. 

I am on my own journey and thought documenting it will be a good experience for me. I've tried to explain SQL - Logical Query Processing in laymen's term, hope you find it helpful.

[Medium Post](https://yanger-rai.medium.com/the-hidden-jutsu-in-sql-logical-query-processing-cf09baced7c7)",learnSQL,Something most of us missed out on our online learning journey - The Foundation,1.0,https://www.reddit.com/r/learnSQL/comments/nw1itu/something_most_of_us_missed_out_on_our_online/
24,Radveprak,1623262871,nw2l2h,0,1,[removed],learnSQL,New discord coding community,1.0,https://www.reddit.com/r/learnSQL/comments/nw2l2h/new_discord_coding_community/
25,SpikeXena,1623290324,nwc9jn,4,1,"I have experience in insurance but no degree or boot camp to speak of, I was considering trying to teach myself.",learnSQL,If I learn SQL and Excel could I get a job without a degree?,1.0,https://www.reddit.com/r/learnSQL/comments/nwc9jn/if_i_learn_sql_and_excel_could_i_get_a_job/
26,NormieInTheMaking,1623303993,nwg7s7,8,1,"Hey, I've learned all the basic things about SQL as well as subqueries, CTEs and windowing functions and I wanna keep going, I want to be able to write even more complex queries so please recommend me some books!",learnSQL,Need an Advanced SQL book!,1.0,https://www.reddit.com/r/learnSQL/comments/nwg7s7/need_an_advanced_sql_book/
27,stocke023,1623313207,nwiffg,0,1,"Hi! How do I add the scores of each Team ID and get the highest total score?  


https://preview.redd.it/jjfxqrj2ee471.png?width=581&amp;format=png&amp;auto=webp&amp;s=e8fdce2ac6bdf1d76dc6a0fbdda60166193445c4",learnSQL,Need some help about Oracle,1.0,https://www.reddit.com/r/learnSQL/comments/nwiffg/need_some_help_about_oracle/
28,samajavaragamana,1623328404,nwmhsp,1,1,"Hi All, 

I am using Teradata. 

I have a table with two columns: categories and review\_count 

Here's a sample value for the categories column: ""Restaurants;Chinese;Japanese;Sushi Bars""  
Sample value for review\_count: 331

How would I go about splitting the text in categories, please? 

I'm looking for output that looks like this: 

categories            review\_cnt

Restaurants.         331

Chinese.                 331

Japanese.             331

Sushi Bars           331",learnSQL,[Q] Splitting text in a column into separate rows,1.0,https://www.reddit.com/r/learnSQL/comments/nwmhsp/q_splitting_text_in_a_column_into_separate_rows/
29,AlmaLivre,1623336640,nwpic9,6,1," 

Hi Programming Experts. Could you recommend a SQL / Microsoft SQL 2019 book for a beginner .On the Amazon all the books are highly rated and I'm not sure if I trust amazon ratings anymore so I wanted your opinion.

Thanks",learnSQL,SQL Literature,1.0,https://www.reddit.com/r/learnSQL/comments/nwpic9/sql_literature/
30,Nepzd,1623349182,nwuj45,1,1, ,learnSQL,Simple database problems with keys and general questions on how to properly create an ER diagram. Full details in captions,1.0,https://www.reddit.com/gallery/nwuj45
31,radiosnooze,1623394806,nx9nwp,3,1,"Hey guys,

I have a table that looks like this:  


|date|status|cost|
|:-|:-|:-|
|2020-01-10|ok|24.34|
|2020-01-24|ok|28.18|
|2020-02-11|fail|34.78|
|2020-02-19|ok|19.12|

  


I'm just trying to sum by status like:   


  


|status|cost|
|:-|:-|
|ok|71.64|
|fail|34.78|

or  


&amp;#x200B;

|ok|fail|
|:-|:-|
|71.64|34.78|

and got stuck :/",learnSQL,Struggling on seemingly easy problem,1.0,https://www.reddit.com/r/learnSQL/comments/nx9nwp/struggling_on_seemingly_easy_problem/
32,desiva,1623402087,nxbfrb,5,1,"  

hi, I am new to learn SQL

i have a question 

my table like this:

 

**MY TABLE**

  

|City|Population|
|:-|:-|
|A|50|
|B|100|
|C|30|
|D|150|
|E|200|

  
 

I want to list ALL **cities** which population more than City B 

how to do that **without** type "" WHERE population &gt; 100""

&amp;#x200B;

THANKS!",learnSQL,beginner NEED HELP,1.0,https://www.reddit.com/r/learnSQL/comments/nxbfrb/beginner_need_help/
33,simplerminds,1623433621,nxlv4f,2,1,"Hey everyone, I am working on some very basic SQL and I had an efficency question based on my solution and the solution I was given. I want to know, which set of SQL would be quicker to run, Example 1 or Example 2.

Ex.1
    SELECT pat.PAT_NAMES ""Patient Name"",
    mom.PAT_NAMES ""Mother Name""
    FROM PATIENTS pat
    INNER JOIN PATIENTS mom
    ON pat.MOTHERS_PAT_IDS = mom.PAT_IDS

Ex. 2:
SELECT PAT_NAMES
FROM PATIENTS
WHERE MOTHERS_PAT_IDS IS NOT NULL

My thought is that they would take the same amount of time to run, but would one be more efficient?",learnSQL,SQL Efficiency Question,1.0,https://www.reddit.com/r/learnSQL/comments/nxlv4f/sql_efficiency_question/
34,chopsticks_overforks,1623434953,nxmd0z,6,1,"Hey Everyone, if I have a column of dates that is formatted "" 8 Jun 2021"" how am I able to format for day (2021/06/08) and  month (2021/06/01)?",learnSQL,Date Formatting,1.0,https://www.reddit.com/r/learnSQL/comments/nxmd0z/date_formatting/
35,dikshithvishnu,1623438015,nxni1u,6,1,"So, I have a table of search terms and count like this:  


|**terms**|**count**|
|:-|:-|
|abcd|1500|
|ab%20cd|1400|
|cd%20efg|1300|
|cde%20fg|1200|

I need to extract terms that have a minimum substring length of 3 before there's a space(%20) , i.e:

&amp;#x200B;

|**terms**|**count**|
|:-|:-|
|abcd|1500|
|cde%20fg|1200|

How do I go about to extract this data. Any help is appreciated.  
Thanks in advance.",learnSQL,Needed help with substring functions,1.0,https://www.reddit.com/r/learnSQL/comments/nxni1u/needed_help_with_substring_functions/
36,Dalkimi,1623457327,nxu6kt,6,1,"Hello, I am currently taking an SQL class and am stuck with a bit of homework. I can't figure out the answer to this question, and have tried to solve it for around 30 minutes. Due to the program we are using I physically cannot continue my homework assignment until I get this question correct. 

https://preview.redd.it/2tp37w7gaq471.png?width=1011&amp;format=png&amp;auto=webp&amp;s=a1cbd69c0d106bed1ce5686b2d53a52ee4d09999",learnSQL,"Taking an SQL Class, and stuck on a question for a homework assignment",1.0,https://www.reddit.com/r/learnSQL/comments/nxu6kt/taking_an_sql_class_and_stuck_on_a_question_for_a/
37,aannanimity,1623508993,ny8alm,2,1,"Hey there :)

I am trying to write an SQL query with joins and aggregates, but I'm stuck with it. Can some help me out with this?

Thank you!",learnSQL,Stuck with a query,1.0,https://www.reddit.com/r/learnSQL/comments/ny8alm/stuck_with_a_query/
38,inkblot888,1623544720,nykuht,6,1,"I'm in the middle of reinstalling, but I was trying to alter the primary keys to a table, which then froze up when I hit the save button.  I closed pgAdmin and opened it back up.  No change. I tried to drop the table and it froze any manipulation of that table entirely.  I couldn't even open the query tool.  What the hell am I doing wrong here?",learnSQL,pgAdmin buggy garbage,1.0,https://www.reddit.com/r/learnSQL/comments/nykuht/pgadmin_buggy_garbage/
39,ImperatorofKaraks,1623548549,nylye1,2,1, ,learnSQL,Why is the Super_id a foreign_id at 2:22:41?,1.0,https://youtu.be/HXV3zeQKqGY
40,eyenaz,1623578862,nyt7nj,5,1,"Hi everyone, I am currently enrolled in a Google Data Analytics certification course on Coursera. I posted a similar post on the Coursera discussion board but so far no responses, thought I’d have better luck here.

It’s a lab assignment on cleaning data using SQL. I inputted the queries correctly in the correct format based on the lab manual.

However, the query failed to run and I get an error message pictured below. Then, I noticed that the actual dataset indicated that the data location is ‘US.' So I went to **more&gt;query settings** and changed the **Processing Location** to *United States*...still no luck. I toggled and selected other regions, tried a*uto-select* but it still resorted to the same error. My country is Malaysia if that matters.

https://preview.redd.it/nz8sphiya0571.png?width=2212&amp;format=png&amp;auto=webp&amp;s=09a8d78449b7b85873a85dfc9827560ac949da28

How do I resolve this? Any help will be appreciated.",learnSQL,‘Table was not found in location US.’ How to resolve this error on BigQuery?,1.0,https://www.reddit.com/r/learnSQL/comments/nyt7nj/table_was_not_found_in_location_us_how_to_resolve/
41,Rif-SQL,1623664283,nzj7bj,0,5,"[https://www.brentozar.com/archive/2021/03/tsql2sday-136-wrap-up-your-favorite-and-least-favorite-data-types/](https://www.brentozar.com/archive/2021/03/tsql2sday-136-wrap-up-your-favorite-and-least-favorite-data-types/) 

""For this month’s [T-SQL Tuesday](http://tsqltuesday.com/), I (Brent Ozar) asked you to blog about your most-loved and least-loved data types.

Crazy, right? How could people possibly love or hate data types? Well, if you’ve been working with them for a while, I figured you’d have built up an array of tips or pain points, and y’all delivered with 29 interesting blog posts.

Secretly, when I picked the topic, I hoped we’d end up with a couple of data types where people disagreed so much that it was both a favorite AND a least favorite. Indeed, y’all delivered on that too!

Here’s what you wrote, grouped by data type, each in [lower case as Aaron Bertrand intended](https://www.sentryone.com/blog/aaronbertrand/backtobasics-lower-case-data-types):""",learnSQL,#TSQL2sday 136 Wrap-Up: Your Favorite (and Least Favorite) Data Types,0.86,https://www.reddit.com/r/learnSQL/comments/nzj7bj/tsql2sday_136_wrapup_your_favorite_and_least/
42,MakePie_NotWar,1623696143,nztr78,5,4,"I'm trying to import an Excel file for an assignment using the Import and Export Wizard. When trying to use .Net Framework Data Provider for Odbc data source, I get an error that says The ConnectionString property has not been initialized. ([System.Data](https://System.Data)). Since this is a VM, I don't know what to do or if there's anything I even can/should do. Using Excel as the data source also doesn't work because the VM doesn't have Excel on it. Any tips or ideas?",learnSQL,Trying to import Excel file on Virtual Machine,1.0,https://www.reddit.com/r/learnSQL/comments/nztr78/trying_to_import_excel_file_on_virtual_machine/
43,[deleted],1623751768,o0au34,0,1,[deleted],learnSQL,I need some help with Generating a new column through a Queary.,1.0,https://www.reddit.com/r/learnSQL/comments/o0au34/i_need_some_help_with_generating_a_new_column/
44,[deleted],1623770279,o0gs0a,11,0,[deleted],learnSQL,How do I get top values from the sum of one column for each distinct value in another column?,0.5,https://www.reddit.com/r/learnSQL/comments/o0gs0a/how_do_i_get_top_values_from_the_sum_of_one/
45,ThePeefers,1623828381,o0z88q,7,3,"Hi everyone! I started my sql journey on CodeAcademy and now I'm working on creating a little MySQL playground for myself. All the tutorials I've seen brush over inserting data really quickly with INSERT statements, but I want some alternatives. I'm going into marketing once I graduate college and I'd really like to have a more efficient system figured out. There are a few options I've heard of/thought of:

1. Update the database with your csv file every night (manual upload)
2. Have a python/ruby script run an individual insert command every time a new piece of data is registered on your website or excel sheet
3. Buy a third party software that updates your database in real time 

Ideally I'd just love a little space where I can insert data outside of MySQL (excel or preferably my own website that I host locally), and then the data autopopulates into MySQL in real time. I just can't find a lot about the topic through google, reddit, or YouTube; possibly because I'm so new I just don't know what to search for. 

What are the industry standards for this procedure?

Does anyone have any input on what I'd like to do? 

Sorry if it's a basic or confused question but I appreciate your time!",learnSQL,How do people populate MySQL with data? (Noob here),0.72,https://www.reddit.com/r/learnSQL/comments/o0z88q/how_do_people_populate_mysql_with_data_noob_here/
46,Gurenox,1623854296,o16ekr,0,4,"So, tomorrow I have an exam at Advanced Data Base, the structure is quite easy, we have to populate 2 or 3 tables, and 2 unique  requirements . First creating a procedure, most of the time having a cursor and the second creating a function,  based on the tables we just made. Most of them are easy but I have a hard time understading the question and finding the right answer , building the right SELECT and subquery. I am asking if there is any site, hack, or tool that might help me build the right select accordingly . Something like building the tables and chosing what to show and then getting the right select syntax... Anything might be of help. Thank you all guys and have a nice day!",learnSQL,"Having trouble understanding, one day until the exam",0.75,https://www.reddit.com/r/learnSQL/comments/o16ekr/having_trouble_understanding_one_day_until_the/
47,Fillanzea,1623863992,o1a3pn,17,1,"I'm trying to work through the book Practical SQL by Anthony DeBarros. There's a part where you're supposed to use the census data to calculate which counties had the greatest increase in population from 2000 to 2010.

    SELECT c2010.geo_name, c2010.state_us_abbreviation AS stateabbrev, c2010.p0010001 AS pop_2010, c2000.p0010001 AS pop_2000, c2010.p0010001-c2000.p0010001 AS raw_change,
    round ((CAST(c2010.p0010001 AS numeric(8,1))-c2000.p0010001)/c2000.p0010001*100,1) AS pct_change
    FROM us_counties_2010 c2010 INNER JOIN us_counties_2000 c2000
    ON c2010.state_fips=c2000.state_fips
    AND c2010.county_fips=c2000.county_fips
    AND c2010.p0010001&lt;&gt;c2000.p0010001
    ORDER BY pct_change DESC;

This seems to work as intended, but it only returns 1151 rows out of the 3143 total rows.  And I can't figure out anything that's different between the rows it returns, and the rows it doesn't return. 

When I change the inner join to a LEFT JOIN, it returns all 3143 rows, but a lot of the rows have \[null\] for c2000.p0010001. (These are the ones that are not getting returned by the first query, obviously).

But what's interesting is that if I just try to pull the data from the c2000 table, those rows come up just fine. This pulls up the population values for all 3143 counties:

    SELECT c2000.geo_name, c2000.state_us_abbreviation AS stateabbrev, c2000.state_fips, c2000.county_fips, c2000.p0010001
    FROM us_counties_2000 c2000
    ORDER BY c2000.p0010001 DESC;

So it's only when I try to join the two tables together that some rows are just... inexplicably dropping out. (As far as I can tell). I'd very much appreciate it if anyone has any insight!

(The tables I'm using for data are [on GitHub here](https://github.com/anthonydb/practical-sql), in chapter 4 for the 2010 data and chapter 6 for the 2000 data.)",learnSQL,Having trouble with INNER JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/o1a3pn/having_trouble_with_inner_join/
48,[deleted],1623867276,o1bfju,0,0,[deleted],learnSQL,Just wrote an article on ALL types of JOINs,0.5,https://www.reddit.com/r/learnSQL/comments/o1bfju/just_wrote_an_article_on_all_types_of_joins/
49,Nicholas_TW,1623873140,o1drdd,5,7,"I need to select things from a database which depends on different criteria. The table is structured similar to this:

&amp;#x200B;

|Value|Key1|Key2|
|:-|:-|:-|
|a|0|0|
|b|0|1|
|c|1|0|
|d|1|1|

...Using a stored procedure which takes in 3 bit parameters, ""is\_key1"", ""is\_key2"", ""is\_key3"".

If is\_key1 = 1, I need all rows where Key1 = 1

If is\_key2 = 1, I need all rows where Key2 = 1

If is\_key3 = 1, I need all rows where Key1 = 0 AND Key2 = 0.

&amp;#x200B;

...So if the stored procedure were called, and is\_key1=1, is\_key2=1, is\_key3=0, it would return rows b, c, and d.

&amp;#x200B;

Is there a way to do this in SQL Server? (And no, changing the table structure isn't an option. It MIGHT be possible to just make three separate stored procedures, one for each key type, and call them all separately, but for now let's assume that's not an option; it needs this functionality with a single stored procedure).",learnSQL,How to have conditional WHERE statement?,1.0,https://www.reddit.com/r/learnSQL/comments/o1drdd/how_to_have_conditional_where_statement/
50,PhatAgent,1623888042,o1jbc5,9,3,"One of my problematic questions is as follows..

""Write a query to display the worker number, last name and first name for all machinists that have never completed a job using any type of “welder” equipment.  Sort the results by worker last name and then first name, both in ascending order.""

Tables are Worker, Job, Equipment, Schedule, and part.

Picture includes what the result is supposed to look like on the left, and what i get on the right with my code highlied in blue.

I've tried many different ways but the results are always incorrect data. Any ideas?

https://imgur.com/a/ux16WWO",learnSQL,Stuck on SQL Problem,1.0,https://www.reddit.com/r/learnSQL/comments/o1jbc5/stuck_on_sql_problem/
51,Public_Conflict,1623890718,o1k6au,1,6, ,learnSQL,SQL Full Course,0.88,https://www.youtube.com/watch?v=AA7i2GcTGwU
52,yellising,1623915220,o1rer2,15,3, ,learnSQL,"I'm stuck trying to ""flatten"" data. I can't even explain the problem in words so I created an image to explain. Hopefully it makes more sense this way. When I do the usual join, it returns multiple lines per ID which is expected.",1.0,https://i.redd.it/zl5owfhu3s571.png
53,santacow,1623938165,o1xudr,14,3,"I am trying to find a way to query a mask used by the TIMESTAMP field.  The field is TIMESTAMP(6) and I can see that it holds data MM/DD/YYYY HH:MIN:SS.FFFFFF when I look at the values in that field.  I am trying to find a way to get this information via a query if possible so I can have the official mask.  The script for table creation does not show any mask being used.

&amp;#x200B;

If I cannot get this information via a query, is there a better way than just looking at the data?

&amp;#x200B;

Sorry I am using Oracle 12c",learnSQL,Can you get the mask on a TIMESTAMP through a query?,1.0,https://www.reddit.com/r/learnSQL/comments/o1xudr/can_you_get_the_mask_on_a_timestamp_through_a/
54,ivhih,1623957153,o255v5,26,5, ,learnSQL,I'm sorry if this is not the right place to ask but how do I fix this? I tried to give premission access for mdf files but still didn't work. Any help would be great.,1.0,https://i.redd.it/1vilqbwikv571.jpg
55,ac24life,1623975034,o2bt25,2,1,"hey everyone, I am learning SQL and stuck on an exercise I keep getting **a syntax error** for:

**The task**: Using Product table, find out the number of makers who produce only one model. 

**THE TABLE:**  Product(maker, model, type) 

**MY ERRONEOUS CODE:**

SELECT count(maker) as qty

 FROM (SELECT maker, COUNT(model)

FROM Product

GROUP BY maker

HAVING count(model) = 1 )

;

&amp;#x200B;

I know the subquery is correct in that it tells me the maker that only produces one model.  But the task is to create a query that counts the number of makers (so should only have one column (qty) with the count of 1 as the result set.

Im sure its something dumb i am overlooking but any help would be greatly appreciated!",learnSQL,"Using Product table, find out the number of makers who produce only one model.",0.67,https://www.reddit.com/r/learnSQL/comments/o2bt25/using_product_table_find_out_the_number_of_makers/
56,Coldchilln,1623990135,o2ghf5,5,4,"I've completed most of the beginner resources out there for SQL and am looking for a resource/course that goes into more comprehensive queries. I have coursera plus through work, but am open to any resource. 

&amp;#x200B;

Thank you",learnSQL,Where do I go from here? intermediate to advanced SQL resource request,0.84,https://www.reddit.com/r/learnSQL/comments/o2ghf5/where_do_i_go_from_here_intermediate_to_advanced/
57,[deleted],1623994797,o2hrfk,0,1,[deleted],learnSQL,Why dont I have any permissions when generating a report??,1.0,https://www.reddit.com/r/learnSQL/comments/o2hrfk/why_dont_i_have_any_permissions_when_generating_a/
58,inkblot888,1624027406,o2qpc1,4,1,"I have a directory with several thousand csv's that I want to import into my postgres server.  I'm using python and psycopg2 in a for loop to import each file.  When the script reaches a null cell, I'm getting an error, I guess because somewhere it's reading the null as """".

Do I need to go back to the python script that I use to create the csv's and change the way the null values are saved?  I'm a student, and it's important to me that I'm doing things the right way, but the script takes about 2 1/2 hours to run, so if there's an elegant way to do this in the importer, it would save me a lot of time.

If I do need re-run the csv creator, what value do I need to save in place of the None value in Python?",learnSQL,null values in csv's causing error when importing.,0.67,https://www.reddit.com/r/learnSQL/comments/o2qpc1/null_values_in_csvs_causing_error_when_importing/
59,Guilty_House_5034,1624033206,o2t27i,2,4,"Hi All,

I thought of documenting what I know about SQL but focus more towards the foundation and logics behind how SQL was designed as a language.

I've written a small blog on NULLs in SQL and the three-valued logics, how it differs from other programming languages. You can find it [here](https://yanger-rai.medium.com/the-hidden-jutsu-in-sql-nulls-and-the-three-valued-logic-70704eb88b9).

Give it a thumps up if it helps in anyway or please criticize.

Happy Learning!",learnSQL,SQL Foundation - NULLs and the Three-valued logics,1.0,https://www.reddit.com/r/learnSQL/comments/o2t27i/sql_foundation_nulls_and_the_threevalued_logics/
60,Tazdeviloo7,1624045515,o2yjv7,13,1, ,learnSQL,"Beginner Help: I've narrowed down the problem, but figure out how to get past it",0.67,https://i.redd.it/e0qdqh3hv2671.png
61,Oluidowu4,1624072247,o36tlq,1,1,"Hello,

I am totally new to SQL. I am have problems creating the tables for this question:

https://preview.redd.it/aikba3xh25671.png?width=977&amp;format=png&amp;auto=webp&amp;s=88df8ce9387e5a2d001d1ace26ed2331f0587cd0

This is what I did so far:

    CREATE TABLE Product (
    Product_ID INTEGER PRIMARY KEY NOT NULL.
    NAME ProdName NOT NULL,
    Price INTERGER NOT NULL)
    
    CREATE TABLE Order (
    Product_ID INTEGER NOT NULL,
    Customer_ID INTEGER NOT NULL,
    )
    
    CREATE TABLE Customer (
    Customer_ID INTEGER PRIMARY KEY NOT NULL,
    NAME CustName NOT NULL,
    )

Am I making any mistakes? Can someone help me?",learnSQL,Assignment help,0.67,https://www.reddit.com/r/learnSQL/comments/o36tlq/assignment_help/
62,HighwayExciting235,1624075953,o37v7i,4,1,Putting data in the database manually is a bit hassle for me cause there are so many buttons to click before I can save one data. Is there a way where I put data in excel file and copy it to my database so I can populate it much easier?,learnSQL,How to import data in excel to your database,1.0,https://www.reddit.com/r/learnSQL/comments/o37v7i/how_to_import_data_in_excel_to_your_database/
63,inkblot888,1624100781,o3dlun,1,1,"I'm using the to_sql() function in sqlalchemy to import a large number of csv files into my database.  The first file ran fine and then I got an error in the second file.

This is the code to create the table:

        CREATE TABLE gp_times(
                 index text PRIMARY KEY,
                 month text,
                 day text,
                 yr integer,
                 lge text,
                 rnd integer,
                 session text,
                 trk text,
                 pos text,
                 rdr_num integer,
                 f_name text,
                 l_name text,
                 nat text,
                 team text,
                 manu text,
                 num_of_laps integer,
                 run_num integer,
                 f_tire text,
                 r_tire text,
                 laps_on_f integer,
                 laps_or_r integer,
                 lap_num integer,
                 lap_time text,
                 lap_seconds decimal,
                 lap_valid boolean,
                 pit boolean,
                 sec_one text,
                 one_seconds decimal,
                 one_valid boolean,
                 sec_two text,
                 two_seconds decimal,
                 two_valid boolean,
                 sec_thr text,
                 thr_seconds decimal,
                 thr_valid boolean,
                 sec_four text,
                 four_seconds decimal,
                 four_valid boolean,
                 avg_spd text
                 )


Here's the error:

`sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type double precision: ""30.580*""`
`LINE 1: ...'24.982', 24.982, false, '32.986*', 32.986, true, '30.580*',...`


This seems espescially weird, because if you look at the fourth item in the LINE 1 line, '32.986*', was entered without error.  It's possible that the string is trying to be entered into the wrong column, but the really weird thing is that it's claiming that the column is expecting a double precision data type.  The table wasn't meant to ex

Any ideas?",learnSQL,sqlalchemy changing the expected data type in column?,1.0,https://www.reddit.com/r/learnSQL/comments/o3dlun/sqlalchemy_changing_the_expected_data_type_in/
64,Ambitious-Boat8165,1624217354,o4d2ms,1,1,"Here is my code:

\--REM create the STUDENT table

CREATE TABLE STUDENT (

STU\_NUM INTEGER NOT NULL,

STU\_LNAME VARCHAR(25) NOT NULL,

STU\_FNAME VARCHAR(20) NOT NULL,

STU\_INIT CHAR(1),

STU\_DOB DATE NOT NULL,

STU\_HRS INTEGER DEFAULT 0 CHECK(STU\_HRS IN (STU\_HRS &gt;= 0 AND STU\_HRS &lt;=1000)),

STU\_CLASS CHAR(2) NOT NULL CHECK(STU\_CLASS IN ('Fr', 'So', 'Jr', 'Sr', 'Gr')),

STU\_GPA NUMBER(3,2) DEFAULT 0.00 NOT NULL CHECK(STU\_GPA IN (STU\_GPA &gt;= 0.00 AND STU\_GPA &lt;= 4.00)),

STU\_PHONE NUMBER(4,0) NOT NULL,

PRIMARY KEY (STU\_NUM)

);

&amp;#x200B;

&amp;#x200B;

I am getting an error at the STU\_GPA line saying I am missing a parenthesis but I am not. What is wrong? Thanks for any help",learnSQL,I don't understand why I am getting an error stating I am missing a parenthesis,1.0,https://www.reddit.com/r/learnSQL/comments/o4d2ms/i_dont_understand_why_i_am_getting_an_error/
65,_ilovecereal_,1624307167,o54mjh,2,1,"Yo guys, 

(almost) complete beginner here, trying to get a relevant query for our project.

Basically we have an app that shows our processes and subprocesses. In a query we'd like to show every count of main processes (how many subprocesses does one main process has) and the link to the main process.

In one table we have ProcessID and links (URL) and in other table we have (Sub)ProcessIDs and connected MainProcessIDs. How could I basically add links to the first table in a SQL query? For example, if I was doing it in PowerBI/Excel I'd just simply add a column (""NewLinks"") and say IF ProcessID = MainProcessID THEN NewLinks = Link connected to a process with ProcessID .... ELSE IF ProcessID =/= MainProcessID THEN NewID = Link connected to a process with MainProcessID.",learnSQL,SQL Query help - process and subprocess,1.0,https://www.reddit.com/r/learnSQL/comments/o54mjh/sql_query_help_process_and_subprocess/
66,CH731,1624365664,o5m7qt,4,1,"Having trouble returning a complete text field from a table where this info is broken up and ordered with a sequence number.  I created a simplified sample below to help illustrate. 

In this table, the ""Comment"" field has a 60 character limit.  Once it reaches 60 characters, another record is created and ordered sequentially by the ""ComSeqNum"" field.  I need to concatenate multiple records into one complete long text field (when CaseID, CaseType, DateTime match) and order the characters according to ""ComSeqNum"".

**Table B123 - Inspection Result Text** 

|*CaseID*|*CaseType*|*DateTime*|*ComSeqNum*|*Comment*|
|:-|:-|:-|:-|:-|
|2212345|BD20|20JUNE2021:8:01|1|Missing blocking|
|2212345|BD20|20JUNE2021:8:01|2|at load points|
|2212345|BD20|20JUNE2021:8:01|3|between first|
|2212345|BD20|20JUNE2021:8:01|4|and second floor.|
|2212345|BD20|20JUNE2021:8:01|5|Inspection Complete.|

Basically, I want to concatenate the above 5 records into 1:

|*CaseID*|*CaseType*|*DateTime*|*Comment*|
|:-|:-|:-|:-|
|2212345|BD20|20JUNE2021:8:01|Missing blocking at load points between first and second floor. Inspection Complete.|

Can anyone point me in a better direction? I've been attempting a GROUP\_CONCAT and have been googling guides to Recursive CTE without any luck. I do not use SQL often but I've always been good at Googling... this on has me stumped",learnSQL,Concat text from multiple records ordered by sequence number,1.0,https://www.reddit.com/r/learnSQL/comments/o5m7qt/concat_text_from_multiple_records_ordered_by/
67,_ilovecereal_,1624379968,o5rd2e,1,1,"Yo guys,

(almost) complete beginner here, getting an annoying error.

I have to migrate the data from old database to the new one - one of the most important attributes also presents price (values like 0.5, 3.0, 5.5, up to 100.0). However, in the old database due to some weird reason this attribute was/is stored as a Nvarchar and in new database it of course must be decimal (18,2). 

When I tried to transform it with INSERT INTO I got an error of ''*Error converting data type nvarchar to numeric*''. 

**What else I tried?** I also tried CAST() and CONVERT() functions &amp; also tried changing the attribute in the old table with ALTER TABLE/COLUMN. No success. Any suggestions about what to do? Is there anything I can do?

If I was not clear enough about the problem, please let me know.",learnSQL,Error converting data type,1.0,https://www.reddit.com/r/learnSQL/comments/o5rd2e/error_converting_data_type/
68,CSedu,1624380835,o5ros0,0,1,"I am working on updating some code, and something that is giving me errors for some reason in MySQL Workbench is related to a command saying:

    ...
    WHERE p.userName LIKE CONCAT(?, '%')
    ...

I'm not sure why this is giving an error, or what this CONCAT does honestly, but it works if I remove the CONCAT or change it to just 'LIKE '%''. I've never run across the question mark inside a CONCAT before.",learnSQL,Question mark inside a 'CONCAT'?,1.0,https://www.reddit.com/r/learnSQL/comments/o5ros0/question_mark_inside_a_concat/
69,suburbanbeat,1624382888,o5sgf4,3,1,"Title says it all. I've got a long query relative to most I work with. In it's original state, it did not have any aggregate functions and thus did not require any GROUP BY expressions. I'm now trying to add a custom field that uses an aggregate expression (COUNT) and thus Tableau is telling me I need a GROUP BY somewhere in here.

I feel like I've tried everything, but it just never seems to like either where I'm putting my GROUP BY or what I'm including in it. My intuition tells me it should be as simple as typing GROUP BY COURSE\_MODALITY at that particular join level after my WHERE.

Any help at all is appreciated. Thank you!

The lines in bold are what I'm trying to add to this query.

&amp;#x200B;

SELECT  
 SHRTCKN.SHRTCKN\_CRN               AS COURSE\_CRN  
,SHRTCKN.SHRTCKN\_TERM\_CODE         AS TERM\_CODE  
,SHRTCKN.SHRTCKN\_SUBJ\_CODE         AS SUBJECT\_CODE  
,SHRTCKN.SHRTCKN\_CRSE\_NUMB         AS COURSE\_NUMBER  
,TO\_CHAR(SHRTCKN.SHRTCKN\_SEQ\_NUMB,'000') AS COURSE\_SEQ\_NO  
,SHRTCKN.SHRTCKN\_CRSE\_TITLE        AS COURSE\_TITLE  
,CASE WHEN ( SHRTCKN.SHRTCKN\_CRSE\_NUMB LIKE '0%' ) THEN 'Developmental'  
      WHEN ( SHRTCKN.SHRTCKN\_CRSE\_NUMB LIKE '1%' ) THEN '100 Level'  
      WHEN ( SHRTCKN.SHRTCKN\_CRSE\_NUMB LIKE '2%' ) THEN '200 Level'  
      ELSE 'UNKNOWN' END           AS COURSE\_LEVEL  
,SHRTCKN.SHRTCKN\_PIDM              AS STUDENT\_PIDM  
,F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) AS FINAL\_GRADE  
,CASE WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'AU%' ) THEN 'AU'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'A%'  ) THEN 'A'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'B%'  ) THEN 'B'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'C%'  ) THEN 'C'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'D%'  ) THEN 'D'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'F%'  ) THEN 'F'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'W%'  ) THEN 'W'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'P%'  ) THEN 'P'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'M%' )  THEN 'MP'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'I%'  
          OR F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'NR%' ) THEN 'I'  
      ELSE 'NEEDS VALUE' END       AS FINAL\_GRADE\_GROUP  
,CASE WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'D%'  
        OR   F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'M%'  
        OR   F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'F%' )  THEN 'Unsuccessful'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'W%' )  THEN 'Withdrawn'  
      WHEN ( F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'I%'  
        OR   F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'NR%'  
        OR   F\_CRSE\_FINAL\_GRADE (SHRTCKN.SHRTCKN\_PIDM, SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SEQ\_NO) LIKE 'AU%' ) THEN 'Other'  
      ELSE 'Successful' END        AS COURSE\_SUCCESS\_IND  
,SCBCRSE.SCBCRSE\_DIVS\_CODE         AS COURSE\_DIVS\_CODE  
,SCBCRSE.STVDIVS\_DESC              AS COURSE\_DIVS\_DESC  
,SCBCRSE.SCBCRSE\_COLL\_CODE         AS COURSE\_COLL\_CODE  
,SCBCRSE.STVCOLL\_DESC              AS COURSE\_COLL\_DESC  
,SCBCRSE.SCBCRSE\_DEPT\_CODE         AS COURSE\_DEPT\_CODE  
,SCBCRSE.STVDEPT\_DESC              AS COURSE\_DEPT\_DESC  
,SHRTCKL.SHRTCKL\_LEVL\_CODE         AS COURSE\_LEVEL\_TCKL  
,SSBSECT.SSBSECT\_SCHD\_CODE         AS COURSE\_METHOD\_CODE  
,SSBSECT.STVSCHD\_DESC              AS COURSE\_METHOD\_DESC  
,SSBSECT.SSBSECT\_PTRM\_CODE         AS COURSE\_PRTM\_CODE  
,SSBSECT.SSBSECT\_PTRM\_WEEKS        AS COURSE\_PRTM\_WEEK  
,SSBSECT.SOBPTRM\_DESC              AS COURSE\_PRTM\_DESC  
,SSBSECT.SSBSECT\_CAMP\_CODE         AS COURSE\_CAMPUS\_CODE  
,SSBSECT.STVCAMP\_DESC              AS COURSE\_CAMPUS\_DESC  
,CASE WHEN ( SSBSECT.SSBSECT\_CAMP\_CODE = 'MAI' )        THEN 'Main Campus'  
      WHEN ( SSBSECT.SSBSECT\_CAMP\_CODE = 'NER' )        THEN 'Northest'  
      WHEN ( SSBSECT.SSBSECT\_CAMP\_CODE = 'NWC' )        THEN 'Northwest'  
      WHEN ( SSBSECT.SSBSECT\_CAMP\_CODE = 'WER' )        THEN 'West'  
      ELSE 'Neighborhood Sites' END AS REGIONAL\_LOCATIONS  
,SSBSECT.SSBSECT\_INSM\_CODE         AS COURSE\_INSM\_CODE  
,SSBSECT.SSBSECT\_SESS\_CODE         AS COURSE\_SESS\_CODE  
,SSBSECT.STVSESS\_DESC              AS COURSE\_SESS\_DESC  
,SSBSECT.SSRXLST\_XLST\_GROUP        AS COURSE\_XLST\_GROUP  
,SSRATTR.STVATTR\_DESC              AS WFDV\_INDICATOR  
,SIRASGN.SIRASGN\_PIDM              AS FACULTY\_PIDM  
,SIRASGN.SPRIDEN\_ID                AS FACULTY\_ID  
,SIRASGN.SPRIDEN\_LAST\_NAME         AS FACULTY\_LAST\_NAME  
,SIRASGN.SPRIDEN\_FIRST\_NAME        AS FACULTY\_FIRST\_NAME  
FROM  
 SATURN.SHRTCKN SHRTCKN  
LEFT JOIN  
(SELECT  SSBSECT.SSBSECT\_PTRM\_CODE  
        ,SSBSECT.SSBSECT\_SCHD\_CODE  
        ,SSBSECT.SSBSECT\_SESS\_CODE  
        ,SSBSECT.SSBSECT\_GRADABLE\_IND  
        ,SSBSECT.SSBSECT\_INSM\_CODE  
        ,STVSCHD.STVSCHD\_DESC  
        ,STVSESS.STVSESS\_DESC  
        ,SSBSECT.SSBSECT\_CRN  
        ,SSBSECT.SSBSECT\_CAMP\_CODE  
        ,STVCAMP.STVCAMP\_DESC  
        ,SSBSECT.SSBSECT\_PTRM\_WEEKS  
        ,SSBSECT.SSBSECT\_TERM\_CODE  
        ,SSRXLST.SSRXLST\_XLST\_GROUP  
        ,SSRXLST.SSRXLST\_TERM\_CODE  
        ,SSRXLST.SSRXLST\_CRN  
        ,SOBPTRM.SOBPTRM\_DESC  
    **,SSRMEET.SSRMEET\_ROOM\_CODE**  
        **,CASE WHEN SSBSECT.SSBSECT\_SESS\_CODE = 'A' and**  
         **COUNT( SSRMEET.SSRMEET\_ROOM\_CODE ) = 0**  
         **THEN 'Distance'**  
         **WHEN SSBSECT.SSBSECT\_SESS\_CODE = 'A'**  
         **THEN 'Hybrid'**  
         **ELSE 'Traditional'**  
         **END COURSE\_MODALITY**  
 FROM   SATURN.SSBSECT SSBSECT  
       ,SATURN.STVSCHD STVSCHD  
       ,SATURN.STVSESS STVSESS  
       ,SATURN.SSRXLST SSRXLST  
       ,SATURN.SOBPTRM SOBPTRM  
       ,SATURN.STVCAMP STVCAMP  
       **,SATURN.SSRMEET SSRMEET**  
 WHERE ( SSBSECT.SSBSECT\_CRN = SSRXLST.SSRXLST\_CRN (+) AND SSBSECT.SSBSECT\_TERM\_CODE = SSRXLST.SSRXLST\_TERM\_CODE (+) )  
   AND ( SSBSECT.SSBSECT\_SCHD\_CODE = STVSCHD.STVSCHD\_CODE (+) )  
   AND ( SSBSECT.SSBSECT\_SESS\_CODE = STVSESS.STVSESS\_CODE (+) )  
   AND ( SSBSECT.SSBSECT\_TERM\_CODE = SOBPTRM.SOBPTRM\_TERM\_CODE (+) AND SSBSECT.SSBSECT\_PTRM\_CODE = SOBPTRM.SOBPTRM\_PTRM\_CODE (+) )  
   AND ( SSBSECT.SSBSECT\_CAMP\_CODE = STVCAMP.STVCAMP\_CODE (+) )  
   AND SSBSECT.SSBSECT\_SSTS\_CODE = 1  
   AND SSBSECT.SSBSECT\_TERM\_CODE &gt;= '201440' ) SSBSECT  
ON ( SHRTCKN.SHRTCKN\_CRN = SSBSECT.SSBSECT\_CRN AND SHRTCKN.SHRTCKN\_TERM\_CODE = SSBSECT.SSBSECT\_TERM\_CODE)  
INNER JOIN  
(SELECT  SHRTCKL.SHRTCKL\_LEVL\_CODE  
        ,SHRTCKL.SHRTCKL\_PIDM  
        ,SHRTCKL.SHRTCKL\_TERM\_CODE  
        ,SHRTCKL.SHRTCKL\_TCKN\_SEQ\_NO  
 FROM SATURN.SHRTCKL SHRTCKL  
 WHERE SHRTCKL.SHRTCKL\_LEVL\_CODE = 'CR'  
   AND SHRTCKL.SHRTCKL\_TERM\_CODE &gt;= '201440' ) SHRTCKL  
ON (SHRTCKN.SHRTCKN\_PIDM = SHRTCKL.SHRTCKL\_PIDM AND SHRTCKN.SHRTCKN\_TERM\_CODE = SHRTCKL.SHRTCKL\_TERM\_CODE AND SHRTCKN.SHRTCKN\_SEQ\_NO = SHRTCKL.SHRTCKL\_TCKN\_SEQ\_NO )  
INNER JOIN  
(SELECT  SCBCRSE.SCBCRSE\_DIVS\_CODE  
        ,STVDIVS.STVDIVS\_DESC  
        ,SCBCRSE.SCBCRSE\_COLL\_CODE  
        ,STVCOLL.STVCOLL\_DESC  
        ,SCBCRSE.SCBCRSE\_DEPT\_CODE  
        ,STVDEPT.STVDEPT\_DESC  
        ,SCBCRSE.SCBCRSE\_CRSE\_NUMB  
        ,SCBCRSE.SCBCRSE\_SUBJ\_CODE  
        ,STVSUBJ.STVSUBJ\_DESC  
        ,SCBCRSE.SCBCRSE\_EFF\_TERM  
 FROM  SATURN.SCBCRSE SCBCRSE  
      ,SATURN.STVDIVS STVDIVS  
      ,SATURN.STVCOLL STVCOLL  
      ,SATURN.STVSUBJ STVSUBJ  
      ,SATURN.STVDEPT STVDEPT  
 WHERE ( SCBCRSE.SCBCRSE\_DIVS\_CODE = STVDIVS.STVDIVS\_CODE (+) )  
   AND ( SCBCRSE.SCBCRSE\_COLL\_CODE = STVCOLL.STVCOLL\_CODE (+) )  
   AND ( SCBCRSE.SCBCRSE\_DEPT\_CODE = STVDEPT.STVDEPT\_CODE (+) )  
   AND ( SCBCRSE.SCBCRSE\_SUBJ\_CODE = STVSUBJ.STVSUBJ\_CODE (+) ) ) SCBCRSE  
ON ( SHRTCKN.SHRTCKN\_SUBJ\_CODE = SCBCRSE.SCBCRSE\_SUBJ\_CODE AND SHRTCKN.SHRTCKN\_CRSE\_NUMB = SCBCRSE.SCBCRSE\_CRSE\_NUMB  
     AND SCBCRSE.SCBCRSE\_EFF\_TERM = F\_GET\_CRSE\_EFF\_TERM ( SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SUBJ\_CODE, SHRTCKN.SHRTCKN\_CRSE\_NUMB ) )  
LEFT JOIN  
(SELECT  SIRASGN.SIRASGN\_TERM\_CODE  
        ,SIRASGN.SIRASGN\_CRN  
        ,SIRASGN.SIRASGN\_PIDM  
        ,SPRIDEN.SPRIDEN\_ID  
        ,SPRIDEN.SPRIDEN\_LAST\_NAME  
        ,SPRIDEN.SPRIDEN\_FIRST\_NAME  
 FROM   SATURN.SIRASGN SIRASGN  
       ,SATURN.SPRIDEN SPRIDEN  
 WHERE (SIRASGN.SIRASGN\_PIDM = SPRIDEN.SPRIDEN\_PIDM (+))  
   AND  SPRIDEN.SPRIDEN\_CHANGE\_IND IS NULL  
   AND  SIRASGN.SIRASGN\_PRIMARY\_IND = 'Y'    ) SIRASGN  
ON ( SHRTCKN.SHRTCKN\_CRN = SIRASGN.SIRASGN\_CRN AND SHRTCKN.SHRTCKN\_TERM\_CODE = SIRASGN.SIRASGN\_TERM\_CODE )  
LEFT JOIN  
(SELECT  SSRATTR.SSRATTR\_ATTR\_CODE  
        ,SSRATTR.SSRATTR\_TERM\_CODE  
        ,SSRATTR.SSRATTR\_CRN  
        ,STVATTR.STVATTR\_DESC  
 FROM  SATURN.SSRATTR SSRATTR  
      ,SATURN.STVATTR STVATTR  
 WHERE ( SSRATTR.SSRATTR\_ATTR\_CODE = STVATTR.STVATTR\_CODE (+) )  
   AND SSRATTR.SSRATTR\_TERM\_CODE &gt;= '201440'  
   AND SSRATTR.SSRATTR\_ATTR\_CODE = 'WFDV') SSRATTR  
ON ( SHRTCKN.SHRTCKN\_CRN = SSRATTR.SSRATTR\_CRN AND SHRTCKN.SHRTCKN\_TERM\_CODE = SSRATTR.SSRATTR\_TERM\_CODE)  
WHERE SHRTCKN.SHRTCKN\_TERM\_CODE &gt;= '201440'  
AND ( SCBCRSE.SCBCRSE\_EFF\_TERM = F\_GET\_CRSE\_EFF\_TERM ( SHRTCKN.SHRTCKN\_TERM\_CODE, SHRTCKN.SHRTCKN\_SUBJ\_CODE, SHRTCKN.SHRTCKN\_CRSE\_NUMB ) )  
AND SHRTCKL.SHRTCKL\_LEVL\_CODE = 'CR'  
AND SSBSECT.SSBSECT\_GRADABLE\_IND = 'Y'",learnSQL,GROUP BY - where do I put it and what do I include? Going nuts over here!,1.0,https://www.reddit.com/r/learnSQL/comments/o5sgf4/group_by_where_do_i_put_it_and_what_do_i_include/
70,Senior-Gas-4040,1624383817,o5srtg,6,1,"I am trying to retrieve all users from a user table where their x coordinate is +- 10 units away from another tables landmark x coordinate by the landmarks ID.

ex tables:

users: x y id

landmark: x y id

My SQL query: SELECT * FROM users LEFT JOIN landmark WHERE users.x between landmark.x + 10 AND landmark.x - 10 WHERE landmark.id = 123;",learnSQL,Can I have help writing a query?,1.0,https://www.reddit.com/r/learnSQL/comments/o5srtg/can_i_have_help_writing_a_query/
71,_Biological_hazard_,1624395651,o5x6mq,8,1,"    UPDATE Table1 JOIN Table2 ON Table1.Col1 = Table2.Col1 JOIN Table3 ON Table2.Col2 = Table3.Col2
    SET Table3.Col4= 1
    WHERE Table1.Col3 = 'Babel' AND Table3.Col4 = 2

Doing this should work as far as I am aware, but it just gives me this error:

`java.sql.SQLSyntaxErrorException: unexpected token: JOIN required: SET`

I have no idea what to do to solve this. I used all the possible combinations I found on [this](https://stackoverflow.com/questions/1293330/how-can-i-do-an-update-statement-with-join-in-sql-server) thread, but none work.",learnSQL,UPDATE in HSQL with JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/o5x6mq/update_in_hsql_with_join/
72,_ilovecereal_,1624423253,o65ov1,2,1,"Yo guys,

(almost) complete beginner here, getting to the dead end while trying to migrate some data.

SQL Server, data migration, beginner level
I have to migrate the data from old database to the new one - basically I have a PROJECT table with attributes - ID, WEEK, EMPLOYER and some additional (important comments).

In the other table I have many attributes but also WEEK, EMPLOYER and foreign key to the previously mentioned PROJECTID that I didn't migrated yet. 
The questions is how to fill (INSERT) the ""foreign keys"" into the second table based on the same combination of WEEK &amp; EMPLOYER. 

If I was not clear enough about the problem, please let me know.",learnSQL,Data transformation issue,1.0,https://www.reddit.com/r/learnSQL/comments/o65ov1/data_transformation_issue/
73,Elliot9874,1624468219,o6ha32,4,1,"I have a function in my database when I pass a value it returns multiple rows back.

&amp;#x200B;

For Example:

select MainOrgCstKey, RelatedOrgCstKey

from fn\_client\_aaahc\_get\_all\_parent\_satellite\_related\_organizations('44E85D56-25C4-4A6B-8FD4-1789B758F986', 'Y')

returns these values:

&amp;#x200B;

|MainOrgCstKey|RelatedOrgCstKey|
|:-|:-|
|44E85D56-25C4-4A6B-8FD4-1789B758F986	|B45937DF-06E4-4D5B-A36E-4D80CA31CD2B|

&amp;#x200B;

Have a table full of MainOrgCST keys.

&amp;#x200B;

My question is how to pass those values of MainOrgCST keys and get back RelatedOrgCstKey and store them in a temporary table.

&amp;#x200B;

Thank you",learnSQL,Storing Results of Function in a table,1.0,https://www.reddit.com/r/learnSQL/comments/o6ha32/storing_results_of_function_in_a_table/
74,draediamond,1624595770,o7ghsu,12,1,"My professor refused to grade these queries because of this even though they are technically joins. I'm thinking about appealing the grade because I find it ridiculous. Do I have an argument? On the ""not allowed"" list, it states no cartesian product (use a join instead)

Here is the query I submitted:

  

SELECT

W.WORK\_LNAME,

J.EQUIP\_NUM,

E.EQUIP\_TYPE,

J.JOB\_STARTTIME,

(J.JOB\_HOURS\_WORKED \* W.WORK\_WAGE) + ((J.JOB\_HOURS\_WORKED \* E.EQUIP\_HOURLY\_RUN\_COST) + E.EQUIP\_STARTUP\_COST) AS 'TOTAL COST',

J.JOB\_QTY\_PRODUCED

FROM MAG.WORKER W,MAG.EQUIPMENT E,MAG.JOB J

WHERE J.EQUIP\_NUM = E.EQUIP\_NUM 

AND J.WORK\_NUM = W.WORK\_NUM

AND (J.JOB\_HOURS\_WORKED \* W.WORK\_WAGE) + ((J.JOB\_HOURS\_WORKED \* E.EQUIP\_HOURLY\_RUN\_COST) + E.EQUIP\_STARTUP\_COST) &gt; 200

AND J.JOB\_QTY\_PRODUCED &lt; 300

ORDER BY (J.JOB\_HOURS\_WORKED \* W.WORK\_WAGE) + ((J.JOB\_HOURS\_WORKED \* E.EQUIP\_HOURLY\_RUN\_COST) + E.EQUIP\_STARTUP\_COST) DESC,

J.JOB\_QTY\_PRODUCED ASC;

   

If I didn't include the where clause I could understand why this wouldn't be allowed but I'm just not getting it here. He stated in a video that this isn't allowed (that I guess I could've watched), but I'm just wondering if technically speaking I'm wrong and don't have a case.",learnSQL,I received an awful grade on an assignment because I used a cartesian product and I'm not understanding how it's not considered a join.,1.0,https://www.reddit.com/r/learnSQL/comments/o7ghsu/i_received_an_awful_grade_on_an_assignment/
75,boilerup800,1624651120,o7v97p,1,1, ,learnSQL,Use MySQL Window Functions to Get More out of Your Data,1.0,https://arctype.com/blog/mysql-window-functions/
76,rSlashGigi,1624714015,o8arln,1,1,"Hi, I need some help with my update query. I have a database with a string field. The strings I’d like to update all contain a part ‘-PD105-‘. I’d like to alter this to ‘-PD501-‘ without touching the rest of the string as they all differ. 

But set ‘*-PD501-*’ where ‘*-PD105-*’ doesnt seem to work. Anyone know how to do this?",learnSQL,How to update part of a string in MS Access,1.0,https://www.reddit.com/r/learnSQL/comments/o8arln/how_to_update_part_of_a_string_in_ms_access/
77,martin_m_n_novy,1624715542,o8b724,2,1, ,learnSQL,Sqliteviz is a single-page offline-first web app for fully client-side visualisation of SQLite databases or CSV files,1.0,https://lana-k.github.io/sqliteviz/
78,Gullible_Penalty1721,1624735393,o8h9q9,10,1,Whats everyone's pet peeve in SQL?,learnSQL,SQL Pet Peeve,1.0,https://www.reddit.com/r/learnSQL/comments/o8h9q9/sql_pet_peeve/
79,OguzKayra,1624794895,o8voag,1,1, ,learnSQL,[Article] Most Used SQL Queries For Beginner,1.0,https://mymasterdesigner.com/2021/06/27/most-used-sql-queries-for-beginner/
80,CompetitiveFortune00,1624795432,o8vsxl,6,1,"Hi, 

I am a rising college sophomore who plans on heading into a data science career path and has been practicing SQL (mainly mySQL and Postgre) since the beginning of this summer. I have worked through about 50 to 100 practice problems on Leetcode and Hackerrank and plan to move on working  with some real life SQL problems now.

I am now considering browsing through posts on this thread and Stack overflow and work on problems posted by real people to solve them, but I suddenly realized that I have never even laid a hand on real dataset and SQL IDE (if something like this exists for SQL as in Java and Python?)  through which I can just create my own table and work on them as I wish.

tldr: where can I download/find a SQL IDE (preferably for mySQL and Postgre if that makes any difference) that allows customized tables and manipulations on these tables. **ALSO,** I would really appreciate some general guidance on what I am supposed to do next to improve my SQL learning journey or set myself up on the data science career. 

Greatly appreciate it!",learnSQL,SQL IDE in which users can create customized table and work on them,1.0,https://www.reddit.com/r/learnSQL/comments/o8vsxl/sql_ide_in_which_users_can_create_customized/
81,ThinIntention1,1624809255,o8zqwb,4,1,"I have a Source Table and a Destination Table 

Is it faster to do:

INSERT INTO  D

SELECT 
FROM SOURCE 
WHERE X Y Z 


OR  



SELECT * FROM SOURCE 


DELETE FROM DESTINATION WHERE XYZ",learnSQL,Which is faster? - Insert Into or Delete ?,1.0,https://www.reddit.com/r/learnSQL/comments/o8zqwb/which_is_faster_insert_into_or_delete/
82,uwemneku,1624939763,oa0ox4,4,1," I ran the following SQL code 

     -- create a table 
    CREATE TABLE DEPT (   
    ID NUMBER(7) PRIMARY KEY, 
      NAME VARCHAR2(25) 
    );
    
     -- -- insert some values 
    INSERT INTO DEPT (ID , NAME) VALUES  (40, 'Sales') ; 
    ALTER TABLE DEPT ADD Manager_ID NUMBER(5) ; 
    ALTER TABLE DEPT ADD City VARCHAR2(30); 

 This works fine but when i try to add a unique constraint to the city column with the following command 

&amp;#x200B;

    ALTER TABLE DEPT
    ADD CONSTRAINT UC_ffg UNIQUE(city);

 

I get the following error  
1 near “CONSTRAINT”: syntax error

How can i add a unique constraint to a column",learnSQL,How do I add a unique key constraint to a column,1.0,https://www.reddit.com/r/learnSQL/comments/oa0ox4/how_do_i_add_a_unique_key_constraint_to_a_column/
84,JollyWestern6204,1624983784,oabo5w,6,1,"Hello all! I'm fixing up a mistake made in the database and I'm at a loss. 

I want to move/copy the rows from one table's column to another table's column. My current query is not working. What's wrong with it?

UPDATE tableA

SET tableA.columnA = tableB.columnA

WHERE tableA.columnB = tableB.columnB

I get the error unknown column tableB.columnB in where clause",learnSQL,Copy rows from one table to another query not working,1.0,https://www.reddit.com/r/learnSQL/comments/oabo5w/copy_rows_from_one_table_to_another_query_not/
85,KyotaLangard,1624987860,oad1mn,4,1," Link: [https://visualsql.net](https://visualsql.net/)

When I was working at my previous job, some queries were getting pretty big and ugly, and I started thinking about some kind of tool that could make building my SQL queries cleaner and more convenient. I thought that there must be a better way to organize queries other than in a wall of text.

Someone pointed to me that there were already some software like Alteryx and Knime that are visual, but for my objective (to just visually organize SQL queries) these were overkill and overbudget. Also, their dark theme is either non-existent or ugly as hell.

There are also other tools like Chartio's Visual SQL and Active Query Builder that are kinda ""visual"", but not the kind of visual that I wanted. So I decided to create my own.

Supports all modern browsers. Also supports tablets and IE11. Dark mode by default, light mode isn't even a consideration.

Don't know if it will be useful to you guys, but this would certainly be a game changer for my past self. I'll keep refining this project over time so feedback is much appreciated!",learnSQL,I built a free online tool that lets you visually organize your SQL queries. It may also help you learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/oad1mn/i_built_a_free_online_tool_that_lets_you_visually/
86,jrz1977,1624991482,oae9iu,0,1,[removed],learnSQL,Online tool for learning and practicing SQL,1.0,https://www.reddit.com/r/learnSQL/comments/oae9iu/online_tool_for_learning_and_practicing_sql/
87,AcademicSuccess,1625003997,oaijbi,1,1,"I'm still wrapping my head around SQL databases and am struggling to find a simple answer to this kind of question:

Say we have a database for a to-do list application. We have a list of users, each user has a list of groups (e.g. personal, work, study, ...), each group has a list of tasks, and each task has a list of simpler subtasks. The groups/tasks/subtasks of each user are private and will only be seen by them.

Would it be as simple as just having a table of users, groups, tasks and subtasks and connecting them through primary and foreign keys? It just seems inefficient for a user to get the same few tasks out of a list of potentially millions/billions of rows.

I have experience working with the NoSQL database Firestore so I'm looking at the problem from that point of view.

Cheers",learnSQL,"How would I structure a SQL database for a to-do list application with users, groups, tasks and subtasks to scale?",1.0,https://www.reddit.com/r/learnSQL/comments/oaijbi/how_would_i_structure_a_sql_database_for_a_todo/
88,computerguy11111,1625009994,oakhh1,0,1," 

I'm putting the function parameter into a constructor inside the function (with the aim of that parameter going into a MYSQL Statement) **""new MapSqlParameterSource(""table\_name"", tableName);""** , but it won't receive it. However, when I hardcode a tableName into the second parameter, it works, and my userinterface sees every row with that table name. How can I make it receive the parameter? Thank you!

The front end is a JSP page and I am using Spring MVC. This below is in the controller class. And the proper tableName is being sent to the function, but I'm not able to get it into the constructor.

    @RequestMapping(value = ""/edit/{tableName}"", method = {RequestMethod.GET, RequestMethod.POST})
    public String showEditProductPage(@PathVariable(name = ""tableName"") String tableName, Model model) {
            
    final String FETCH_SQL = ""select * from reservations where table_name = :table_name"";
         
    //this is the part I refer to in my sentence above where if I hard code, it works.
        SqlParameterSource namedParameters = new MapSqlParameterSource(""table_name"", tableName);
    
                List &lt;Guests&gt; guest = namedParameterJdbcTemplate.query(FETCH_SQL, namedParameters, new RowMapper&lt;Guests&gt;() 
                {public Guests mapRow(ResultSet rs, int row) throws SQLException{
                    Guests guest = new Guests();
                    guest.setId(rs.getLong(1));
                    guest.setName(rs.getString(2));
                    guest.setTime(rs.getString(3));
                    guest.setDate(rs.getString(4));
                    guest.setTableName(rs.getString(5));
                    return guest;
                }
                });
                model.addAttribute(""guests"", guest );
        
        return ""/edit_guest"";
    }",learnSQL,Failing to paramaterize a MYSQL Statement in Java in one small way (Spring MVC); help please?,1.0,https://www.reddit.com/r/learnSQL/comments/oakhh1/failing_to_paramaterize_a_mysql_statement_in_java/
89,_ilovecereal_,1625055412,oaw3n1,1,1,"Basically I have a query that consists of one pretty basic query and another dynamic query (defined as DECLARE @query nvarchar(max)) which also consists of 2 UNIONs and 2 UNION ALLs. 

First query is executed instantly, while the second one takes 10-30 seconds and I have no idea what to do because I already followed every tip on internet and had no success.",learnSQL,Dynamic SQL Query performance,1.0,https://www.reddit.com/r/learnSQL/comments/oaw3n1/dynamic_sql_query_performance/
90,penny__wise,1625065633,oaz868,6,1, ,learnSQL,Should I store phone numbers with a '+' sign? I am planning to use Twilio which needs a '+' sign before phone numbers to send SMS.,1.0,https://www.reddit.com/r/learnSQL/comments/oaz868/should_i_store_phone_numbers_with_a_sign_i_am/
91,Mattc478,1625079969,ob457f,1,1," 

When I run this query the results are showing correctly but are showing up multiple, multiples times. Why?

SELECT revenue.symbol, revenue.metric, revenue.March\_2007, lt\_debt.march\_2007, Sectors.sector

FROM ((Revenue INNER JOIN Lt\_debt ON Revenue.symbol = lt\_debt.symbol)

INNER JOIN Sectors ON lt\_debt.symbol = Sectors.symbol)

ORDER BY revenue.March\_2007 DESC;",learnSQL,Multiple Rows Displayed,1.0,https://www.reddit.com/r/learnSQL/comments/ob457f/multiple_rows_displayed/
92,syossi,1625082232,ob4x0g,1,1,"&amp;#x200B;

Hi, I need your feedback! [codenga.com](https://codenga.com/?utm_source=reddit&amp;utm_campaign=startfifi) is all about simple lessons that teach you how to code in a practical way. No prior knowledge necessary. No technical jargon. Plenty of explanations and practical exercises.

You can join fore free with Python course here: [Python Fundamentals LVL 1 (164 exercises) - codenga.com](https://codenga.com/products/python_fundamentals_level_1?utm_source=reddit&amp;utm_campaign=startfifi)

I will be very grateful for your feedback",learnSQL,"New, interactive way to learn coding - codenga.com | SQL, FREE PYTHON COURSE (164 exercises)",1.0,https://www.reddit.com/r/learnSQL/comments/ob4x0g/new_interactive_way_to_learn_coding_codengacom/
93,Homura_A,1625083520,ob5dbx,0,1, ,learnSQL,Best textbook for learning SQL for data analytics/data science?,1.0,/r/SQL/comments/ob5cs5/best_textbook_for_learning_sql_for_data/
94,Deepak__Deepu,1625160826,obqtkr,4,1, ,learnSQL,Guys need some help :(,1.0,/r/SQL/comments/oblgdd/sql_query_for_how_to_sum_data_by_month_which_has/
95,noxlv,1625231078,oc9ogt,2,1,"I'm getting this error, which I don't understand (Presto)

    Invalid format: ""2021-04-06 07:06:38.000"" is malformed at ""-04-06 07:06:38.000"" [DB Errorcode=7]

&amp;#x200B;

    with test as (
    	SELECT max(date) date
    	FROM db1.vw1
    	UNION ALL
    	SELECT max(date) date
    	FROM db2.tbl1
    )
    SELECT deals.*
    FROM db3.vw_agg deals
    where date in (SELECT date FROM test);

When I query only the select statements within WITH, I get 20210621 and 20210701  
I don't understand when I run the whole query, it throws an error with out of the date and timestamp?",learnSQL,Not getting it,1.0,https://www.reddit.com/r/learnSQL/comments/oc9ogt/not_getting_it/
96,uncertain_expert,1625234939,ocaupb,0,1,"I have one function called from a C# application (I am not a C# programmer) to a MSSQL 2019 database written as so:

    Function dbo.fncReturnTable {@PartID uniqueidentifier}
Returns Table 
As 
Return (
         Select * From tblBatch Where Partid=@PartID
)

Is the return-type of this fucntion (from the perspective of a C# application) going to be the same as from a function declared like this:  


    Function dbo.fncReturnTable {@PartID uniqueidentifier}
Returns @ReturnTable Table (BatchID UniqueIdentifier, PartID UniqueIdentifier)
AS
BEGIN
    Insert Into @ReturnTable
            Select BatchID, PartID
            From tblBatch
        Return
    END

From what I can see in SSMS the actual data appears the same when I call either function to test, but I'm not certain the C# program is handling the result set in the same manner.

Can anyone confirm?",learnSQL,Differences in return data from table-valued function,1.0,https://www.reddit.com/r/learnSQL/comments/ocaupb/differences_in_return_data_from_tablevalued/
0,groovygrilldad,1620004414,n3kkvg,5,1,"hey guys! So I'm working on a cart and right now I'm polishing out an update statement that will reduce my quantity in inventory upon check out. Right now it works fantastic when I'm just checking out with one item, I can enter any quantity and that will be removed from the product's quantity in my database upon checkout, but when I have multiple items, nothing happens. I was hoping someone could review my statement and point me towards why, thank you much!

    UPDATE testproducts1 INNER JOIN testorder_items ON testorder_items.product_id = testproducts1.id SET testproducts1.Quantity = testproducts1.Quantity - testorder_items.quantity WHERE testorder_items.order_id = "".$orderID",learnSQL,SQL update statement works for one item in cart but not for mutiple,1.0,https://www.reddit.com/r/learnSQL/comments/n3kkvg/sql_update_statement_works_for_one_item_in_cart/
1,Nuckin_Futs90,1620071390,n45i1q,8,1,"I've been looking at ways to advance/change my job for a while and decided to start learning SQL. I'm still pretty new to it and going through the basics at the moment, but so far it's been really interesting and enjoyable!

For info, my current job is as an Analyst and I produce monthly reports. This is done with a lot of Excel spreadsheets (I'm not too bad at Excel but definitely could be better) and also with use of Access databases. But... I only use these Excel workbooks and Access databases which have been created by another team and I don't have much interaction with the databases themselves, I just use what they have made as a tool to generate paperwork. And yes, I have asked about getting into that team but 'no scope at the moment, no positions, budget this and that' etc etc blah blah blah (you get the idea). 

Regardless, I found I enjoy the data side of my job more than anything which is why I picked up SQL in the hopes it could open up some doors for me.

My question is what kind of jobs should I try look for once I've got myself to a comfortable level with it? Keeping in mind I'll only know intermediate Excel and beginner SQL. Would there be anything else worth looking into/learning alongside SQL? 

Thanks all.",learnSQL,Learning SQL for a career change/boost,1.0,https://www.reddit.com/r/learnSQL/comments/n45i1q/learning_sql_for_a_career_changeboost/
2,-Deadzone-,1620091800,n4cumz,3,1,"As the title, we have employees that joined today,  and select * from employees shows all date_joined but I cannot complete where date_joined. What am I doing wrong? 

Thank you",learnSQL,Select * from employees where date_ joined = '03 -may-21' why does this not return any results?,1.0,https://www.reddit.com/r/learnSQL/comments/n4cumz/select_from_employees_where_date_joined_03_may21/
3,cally0611,1620096665,n4ebzw,1,1,"Hi, 

This is my query, it basically checks for a specific date in all the tables and then..does a join with 3 tables to get matching data. The thing I am need help is, the left join with the table ""Deliveries' is returning all the matching rows,  I only need the top 1 row that matches this specific condition 'PickupDate' &gt;= '@Value'  and the other rows to return as it.  I am inserting the code here. 

    USE [Bottleneck_new]
    GO
    /****** Object:  StoredProcedure [dbo].[CheckforDateinTables]    Script Date: 5/4/2021 12:31:35 AM ******/
    SET ANSI_NULLS ON
    GO
    SET QUOTED_IDENTIFIER ON
    GO
    -- =============================================
    -- Author:		&lt;Author,,Name&gt;
    -- Create date: &lt;Create Date,,&gt;
    -- Description:	&lt;Description,,&gt;
    -- =============================================
    ALTER PROCEDURE [dbo].[CheckforDateinTables]
    	--@Value date
    	
    AS
    BEGIN
    	-- SET NOCOUNT ON added to prevent extra result sets from
    	-- interfering with SELECT statements.
    	SET NOCOUNT ON;
    
    Declare @Value date 
    
    Set @Value = '2021-03-30'
    --Set @Value = CONVERT(VARCHAR(10), getdate(), 23)
    
    
    --for that I m creaating one tamp table
    Create Table #Table
    (
    	TableName Varchar(500),
    	ColumnName Varchar(500),
    	Id int Identity(1,1) --use for iteration
    )
    insert into #Table
    SELECT TABLE_SCHEMA + '.' + TABLE_NAME As TableNam,Column_name As ColumnName
    FROM INFORMATION_SCHEMA.COLUMNS where COLUMN_NAME = 'PlanDate'
    
    --select * from #Table
    
    
    Declare @Count Int --total record to iterated
    Set @Count=0;
    
    
    Select @Count=Count(*) From #Table
    
    
    Declare @I int --initial value one to iterate
    Set @I=1;
    
    
    Declare @TableName varchar(500)
    Set @TableName=''
    Declare @ColumnName varchar(500)
    Set @ColumnName=''
    
    
    Declare @Str nvarchar(1000)
    Set @Str=''
    Declare @param nvarchar(1000)
    set @param=''
    
    
    Declare @TableNameFound varchar(max)
    Set @TableNameFound=''
    
    
    Declare @Found bit
    Set @Found=0;
    
    
    
    
    While @I&lt;=@Count
    Begin
    
    
    	Set @Found=0;
    	Select @TableName=TableName,@ColumnName=ColumnName From #Table where Id=@I;
    	
    
    	Set @param='@TableName varchar(500),@ColumnName varchar(500),@Value varchar(50),@TableNameFound varchar(max),@Found bit output'
    
    
    	--Set @str='Select @Found=1 From '+@TableName+' where '+@ColumnName+'=@Value'
    	Set @str='Select @Found=1 From '+@TableName+' where '+@ColumnName+'=@Value' + ' and TypeofValue = ''Rough Cut Plan'''
    
    	
    
    	-- here we are using tablename and actual value to find in table
    	print @str
    	exec sp_executesql @str,@param,@TableName,@ColumnName,@Value,TableNameFound,@Found output
    	
    
    	if @Found=1
    	Begin
    		Set @TableNameFound=@TableNameFound+','+@TableName
    		--insert into #Table(TableName) values (@TableNameFound)
    	End
    	
    
    
    
    print @I
    --increament value of @I
    Set @I=@I+1;
    End
    
    
    declare @record varchar(max)
    
    
    SELECT ELEMENT as TableName, DenoProfile.DenoProfileID as DenoProfileID, FinishedBN.DenoProfID as DenoProfIDFGstock,FinishedBN.DateStock, FinishedBN.FinishAmount, Deliveries.DenoProfID, Deliveries.NotesAmtMil, Deliveries.PickupDate,CAST(ROUND(((FinishAmount/(Deliveries.NotesAmtMil*1000000))*100), 2) AS decimal(10,1)) as DerivedRes1  FROM dbo.string_split(@record, ',')
    	LEFT JOIN DenoProfile ON Element =  (SELECT SCHEMA_NAME()) +'.' + DenoProfile.TableName 
    	LEFT JOIN FinishedBN ON DenoProfile.DenoProfileID = FinishedBN.DenoProfID 
    	LEFT JOIN Deliveries ON DenoProfile.DenoProfileID = Deliveries.DenoProfID  
    
    
    
    
    drop table #Table
    END
    
    

and the Deliveries table

    DeliveryID	DenoProfID	NotesAmtMil	PickupDate
    1	26	10.8800	2021-03-16
    2	26	35.1400	2021-03-15
    3	26	0.0600	2021-03-15
    4	11	46.0800	2021-03-24
    5	7	40.4000	2021-03-25
    6	27	6.0000	2021-03-25
    7	16	21.6000	2021-03-22
    8	28	0.0010	NULL
    9	18	96.0000	2021-03-26
    10	15	64.8000	2021-03-25
    11	1	28.1600	2021-03-22
    12	29	11.9914	2021-03-22
    13	29	0.0462	2021-03-22
    14	26	21.7600	2021-03-23
    15	16	30.6000	2021-03-31
    16	26	33.2800	2021-04-01
    17	1	1.9200	2021-03-29
    18	26	10.8800	2021-03-30
    19	2	100.0000	2021-04-10
    20	9	55.0000	NULL
    21	30	7.6800	2021-04-07
    22	28	88.0000	NULL
    23	31	16.0000	2021-04-06
    24	30	15.3600	2021-04-15
    25	17	32.4000	2021-04-13
    26	32	49.8000	NULL
    27	33	60.0000	NULL
    28	34	11.0000	NULL
    29	35	11.0000	NULL
    30	36	11.0000	NULL
    31	37	50.0000	2021-04-22
    32	38	30.0000	NULL
    33	19	90.0000	NULL
    34	27	3.4000	2021-04-20
    35	27	2.8000	2021-04-20
    36	7	0.8000	2021-04-20
    37	4	0.9000	2021-04-20
    40	17	23.0000	2021-04-01

Right now, the query returns this result ..

    TableName	DenoProfileID	DenoProfIDFGstock	DateStock	FinishAmount	DenoProfID	NotesAmtMil	PickupDate	DerivedRes1
    dbo.Phi_40	19	19	2021-03-30	12000000	19	90.0000	NULL	13.3
    dbo.Taj_40	21	NULL	NULL	NULL	NULL	NULL	NULL	NULL
    dbo.Gui_40	25	NULL	NULL	NULL	NULL	NULL	NULL	NULL
    dbo.Rwa_40	22	NULL	NULL	NULL	NULL	NULL	NULL	NULL
    dbo.Eth_40	15	15	2021-03-30	0	15	64.8000	2021-03-25	0.0
    dbo.Mal_40	17	17	2021-03-30	6480000	17	32.4000	2021-04-13	20.0
    dbo.Mal_40	17	17	2021-03-30	6480000	17	23.0000	2021-04-01	28.2
    dbo.Maintenance	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
    dbo.Taj_40	9	9	2021-03-30	55562000	9	55.0000	NULL	101.0

A clearer image than the values above ; - 

https://preview.redd.it/11t0fyr3p0x61.png?width=1025&amp;format=png&amp;auto=webp&amp;s=bc02c62bd7b00d90aa0e41b8f8c1dd2d855f67be

&amp;#x200B;

I need help in getting the result similar to this, the whole dataset must be returned nevertheless.

&amp;#x200B;

https://preview.redd.it/81gnhnzip0x61.png?width=1549&amp;format=png&amp;auto=webp&amp;s=a7cf86b9853d00f26fb0d467cdbda6183721e7b9

Please assist, do",learnSQL,Get only values matching a condition in the select - join query,1.0,https://www.reddit.com/r/learnSQL/comments/n4ebzw/get_only_values_matching_a_condition_in_the/
4,vanilla_thunder34,1620101311,n4fmaa,1,1,"I am very new to learning SQL but do have a general working knowledge of DBs. If I wanted to return all records in a table without listing each column (using select *), but want to create a new column adding values from 2 columns, how would I do that?

I’ve tried running:

SELECT *
   column a + column b AS “new column name” 
FROM table_name;

But it’s not returning any results and is error if out. 

Is there something i am missing writing the query?",learnSQL,Select * and make a new column adding values from 2 columns,1.0,https://www.reddit.com/r/learnSQL/comments/n4fmaa/select_and_make_a_new_column_adding_values_from_2/
5,shogun12,1620103114,n4g35b,1,1,"I would like the ""Model"" column to only contain distinct values which do not repeat. If a country does not have the model, then I would like it to be ""0""

Thank you for the help",learnSQL,Question on aligning columns.,1.0,https://www.reddit.com/r/learnSQL/comments/n4g35b/question_on_aligning_columns/
6,radiosnooze,1620139035,n4pw2a,6,1,"Hello, beginner here.  
I have 4 companies with different products (category,  name,  availability, price, discount). Some of the products are the same, the  rest is unique to the company.  The database should have daily entry for  each product to record the price changes and discount availability for  time series  analysis and comparison. Which database model would you  suggest for this kind of problem?  
Thanks!",learnSQL,"Is SQL good for this task and if yes, which schema would you suggest?",1.0,https://www.reddit.com/r/learnSQL/comments/n4pw2a/is_sql_good_for_this_task_and_if_yes_which_schema/
7,nachiketas_,1620146897,n4t3v6,5,1,"The below code works, however in this case there is no explicit JOIN used between *actor and casting* tables. How is the below code working? Can I string several (&gt;2) tables in like manner?

    
    SELECT name
    FROM actor, casting
    WHERE id=actorid AND movieid = (SELECT id FROM movie WHERE title = 'Casablanca')",learnSQL,Data from two tables without a JOIN?,1.0,https://www.reddit.com/r/learnSQL/comments/n4t3v6/data_from_two_tables_without_a_join/
8,NOLES320,1620160813,n4xmss,1,1,"&amp;#x200B;

    select workorder.wonum, workorder.description, workorder.worktype, workorder.status,       workorder.statusdate,workorder.assetnum, asset.description as assetdescr, workorder.pmnum,workorder.location, locations.description as locdescription, workorder.siteid, workorder.actfinish, doclinks.document as attachment
    from asset asset
    join workorder workorder on workorder.assetnum = asset.assetnum and workorder.siteid = asset.siteid
    join locations locations on workorder.location = locations.location and workorder.siteid = locations.siteid
    left outer join doclinks on ownerid = workorderid and doctype='Attachments' and ownertable='WORKORDER'
   where
    workorder.istask = 0
     and workorder.worktype = 'CAL'
     and workorder.woclass = 'WORKORDER'
     and workorder.statusdate &gt; dateadd(month,-6,getdate())
     and workorder.status in ('COMP')
     and workorder.location = locations.location and workorder.siteid = locations.siteid
     and workorder.assetnum = asset.assetnum and workorder.siteid = asset.siteid
  order by workorder.siteid, workorder.wonum

Is there any way I can edit the following to still return records even when assetnum and location are null?",learnSQL,Help returning null values,1.0,https://www.reddit.com/r/learnSQL/comments/n4xmss/help_returning_null_values/
9,Buttery_97,1620185093,n564pe,0,1,"Hey, so I'm looking to pivot my table and seem to be having some trouble. Some code I've tried is:

 `SELECT DAYNAME(created), name, sum(price) AS totalprice` 

`FROM master_table PIVOT (`

`SUM(totalprice)`        

`FOR [DAYNAME] IN ([Monday], [Tuesday], [Wednesday], [Thursday], [Friday], [Saturday], [Sunday])` 

`)` 

`WHERE  YEARWEEK(created, 1) = YEARWEEK(CURDATE(), 1) group by name order by product_id""` 

and 

`SELECT DAYNAME(created) AS weekname, name, sum(price) AS totalprice`

`FROM master_table`

`PIVOT(`

`SUM (totalprice)`

	`FOR [weekname] IN ([Monday], [Tuesday], [Wednesday], [Thurday], [Friday], [Saturday], [Sunday])`

`) AS P`

`WHERE  YEARWEEK(created, 1) = YEARWEEK(CURDATE(), 1)` 

`group by name`

`order by product_id`

it seems like in each instance the opening parenthesis is causing some problem.

Any help is appreciated, feel free to ask for more context is need be.

Here is a picture of my current table, I would like to have days of the week as a column ""title"", name as the row ""title"".",learnSQL,Pivot help,1.0,https://www.reddit.com/r/learnSQL/comments/n564pe/pivot_help/
10,RestorationProjects,1620185819,n56cro,6,1," 

Hi all,

I have worked as a manager at a small to mid size company for almost 10 years and been a key player in terms of developing various excel worksheets for things such as project cost estimating and scheduling, as well as some Sharepoint/PowerApps and other web applications that house cloud data stored (that can be exported into excel).

As we've grown we've found uses for the different data but all reporting and retrieval and organization of data is manual, and it is difficult to manage or use effectively, given the various software platforms and lack of a single database where the information is housed.

I have an idea (dream? lol) to save all of this information in a SQL server where it can be reported on and used to guide business making decisions. I am just not sure where to get started to make this happen. I really enjoy the topic and study of database management, but I don't know if I have the time to really build something from scratch. I've bought a couple SQL and PHP books, as well as some Codecademy where I've scratched the surfaces of Python, but I never get very deep or consistent with my learning because of the demands of my life and normal job.

At a very basic level, I want to create a dynamic system of uploading multiple excel files, with multiple tabs usually, into a SQL server in an automated fashion, and then using the database to create a list of automated reports (in excel or visually in something like powerbi).

I was thinking potentially hiring a SQL consultant from UpWork or the like to get started. Any other ideas of cheap but effective solutions to help build a SQL server from the ground up using an outside consultant? Is there any way I can get something like this off the ground myself within the next couple months, without very little SQL experience and not much extra time (10 hours a week maybe) to work on the development of the SQL server and reporting tools? Is it possible to have someone build a SQL Server and then I manage it day-to-day (and if so, recommendations on how to go about that)?

Thank you I appreciate your time and help.",learnSQL,SQL - creating a server and reports for small to mid size company,1.0,https://www.reddit.com/r/learnSQL/comments/n56cro/sql_creating_a_server_and_reports_for_small_to/
11,DiscvrThings,1620206644,n5btbl,0,1,[removed],learnSQL,How would you improve this query? INTERSECT not supported.,1.0,https://www.reddit.com/r/learnSQL/comments/n5btbl/how_would_you_improve_this_query_intersect_not/
12,tigerhooella,1620213593,n5djjb,3,1,MySQL was integrated into my Excel upon request of my manager so we would spend less time while gathering data we need in weekly and monthly basis. I tried to download data to excel with a query which should be what I am supposed to do ; MySQL for Excel doesn't even let me to write a query so I ended up achieving nothing there as the data is quite big. I believe query should be written on MySQL seperately. Does anyone have any experience with MySQL for Excel? What are the limitations etc? Thanks in advance.,learnSQL,Has anyone have experience with MySQL for Excel?,1.0,https://www.reddit.com/r/learnSQL/comments/n5djjb/has_anyone_have_experience_with_mysql_for_excel/
13,lodi777,1620233302,n5kigp,3,1,Could anyone help me through some queries? I've got some assignments due and I'm getting stuck often. Thanks.,learnSQL,SQL help,1.0,https://www.reddit.com/r/learnSQL/comments/n5kigp/sql_help/
14,yoong421,1620285782,n61o2u,13,1,"Hi all,

I work in finance and sometimes I have to search for data from quite a few different files across a period of time. 

Or I need to filter and extract certain data from existing excel tables. 

Or analyse data across a period of time to see if there is a pattern.

Recently, I wanted to improve my skills hence I started learning/watching SQL youtube videos and tried a course on Udemy. I understand and know how to set up database or enter simple commands on mySQL to find what I want.

However, when looking to implement to my job, I'm stuck.

For example, these database/excel files are already existing as an outcome from other team members or downloaded from existing systems in place. 

I would assume that I will need to:

1. Add these files into my database - which I'm a little lost, as it seems like I need to save these tables one by one into CSV, import into mySQL which will take a while...
2. Connect this database to something I can work with - like Power BI or excel where I can set up a pivot table connected to this database or a search function something like that? Very lost here as excel keeps telling me it cannot connect to mySQL, I installed ODBC but I can't seem to set it up to link to my excel?? Should I be sharing some screenshots here for further guidance?

How does people work with these database? I don't assume that people are making analysis or typing commands into phpmyadmin all the time just to find something? 

I feel like I'm missing the part on how to actually make this useful for myself :(",learnSQL,Struggling with actually using SQL in daily work,1.0,https://www.reddit.com/r/learnSQL/comments/n61o2u/struggling_with_actually_using_sql_in_daily_work/
15,bathura,1620302373,n65lrh,2,1,"Database contains information about actors, plays, and roles performed. Actor(actor\_id, name, year\_born) Play(play\_id, title, author, year\_written) Role(actor\_id, character\_name, play\_id)

Why These attempts are wrong?

To DO:

1. SQL query that returns the name of the actors that were born in 1980 and have played in more than 5 plays. 2.SQL query that returns the name of the actor(s) that played in all plays written by the author “Arthur Miller”.

My Attempt for problem 1

    Select DISTINCT a.name From Actor a , Role r , Play p 
    Where a.year_born = 1980 
    HAVING count(DISTINCT r.play_id) &gt; 5 

My Attempt for problem 2

    SELECT DISTINCT a.name From Actor a , Role r , Play p 
    Where p.author = “Arthur Miller” AND p.play_id=r.play_id and r.actor_id = a.actor_id HAVING count (DISTINCT a.actor_id = p.play_id) 

&amp;#x200B;

[https://stackoverflow.com/questions/67417529/how-do-i-query-a-sql-databse-with-3-different-tables-which-contains-information](https://stackoverflow.com/questions/67417529/how-do-i-query-a-sql-databse-with-3-different-tables-which-contains-information)",learnSQL,"How do i query a SQL databse with 3 different tables which contains information about actors, plays, and roles performed?",1.0,https://www.reddit.com/r/learnSQL/comments/n65lrh/how_do_i_query_a_sql_databse_with_3_different/
16,B_Huij,1620331725,n6gcbr,2,1,"I have a query that returns a list of work orders. Each work order has a field listing reasons for the work order, of data type integer array. There are 50 possible reasons we could have a work order, and in many cases there is more than 1 reason selected.

I have a subset of the list of reason IDs that I want to keep. For example, if the int array contains any of 1, 2, 3, 4, or 6, I want it to be included in my results. If it only contains 5, however, I want to filter it out. So a row with {1,5,6} would be included, but a row with {5} would be excluded.

I've done some reading on ""any"", but none of the syntax I have tried so far is working, I'm mostly getting syntax errors returned.

    SELECT
    wo.work_order_id
    ,wo.work_order_reasons
    FROM work_orders wo
    WHERE wo.work_order_reasons = ANY(1,2,3,4,6)
    ;

That didn't work. Neither did

    SELECT
    wo.work_order_id
    ,wo.work_order_reasons
    FROM work_orders wo
    WHERE ANY(wo.work_order_reasons) = 1,2,3,4,6
    ;

Feel like I'm knocking on the door here, but can't quite get it to the finish line. Help me out?",learnSQL,Filtering query to include only records where an integer array field contains at least 1 of the ints in a specific list of ints,1.0,https://www.reddit.com/r/learnSQL/comments/n6gcbr/filtering_query_to_include_only_records_where_an/
17,againstdeadhand,1620350420,n6myk3,0,1,[removed],learnSQL,Helping my son learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/n6myk3/helping_my_son_learn_sql/
18,freel0ader_san,1620419472,n7871q,1,1,"Hi, i have set a personal target of practicing one hour of SQL coding each day from 7th May to 31st May (25 days in total). You can take part too.

All you have to do is practice SQL one hour each day on your personal computer using any dataset you'd want to. The idea is of learning by doing. 

You can then update everyone participating for each day on what you did in that one hour, any learnings you have etc 

Its on another sub-reddit. You can be any level, doing work on any type of data you want. The goal is to push ourselves get 25 hours of practice in May. Looking forward to a month of querying :p

follow here: [https://www.reddit.com/r/DS\_Buddies/comments/n77wjd/challenge\_day\_1\_sql25days/?utm\_source=share&amp;utm\_medium=web2x&amp;context=3](https://www.reddit.com/r/DS_Buddies/comments/n77wjd/challenge_day_1_sql25days/?utm_source=share&amp;utm_medium=web2x&amp;context=3)",learnSQL,I invite all if you to 25 days SQL challenge,1.0,https://www.reddit.com/r/learnSQL/comments/n7871q/i_invite_all_if_you_to_25_days_sql_challenge/
19,NotQuantified,1620430108,n7c195,1,1,"So [this](https://imgur.com/a/tE9oPk6) is the diagram that was given. The only thing that I am unsure of is if I've properly represented the ""insures,"" ""drives,"" and ""operates"" relationships.

Code:

    CREATE TABLE InsuranceCo (
        name VARCHAR(100) PRIMARY KEY,
        phone INT
    );
    
    CREATE TABLE Person (
        ssn INT PRIMARY KEY,
        name VARCHAR(100)
    );
    
    CREATE TABLE Driver (
        ssn INT REFERENCES Person(ssn),
        driverID INT,
        PRIMARY KEY (ssn, driverID)
    );
    
    CREATE TABLE Vehicle (
        licensePlate VARCHAR(10) PRIMARY KEY,
        year INT,
        cname VARCHAR(100) REFERENCES InsuranceCo(name),
        maxLiability INT,
        ownerID INT REFERENCES Person(ssn)
    );
    
    CREATE TABLE Car (
        licensePlate VARCHAR(10) REFERENCES Vehicle(licensePlate),
        make INT,
        PRIMARY KEY (licensePlate)
    );
    
    CREATE TABLE NonProfessionalDriver (
        driverID INT REFERENCES Driver(driverID),
        PRIMARY KEY (driverID)
    );
    
    CREATE TABLE Drives (
        driverID INT REFERENCES NonProfessionalDriver(driverID),
        licensePlate VARCHAR(10) REFERENCES Car(licensePlate),
        PRIMARY KEY (driverID, licensePlate)
    )
    
    CREATE TABLE ProfessionalDriver (
        driverID INT REFERENCES Driver(driverID),
        medicalHistory TEXT,
        PRIMARY KEY (driverID)
    );
    
    CREATE TABLE Truck (
        licensePlate VARCHAR(10) REFERENCES Vehicle(licensePlate),
        driverID INT REFERENCES ProfessionalDriver(driverID),
        capacity INT,
        PRIMARY KEY (licensePlate)
    );",learnSQL,Need feedback on translation of E/R diagram to CREATE TABLE statements,1.0,https://www.reddit.com/r/learnSQL/comments/n7c195/need_feedback_on_translation_of_er_diagram_to/
20,JohnCrusader,1620506459,n7y02m,16,1, ,learnSQL,I have to select data from a table for the last 7 days only. Could anyone help please?,1.0,https://www.reddit.com/r/learnSQL/comments/n7y02m/i_have_to_select_data_from_a_table_for_the_last_7/
21,xJoe16,1620521071,n82mby,1,1," I have the output from another SELECT query:

    Row  group_count s_group      start_time  end_time
    1	3	1-LM026	    16:00:00	17:00:00	
    2	4	1-LM026	    16:00:00	18:00:00	
    3	11	1-LM026	    12:00:00	13:00:00	
    4	6	1-LM026	    13:00:00	14:00:00	
    5	9	1-LM026	    17:00:00	18:00:00 ****(I want to extract)***	
    6	9	4-LM044	    15:00:00	16:00:00	
    7	15	4-LM040	    13:00:00	14:00:00	
    8	17	4-LM039	    13:00:00	14:00:00	
    9	15	4-LM029	    15:00:00	16:00:00	
    10	4	4-LM090	    17:00:00	18:00:00	
    11	7	4-LM044	    17:00:00	18:00:00	
    12	11	4-LM029	    17:00:00	18:00:00	
    13	13	4-LM044	    09:00:00	10:00:00	
    14	17	4-LM029	    09:00:00	10:00:00	
    15	4	4-LM044	    16:00:00	17:00:00	
    16	2	4-LM044	    16:00:00	18:00:00	
    17	5	4-LM029	    14:00:00	16:00:00	
    18	4	4-LM029	    16:00:00	18:00:00	
    19	6	1-LM044	    16:00:00	18:00:00	
    20	6	1-LM040	    16:00:00	18:00:00

I want to SELECT the group\_count, s\_group, start\_time, end\_time for each group in this output which have MAX(start\_time) and MAX(end\_time). I've somehow been stuck for about 4 hours doing it lol",learnSQL,SELECT * HAVING MAX issue,1.0,https://www.reddit.com/r/learnSQL/comments/n82mby/select_having_max_issue/
22,shunabuna,1620533018,n8605n,4,1, ,learnSQL,I wrote a website that helps practice the basics of SQL queries,1.0,https://www.sql-practice.com/
23,PatentedUsernameTy,1620580701,n8irj9,0,1,"Every time I reload my webpage, it resubmit a a form, without pressing the button. This gets annoying as it clogs up my database, any help?",learnSQL,Form resubmission on reload,1.0,https://www.reddit.com/r/learnSQL/comments/n8irj9/form_resubmission_on_reload/
24,SQLdummy2,1620590948,n8md86,6,1,"I am looking for some help on a SQL question I am working on. I think it will require me to use a CTE and union, but I am not sure exactly how it is done. Any guidance or training links are appreciated!

Question:

In order to optimize staffing for 2021, the Pizza Delivery team wants to identify all order spikes in 2020. Spikes are defined at zip code level and are 1 hour time windows where the number of orders are 2x higher than the same day and hour in the last 4 weeks. Write a SQL query below that will identify what periods are considered spikes.

Orders:

""order\_id"" ""customer\_id"" ""phone"" ""order\_date"" ""zip\_code"" ""bill\_amount""

213217 100004 2197760611 ""2020-12-31 12:59:50"" 46307 15.89

213215 100002 2342342323 ""2020-12-31 12:31:19"" 97845 32.56

213214 134320 4324234523 ""2020-12-31 12:28:13"" 32423 19.36

213213 100001 3523423432 ""2020-12-31 12:25:54"" 60610 25.32

213216 100003 3123754155 ""2020-12-31 12:41:04"" 60612 46.25

CUSTOMER\_DETAILS

""customer\_id"" ""customer\_first\_name"" ""phone"" ""recent\_zip"" ""nearest\_store\_id"" ""miles\_from\_nearest\_store""

134320 ""Scott"" 4324234523 32423 78 3.7

100001 ""Sam"" 3523423432 60620 35 4.2

100004 ""Alexander"" 2197760611 60612 24 4.8

100003 ""Jonathan"" 3123754155 60612 36 1.2

100002 ""Roger"" 2342342323 97845 124 6.5",learnSQL,Looking for some help!,1.0,https://www.reddit.com/r/learnSQL/comments/n8md86/looking_for_some_help/
25,thriveee,1620660001,n97dpt,1,1, ,learnSQL,Order by not ordering correctly,1.0,https://www.reddit.com/r/learnSQL/comments/n97dpt/order_by_not_ordering_correctly/
26,thriveee,1620660073,n97esq,2,1, ,learnSQL,"Order by clause not working correctly, trying to order by ID ASC",1.0,https://i.redd.it/2cqce53y8by61.jpg
27,cuffia_azzurra_2,1620661189,n9809h,0,1, ,learnSQL,The Most Popular Programming Languages - 1965/2021 - New Update,1.0,https://statisticsanddata.org/data/the-most-popular-programming-languages-1965-2021/
28,baby_urbanist,1620678437,n9f6f4,0,1,"I have two tables that have the common fields: id(primary key), fullname(secondary key), dob(secondary key).

I want to:

1. Left join the two tables by the id and if null then join using both secondary keys. Then create a new table.

2. Create a table of the unsuccessful joins(antijoin? / rows that did not join on either keys).

Thanks for your help!!!!!",learnSQL,Condition Join using Primary and Secondary Key then Create Table?,1.0,https://www.reddit.com/r/learnSQL/comments/n9f6f4/condition_join_using_primary_and_secondary_key/
29,fffelix_jan,1620687440,n9ikyi,0,1, ,learnSQL,"How do I create ""groups of users"" and set permissions in SQL Server?",1.0,/r/learnprogramming/comments/n9iklx/how_do_i_create_groups_of_users_and_set/
30,harmlessdjango,1620692313,n9k90r,2,1," 

I am using a data set about tsunamis. One column has the tsunami's id `tsunami_id`  
 and another column has the `country`  
 where the event was recorded. So it looks something like this:

tsunami\_idcountry001japan002egypt003japan......

|tsunami\_id|country|
|:-|:-|
|001|japan|
|002|indonesia|
|003|japan|
|...|...|

I am trying to create a small table with 2 columns: one contains the country and the other contains the total number of tsunamis recorded. My table should look like :

&amp;#x200B;

|country|tsunami\_count|
|:-|:-|
|japan|1776|
|indonesia|420|
|iran|69|
|...|...|

&amp;#x200B;

What can I do and where did I go wrong? here's what I tried so far

    Select DISTINCT country  
    FROM table  
    ORDER BY COUNT(tsunami_id)",learnSQL,Count of distinct events,1.0,https://www.reddit.com/r/learnSQL/comments/n9k90r/count_of_distinct_events/
31,eazzylearninglab,1620733339,n9v2h5,0,1, ,learnSQL,"#eazzylearninglab #DDL #DML Practical Example of DDL,DML,DCL,TCL| SQL Practical Demo DML,DDL,DCL,TCL| SQL functions with example",1.0,https://youtu.be/KBX1w7rIiGc
32,eazzylearninglab,1620733387,n9v2wm,0,1, ,learnSQL,🔥SQL Joins Explained |¦| Joins in SQL |¦| SQL Tutorial |¦| Learn SQL joins |¦| #SQLjoins​ #learnSQL​🔥,1.0,https://youtu.be/mPLVs1YNqQc
33,eazzylearninglab,1620733438,n9v3er,0,1, ,learnSQL,🔥SQL Joins Full Practical | join in sql |SQL Joins Live Practical |sql joins example |Practical join,1.0,https://youtu.be/H455LN6QmtU
34,eazzylearninglab,1620733501,n9v44i,0,1, ,learnSQL,🔥SQL Group By Clause Explanation With Example |Group By Clause |Learn Group By Clause #Groupbyclause,1.0,https://youtu.be/W5Vf209vHp4
35,eazzylearninglab,1620733587,n9v4yu,0,1, ,learnSQL,SQL Constraints with Example | what is SQL Constraints? | CONSTRAINTS IN SQL #Constraints​ #SQL,1.0,https://youtu.be/ooYE-UhxA8I
36,feivel123,1620752530,na1t81,2,1,"&amp;#x200B;

https://preview.redd.it/940uwibjviy61.png?width=754&amp;format=png&amp;auto=webp&amp;s=2f2f86b3fd6d87fd181f64b6e2dd10d8faf9f8bf

Im not really sure if i modeled it right. 

Conditions are: 

* customer are only added to the database if they bought a car
* no car can be sold twice

Suggestions would be appreciated.",learnSQL,Need help with ER Model,1.0,https://www.reddit.com/r/learnSQL/comments/na1t81/need_help_with_er_model/
37,bluesclues142,1620793459,nagbcs,4,1,"For MS SQL.

I have a table called ORDER_LINES:

SEQNO | HDR_SEQNO | ITEM

:--:|:--:|:--:

1 | 1 | HAMMER

2 | 1 | HAMMER

3 | 1 | SAW

4 | 2 | TOOLBOX

5 | 3 | HAMMER

6 | 4 | HAMMER

7 | 4 | SAW

8 | 4 | TOOLBOX

8 | 5 | SAW

9 | 5 | TOOLBOX


I want a statement to be able to return a line for each HDR_SEQNO, such that each unique ITEM is shown in a custom field.

e.g.

HDR_SEQNO | ITEM

:--:|:--:

1 | HAMMER

2 | TOOLBOX

3 | HAMMER

4 | HAMMER, SAW, TOOLBOX

5 | SAW, TOOLBOX


How could I go about doing this?

Best answer I've got is to list distinct ITEMs:

    select distinct HDR_SEQNO, ITEM from ORDER_LINES

but I'd like each HDR_SEQNO on a single row.",learnSQL,Putting multiple fields in a single field (MS SQL)?,1.0,https://www.reddit.com/r/learnSQL/comments/nagbcs/putting_multiple_fields_in_a_single_field_ms_sql/
38,remons_00,1620817444,nam0ie,12,1,"hello, beginner here, I was looking for some resources to learn sql, i've already did something in school but i'm not good in writing queryes such as join queries, group by, correlated and uncorrelated subqueries. so I want to ask you if you know some websites or whatever for learning and or practicing and also whic sql client/ide do you reccomend to me? atm i'm using sql server management studio as I create databases with C# using entityframework but when working  with external sql scripts for creating databases it gives me errors on the column name saying that this column name doesn't exist or whatever even if I created that column from my sql script. thanks everyone",learnSQL,looking for free and good resources to learn SQL (beginner/intermediate level I'd say),1.0,https://www.reddit.com/r/learnSQL/comments/nam0ie/looking_for_free_and_good_resources_to_learn_sql/
39,CoolHanMatt,1620832268,nar09b,1,1,"Ok I can do this in access with a nested query but I cant figure it our in SQL

I want to 
Multiply two fields 
Find the Max number of those 2 fields 
Then return the max number and count of those values 

Col I Type 
ID I int 
name I string 
salary I int 
months I int 

Should return Max([salary]*[months]) and Count(Max([salary]*[months])) 

thanks",learnSQL,"How Do I, Multiply THEN Count and return both results?",1.0,https://www.reddit.com/r/learnSQL/comments/nar09b/how_do_i_multiply_then_count_and_return_both/
40,javalube,1620836716,nass5w,8,1,"I am trying to learn how to build and use databases, but I would like some pointers as to how the process works. Just as a note, I am from a technical background but I'm still a student.

I would like to be able to save data (in CSV format) to a separate local server that I have physical access to in order to query data from the separate server (retrieve a certain row / column from the CSV or the entire column from the CSV). Basically, if I need all the row (X) data, please retrieve it so I could do some calculations on it. This would be possible to do from a separate computer within the same network, so I have a server that I store the data and a main computer.

What is a good tool(s) to do this. I have looked into SQL, PostGresSQL, and using Python to ""hook"" everything up.

From what I understand about databases is you need a server to store the data, then you organize a logic system to retrieve the data (the backend) -- for example using Python -- and then you design a front end that uses a tool like SQL to query certain data. Is my understanding on this correct? Could you please flesh out my understanding on the hardware, backend and frontend? How does the front end hook up to the back end?

Does the server need an OS or can I just hold the data in a hard drive?

Does the server need to have the framework like Python to sustain data in rows / columns properly, is there any free software to do this?

How do I connect the computer and the server so I could send myself data when I need it?

If I phrased something incorrectly, let me know and I will clarify what I mean.

Thank you.",learnSQL,Please Help Me Understand How to Build a Database (Beginner),1.0,https://www.reddit.com/r/learnSQL/comments/nass5w/please_help_me_understand_how_to_build_a_database/
41,lucian-12,1620888021,nbab3r,0,1,https://youtu.be/d37\_2tFPstU,learnSQL,[video] MySQL Server Configuration for High Performance,1.0,https://www.reddit.com/r/learnSQL/comments/nbab3r/video_mysql_server_configuration_for_high/
42,lucian-12,1620888095,nbabpo,0,1, ,learnSQL,[video] MySQL Server Configuration for High Performance,1.0,https://youtu.be/d37_2tFPstU
43,wakeupsamurai928,1620905723,nbejj7,4,1,list of partner suppliers with delivery time under 20 minutes.,learnSQL,Please help,1.0,https://www.reddit.com/r/learnSQL/comments/nbejj7/please_help/
44,Snoo-14816,1620911371,nbg9bu,2,1,"I  will have the opportunity to apply for a job in a couple months which  uses MSSQL (aka SQL Server). Is there a certification that I could get?

MS has this : [https://docs.microsoft.com/en-us/learn/certifications/mta-database-fundamentals/](https://docs.microsoft.com/en-us/learn/certifications/mta-database-fundamentals/)

But I was curious if there were others or if this was the most **legitimate** SQLServer Certification I could get? I want to make sure I have competitive knowledge to get the position.

One  of the main issues with this MS cert is that it doesn't have learning  materials from what I can tell. It's just he Cert exam itself.",learnSQL,MSSQL/SQLServer Certifications?,1.0,https://www.reddit.com/r/learnSQL/comments/nbg9bu/mssqlsqlserver_certifications/
45,kwenzel1,1620994210,nc73ox,0,1, ,learnSQL,Finding Duplicate Rows Using ROW_NUMBER(),1.0,https://youtube.com/watch?v=y4p5lHWd7A4&amp;feature=share
46,JoshBurnsTech,1621005462,ncb1o2,6,1,"Freelancing is definitely not easy and takes a lot of time, dedication, and consistency to be successful long term. I'm personally earning over $10,000 per month on Upwork with my SQL skill set and created the following video covering the following.

[https://www.youtube.com/watch?v=IaHOBEh6NtM](https://www.youtube.com/watch?v=IaHOBEh6NtM)

✅Why I started freelancing and how I got started

✅How to research high paying freelance skills

✅How I landed my first client on Upwork

✅How I find long term clients

✅View my largest contracts

✅My advice to be successful as a freelancer long term

If you're just starting to learn SQL, I hope this gives you inspiration. Even if you don't freelance, SQL is a skill set that you can easily earn $100k+/year depending on your location.",learnSQL,"How I Earn $10,000 Per Month with SQL on Upwork!",1.0,https://www.reddit.com/r/learnSQL/comments/ncb1o2/how_i_earn_10000_per_month_with_sql_on_upwork/
47,upzepomp,1621080202,ncxc3f,14,1, ,learnSQL,Why does the ‘yearID’ column need to be unique if none of the values are the same?,1.0,https://i.redd.it/uzmf5h97y9z61.jpg
48,Difficult-Let6242,1621150433,ndj2bb,1,1,"&amp;#x200B;

https://preview.redd.it/54h0amweqfz61.png?width=1287&amp;format=png&amp;auto=webp&amp;s=bc4eba7c12819740e8c9f25022a50451f82f2739",learnSQL,Never got to learn about how to transpose a table. Teach me if possible in detail how to write the code on this.,1.0,https://www.reddit.com/r/learnSQL/comments/ndj2bb/never_got_to_learn_about_how_to_transpose_a_table/
49,agonstic_girl,1621167546,ndn59u,2,1,"    SELECT CASE
    WHEN A+B&lt;C OR A+C&lt;B OR B+C&lt;A THEN ""Not a Triangle""
    WHEN A= B AND B=C  THEN ""Equilateral""
    WHEN A!=B AND B!=C AND A!=C THEN ""Scalene ""
    else  ""Isosceles""
    END
    FROM TRIANGLES;",learnSQL,"Getting wrong output for this My SQL Code. It is expected to check if it is a triangle or not. And If it is a triangle, it is expected to give the type of triangle",1.0,https://www.reddit.com/r/learnSQL/comments/ndn59u/getting_wrong_output_for_this_my_sql_code_it_is/
50,upzepomp,1621179199,ndqtwp,12,1, ,learnSQL,How can franchID and playerID be the primary key if there are duplicate values in those columns?,1.0,https://i.redd.it/jwnietkk4iz61.jpg
51,MakePie_NotWar,1621197947,ndxji6,0,1,"I'm having trouble figuring out how to modify this trigger to fire when inserting a new record.

This is the initial code:

  

Create Trigger tgrExcessInventory

On Production.ProductInventory

For Update

AS

If Exists

(Select ‘True’

From Inserted i

Join Deleted d

On i.ProductID = d.ProductID

And i.LocationID = d.LocationID

Where (d.Quantity + i.Quantity) &gt;=800

Or i.Quantity &gt;= 800)

Begin

Raiserror (‘Quantity cannot exceed 800 units’, 16, 1)

Rollback Tran

End

Any tips would be greatly appreciated",learnSQL,Modify the trigger to execute its check code only if the Quantity column is updated,1.0,https://www.reddit.com/r/learnSQL/comments/ndxji6/modify_the_trigger_to_execute_its_check_code_only/
52,bobnudd,1621198494,ndxqfo,6,1,"```
SELECT
    d.department_id,
    d.department_name,
FROM
    d
INNER JOIN departments d ON d.department_id = 
    (SELECT
    e.department_id,
    e.department_name,
    e.building_name
    
    GROUP BY 
    e.department_id,
    e.department_name,
    e.building_name)

```",learnSQL,Is this how to use group by in a join?,1.0,https://www.reddit.com/r/learnSQL/comments/ndxqfo/is_this_how_to_use_group_by_in_a_join/
53,LNPlisi,1621199450,ndy2vo,1,1,"Please. I'm a noob, and pulling my hair out.

I have a dataset, let's say with the ownership groups of baseball teams. I'm interested in one particular Owner A, who owns parts of several teams. 

I'm trying to query all the teams Owner A owns, and then using that to pull out all the other partners of Owner A. So If Owner A owns the San Francisco Giants and The Seattle Mariners, I'm trying to get him and all the other owners of the Giants and Mariners as well.

Any help would be very appreciated. Thank you!",learnSQL,Getting all the owners partnered with Owner A,1.0,https://www.reddit.com/r/learnSQL/comments/ndy2vo/getting_all_the_owners_partnered_with_owner_a/
54,Ok-Lettuce5983,1621220511,ne51k8,2,1,"I need to check Table 1 using values from three different tables, and I cannot find the right way to do all that in one query. I tried using left join and count, but I keep getting stuck.

Table 1 - frequent customers who are spending more or less:
Column 1 - ID
Column 2 - “low” / “high”

I need to check if customers from T1 are also found in T2.
T2 - contact permissions:
Column 1 - ID
Column 2 - 1 or 0

I need to check if customers from T1 are either from Germany or Austria.
T3 - location:
Column 1 - ID
Column 2 - “G” when indicating Germany and “A” when indicating Austria

I need to check if Table 1 Column 2 corresponds with Table 4.
T4 - customer value
Column 1 - ID
Column 2 - “value” or “value_x” when high
Column 3 - “value2” or “value2_x” when low",learnSQL,New to SQL - please help with exercise,1.0,https://www.reddit.com/r/learnSQL/comments/ne51k8/new_to_sql_please_help_with_exercise/
55,IohannesArnold,1621228241,ne7dtg,1,1,"Still learning the ropes, but I thought I was really clever for coming up with this:

    CREATE TABLE community (
    	id INTEGER NOT NULL,
    	PRIMARY KEY (id),
    );
    CREATE TABLE share_unit (
    	id INTEGER NOT NULL,
    	community_id INTEGER NOT NULL,
    	PRIMARY KEY (id),
    	UNIQUE (id, community_id),
    	FOREIGN KEY(community_id) REFERENCES community (id)
    );
    CREATE TABLE resident (
    	id INTEGER NOT NULL,
    	community_id INTEGER NOT NULL,
    	PRIMARY KEY (id),
    	UNIQUE (id, community_id),
    	FOREIGN KEY(community_id) REFERENCES community (id)
    );
    CREATE TABLE occupancy_type (
    	community_id INTEGER NOT NULL,
    	share_unit_id INTEGER NOT NULL,
    	resident_id INTEGER NOT NULL,
    	PRIMARY KEY (share_unit_id, resident_id),
    	FOREIGN KEY(resident_id, community_id) REFERENCES resident (id, community_id),
    	FOREIGN KEY(share_unit_id, community_id) REFERENCES share_unit (id, community_id)
    );

I thought that, because occupancy_type's community_id column was doing double duty to reference resident and share_unit, there's no way the database would accept an occupancy type row that linked a resident from one community with a share_unit from another. But when I was writing the test to validate this, to my surprise, this works:

    db.create_all()
    db.session.add(community1)
    db.session.add(community2)
    community1.members.append(resident1)
    share_unit1.community = community2
    resident1.share_units.append(share_unit1)

    db.session.add(resident1)
    db.session.commit()

No errors, and sqlite shows:
    sqlite&gt; select * from resident;
    id|community_id|first_name|last_name
    1|1|Lise|Wittering
    sqlite&gt; select * from share_unit;
    id|community_id|street|locality|postcode|region
    1|2|9 Park|SB|46699|IN
    sqlite&gt; select * from occupancy_type;
    community_id|share_unit_id|resident_id|relationship_name|is_owner
    2|1|1|Occupant|0

So what am I misunderstanding about how ForeignKeys work? (Or, less likely, is this a bug in sqlite?)",learnSQL,Multicolumn ForeignKey not working as expected,1.0,https://www.reddit.com/r/learnSQL/comments/ne7dtg/multicolumn_foreignkey_not_working_as_expected/
56,KlausHoffman,1621254673,neezcq,2,1, ,learnSQL,Answer to this question? Bit lost on it,1.0,https://i.redd.it/77lpkrvzcoz61.jpg
57,OperationCorporation,1621270046,nel99p,11,1,"The query below takes well over a minute, is there any way to optimize it?

    SELECT R.SERIAL_NUMBER ,START_DATE_TIME ,STATUS ,START_DATE_TIME ,FAILED_STEP 
    FROM Data D 
    JOIN ITEM I ON I.Lot_ID = D.ID AND D.Num = '009'
    JOIN RESULT R ON I.Serial = R.SERIAL_NUMBER 
    JOIN 
    (  
    	SELECT COUNT(SERIAL_NUMBER) CNT, SERIAL_NUMBER 
    	FROM RESULT 
    	GROUP BY SERIAL_NUMBER 
    ) C ON R.SERIAL_NUMBER = C.SERIAL_NUMBER 
    WHERE NAME LIKE '%Final%'
    AND START_DATE_TIME &gt; '2020' 
    AND C.CNT &gt; 1 
    AND I.Contract_Yr = 19 
    ORDER BY R.SERIAL_NUMBER, R.START_DATE_TIME DESC  

Any help is really appreciated.",learnSQL,Query Optimization,1.0,https://www.reddit.com/r/learnSQL/comments/nel99p/query_optimization/
58,radiosnooze,1621274315,nen40b,6,1,"Hi,

I have two tables and have to find the  name with the most items. The thing is that it has to be done only by using subquery.   
Here are the tables:  


Table - Names:  


|id|name|age|
|:-|:-|:-|
|1|random\_name|24|
|2|random\_name\_2|40|
|3|random\_name\_3|33|

&amp;#x200B;

Second Table  - Records:

|id|items\_acquired|date|
|:-|:-|:-|
|1|JK890|12-02-2020|
|2|HY789|12-03-2020|
|3|ZX760|14-04-2020|
|1|ER109|01-01-2021|
|1|TR345|03-02-2021|

What I want to show is the name with most items acquired but **only using subquery.**  id from table 1 and table 2 are the primary-foreign keys.  How can I do that?  Also if you could explain the logic behind it would be really great!  


Thank you!",learnSQL,Stuck on subquery question,1.0,https://www.reddit.com/r/learnSQL/comments/nen40b/stuck_on_subquery_question/
59,[deleted],1621280450,neppqx,0,1,[deleted],learnSQL,Query question,1.0,https://www.reddit.com/gallery/neppqx
60,dydude97,1621321452,nf3uk0,11,1,"Hey everyone. I’m wanting to learn SQL over the summer, is there a 100% free website and/or app that I can learn SQL on? Any tips? Thank you for your help!",learnSQL,Beginner,1.0,https://www.reddit.com/r/learnSQL/comments/nf3uk0/beginner/
61,Fantastic-Pirate-160,1621403043,nfxd06,0,1,"hello guys.  
just wondering if i could run a single script \[procedure alter\] in 3 servers at once with each server containing 80+ databases and the procedure is accepted by all so the same procedure can be executed in all of the databases. I am currently using apex propagate but the errors are not well defined in apex so if you know any working tested alternatives that would be so helpful  
thanks for your time reading this post  
I am in need of help so if you know anything that could help i would be very THANKFUL towards your help",learnSQL,MULTI DATABASE SCRIPT,1.0,https://www.reddit.com/r/learnSQL/comments/nfxd06/multi_database_script/
62,MichaelOconnor1,1621486930,ngrbkk,0,1,"Database softwares has been used in the industry for a long time now, and today, they are more important than ever. With the new age 5G revolution at bay, a lot of things are changing. For instance, big data is driving wife networks and archives by simply loading up archives of information.

[https://technostacks.com/blog/best-free-database-software](https://technostacks.com/blog/best-free-database-software)",learnSQL,Top 10 Open Source &amp; Free Database Software For Your Next Project,1.0,https://www.reddit.com/r/learnSQL/comments/ngrbkk/top_10_open_source_free_database_software_for/
63,GreatBody2,1621503785,ngvubz,2,1,"I have two tables:  
\- A table with orders which includes an address\_id for the start city of the order and an address\_id for the finish city of the order.  
\- An address table where the address\_id is linked to a city name and street etc.

&amp;#x200B;

How do I create two columns, showing the start city and finish city for each order? I have to join the two tables, but how do I connect the start city id with the address table for column 1, and connect the finish city id with the address table for column 2?

&amp;#x200B;

Some help would be very welcome!",learnSQL,Selecting start and finish address based on address id,1.0,https://www.reddit.com/r/learnSQL/comments/ngvubz/selecting_start_and_finish_address_based_on/
64,s2897978,1621516805,nh016g,4,1,"Hi there, so I've been working on some demo database stuff in SQL developer that involves just searching various tables and counting stuff etc, my question is for the first time i want to count something on one table using a columns value from a different table, I've done some sql to innerjoin the two tables based off a common value and that works well and i can see the joined result but i try to then do the usual select and count sql ive used it won't work, i presume there is an issue of the second the sql ends those databases aren't technically innerjoined anymore so my select doesnt have the value of one the table i just joined to work sooo my question is if its possible to do the select and count within the single SELECT FROM INNERJOIN command? 

Sorry for the bad formatting im on my phone and this question has been bugging me.",learnSQL,"Novice to SQL, simple question i can't find an answer for",1.0,https://www.reddit.com/r/learnSQL/comments/nh016g/novice_to_sql_simple_question_i_cant_find_an/
65,ahumblefry,1621523682,nh2uk4,5,1,"I'm sorry if this is a repeat post! I couldn't find anything with as much info.

I am wanting to learn SQL so I can start getting the skills for HRIS, data admin etc.  I don't have any programming background beyond an app dev class I took for my minor. I had a hard time in that class because it went too fast so I didn't retain much info. 

Any SQL tutorial I find feels like it assumes I already know how to do basic things or know what some things are/why I'm doing something. I was wondering if anyone had something more step by step or detailed that could help.",learnSQL,"detailed ""lessons"" or tuorials",1.0,https://www.reddit.com/r/learnSQL/comments/nh2uk4/detailed_lessons_or_tuorials/
66,pacoman432,1621523966,nh2yo8,4,1, ,learnSQL,What SQL gives me the following 2 outputs?,1.0,https://i.redd.it/wpydjnxqla071.jpg
67,eazzylearninglab,1621650478,ni8qx2,0,1, ,learnSQL,SQL,1.0,https://youtu.be/dEIMUDSpAWw
68,gorgedchops,1621666589,nicsra,5,1,"I've landed a job as a data Engineer a while back.
I can do basic queries in SQL (I have gone through most of the code wars exercises) and think I am familiar with most of the syntax that SQL has to offer.
I am currently halfway through the book Database System Concepts as well as the Berkely CS186 lectures. 
My current goal is to go through the examples of the book and make sure I understand how Query Processing and Query Optimization work, and was wondering if anyone would like to join me to discuss these topics/chapters, as Ivey always found being able to explain in to someone else is always a good measurement of whether you understand something.
We could start a discord chat for this?

If anyone is interested, please let me know :)",learnSQL,Looking for learning buddy,1.0,https://www.reddit.com/r/learnSQL/comments/nicsra/looking_for_learning_buddy/
69,kaktusmann123,1621684464,nigzmf,0,1,"Beginner here. I think I understand the basics of SQL now. I understand how to have a BOOK table and relate it to an AUTHOR table and so on...

But I am struggling to understand how I would in practice structure my tables so as to measure user activity, churn, retention and other metrics. This is a bit more abstract and I don't understand how I should best think about this!

**Example**

Say I build an a web app, users can sign up and pay a monthly fee. Now I'd like to measure how many of the people who visited my site actually signed up. Then I'd like to see when they come back (in what intervals) and I'd like to know how many people churn and when. How would I do this on the database side?

**Question**

I guess I would have to record every tiny user interaction, like clicks &amp; logins, visits etc. and somehow stitch this together. So far so good. Then I also guess I'd have a USER table that identifies the user by some id, so I can record returning users/visitors. 

But then how would I record their activity or non-activity? in a way that helps me later to analyse things and calculate retention, churn etc.? Could you give me some advice on this? Are there any good resources I could use to learn about this? I know how to do all of this in the frontend, but I am really unsure about how to set up the tables.",learnSQL,"Structure SQL Tables in order to analyse User Retention, Churn &amp; other Metrics? Seems very abstract to me right now, and I would appreciate some advice",1.0,https://www.reddit.com/r/learnSQL/comments/nigzmf/structure_sql_tables_in_order_to_analyse_user/
70,zokzok123,1621760895,nj3xxu,1,1,"Hi! So i have a question in my book with the following query:

&gt;SELECT pack_id ,speed , monthly_payment
FROM acdb_packages
WHERE monthly_payment
 '&gt;' ALL(SELECT monthly_payment FROM acdb_packages WHERE speed = '5Mbps');

And my job is the figure out how to change this query to one using EXISTS/NOT EXISTS instead of &gt; all.

I've been trying to wrap my head around this, and maybe it's easy and my brain is just fried. But can someone explain to me how it's possible, so i can understand it?

Thank you very much in advance",learnSQL,Question regarding interchangeability of EXISTS and IN/ANY/ALL,1.0,https://www.reddit.com/r/learnSQL/comments/nj3xxu/question_regarding_interchangeability_of_exists/
71,freel0ader_san,1621776508,nj7rhm,19,1,"i am trying to calculate the ratio of school going children to total children of school going age  for each district (aka GROSS ENROLMENT RATIO)

i ran the following two queries:

    select district, count(student) school_going 
    from secbc
    where student IN ('class 1','class 2','class 3','class 5','class 4','class 6','class 8' ,'class 7','class 9', 'class 10' )
    group by district;
    
    select district, count(age) as school_going_age 
    from secbc 
    where age between 4 and 18
    group by district);

I cant figure out how to combine it into one code block to find the ratio",learnSQL,trying to calculate a ratio. need help,1.0,https://www.reddit.com/r/learnSQL/comments/nj7rhm/trying_to_calculate_a_ratio_need_help/
72,cuffia_azzurra_2,1621859733,njwxyc,0,1, ,learnSQL,The Most Popular Databases – 2006/2021 - Update May 2021,1.0,https://statisticsanddata.org/data/the-most-popular-databases-2006-2021/
73,oop11,1621865597,njyx2t,0,1,"Let us say that I have a table like this:

a b

lm 2

lm 3

tm 9

I want to count amount of lm and tm like this:

lm: 2

tm: 1

How can I do it?",learnSQL,Counting occurrences,1.0,https://www.reddit.com/r/learnSQL/comments/njyx2t/counting_occurrences/
74,oleg_agapov,1621884143,nk5ynd,22,1,"Hi guys!

I write an open-source book about Data Engineering and recently posted a chapter about learning SQL from scratch.

I tried to make it as simple as possible, trying to avoid hard definitions and concepts. Because I remember learning SQL myself and all the struggles I had with it.

A note for experienced folks – I intentionally skipped a lot of hard topics because my idea is to learn as quickly as possible, so newcomers can write their first query right after reading first sections of the chapter.

Hope you will find it useful. Link to the chapter:

[https://github.com/oleg-agapov/data-engineering-book/blob/master/book/2-beginner-path/2-2-sql-for-beginners/sql-1.md](https://github.com/oleg-agapov/data-engineering-book/blob/master/book/2-beginner-path/2-2-sql-for-beginners/sql-1.md)",learnSQL,SQL for beginners (easy),1.0,https://www.reddit.com/r/learnSQL/comments/nk5ynd/sql_for_beginners_easy/
75,INFLATABLE_CUCUMBER,1621965676,nkvyil,0,1,"Hello. As mentioned I'm trying to get some X-Axis to show up properly in a SQL query. By properly, I mean to show the dates of the last four weeks in real-time, as I have data that comes in for an entire month. The variables come in as strings in the query through some JS app running on the backend, and connect to a PHP that builds them on frontend (please kill me lol). All I'm doing currently is isolating the string that builds the SQL query to show some variation of 

    $x_axis = ""DATE_PART('EPOCH_MILLISECOND', TO_TIMESTAMP(st.activity_date))"";

I believe the EPOCH_SECOND function doesn't work properly. When doing EPOCH_SECOND rather than EPOCH_MILLISECOND on this part, it gives me, on the x-axis, three random days of 19. Feb, 20. Feb, and 21. Feb, which is strange, as the 2D graph's points themselves gives the entire last month of data collected, and the graph's data comes directly from PROD (though I'm obviously just reading the data in at this point - not altering it). When doing EPOCH_MILLISECOND, I instead get an x-axis that shows 7102, 7104, 7106, and 7108. This seems closer, since what I'm really trying to do is show the x-axis as it comes in on the entire month the points are on (so like, the past four weeks). I've also tried just having it be ""second"" rather than ""EPOCH_SECOND"", as well as ""week"", ""day"", etc., but this just causes the points on the graph to truncate all of what's displaying into more disjointed (or discrete) data points collected in total, and the x-axis to show 00:00:01, 00:00:02, and 00:00:03. 

This is the query that I'm working with:


    SELECT st.blah1, st.blah2, ... st.blahN,     
    DATE_PART('EPOCH_MILLISECOND',TO_TIMESTAMP(st.activity_date)) as date, be.blah
    FROM
    (
      SELECT blah, SUM(blah) as total 
      FROM INFO.STATS 
      JOIN XRE.blah USING(blah) 
      WHERE activity_date = current_date 
      AND blah = 'l' 
      AND blah = 'i'  
      GROUP BY blah1, activity_date 
      ORDER BY total DESC LIMIT 10
    ) as tmp 
    JOIN XRE.blah as be USING(blah2) 
    JOIN  INFO.STATS as st ON tmp.blah1 = st.blah2
    WHERE activity_date &gt;= current_date - INTERVAL '30 DAY' 
    AND blah1 = 'i' 
    AND blah2 = 'l'                         -- Need DATE_PART
    GROUP BY st.blah1, be.blah2, 
    DATE_PART('EPOCH_MILLISECOND',TO_TIMESTAMP(st.activity_date)), st.blah,
    st.blah1, st.blah2,st.blah3 
    ORDER BY DATE_PART('EPOCH_MILLISECOND',TO_TIMESTAMP(st.activity_date)), total DESC

As you can see, DATE_PART comes in at three separate times. All of those times are replaced with a variable called $x_axis as shown above. Do you have any idea of what that EPOCH_MILLISECOND and/or subsequent DATE_PART should instead look like?

Thanks.",learnSQL,Trying to get some x-axis to show up properly using SQL query.,1.0,https://www.reddit.com/r/learnSQL/comments/nkvyil/trying_to_get_some_xaxis_to_show_up_properly/
76,smokingcocker,1622040898,nliym0,3,1," 

Hello, I am following an introductory course SQL using sqlite.

I am stuck with 2 exercises (which are probably done in under 10 minutes for someone with basic SQL knowledge). The deadline is today and i am really desperate as i have been searching the internet for the last 5 hours.

We can arrange a price

dm me if interested :)

cheers!",learnSQL,Help for assignment ($),1.0,https://www.reddit.com/r/learnSQL/comments/nliym0/help_for_assignment/
77,Quarok,1622106229,nm3ak0,4,1,Hi there - something I've found really beneficial in learning SQL is spending the time to memorise the usage of key terms using a spaced repetition tool like [Save All](https://saveall.ai). I've created two public decks for you to try out and use: [definitions](https://saveall.ai/shared/deck/8722&amp;8&amp;U7CcEHHCmY8) and [examples](https://saveall.ai/shared/deck/8723&amp;8&amp;FE070m5nXZ0). LMK what you think!,learnSQL,Remembering SQL keywords,1.0,https://www.reddit.com/r/learnSQL/comments/nm3ak0/remembering_sql_keywords/
78,lilFOMO,1622135617,nmcbkf,1,1,"I can't solve this simple query and I feel really stupid: 
Select the id and the name of the magazines which have published \*only 1 article\* about motocycles.

The two tables are:
Magazines(CodM, NameR, Editor)
Articles(CodA, Title, Subject, CodM)

How can I solve this?

Thank you",learnSQL,Help with a simple query,1.0,https://www.reddit.com/r/learnSQL/comments/nmcbkf/help_with_a_simple_query/
79,lugubriousVole,1622143185,nmf80b,6,1,"I am a teacher with graduate degrees and I am trying to find either a side gig for the summers or perhaps a future gig. I have experience with HTML and CSS  and I am told by some headhunters that SQL is mentioned quite often in job listings. I am starting the process of learning. 

What else (languages or skill sets) do you want your entry level people to have?",learnSQL,What do employers want from their entry SQL personnel?,1.0,https://www.reddit.com/r/learnSQL/comments/nmf80b/what_do_employers_want_from_their_entry_sql/
80,shafinkl,1622169916,nmo05y,0,1,c,learnSQL,Confusion on hw question,1.0,https://www.reddit.com/r/learnSQL/comments/nmo05y/confusion_on_hw_question/
81,Embarrassed_Law9387,1622170059,nmo1lq,2,1,"I have a question where I need to show the CustomerID's of all customers who have never placed an order. I attached what the DB looks like. I thought I should get all the customers where the quantity in Order Details was 0 but I don't think there are any. So I think I need to find all the CustomerID's that don't have an OrderID. How do I do this?

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/7cag3howyr171.png?width=1938&amp;format=png&amp;auto=webp&amp;s=3c9fb1d35e6dbbcd7f8592b19f3010e68f7ef4bf",learnSQL,confusion on hw question,1.0,https://www.reddit.com/r/learnSQL/comments/nmo1lq/confusion_on_hw_question/
82,FondleMyFirn,1622177435,nmq2u8,5,1,"Hey everybody, just looking to get some feedback. I need to pick up some SQL and Database skills to up-skill my toolkit, and I’m aware that there’s quite a few different flavours of SQL (e.g, MySQL, SQLLite, PortGres, etc) and it seems to me that MySQL and PostGres seem to be quite popular. 

To my understanding, Post differs from MySQL in that there is a bit of OOP concepts that are built into Post. So in that regard, MySQL would probably be a friendlier way to get up and running, and then moving to Post might be a logical next step. So I’d be curious to know which of these two would be a good one to begin with, and perhaps, if someone would be willing to entertain the differences between the two, I’d be happy to hear that as well. 

FWIW, I do have some programming experience in Python. The database that I’m going to practice on, and maybe mess around with some analytics in Python, is the Stackoverflow survey / database (it’s about 5-10gb, so big enough to mimic some real world data and all the accompanying flaws).",learnSQL,Starting with postGres or MySQL?,1.0,https://www.reddit.com/r/learnSQL/comments/nmq2u8/starting_with_postgres_or_mysql/
83,anonno1234,1622205487,nmwxk7,6,1,"Hi everyone, I’m starting at a fintech company (think square/strip/paypal type) in a month and a half. I’ll need sql for my job and want to get a good head start before I start. Are there any suggestions for business focused SQL courses? I’m worried some intro course/resources will be too general. For context I’m an Ex-PE/credit/capital markets guy, so I’m really good at excel and that’s basically it.",learnSQL,Suggestions for beginner business/finance focused SQL course?,1.0,https://www.reddit.com/r/learnSQL/comments/nmwxk7/suggestions_for_beginner_businessfinance_focused/
84,richgirlatgc,1622213259,nmzfwz,22,1,"I would like to know how to help a coworker.  I'm very experienced in SQL and work as a data architect in a life science company. I often work with this data analyst who has minimal SQL skill. I had training sessions with her. I commented my code at a level of detail that I want to throw up like (drop table - - this is for deleting table, etc). Although she is mostly a very nice person and hardworking, she often makes mistakes that is beyond my understanding. She would run my QC script as the result script. She would omit a stored procedure in the script even though I freaking wrote a batch file for her so she wouldn't miss anything. She often runs the script manually line by line for reasons unknown.  

The other day we were trying to eliminate some rows based on some criteria. I set up the query using select statement so we could see what we would be deleting in a table before switching to the delete statement.  However, she did make the switch without knowing that she needed to reverse ""select ....where variable is not null"" to ""delete from....where variable is null""( basic logic swap). Then she freaked out saying that my script didn't work.  

Anyway, my boss and I have good rapport so she knows when the data analytist complains, it's mostly due to her lack of understanding in SQL.  I personally don't mind the weird outburst from her (she did yell at me sometimes out of frustration.) I just want to help her so we don't endlessly try to fix her mistakes every time we have new data from a new client. It's exhausting. I even built the whole QC script automatic process in SQL (it did eliminate a lot of panic). However, she still manages to make mistakes that go beyond my belief. Things that only people with no SQL understanding would make. 

I'm sure people in this field have similar experience. I would love to gather public opinions on this. Thanks so much in advance!",learnSQL,How to help a coworker with very limited SQL skills?,1.0,https://www.reddit.com/r/learnSQL/comments/nmzfwz/how_to_help_a_coworker_with_very_limited_sql/
85,coadtsai,1622274807,nniggx,1,1," I've been working with Microsoft SQL and MSBI for about 3 years. I am reasonably good at querying for data in an existing DB, some performance tuning etc. I don't have any good experience in data modelling and RDBMS ER concepts. I want to learn in-depth about RDBMS and want to learn by doing a project. Are there any good MooCs or paid courses online that would help me do this?

Please suggest any courses free/paid/MooCs which would help me get deep understanding of RDBMS concepts and data modelling. If the course has a project and exercises it would an extra benefit for me. Thanks",learnSQL,RDBMS and data modelling (not just basic SQL),1.0,https://www.reddit.com/r/learnSQL/comments/nniggx/rdbms_and_data_modelling_not_just_basic_sql/
86,oceandrv,1622369136,no8254,5,1,"Hello all,

I tried solving this question by myself first: https://www.w3resource.com/sql-exercises/sql-subqueries-exercise-5.php

This was my original code:

    select first_name, last_name, employee_id, salary
    from employees
    where manager_id = (select manager_id from employees 
                        where manager_id='122');

This code above does not give me any output. Before seeing the solution in the link above, I did this:

    select first_name, last_name, employee_id, salary
    from employees
    where manager_id in (select manager_id from employees 
                       where manager_id='122');

The only thing I changed is remove the '=' and use the keyword 'in'. This output gives me the exact output as shown in the solution in the link above.

However in the solution they have used '=' and used the first_name='Payam' instead of manager_id=122 (which is employee ID of Payam)

What am I doing wrong in my original code?

Also while typing this post, I actually copy-pasted the solution in their editor (https://www.w3resource.com/sql-exercises/sql-subqueries-exercises.php#SQLEDITOR) and it does not give me the same output as their solution.

Is there something wrong with my code OR something wrong with the website???

Thanks for any help!",learnSQL,Trying to figure out why one code works while the other does not.,1.0,https://www.reddit.com/r/learnSQL/comments/no8254/trying_to_figure_out_why_one_code_works_while_the/
87,CharmingBluejay,1622440978,now5it,2,1,Can an uncovered SQL query be one that runs a table scan instead of an index scan?,learnSQL,SQL Query Question,1.0,https://www.reddit.com/r/learnSQL/comments/now5it/sql_query_question/
88,M-Madii,1622483370,np93w6,10,1,"Hey everyone, I want to learn SQL. I know nothing about it. I know MATLAB, Python, R, C. If anyone knows a good source to start with please let me know. I'm learning to build a CV for my future Internships, and I'm a Ph.D. student!!",learnSQL,SQL/Beginner,1.0,https://www.reddit.com/r/learnSQL/comments/np93w6/sqlbeginner/
89,Rockychap87,1622511036,npij2y,4,1," Hi Guys,

I have the following code where I am trying to find the records for May and trying to group them by website. But getting this error. Any idea why it's saying no function matches?

SELECT

[ad.site](https://ad.site/)

, SUM(e.clicks) AS totalclicks

FROM Extable e INNER JOIN Ads ad ON e.ad\_id = ad.ad\_id

WHERE month(ad.Create\_Time) = 5

Group by [ad.site](https://ad.site/)

;

But I am getting this error

ERROR: function month(date) does not exist

LINE 4: WHERE month(ad.Create\_Time) = 5

\^

HINT: No function matches the given name and argument types. You might need to add explicit type casts.

SQL state: 42883

Character: 107",learnSQL,Getting an error filtering records by month SQL,1.0,https://www.reddit.com/r/learnSQL/comments/npij2y/getting_an_error_filtering_records_by_month_sql/
90,harmlessdjango,1622588596,nq76ko,4,1,"I'm a bit familiar with pandas in python. Can I do something like:

    Alter tableName
    
    ADD new_column as (column1 + column 2)

Or is that sort of calucation something that should be done off the web on another software like R or Python",learnSQL,Is it possible to simply create a new column in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/nq76ko/is_it_possible_to_simply_create_a_new_column_in/
0,SUMtimesICode,1617408322,mix48q,0,1, ,learnSQL,Build a Simple CRM Data Model,1.0,https://arctype.com/blog/build-crm-data-model/
1,lucian-12,1617423911,mj1abj,0,1, ,learnSQL,[video] MySQL How To Choose the Primary Key,1.0,https://youtu.be/ugipKiIBGYU
2,mkel96,1617429682,mj2mlb,1,1,"I am writing my first line of SQL code lol and I'm running into this issue where I'm trying to identify the column name as ""name"" but it keeps showing me a variable ""name"" and making it that. How do I make it not automatically default to a variable? Picture below

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/2pyw6bjbfwq61.png?width=730&amp;format=png&amp;auto=webp&amp;s=076cf99811db51ee946bbd18d50b0b35ccc1bf06",learnSQL,Beginner Question: How to change variable to text?,1.0,https://www.reddit.com/r/learnSQL/comments/mj2mlb/beginner_question_how_to_change_variable_to_text/
3,samajavaragamana,1617454005,mj7tns,0,1,"Hi All, Question as in title. 

I'm guessing the answer is: Yes, it is possible, when both tables have the same data. 

Can you please let me know if this is correct.",learnSQL,Can left join and full outer join produce same results,1.0,https://www.reddit.com/r/learnSQL/comments/mj7tns/can_left_join_and_full_outer_join_produce_same/
4,apexysatish,1617465259,mjb6mu,1,1, ,learnSQL,Difference Between Union And Union All in Oracle Database,1.0,https://www.javainhand.com/2020/07/difference-between-union-and-union-all-in-oracle-database.html
5,Coach-Square,1617533243,mjtyxv,4,1," Hello,

I'm a complete noob when it comes to this type of stuff but I know a bit of C and C++, I also learned how to develop my own website through WordPress. But I know very little about servers and databases so please forgive me for any misconceptions or if I confused some terms. 

I am trying to learn some database and software development skills/tools to help me with a small project. This is a completely hypothetical case I made to help me practice (as I was thinking of doing a similar project for a high-school monitoring system). This online website/webpage is meant to help students monitor their own progress in different subjects (math, physics, chemistry, etc.) based on teachers' inputs of grades at the end of each week (all teachers have their own username and password, but they have special admin permissions where they can modify grades and can view the grades of any student.)

Each student can login with a given username and password and examine his or her grades in different subjects (but of course they can only view not modify). Students can also view or download different excel graphs and data that represents or displays their progress. For example, bar charts that show the logged in student's overall standing in the class or in a particular subject. Graphs showing the student's improvement each week or month overall or in a particular subject. (assuming the student takes weekly exams on each subject) 

Teachers or admins have access to the graphs/data of every student as well as access to more general data like male vs female performance. Highest overall average for the male or female student or highest scoring student in a particular subject. 

The data collected from the students can be used by the school advisors. So if a student is failing in a particular subject they are sent an automatic email by the system and issued a warning. If they do not score above let's say 70 in that subject, then they are issued a second warning. After the third time an automated email is sent to the school's advisor with the name of the struggling student, his scores, and attached excel graph of his performance in the past week or month.

\[Assume I have the personal data of all student, teachers, and school advisors beforehand ,such data includes emails, names, age, phone numbers, parents’ emails, etc.\]

**Login page:**

I want to make like a website/Web page where it shows a login page, enter user name and password ( with a logo preferably) 

**Main page after login:**

Then after the user logs in he/she is greeted with a dashboard where they can view and download their excel reports of this week or previous weeks (overall or in a specific subject). They can also answer small optional surveys at the end of the week where students are asked about how they performed this week or if they had any reason why they didn't perform so well that week (maybe family member is ill, depressed, anxiety, procrastination, etc.) 

Sorry for the extremely long post and jumbled ideas. But basically, this is like a more helpful ""Blackboard"" prototype for high school that can give students more insight into their own performance. 

**Ok so this is what I want to know:** 

1. What programs/software are best to use for this type of project? 

2. Is that program/software flexible? Can you add pictures? Freely design, change themes, and easily modify user interface?

3. If there is any useful books or any resource material please let me know (especially any YouTube tutorials)

4. What is it that I really need here? Do I need an online server to store all the data of the students? (assuming I have around 100 students and 5 admins) Will it be easy to expand the online server if I need to add more students? 

5. How will I be able to take the data from that online database then manipulate it in excel (graphing, averaging, etc.) then upload that back to the website for students/admins/teachers to view/download/modify? Can I make it automated?

6. Is it possible to make an automated email system that sends the warnings to students and inform advisors?

7. What other subreddits can I post this on to get more information or help? (cause Im new to reddit and anywhere I post, it gets automatically taken down)

I just want general advise on what I should be researching or looking into as there is a ton of different programing languages and data management software. I just want to know which is best suited for my case.

Once again thank you for reading and appreciate any help or advice :)",learnSQL,Advice on developing an automated database system for high school student performance monitoring .,1.0,https://www.reddit.com/r/learnSQL/comments/mjtyxv/advice_on_developing_an_automated_database_system/
6,VeRsAtIlE_10,1617603231,mke4c3,5,1, ,learnSQL,Can anyone help me with this please,1.0,https://i.redd.it/3n5to7tdrar61.jpg
7,Key-Childhood1372,1617624168,mkj1od,4,1,"   
Good morning guys, I would like to make a query in sql to extract the amount of loans made in the week, for that, I have a table called payments\_banks\_slips, and would like to extract from them the amount of slips with status = 'PAID' granted during the week. 

https://preview.redd.it/ja51mjd0hcr61.png?width=1062&amp;format=png&amp;auto=webp&amp;s=3c179382a916193e48d05137ce1b2b6de17ec4ef",learnSQL,Query indicator of total loans granted in the week,1.0,https://www.reddit.com/r/learnSQL/comments/mkj1od/query_indicator_of_total_loans_granted_in_the_week/
8,YmFzZTY0dXNlcm5hbWU_,1617634983,mkmqnm,2,1,"I can tell this one is going to be a no-brainer but I can't figure it out and I'm not having any luck with my search efforts.

I have a ""client"" table with data about (you guessed it) our clients (name, address, etc.). There are several columns with foreign keys referencing a code table. 

The code table has an ID column, a table # column (to group them by code type), a code number column (within the table), and a description. So table 1 might be how frequently we bill them, table 2 would be how frequently we raise their fees, etc.

I want to join the two where all columns in A are selected, but additionally have a few columns at the end with the descriptions for the codes. I can join for one of them easily enough but my brain is shorting out trying to do multiple.

For one column I would do something like this:

`select` [`client.name`](https://client.name)`, client.contactphone, code.description from client join code on client.billingfrequency =` [`code.id`](https://code.id)`;`

But I think I should be aliasing columns or doing something else when I want to do multiple joined columns between two tables.",learnSQL,Stuck on an easy problem,1.0,https://www.reddit.com/r/learnSQL/comments/mkmqnm/stuck_on_an_easy_problem/
9,Eamo853,1617707014,ml92rw,5,1,"Say for example I have a query like so.

    Select * from TableA A
    left join TableB B on A.ID = B.ID 
    where A.Category1 = 'abcd'

However say I know anything that's in 'abcd' will also be exclusive to another category in the joined table.

E.G. the following will produce the same results set. However does the inclusion of this added condition improve the efficiency, or could it have an opposite affect, or is it dependent on various factors?

    Select * from TableA A
    left join TableB B on A.ID = B.ID 
    where A.Category1 = 'abcd'
    and B.Category2 = 'wxyz'

In practice I've a query with many joins, and many tables have different columns with regards products and dates etc, so I can add several additional conditions on the joined table that will result in the same results set, but I'm wondering if I should use them to speed things up",learnSQL,Does adding extra conditions improve performance,1.0,https://www.reddit.com/r/learnSQL/comments/ml92rw/does_adding_extra_conditions_improve_performance/
10,DenofBlerds,1617723617,mlehz5,1,1, ,learnSQL,Databases: Guide For Beginners,1.0,https://cybercoastal.com/databases-guide-for-beginners/
11,nehpets,1617735509,mliyl8,5,1,"Does anyone have advice on how to approach this?

In my data set, some unique values (e.g., addresses) appear every week.

What is the best way to count the number of unique repeating contributions? For example, below, the ""weekly-repeat"" number would be 1. One person is contributing every 7 days.

&amp;#x200B;

https://preview.redd.it/llsbjg2molr61.png?width=394&amp;format=png&amp;auto=webp&amp;s=29fdbe5a0708f1700516e21351348e76080fd715",learnSQL,"Counting the number of ""weekly-repeat"" contributors?",1.0,https://www.reddit.com/r/learnSQL/comments/mliyl8/counting_the_number_of_weeklyrepeat_contributors/
12,xToVictory,1617738369,mlk0ua,6,1,"Hello,

I have some python scripts that upload data on a daily basis to various google sheets. Code runs on a raspberry pi just about every day. Is there any way I can connect postgre (or others) to these sheets and use them as the database? Or a method where I can have the most up-to-date data?

Thank you!",learnSQL,Google Sheets as DB?,1.0,https://www.reddit.com/r/learnSQL/comments/mlk0ua/google_sheets_as_db/
13,apexysatish,1617776698,mlvxhi,0,1, ,learnSQL,Variables in Oracle PL/SQL -Part 1,1.0,https://www.javainhand.com/2021/04/variables-in-oracle-plsql-part-1.html
14,cally0611,1617825673,mmalfv,2,1,"Hi

I have got a column name in 8 out of 10 tables in this one database. Now, I need to check if the data that is passed via a parameter or just check for a certain date exists in this specific column in these 8 tables.

I have managed to get up till here.  So basically the column name is PlanDate and say, I am searching for the value of '2020-12-30' in this select query. 

    SELECT * FROM Bottleneck_new.information_schema.COLUMNS where COLUMN_NAME = 'PlanDate'

The above query works but only returns the matching dataset where the column exist, I need to check if the value exists. 

Thank you for the help.",learnSQL,Select value from one column from all tables listed in information_schema.COLUMNS,1.0,https://www.reddit.com/r/learnSQL/comments/mmalfv/select_value_from_one_column_from_all_tables/
15,thriveee,1617909541,mmz8w5,0,1,"Has anyone taken a data analytics course at General assembly or eCornell University? 
Just needed some reviews before enrolling",learnSQL,Course review general assembly,1.0,https://www.reddit.com/r/learnSQL/comments/mmz8w5/course_review_general_assembly/
16,apexysatish,1617964057,mne973,0,1, ,learnSQL,Variables in Oracle PL/SQL- Part 2,1.0,https://www.javainhand.com/2021/04/variables-in-oracle-plsql-part-2.html
19,34boyboy,1618428651,mqy2l2,0,1, ,learnSQL,"which ER diagram is better for a Pretzel Factory, having trobule choosing with my group",1.0,https://www.reddit.com/gallery/mqy2l2
20,SUMtimesICode,1618429498,mqyddm,1,1, ,learnSQL,How I Learned to Stop Worrying and Love NULL in SQL,1.0,https://arctype.com/blog/null-in-sql/
21,fredabood,1618494221,mrey7s,0,1, ,learnSQL,Data Collab Lab | A Foray into Nested Data using Spark SQL and Dark Chocolate,1.0,https://youtu.be/aWPHgtu8Hog
22,lexiQL,1618496205,mrflgj,0,1,"Hey r/learnSQL! Learning SQL is difficult and can be hard to grasp. Want to make it more tangible by visualizing your SQL database? Looking to migrate away from a RESTful API architecture to GraphQL? Then we've got good news for you!

[lexiQL](https://www.lexiql.io/) is the newest **open-source** dev tool designed to ease the transition from RESTful APIs to GraphQL. Input a PostgreSQL database link (or use our sample database) and lexiQL will generate the associated GraphQL schema, including Types and Resolvers.

Alongside this **GraphQL boilerplate**, lexiQL aims to help developers visualize their data with an **interactive GUI** that displays all of the tables in a relational database, including primary/foreign key relationships between tables, as well as each table’s columns and associated data types.

Read more about us on [Medium](https://ryan-mcdaniel.medium.com/introducing-lexiql-56401bbf8d9e) and check out our [GitHub](https://github.com/oslabs-beta/lexiQL)! lexiQL is a new tool that remains in active development. Our engineering team is actively seeking feedback, monitoring issues, and answering questions. We’re always looking for ways to improve!",learnSQL,Introducing lexiQL: SQL visualizer and GraphQL prototyping tool,1.0,https://www.reddit.com/r/learnSQL/comments/mrflgj/introducing_lexiql_sql_visualizer_and_graphql/
23,34boyboy,1618502337,mrhol4,6,1, ,learnSQL,Having trouble figuring out which ER diagram to use for our pretzel factory database,1.0,https://www.reddit.com/gallery/mrhol4
24,coder_et,1618516611,mrmpo2,1,1,"I have a hive table that logs any time an item is taken in and out of stock and it’s time stamp. 

I want all of the out of stock items but if I query any given items I will get many rows of it going in and out of stock. 

Any idea how I can get the most recent entry for each item’s UUID?",learnSQL,How can I pull the most recent entry for a UUID,1.0,https://www.reddit.com/r/learnSQL/comments/mrmpo2/how_can_i_pull_the_most_recent_entry_for_a_uuid/
25,j05h187,1618550666,mrwkcc,2,1," 

Hi All :)

tl;dr: Looking to understand how additional columns are brought in, whilst using SUM function?.

I am fairly fresh beginner to SQL, couple months exp working (in data analyst role) with basic queries. mostly joins, group by, where statements and the like. This was feeding my Power BI tables but very small data sets of 1000's of row's

I am now in new role where table I am working with has 100M+ row's and I need to learn aggregate functions quickly. Particularly I am finding SUM function tricky to grasp at intermediate level

Trying to understand how I would perform the following:

SELECT sum(revenue\_amt)

FROM 'revenue table'

GROUP BY 'Industry Lvl1'

I am then wanting to insert additional columns into the above table for State, Region, Postcode.

&amp;#x200B;

Everytime I try this I am getting 'group by' error.

Anyone able to explain how additional columns are brought in, whilst using SUM function? :)",learnSQL,Help understanding SUM function with Multiple columns,1.0,https://www.reddit.com/r/learnSQL/comments/mrwkcc/help_understanding_sum_function_with_multiple/
26,gnar_burgers,1618565773,mrzp6f,1,1," 

Hi guys

I am insertingv values into a database I created, and I have already set the foreign keys.

When I try and update I get #1452 errors, even if I leave the FK values blank. My question is, should I use :

    SET FOREIGN_KEY_CHECKS=0; 

But I am worried this is incorrect and I do not know how to reverse it! Any pointers?

Is reverse ...?

    SET FOREIGN_KEY_CHECKS=1;",learnSQL,Updating a database - before or after foreign keys?,1.0,https://www.reddit.com/r/learnSQL/comments/mrzp6f/updating_a_database_before_or_after_foreign_keys/
27,aloha-hawaii,1618585364,ms50u4,4,1,"Hi, I've been playing around on w3s site: [https://www.w3schools.com/sql/trysql.asp?filename=trysql\_select\_all](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)

I wanted to list \[Employee, their totals deals count, name of a country with most deals\], but I only managed to do this:

`SELECT Employees.FirstName, COUNT(Orders.OrderID) as Deals, Customers.Country FROM Employees LEFT JOIN Orders ON Orders.EmployeeID = Employees.EmployeeID LEFT JOIN Customers ON Orders.CustomerID = Customers.CustomerID GROUP BY Employees.FirstName, Customers.Country ORDER BY Deals DESC`

If to leave grouping by country out, I'll get the number of deals I want, but the country in the last column will be wrong. What the query should be? I'm really clueless.

Also I can't use CONCAT() in this query for some reason. It gives me an error ""Error 1: could not prepare statement (1 no such function: CONCAT)"" What am I doing wrong?

`SELECT CONCAT(Employees.FirstName, ' ', Employees.LastName), COUNT(Orders.OrderID) as Deals, Customers.Country FROM Employees LEFT JOIN Orders ON Orders.EmployeeID = Employees.EmployeeID LEFT JOIN Customers ON Orders.CustomerID = Customers.CustomerID GROUP BY Employees.FirstName, Customers.Country ORDER BY Deals DESC`

Here it works: `SELECT CONCAT(Employees.FirstName, ' ', Employees.LastName) as Manager FROM Employees`",learnSQL,Newbie question,1.0,https://www.reddit.com/r/learnSQL/comments/ms50u4/newbie_question/
28,OperationCorporation,1618597210,ms970m,0,1,"I have two three tables I need to reference ASSY, VERIFY, and IO. Assy is the main assembly, Verify is where multiple sub assemblies are joined, and IO is a sub assembly.   If an Assy Record has a NULL Unship\_date, Then I need to grab the most recent record from the Verify table with the same serial. Then I need to match the assemblies in that record to the IO table, and update the most recent record there. My method can definitely be optimized, but I am not seeing how to do it.  Any help is greatly appreciated!!!

    PRINT 'Updating records in the IO_Test Table...'
    UPDATE IO_Test 
    SET SHIPPED = 1
    WHERE SERIAL_NUMBER IN
    (
    	SELECT IO_SERIAL
    	FROM Verify 
    	WHERE SERIAL_NUMBER IN ( SELECT Serial FROM ASSY WHERE Unship_Date IS NULL )
    	AND START_TIME IN ( SELECT MAX(START_TIME) FROM Verify GROUP BY     SERIAL_NUMBER )
    )
    AND START_TIME IN ( SELECT MAX(START_TIME) FROM IO_Test GROUP BY SERIAL_NUMBER )",learnSQL,Help Optimizing an Update Statement,1.0,https://www.reddit.com/r/learnSQL/comments/ms970m/help_optimizing_an_update_statement/
29,alvi10,1618607582,mscnpf,1,1,So let's say i have data of a restaurant and want to see its how many orders were accepted or rejected om half hourly basis. Let's say it has to be based on order ID and order status. How do I build a query for this. I jave the exact time for each order. Can anyone help or recommend me any online video or website where I can learn to build this query? Thanks,learnSQL,Time series Query,0.99,https://www.reddit.com/r/learnSQL/comments/mscnpf/time_series_query/
30,djsensui,1618667996,msr93d,5,1,"Im a beginner learning SQL. 

Example i have a table with tables 
Id, datetime, punchstatus. 

This is like an attendance monitoring. 
Just wanted to know what would the query to show no record for a particular date. (User forgots to clock in or out)",learnSQL,Return a list with no records.,1.0,https://www.reddit.com/r/learnSQL/comments/msr93d/return_a_list_with_no_records/
31,fr0zen_yetti,1618686479,mswwhe,3,1,"Hello, I am trying to pass a value from an excel worksheet to work in my query. Here is my code from the Advanced editor. The value is passing but I am getting an error which states:

&amp;#x200B;

Expression.Error: We cannot apply operator &amp; to types Text and Number.

Details:

Operator=&amp;

Left=

  select top 1 \*   

		FROM file1	WHERE column1 = cast(

Right=800000

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

let

Source = Sql.Database(""server"", ""database"", \[Query=""#(lf)#(lf)#(lf)

select top 1 \*   

		FROM file1	WHERE column1 = cast("" &amp; Paramquery(""beginbal"") &amp; "" as numeric(18,2) ) ""\])

in

Source

&amp;#x200B;

Why is the value passing but SQL giving me this error?",learnSQL,Passing excel value to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/mswwhe/passing_excel_value_to_sql/
32,BuddyGlittering9802,1618697573,mt0bbx,2,1,"Hi Everyone, 

I'm a desperate college student looking for help with her final project. 

Basically I need your help to Join 3 tables and update them to update my grades for my students table!!

Thank you in advance!!!",learnSQL,HELP!! Using Update with a Join,1.0,https://www.reddit.com/r/learnSQL/comments/mt0bbx/help_using_update_with_a_join/
33,TheSingle47yo,1618763254,mtg2zf,6,1,"Not a good sign when you can't even install the software!

I am using Windows10. I downloaded mySQL and followed the steps from a programming video. But I noted I was not asked to provide a password.

Anyway, I go to create a new connection in WorkBench and set the name to localHost, but I get a connect error when I hit ""Test Connection"". 

I have tried navigating to  C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin  via Command Prompt and, just blindly following some tutorials tried these fixes: mysqld --init-file=C:\\\\path\\\\mysql-init.txt

based on a text file I created with one line:

ALTER USER 'root'@'localhost' IDENTIFIED BY 'NewPassword';

I then go back into my create a new connection localhost. enter the password NewPassword and still no luck! 

\- I am dangerously close to being out with my area of technical skill, so any idiot proof help would be great! Hopefully the actual learning is less painful!",learnSQL,"Been trying to install MySQL for the last two days, could do with some pointers...",1.0,https://www.reddit.com/r/learnSQL/comments/mtg2zf/been_trying_to_install_mysql_for_the_last_two/
34,Dravlahn,1618766235,mth10b,5,1,"So I've missed something basic. Appreciate any advice.

I've got three columns: ID1, Name, ID2. I'm trying to produce the name based on grabbing ID2 and ID1. So if John Smith has and ID1 of 102 and Mike Jones has an ID2 of 102,  want to list John Smith with Mike Jones. 

I thought I had joins down but doing it within one table suddenly has me confused. I've tried a few things without any success. 

Thanks!",learnSQL,Beginner Question,1.0,https://www.reddit.com/r/learnSQL/comments/mth10b/beginner_question/
35,ramen_addict_enby,1618805418,mtsrv8,4,1,"We're planning to make website where people would sell their products.A user would like to upload a picture to our website, and we want to save that picture in our sql database. How can we do that?",learnSQL,(Begginer) Saving a picture in the database,1.0,https://www.reddit.com/r/learnSQL/comments/mtsrv8/begginer_saving_a_picture_in_the_database/
36,UnleashTheWolf,1618826585,mtxc7l,2,1,"The problem is:

Write a statement to display either those orders which are not issued on date 2012-09-10 and issued by the salesman whose ID is 5005 and below or those orders which purchase amount is 1000 and below.

What I tried:

`SELECT * FROM orders`

`WHERE ((ord_date != '2021-09-10' AND salesman_id &lt;= 5005)`

`OR purch_amt &lt;= 1000);`

The actual solution:

`SELECT * FROM orders`

`WHERE NOT ((ord_date = '2012-09-10' AND salesman_id &gt; 5005)`

`OR purch_amt &gt; 1000);`

I'm struggling to work out what makes my answer give a different result? Thanks",learnSQL,Help with a simple boolean operator exercise on w3resource,1.0,https://www.reddit.com/r/learnSQL/comments/mtxc7l/help_with_a_simple_boolean_operator_exercise_on/
37,easy_wins,1618864934,mua1g7,0,1,"I have this dataset where I need to have a equal number of records for each entry. Please see my dataset below and the query: I have \`8 Subjects\` every days for \`2 Students\`. If the \`Student\` did not attend class for the subject on a given date, return a \`Null\` for each subject for. I am requesting \`8 rows\` for each \`date\` for each \`student\`.  

https://preview.redd.it/50bpmj87s6u61.png?width=406&amp;format=png&amp;auto=webp&amp;s=ea4e54d3e49eb5f77304769961960e07ea660ca7

Requested:  


&amp;#x200B;

https://preview.redd.it/rc3nsey6u6u61.png?width=406&amp;format=png&amp;auto=webp&amp;s=3ff8c510ef4e00efec6f4ce945b83b8e9c8a0eba

Query:

    with cte as (select subject, attendance_dates,student from my_table)
    
    ,   
    
    dates as (  
    
    SELECT  FROM generate_series('2021-02-04', '2021-02- 
    11', interval '1 day')  AS missing_dates  
    
    )  
    select subject,cast(missing_dates as date)missing_dates,student 
    
    from cte c  
    right join dates da on cast(missing_dates as date) = cast(""Response Started"" as 
    date)  
    )t5",learnSQL,Cartesian Join,1.0,https://www.reddit.com/r/learnSQL/comments/mua1g7/cartesian_join/
38,JDiGi7730,1618866870,muaqk7,3,1,"I need some help with a tricky query...

I have a table below. 

&amp;#x200B;

[Table](https://preview.redd.it/lt496hu017u61.png?width=807&amp;format=png&amp;auto=webp&amp;s=0db2783558a8230f66c62f84a5869f3ea22d7800)

I'd like the results to look like this, fill in the nulls with the matching locationId or BilltoId based on matching LeadId. 

https://preview.redd.it/tn7rmqsl27u61.png?width=532&amp;format=png&amp;auto=webp&amp;s=0e0c6dda729defcc3dd3956d06107f7bb6f36a31

Can anyone solve this?",learnSQL,Need assistance with tricky SQL table query,1.0,https://www.reddit.com/r/learnSQL/comments/muaqk7/need_assistance_with_tricky_sql_table_query/
39,joeyologyph,1618883253,mufy3a,1,1, ,learnSQL,"Remote Jobs for Data Professionals like Data Scientist, Data Engineer, Data Analyst etc...",1.0,https://heydatapro.com
40,bottledpee,1618885825,mugozt,9,1,"So here's my sample table, I would like to retrieve the distinct/unique userIDs with the latest datetime. How can i DO this? please help.

    
    ID | userID | DateTime | ..and many more columns.
    1      99     1/1/21
    2      99     1/2/21
    3      99     1/3/21
    4      71     2/1/21
    5      71     2/2/21
    6      23     4/7/21
    7      23     6/9/21

after the query I would like my output to be like: 

    ID | userID | DateTime | ..and many more columns.
    3      99     1/3/21
    5      71     2/2/21
    7      23     6/9/21",learnSQL,Query Help. select distinct and latest? am I making sense?,1.0,https://www.reddit.com/r/learnSQL/comments/mugozt/query_help_select_distinct_and_latest_am_i_making/
41,TheSingle47yo,1618915247,munjrd,10,1,"I have been trying to configure MySQL for a week now so I can learn, but haven't been able to get it running on my Windows 10 machine. 

I am starting to get really frustrated as I haven't even started learning. 

Can someone point me to a painless, free way to get up and running! 

I do have a copy of DataGrip too, but couldnt get that going either.",learnSQL,Easiest IDE to get set up with,1.0,https://www.reddit.com/r/learnSQL/comments/munjrd/easiest_ide_to_get_set_up_with/
42,brandnewdeer,1618933456,mut8q4,0,1,"Hi,

I need to return all **delivery\_id'**s which are in the range in **dates** table

following cases need to be excluded:

when start\_date and end\_date are today

when start\_date is yesterday and end\_date is today

&amp;#x200B;

TABLES:

    dates - dynamic table with dates from today until today+5
    dates
    2021-04-20 00:00:00.000
    2021-04-21 00:00:00.000
    2021-04-22 00:00:00.000
    2021-04-23 00:00:00.000
    2021-04-24 00:00:00.000
    2021-04-25 00:00:00.000
    
    deliveries
    delivery_id	start_date	end_date
    A01		2021-04-18	2021-04-21
    A02		2021-04-19	2021-04-20
    A03		2021-04-01	2021-04-30
    A04		2021-04-22	2021-04-24
    A05		2021-04-19	2021-04-22
    A06		2021-04-20	2021-04-20

EXPECTED OUTPUT:

    dates 		delivery_id
    2021-04-20	A01
    2021-04-21	A01
    (A02 excluded)
    2021-04-20	A03
    2021-04-21	A03
    2021-04-22	A03
    2021-04-23	A03
    2021-04-24	A03
    2021-04-25	A03
    2021-04-22	A04
    2021-04-23	A04
    2021-04-24	A04
    2021-04-20	A05
    2021-04-21	A05
    2021-04-22	A05
    (A06 excluded)

SQL code:

    declare @TodaysDate    datetime = CONVERT(DATETIME, CONVERT(DATE, CURRENT_TIMESTAMP)) + '00:00'
    declare @EndDate      datetime = dateadd(day,5,@TodaysDate)
    declare @YesterdaysDate      datetime = dateadd(day,-1,@TodaysDate)
    
    select * from dates dt left join deliveries de
    on dt.dates between de.start_date and de.end_date
    
    -- below doesn't seem to work as expected
    and ((de.start_date &lt;&gt; @TodaysDate and de.end_date &lt;&gt; @TodaysDate) 
    or (de.start_date &lt;&gt; @YesterdaysDate and de.end_date &lt;&gt; @TodaysDate))

Any help appreciated!",learnSQL,SELECT items from date range in another table,1.0,https://www.reddit.com/r/learnSQL/comments/mut8q4/select_items_from_date_range_in_another_table/
43,c46tn_,1618938355,muv34f,3,1,"I'm working with a large SQL script which pulls info from various sources and creates a table, let's call it table ABC.

What i'd like to do is join an additional 2 tables as a left join on to table ABC but i'm not sure how best to do this.

My approach so far is as follows:

    WITH ABC AS (*insert my very large script here*)
    SELECT * FROM XYZ
    JOIN ABC ON XYZ.ID_NUMBER = ABC.ID_NUMBER

The problem i have in doing this is i'm ending up with less rows than what table ABC has to begin with. Also in my output the columns for XYZ appear first on the left followed by columns for ABC on the right, i want it the other way round so that ABC columns are first joined with XYZ colmumns on the right.

Hope i'm making sense, anyone know how to achieve this?",learnSQL,How to bring in additional columns from another table to an exisiting SQL script?,1.0,https://www.reddit.com/r/learnSQL/comments/muv34f/how_to_bring_in_additional_columns_from_another/
44,thriveee,1618952830,mv0fkk,3,1, ,learnSQL,Has anyone taken or knows someone who took Data Analytics course at eCornell? Please share your experience/feedback. Thanks,1.0,https://www.reddit.com/r/learnSQL/comments/mv0fkk/has_anyone_taken_or_knows_someone_who_took_data/
45,Automatic_Average_59,1618958318,mv2c5a,0,1,"Is it possible to create a deafault if 1 field is a certain value? 

is\_dog char(1),

is\_poodle char(1),

constraint ck\_is\_dog check (is\_dog in ('y', 'n')),

constraint ck\_is\_poodle check (is\_poodle in ('y', 'n')),

&amp;#x200B;

&amp;#x200B;

can I default **is\_poodle** to 'n' if **is\_dog** = 'n''? 

&amp;#x200B;

Or do I have manually enter 'n' into **is\_poodle**? Or at least make the record invalid I understand I can make it not NULL and default to 'n'. But that isn't the same as just defaulting to 'n' if is\_dog = 'n'

&amp;#x200B;

Because it's obvious if an animal isn't a dog it can't be a poodle etc. Thank you for reading!",learnSQL,Oracle SQL default IF,1.0,https://www.reddit.com/r/learnSQL/comments/mv2c5a/oracle_sql_default_if/
46,Automatic_Average_59,1618963887,mv436g,1,1," 

Is it possible to create a deafault if 1 field is a certain value?

is\_dog char(1),

is\_poodle char(1),

constraint ck\_is\_dog check (is\_dog in ('y', 'n')),

constraint ck\_is\_poodle check (is\_poodle in ('y', 'n')),

can I default **is\_poodle** to 'n' if **is\_dog** = 'n''?

Or do I have manually enter 'n' into **is\_poodle**?  Or at least make the record invalid I understand I can make it not NULL  and default to 'n'. But that isn't the same as just defaulting to 'n'  if is\_dog = 'n'

Because it's obvious if an animal isn't a dog it can't be a poodle etc.

So to clarify want to make both = 'n' if the **is\_dog = 'n'.**

Thank you for reading!

Edit post: I think a case statment is possible?

SELECT table\_name,

CASE (is\_dog

WHEN 'y' THEN is\_poodle = 'y'

WHEN 'n' THEN is\_poodle = 'n'

ELSE 'n'

END)

FROM table\_name;

something like that not sure if multiline cases are possible or how they work but after googling this seems to be how to do it.

&amp;#x200B;

I'm getting an error on the line line that the first **WHEN** is used ""WHEN 'y' THEN is\_poodle = 'y'"" this line any idea how I fix it?",learnSQL,Mutliline case statment? Oracle SQL,1.0,https://www.reddit.com/r/learnSQL/comments/mv436g/mutliline_case_statment_oracle_sql/
47,kloti38,1619026186,mvkrza,14,1,"Hello, 

I will probably ask dumb questions but Im a complete noob, just started watching some videos about SQL recently, downloaded an app where I am learning, but since I didn't actually try to work with it yet, there are a few things that are not clear to me.

Is SQL like a program I run where I run the commands? And where is the data coming from, how do I ""put"" some data there if I would like to practice? 

And when you write a code to select some columns or to calculate something, what do you do then? Do you extract them in an Excel to create some report for management or what's the actual purpose? What do you do with the displayed data?

Usually the guides I watch dont really explain those things, they just start with the select commands, showing how to join tables, summarize things etc. so Im struggling to understand the complete basics.

Sorry again for this stupid post and thank you in advance.",learnSQL,"I would like to learn some SQL basics, have some noob questions",1.0,https://www.reddit.com/r/learnSQL/comments/mvkrza/i_would_like_to_learn_some_sql_basics_have_some/
48,Exion101,1619026364,mvkudk,0,1,"I am trying to input a course subject and check it against 'Reading', 'Math', and 'ESL'.

I've looked online and it recommends I use the CHECK IN but my version of SQL does not use that syntax. Is there another way to add that constraint?",learnSQL,I need help with input validation,1.0,https://www.reddit.com/r/learnSQL/comments/mvkudk/i_need_help_with_input_validation/
49,34boyboy,1619034557,mvntit,2,1,"Hey so I'm having trouble with this create trigger statement and I keep getting an error that says   
 ""Field ""vendorID"" doesn't have a default value""  when I try to update the original Vendors table. What am I doing wrong? 

&amp;#x200B;

 

DROP TABLE IF EXISTS Vendors\_audit;  
CREATE TABLE Vendors\_audit (  
    vendorID  VARCHAR(50) PRIMARY KEY,  
     email VARCHAR(50) NOT NULL,  
    phone VARCHAR(20) NOT NULL,  
 name VARCHAR(50) NOT NULL,  
    bill\_address VARCHAR(50) NOT NULL,  
 action VARCHAR(50) DEFAULT NULL  
);  


 

DROP TRIGGER IF EXISTS before\_vendors\_update;  
CREATE TRIGGER before\_vendors\_update   
 AFTER UPDATE ON Vendors  
    FOR EACH ROW   
 INSERT INTO Vendors\_audit  
 SET action = 'update',  
 name = OLD.name;  


\---  
UPDATE VENDORS    
SET   
 name = 'Gary Payton'  
WHERE  
    vendorID = ""VID9"";",learnSQL,BEGINNER QUESTION.having trouble with CREATE TRIGGER statement,1.0,https://www.reddit.com/r/learnSQL/comments/mvntit/beginner_questionhaving_trouble_with_create/
50,thriveee,1619053628,mvtzwe,7,1, ,learnSQL,"I am creating a table with a vaccination time column and I am getting an error when trying to populate the table with values for this column : insert into table1 values ( ‘xxxx’ int , cast(‘2021-12-01-12:00:32’) as TIMESTAMP Date , etc...",1.0,https://www.reddit.com/r/learnSQL/comments/mvtzwe/i_am_creating_a_table_with_a_vaccination_time/
51,snip3r77,1619061093,mvw2ng,4,1,"Usually I need to 

WHERE VARCHAR\_FORMAT(A.DATE, 'YYYY-MM') IN ('2021-03', '2021-04');

Do you all normally use it in this way? How do you usually handle dates? Thanks",learnSQL,"confused with manipulation of date, timestamp, varchar",1.0,https://www.reddit.com/r/learnSQL/comments/mvw2ng/confused_with_manipulation_of_date_timestamp/
52,lucian-12,1619066317,mvxefc,0,1, ,learnSQL,[video] MySQL Architecture,1.0,https://youtu.be/aKOaQfpW7to
53,gnar_burgers,1619077856,mvzuam,1,1," 

Hi there,

I have spent 2 weeks building a simple database in phpMyAdmin and I have exported the entire file. My lecturer wants me to comment all the queries used to create the DB and also wants some queries saved in an sql script

My question is two part: Firstly, is it possible to edit the exported DB after making all the queries or is it too late? If not, how can I edit the sl file? as a txt file?

Secondly, if I save certain queries in notepad and just save as an sql file, would that work for the queries question?

Thanks in advance",learnSQL,Editing a downloaded sql file,1.0,https://www.reddit.com/r/learnSQL/comments/mvzuam/editing_a_downloaded_sql_file/
54,thriveee,1619092774,mw3522,2,1, ,learnSQL,Error when inserting timestamp as explicit value,1.0,https://www.reddit.com/gallery/mw3522
55,apexysatish,1619099117,mw52p6,0,1, ,learnSQL,Advantages of PL/SQL,1.0,https://youtu.be/1rKCFFj3SfY
56,Automatic_Average_59,1619123858,mwe6l5,4,1," 

Create Table Hotels(

Hotel\_id INTEGER NOT NULL PRIMARY KEY,

NameofHotel VARCHAR2(18) NOT NULL UNIQUE,

roomNumber INTEGER NOT NULL);

CREATE Table bookings(

Hotel\_id INT NOT NULL PRIMARY KEY,

hotel\_name VARCHAR2(18) NOT NULL UNIQUE,

FOREIGN KEY (Hotel\_id) REFERENCES Hotels(Hotel\_id);

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

insert into Hotels values(1,'Small Hotel',6);

insert into Hotels values(1,'Large Hotel',36);

So  what I'm trying to do is limit bookings by that hotel\_id for example ID  1, to 6 insertions in the booking table. Because it only has 6 rooms  any idea how to limit insertions to 6? Of course some hotels will have  more than 6 rooms so it needs to I guess refrence and check the number  of rooms already entered but how would I stop insertions?

Obviously I can insert an infinite number of values as of now.",learnSQL,Limit insertions for a specific foreign key?,1.0,https://www.reddit.com/r/learnSQL/comments/mwe6l5/limit_insertions_for_a_specific_foreign_key/
57,evan123456700,1619129097,mwg46x,5,1,"So i want to learn django and im not sure whats better or the differences between the two, so which one should I learn or which one should I learn first?",learnSQL,sql or postgres,1.0,https://www.reddit.com/r/learnSQL/comments/mwg46x/sql_or_postgres/
58,Automatic_Average_59,1619134858,mwi2dz,0,1,"&amp;#x200B;

**Create Table Hotels(**

**Hotel\_id INTEGER NOT NULL PRIMARY KEY,**

**NameofHotel VARCHAR2(18) NOT NULL UNIQUE,**

**roomNumber INTEGER NOT NULL);**

&amp;#x200B;

&amp;#x200B;

**BEFORE INSERT**

  **on employee\_details**

  **FOR EACH ROW** 

**SELECT COUNT(\*) FROM Hotels where roomNumber = 6;**

**if COUNT(\*) roomNumber &gt;= 4** 

**--Dont insert Data**

&amp;#x200B;

**insert into Hotels values(1,'Smallgf Hotel',6);**

**insert into Hotels values(2,'Smalfgl Hotel',6);**

**insert into Hotels values(3,'Smallfg Hotel',6);**

**insert into Hotels values(4,'Smalfdl Hotel',2);**

**insert into Hotels values(5,'Smaldgwl Hotel',4);**

**insert into Hotels values(6,'Smalwrel Hotel',5);**

**insert into Hotels values(7,'Smallvxcv Hotel',7);**

&amp;#x200B;

Trying to make it so when roomNumber 6 has been entered 4x it won't insert any more records into the db I can get it to count just not sure what to do from the line **SELECT COUNT(\*) FROM Hotels where roomNumber = 6;.** It is giving me a value of 3 which is good but for example I want it to throw an exception when I try insert (**insert into Hotels values(8,'Smaavllvxcv Hotel',6);)** Because then **SELECT COUNT(\*) FROM Hotels where roomNumber = 6;** will become 4.",learnSQL,Limit insertions for a table.,1.0,https://www.reddit.com/r/learnSQL/comments/mwi2dz/limit_insertions_for_a_table/
59,Automatic_Average_59,1619137573,mwix37,3,1," 

    $sqlq=("" SELECT
    
    MAX(branch_ID)
    
    FROM
    
    liquids"");
    
    $branchIDs = oci_fetch($sqlq);
    
    
    I want it to return the highest value primary key but it isn't working not sure why. If anyone has a solution I'd be grateful.",learnSQL,PHP OCI just want it to return the highest value of a primary key.,1.0,https://www.reddit.com/r/learnSQL/comments/mwix37/php_oci_just_want_it_to_return_the_highest_value/
60,Automatic_Average_59,1619142361,mwkdni,0,1," 

**Create Table Hotels(**

**Hotel\_id INTEGER NOT NULL PRIMARY KEY,**

**NameofHotel VARCHAR2(18) NOT NULL UNIQUE,**

**roomNumber INTEGER NOT NULL);**

**BEFORE INSERT**

**on employee\_details**

**FOR EACH ROW**

**SELECT COUNT(\*) FROM Hotels where roomNumber = 6;**

**if COUNT(\*) roomNumber &gt;= 4**

**--Dont insert Data**

**insert into Hotels values(1,'Smallgf Hotel',6);**

**insert into Hotels values(2,'Smalfgl Hotel',6);**

**insert into Hotels values(3,'Smallfg Hotel',6);**

**insert into Hotels values(4,'Smalfdl Hotel',2);**

**insert into Hotels values(5,'Smaldgwl Hotel',4);**

**insert into Hotels values(6,'Smalwrel Hotel',5);**

**insert into Hotels values(7,'Smallvxcv Hotel',7);**

Trying  to make it so when roomNumber 6 has been entered 4x it won't insert any  more records into the db I can get it to count just not sure what to do  from the line **SELECT COUNT(\*) FROM Hotels where roomNumber = 6;.** It is giving me a value of 3 which is good but for example I want it to throw an exception when I try insert (**insert into Hotels values(8,'Smaavllvxcv Hotel',6);)** Because then **SELECT COUNT(\*) FROM Hotels where roomNumber = 6;** will become 4.",learnSQL,Limit insertions for a table.,1.0,https://www.reddit.com/r/learnSQL/comments/mwkdni/limit_insertions_for_a_table/
61,wildguy57,1619156315,mwod5g,7,1,I am beginner getting into SQL and unable to understand the difference between the two. From my textbook it mentioned how a query will cause data to be retrieved but a transaction will cause some data to be read and some data to be written into the database. Does this mean SQL statements like INSERT would count as a transaction since we are directly writing to the database by inserting something?,learnSQL,What is the difference between a query and transaction,1.0,https://www.reddit.com/r/learnSQL/comments/mwod5g/what_is_the_difference_between_a_query_and/
62,Automatic_Average_59,1619159360,mwp3en,1,1,"Trying to implment a system to retrieve the highest value 

(SELECT max(Dog\_ID)+1 FROM Dogs)

Do you know how I would implement this using  **oci\_result**  or   [oci\_fetch()](https://www.php.net/manual/en/function.oci-fetch.php)?",learnSQL,Easiest way to get max value from a table? Oracle,1.0,https://www.reddit.com/r/learnSQL/comments/mwp3en/easiest_way_to_get_max_value_from_a_table_oracle/
63,Automatic_Average_59,1619164445,mwq7zp,1,1,"Create Table cats(

cat\_ID INT PRIMARY KEY,

cat\_colour VARCHAR NOT NULL,

cat\_name VARCHAR NOT NULL

);

&amp;#x200B;

select \* from cats where cat\_ID = 1

in PHP oracle SQL how would I return the cats name using 'select \* from cats where cat\_ID = 1'. Not sure how to return an integer value. Thanks!",learnSQL,Find value by Primary key Oracle SQL,1.0,https://www.reddit.com/r/learnSQL/comments/mwq7zp/find_value_by_primary_key_oracle_sql/
64,zteman,1619165300,mwqenz,3,1,"What is exactly a query in SQL? I can’t find a set definition. I know that a query in English language is a question or inquiry that gets a response. In SQL I read that a query must always have to deal with a CRUD operation, not sure how true that is. I can only see a SELECT statement returning a response, but how would an INSERT or DELETE statements count as SQL query, they do not get a response back.",learnSQL,What is a query in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/mwqenz/what_is_a_query_in_sql/
65,No_Cryptographer_557,1619192367,mwy20h,0,1,"Hey guys, I'm new to ER diagrams, could you help me identify any errors please. Thank you for your help! Here is my [diagram](https://imgur.com/vJBvhcX) and it's based on the following text:

• The firm has a number of rental agencies in several provinces. Each agency is identified by an Agency\_Number and its location. 

• Each agency is assigned one or more employees. Attributes of employee include Employee\_ID and Employee\_Name. An employee must be assigned to only one rental office.

• For each agency, there is always one employee assigned to manage that office. An employee may manage only the agency to which s/he is assigned.

• The agencies rent several classes of vehicles: compact, midsize, full size, sport utility. Each vehicle is managed by one agency. Customers might rent vehicles from the different agencies. 

• Vehicles are to be described by data such as: make, model, year of production, engine size, fuel type, number of passengers, registration number, purchase price, purchase date, rent price and insurance details.

• There are two types of customers: privileged and casual. For the privileged category of customers special credit card facilities are provided. These customers may also book in advance (reservation) a particular car. Information stored for each booking (reservation) includes customer, car, estimated amount, date of rental and date on which the vehicle is to be returned. If a vehicle is available, the customer's details are recorded (if not stored already) and a new booking is made.These reservations can be made for any period of time up to one month. 

• Bookings can be cancelled if the agency is informed at least 24 hrs before the booking date.

• Casual customers cannot book in advance and must pay a deposit for an estimated time of rental at the time they rent the vehicle, unless they wish to pay by credit card. All major credit cards accepted. 

• For each rental (for either privileged or casual), the agency keeps track of the date it was rented, the date the vehicle is returned, vehicle, customer and the rental total charged amount.

• Personal details (such as name, address, telephone number, driving license, number) about each customer are kept in the database.

•  A customer (either privileged or casual) cannot rent a car for longer than four weeks. .  

• Vehicles need to be maintained and repaired and the database is required to keep track of this. All major repairs and maintenance are done by subcontractors (i.e. franchised garages), with whom the rental company has long-term agreements. Therefore the data about garages to be kept in the database includes garage names, addresses, range of services and the like. Some garages require payments immediately after a repair has been made; with others the rental company has made arrangements for credit facilities.",learnSQL,Is my ER diagram correct ?,1.0,https://www.reddit.com/r/learnSQL/comments/mwy20h/is_my_er_diagram_correct/
66,enuintor,1619201963,mx1lik,8,1, ,learnSQL,SQL for Data Analysis for Absolute Beginners (Complete Course),1.0,https://www.youtube.com/watch?v=bXT-o-bZ-O0
67,cyclops543,1619207827,mx3olv,0,1,"I just started learning MYSQL. These is just beginner-level questions. which data type in MYSQL corresponds to true, false. I have used bool or boolean but neither of them working, so what would be the right data type.",learnSQL,data type,1.0,https://www.reddit.com/r/learnSQL/comments/mx3olv/data_type/
68,thriveee,1619209131,mx45bw,2,1, ,learnSQL,How can I group by with only one field without using aggregate function in my select statement. Let’s say I pull 5 fields in my select statement and wants to group by my result by one of them .,1.0,https://www.reddit.com/r/learnSQL/comments/mx45bw/how_can_i_group_by_with_only_one_field_without/
69,34boyboy,1619211539,mx4yb4,4,1," why am i getting errors after boolean? 

Create table Nba\_LEADERS   
(  
All Star boolean,  
CONSTRAINT Nba\_LEADERS\_PK PRIMARY KEY(pid)  
);",learnSQL,Quick and Easy one,1.0,https://www.reddit.com/r/learnSQL/comments/mx4yb4/quick_and_easy_one/
70,ish156,1619215457,mx69bm,2,1,"ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''scraping'.'planets'

\`id\` INT NOT NULL AUTO\_INCREMENT,

\`name\` VARCHAR(45) NOT NULL' at line 1",learnSQL,"not sure what's wrong here, can anyone explain?",1.0,https://www.reddit.com/r/learnSQL/comments/mx69bm/not_sure_whats_wrong_here_can_anyone_explain/
71,bayermovi,1619225809,mx9cnb,0,1,"I think an entity is nothing more than a thing or a concept that exists within our problem domain or situation. The person I am learning from likes to compare entities to classes from object oriented programming, which I can see why. Is there any connection between an entity and a class from object oriented programming? Would a class be an ant toy too because a class is also a concept or thing in a way. 

I found this [post](https://stackoverflow.com/questions/2550197/whats-the-difference-between-entity-and-class) which confused me even more. Sorry, if this is a simple question but trying to progress into SQL and this has been stumping me.",learnSQL,What is the difference between an entity and a class in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/mx9cnb/what_is_the_difference_between_an_entity_and_a/
72,bayermovi,1619226708,mx9lw1,1,1,"I think an entity is nothing more than a thing or a concept that exists within our problem domain or situation. The person I am learning from likes to compare entities to classes from object oriented programming, which I can see why. Is there any connection between an entity and a class from object oriented programming? Would a class be an ant toy too because a class is also a concept or thing in a way. 

I found this [post](https://stackoverflow.com/questions/2550197/whats-the-difference-between-entity-and-class) which confused me even more. Sorry, if this is a simple question but trying to progress into SQL and this has been stumping me.",learnSQL,What is the difference between an entity and a class in databases?,1.0,https://www.reddit.com/r/learnSQL/comments/mx9lw1/what_is_the_difference_between_an_entity_and_a/
73,Tuckertcs,1619291945,mxqux5,3,1,"    SELECT cards.name as 'Card', printings.name as 'Print'
    FROM card_prints
    JOIN cards ON cards.id = card_prints.card_id
    JOIN printings ON printings.id = card_prints.printing_id;

The above query outputs:

|Card|Print||
|:-|:-|:-|
|Charizard|Holofoil||
|Charizard|Standard||

But I'd like it to output:

&amp;#x200B;

|Card|Holofoil|Standard|Reverse Holofoil|
|:-|:-|:-|:-|
|Charizard|TRUE|TRUE|FALSE|

I have `cards` that lists every card, and `printings` that lists possible print types (holo, reverse, standard, etc.), and then `card_prints` that has a row for each card/print combo (unless it doesn't exist). And each table has an id that is used to relate them to each other.",learnSQL,How would I pivot this table? I still can't wrap my mind around pivots.,1.0,https://www.reddit.com/r/learnSQL/comments/mxqux5/how_would_i_pivot_this_table_i_still_cant_wrap_my/
74,PacuFTW,1619298549,mxt1r8,2,1,"Hello! First time posting in this sub, I was just looking for answers, as I'm stuck on this one INSERT INTO for my school assignment.

    INSERT INTO leaderboardeasy VALUES(""Patrik"", 15.44, 2021-04-24) ON DUPLICATE KEY UPDATE IF(15.44 &lt; Ido) Ido=15.44, Datum=2021-04-24

The 15.44 is a PHP variable.  
Basically I want insert into the table, if it not exists, and if it exists, and if the PHP variable(in this case 15.44 is smaller than the corresponding row(Ido) ) then I want to update the Ido, and Datum(current date) of the duplicate key.  
Am I missing something here?",learnSQL,INSERT INTO... ON DUPLICATE KEY UPDATE ... IF,1.0,https://www.reddit.com/r/learnSQL/comments/mxt1r8/insert_into_on_duplicate_key_update_if/
75,No_Cryptographer_557,1619307634,mxvyd5,0,1,"Hey guys, I'm new to all of this, could you help me identify any errors with my data dictionary and fill the last blanks (I'm stuck). Thank you for your help!  Here is my [data dictionary](https://imgur.com/OtwXrP9)

It is based on this [diagram](https://imgur.com/2t5bTFS) and and on the following text:

• The firm has a number of rental agencies in several provinces. Each agency is identified by an Agency\_Number and its location. 

• Each agency is assigned one or more employees. Attributes of employee include Employee\_ID and Employee\_Name. An employee must be assigned to only one rental office.

• For each agency, there is always one employee assigned to manage that office. An employee may manage only the agency to which s/he is assigned.

• The agencies rent several classes of vehicles: compact, midsize, full size, sport utility. Each vehicle is managed by one agency. Customers might rent vehicles from the different agencies. 

• Vehicles are to be described by data such as: make, model, year of production, engine size, fuel type, number of passengers, registration number, purchase price, purchase date, rent price and insurance details.

• There are two types of customers: privileged and casual. For the privileged category of customers special credit card facilities are provided. These customers may also book in advance (reservation) a particular car. Information stored for each booking (reservation) includes customer, car, estimated amount, date of rental and date on which the vehicle is to be returned. If a vehicle is available, the customer's details are recorded (if not stored already) and a new booking is made.These reservations can be made for any period of time up to one month. 

• Bookings can be cancelled if the agency is informed at least 24 hrs before the booking date.

• Casual customers cannot book in advance and must pay a deposit for an estimated time of rental at the time they rent the vehicle, unless they wish to pay by credit card. All major credit cards accepted. 

• For each rental (for either privileged or casual), the agency keeps track of the date it was rented, the date the vehicle is returned, vehicle, customer and the rental total charged amount.

• Personal details (such as name, address, telephone number, driving license, number) about each customer are kept in the database.

•  A customer (either privileged or casual) cannot rent a car for longer than four weeks. .  

• Vehicles need to be maintained and repaired and the database is required to keep track of this. All major repairs and maintenance are done by subcontractors (i.e. franchised garages), with whom the rental company has long-term agreements. Therefore the data about garages to be kept in the database includes garage names, addresses, range of services and the like. Some garages require payments immediately after a repair has been made; with others the rental company has made arrangements for credit facilities.",learnSQL,Is my data dictionary correct ?,1.0,https://www.reddit.com/r/learnSQL/comments/mxvyd5/is_my_data_dictionary_correct/
76,No_Cryptographer_557,1619308217,mxw4j2,1,1,Sorry for the noob question !,learnSQL,"What is the difference in a data dictionary between autonumber, number(byte) and number (integer).",1.0,https://www.reddit.com/r/learnSQL/comments/mxw4j2/what_is_the_difference_in_a_data_dictionary/
77,Jiamei99,1619314433,mxxwmq,0,1," Hi, does anyone have written Luhn's Algorithm T-SQL before? How's it?",learnSQL,Help with Luhn's Algorithm T-SQL,1.0,https://www.reddit.com/r/learnSQL/comments/mxxwmq/help_with_luhns_algorithm_tsql/
78,bottledpee,1619344580,my558t,2,1,"Hello I'm faced on a simple problem where I need to copy data from one table to another, and I thought my solution would be this:

### INSERT INTO SELECT Syntax link:  [SQL INSERT INTO SELECT Statement (w3schools.com)](https://www.w3schools.com/sql/sql_insert_into_select.asp) 

my table looks like this: 

    TABLE_1
    id | requestID | requestDate
    1  | 99        | 1/1/21
    2  | 99        | 1/1/21
    3  | 99        | 1/1/21
    3  | 70        | 1/1/21
    
    TABLE_2
    id | wfhID | Date

but, I also need to set the wfhID to be that of  a constant value that is needed.  


SO what i basically want to happen is:

1. copy requestDates on  TABLE\_1 where user id = 99         
2. INSERT those dates to TABLE\_2 and all of their wfhID set to a certain constant value.

&amp;#x200B;

Please help.",learnSQL,INSERT INTO SELECT Syntax with one of the values set to constant value,1.0,https://www.reddit.com/r/learnSQL/comments/my558t/insert_into_select_syntax_with_one_of_the_values/
79,coreygriffin,1619361452,my9kfd,2,1,"Hey All,

I'm trying to optimize a query I wrote some time ago and I'm struggling to come up with an alternative to multiple self-joins, as that is what I'm currently doing.

I have two tables - one has columns of email addresses in a hierarchical fashion:

|employee\_email|
|:-|
|manager\_email|
|senior\_manager\_email|

&amp;#x200B;

I have a second table that has additional employee information:

|employee\_email|
|:-|
|employee\_first\_name|
|employee\_last\_name|

It's obviously very easy to join these two tables and get the employee's name. However, I'm looking to also get the manager and senior manager's names without doing a self join in order to do so.

The final output would be something like:

employee\_email,

employee\_name,

manager\_email,

manager\_name,

senior\_manager\_email,

senior\_manager\_name

I'm using Presto, but any ideas in other flavors of SQL are welcome as the logic may spark some ideas.",learnSQL,Avoiding Self Join,1.0,https://www.reddit.com/r/learnSQL/comments/my9kfd/avoiding_self_join/
80,34boyboy,1619378819,myfjha,12,1,"Getting this message when Insert data in the Ingredients table 

""Cannot add or update a child row: a foreign key constraint fails CONSTRAINT Ingredients\_FK1 FOREIGN KEY (vid\_FK)""

Here are the tables in question:

 

CREATE TABLE Vendor  
(  
    vid   VARCHAR(50) NOT NULL,  
 name VARCHAR(50),  
    email   VARCHAR(50),  
    phone   INT,  
    billAddress     VARCHAR(75),  
    fid\_FK  VARCHAR(50) NOT NULL,  
    city VARCHAR(50)    NOT NULL,  
 state VARCHAR(50) NOT NULL,  
 CONSTRAINT Vendor\_pk PRIMARY KEY (vid),  
 CONSTRAINT Vendor\_fk FOREIGN KEY (fid\_FK)  
 REFERENCES Factory(fid)  
);

&amp;#x200B;

&amp;#x200B;

  
 

CREATE TABLE Ingredients  
(  
    ingid   VARCHAR(50) NOT NULL,  
    cost    DOUBLE,  
    ingtype    VARCHAR(25),  
    vid\_FK  VARCHAR(50) NOT NULL,  
    pid\_FK  VARCHAR(50) NOT NULL ,  
   
 CONSTRAINT Ingredients\_PK PRIMARY KEY (ingid),  
 CONSTRAINT Ingredients\_FK1 FOREIGN KEY (vid\_FK)  
 REFERENCES Vendor(vid),  
 CONSTRAINT Ingredients\_FK2 FOREIGN KEY (pid\_FK)  
 REFERENCES Pretzels(pid)  
);  


&amp;#x200B;

 

INSERT Ingredients(ingid,cost,ingtype,vid\_FK,pid\_FK)  
VALUES         (""ingid1"",2000.00,""water"",""vid1"",""pid1""),  
               (""ingid2"",2300.00,""sugar"",""vid2"",""pid2""),  
               (""ingid3"",6000.00,""yeast"",""vid3"",""pid3""),  
               (""ingid4"",1000.00,""salt"",""vid4"",""pid4""),  
               (""ingid5"",4000.00,""flour"",""vid5"",""pid5"");",learnSQL,BEGINNER QUESTION,1.0,https://www.reddit.com/r/learnSQL/comments/myfjha/beginner_question/
81,No_Cryptographer_557,1619398404,myly3t,6,1,"• The firm has a number of rental agencies in several provinces. Each agency is identified by an Agency\_Number and its location. 

• Each agency is assigned one or more employees. Attributes of employee include Employee\_ID and Employee\_Name. An employee must be assigned to only one rental office.

• For each agency, there is always one employee assigned to manage that office. An employee may manage only the agency to which s/he is assigned.

• The agencies rent several classes of vehicles: compact, midsize, full size, sport utility. Each vehicle is managed by one agency. Customers might rent vehicles from the different agencies. 

• Vehicles are to be described by data such as: make, model, year of production, engine size, fuel type, number of passengers, registration number, purchase price, purchase date, rent price and insurance details.

• There are two types of customers: privileged and casual. For the privileged category of customers special credit card facilities are provided. These customers may also book in advance (reservation) a particular car. Information stored for each booking (reservation) includes customer, car, estimated amount, date of rental and date on which the vehicle is to be returned. If a vehicle is available, the customer's details are recorded (if not stored already) and a new booking is made.These reservations can be made for any period of time up to one month. 

• Bookings can be cancelled if the agency is informed at least 24 hrs before the booking date.

• Casual customers cannot book in advance and must pay a deposit for an estimated time of rental at the time they rent the vehicle, unless they wish to pay by credit card. All major credit cards accepted. 

• For each rental (for either privileged or casual), the agency keeps track of the date it was rented, the date the vehicle is returned, vehicle, customer and the rental total charged amount.

• Personal details (such as name, address, telephone number, driving license, number) about each customer are kept in the database.

•  A customer (either privileged or casual) cannot rent a car for longer than four weeks. .  

• Vehicles need to be maintained and repaired and the database is required to keep track of this. All major repairs and maintenance are done by subcontractors (i.e. franchised garages), with whom the rental company has long-term agreements. Therefore the data about garages to be kept in the database includes garage names, addresses, range of services and the like. Some garages require payments immediately after a repair has been made; with others the rental company has made arrangements for credit facilities.",learnSQL,Urgent: Can someone do a flowchart for me based on the following text ?,1.0,https://www.reddit.com/r/learnSQL/comments/myly3t/urgent_can_someone_do_a_flowchart_for_me_based_on/
82,34boyboy,1619459732,mz3mvt,2,1,"Does this appear to be a proper commit and rollback transaction?

&amp;#x200B;

 

SELECT   
    u/supplyID:=MAX(supplyID)+1  
FROM   
    Supplies;  


\---inserting new project and supplies info  for a new project  
INSERT INTO supplies( supplyID,  
                    quantity,  
                    cost\_supp  
                              )  
VALUES(""sid444"",  
 10,  
 14.11);  


\--inserting new project info   
INSERT INTO Project( proj\_ID,  
                     cost\_proj,  
 hours,  
                  Contact\_Num,  
                 companyID\_FK  
                              )  
VALUES(""pid777"",  
 10101.00,  
 14,  
 ""888-888-8888"",  
 ""cid341"");  


\--inserting new project supplies  
INSERT INTO project\_supplies( supplyID\_FK,  
                    proj\_ID\_Fk,  
                    Proj\_SuppID  
                              )  
VALUES(""sid444"",  
 ""pid777"",  
 ""psupid1919"");  


\--.5 commit changes  
COMMIT;  


SELECT   
     supplyID,  
     cost\_proj,  
 hours,  
     Contact\_Num,  
     proj\_ID,  
     companyID\_FK,  
     cost\_supp,  
     supplyID,  
     quantity  
   
FROM  
    supplies s  
JOIN  
    project\_supplies ps  
 ON   
    s.supplyID= ps.supplyID\_fk  
   
JOIN   
    project p   
 ON   
   ps.proj\_ID\_FK=p.proj\_ID  
   
WHERE  
  supplyID=""sid444"" ;  
\--Logging in as Mich  
\--mysql-u Mich-p  
\--Providing password  
\--Mich34  
   
   
 \--Refresh database  
 ROLLBACK;",learnSQL,BEGINNER QUESTION,1.0,https://www.reddit.com/r/learnSQL/comments/mz3mvt/beginner_question/
83,Nicholas_TW,1619463992,mz59sa,2,1,"Let's say I have this merge statement:

    MERGE INTO Foo AS TARGET
    USING Bar AS SOURCE
    ON SOURCE.ID = TARGET.ID
    WHEN NOT MATCHED 
        THEN INSERT (A, B, C) VALUES (SOURCE.A, SOURCE.B, SOURCE.C)
    WHEN MATCHED
        THEN UPDATE
        SET TARGET.A = SOURCE.A
    OUTPUT [???]
    INTO @output_table
    ;

What would I put in the \[???\] to get it to output both Deleted AND Inserted records, as well as a column specifying whether they were deleted/inserted?

Alternatively, is there a syntax where I can output twice, once to an ""@output\_inserted\_table"" and once to an ""@output\_deleted\_table""?",learnSQL,(SQL Server) How to output inserted AND deleted records after a merge statement?,1.0,https://www.reddit.com/r/learnSQL/comments/mz59sa/sql_server_how_to_output_inserted_and_deleted/
84,NothingPractical,1619465040,mz5ojp,2,1,"I've tried a few different ways. All my google searches are giving me results for how to select distinct for multiple columns. Perhaps my google skills need some work.

I have a query like this;

    SELECT DISTINCT TOP(1000) ModelName FROM Product ORDER BY DateCreated DESC
    =&gt; ""ORDER BY items must appear in the select list if SELECT DISTINCT is specified.""

Hopefully it's clear what I'm trying to; I'm trying to grab the top 1,000 distinct Model Names for the products which have been most recently entered. I can get rid of the error by adding DateCreated to the select list, but then it's distincting off of both ModelName and DateCreated.

Anybody got any suggestions? I'd love to learn why this doesn't work and how to accomplish this.",learnSQL,"How can I select multiple columns, but only distinct off of one in SQL Server?",1.0,https://www.reddit.com/r/learnSQL/comments/mz5ojp/how_can_i_select_multiple_columns_but_only/
85,Automatic_Average_59,1619488007,mzdowa,1,1,"Create Table customers(

customer\_id int NOT NULL PRIMARY KEY,

Nameofclient VARCHAR2(18) NOT NULL UNIQUE,

buisnesscheck char(1),

constraint ck\_buisnesscustomer check (buisnesscustomer in ('y', 'n')));

&amp;#x200B;

&amp;#x200B;

CREATE Table bookings(

booking\_id INT NOT NULL PRIMARY KEY,

customer\_id INT NOT NULL,

buisnesscheck char(1) NOT NULL,

Paybyinvoice char(1) DEFAULT 'n',

branch\_ID INT NOT NULL,

constraint ck\_buisnesscustomer\_booking check (buisnesscustomer in ('y', 'n')),

constraint ck\_Paybyinvoice check (Paybyinvoice in ('y', 'n')),

FOREIGN KEY (customer\_id) REFERENCES customers(customer\_id)

FOREIGN KEY (buisnesscheck) REFRENCES customers(buisnesscheck));

&amp;#x200B;

Is there anyway for it to default and insert the value of buisnesscheck into the 2nd table by taking it from the original table?   


So lets say a tuple was 

1,Ben,y

&amp;#x200B;

Could I insert y by default by refrencing the primary key of 1 when I insert into table bookings so I wouldn't have to type out y. It would just default since it can refrence the primary key of 1 in the other table? Thanks.",learnSQL,Anyway to defualt using previous data?,1.0,https://www.reddit.com/r/learnSQL/comments/mzdowa/anyway_to_defualt_using_previous_data/
86,PrestigiousZombie531,1619528317,mznvm0,0,1,"* I had an old imac machine which died a few weeks ago
* It had postgres installed in the default location and even though I take weekly backups I am losing data for the last week
* On my new mac machine, I just installed postgres
* I have the hard drive of the old machine
* I want a particular database from the old data directory on the hard drive
* How do I do this?",learnSQL,How do I restore data directory of my posgres database from another machine,1.0,https://www.reddit.com/r/learnSQL/comments/mznvm0/how_do_i_restore_data_directory_of_my_posgres/
87,K1uee,1619573660,n03v77,8,1, ,learnSQL,URGENT: Write a SELECT Statement that displays all the columns and rows for the entire Database.,1.0,https://www.reddit.com/r/learnSQL/comments/n03v77/urgent_write_a_select_statement_that_displays_all/
88,town1d10t,1619588650,n080d3,1,1,"Using SQLite3 through Anaconda command line on Windows 10.

I created two separate tables, and got data (imported from .csv) successfully into one table. When I went to create and import data into the second table, it looked like it didn't exist. Quitting sql and using command line I can find the tables. Opening up sql again and I can see the table and all of the data.

What happened and how can I run the checks as I'm adding data? I'm going to need to run FULL JOIN on thousands of records (eventually) so I want to make sure that the test cases function properly.",learnSQL,Table exists but I can't see it,1.0,https://www.reddit.com/r/learnSQL/comments/n080d3/table_exists_but_i_cant_see_it/
89,groovygrilldad,1619632092,n0ki3j,1,1,"Hey guys! I'm really at my wit's end and could use some code review and advice from any of you who feel like stopping by. So a quick explanation, I have a table names testorder\_items and a table named testproducts1. I have a cart that works pretty well so far, I can add/remove items, and checkout. I want my testproducts1 table ""Quantity"" field to be reduced by the number that is in the ""quantity"" field in testorder\_items. The quantity in testorder\_items gets inserted upon checkout, so if a user buys 3 knifes, that table will store 3 upon checkout. As stated above, I'd like my testproducts1 table to reflect that. I've tried quite a few iterations of an SQL statement to do this, and this is what I have so far, again feel free to provide any input, thank you all!

    																	$NewQty = $db-&gt;query(""Quantity - (SELECT(quantity) FROM testorder_items where product_id = testproducts1.id)UPDATE testproducts1 Set Quantity=('$NewQty') where (product_id = testproducts1.id)"");",learnSQL,SQL statement to reduce table quantity after checkout,1.0,https://www.reddit.com/r/learnSQL/comments/n0ki3j/sql_statement_to_reduce_table_quantity_after/
90,Automatic_Average_59,1619651931,n0rifi,0,1," 

**Relevant Tables:**

Create Table customers(

customer\_id int NOT NULL PRIMARY KEY,

Name VARCHAR2(18) NOT NULL UNIQUE,

buisnesscustomer char(1),

constraint ck\_buisnesscustomer check (buisnesscustomer in ('y', 'n')));

CREATE Table bookings(

booking\_id INT NOT NULL PRIMARY KEY,

customer\_id INT NOT NULL,

buisnesscustomer char(1) NOT NULL,

Paybyinvoice char(1) NOT NULL,

branch\_ID INT NOT NULL,

room\_type char(1) NOT NULL,

require\_decorations char(1) NOT NULL,

require\_buffet char(1) NOT NULL,

constraint ck\_roomtype check (room\_type in ('s', 'e')),

constraint ck\_require\_buffet check (require\_buffet in ('y', 'n')),

constraint ck\_require\_decorations check (require\_decorations in ('y', 'n')),

constraint ck\_buisnesscustomer\_booking check (buisnesscustomer in ('y', 'n')),

constraint ck\_Paybyinvoice check (Paybyinvoice in ('y', 'n')),

FOREIGN KEY (customer\_id) REFERENCES customers(customer\_id)  ON DELETE CASCADE,

FOREIGN KEY (branch\_ID) REFERENCES branches(branch\_ID) ON DELETE CASCADE);

**My triggers:**

**CREATE or replace trigger buisnesscustomer\_bu**

**before INSERT**

**ON bookings**

**for each row**

**begin**

**if :new.buisnesscustomer = 'n';  then**

**:new.Paybyinvoice = 'n';**

**end if;**

**end buisnesscustomer\_bu;**

**/**

**Also tried**

**CREATE or replace trigger buisnesscustomer\_bu**

**before INSERT**

**ON bookings**

**for each row**

**begin**

**if :new.buisnesscustomer = 'n'; then**

**:new.Paybyinvoice = 'n';**

**end if;**

**END;**

**/**

**Always get Trigger created with compilation errors. And it doesn't work.**

Trying to set the char Paybyinvoice to 'n' when buisnesscustomer = 'n'

If anyone has a solution thanks.",learnSQL,Oracle SQL triggers,1.0,https://www.reddit.com/r/learnSQL/comments/n0rifi/oracle_sql_triggers/
91,ACertainKindOfStupid,1619715936,n18zqp,0,1, ,learnSQL,NEW TO THIS SUB? SHOULD ALL MY QUESTIONS BE UPPERCASE OR NO?,1.0,https://www.reddit.com/r/learnSQL/comments/n18zqp/new_to_this_sub_should_all_my_questions_be/
92,RebelSaul,1619732064,n1eu7r,1,1,"Hello! 

I'm a little bit lost how to write a query that would calculate a future inventory based on average units sold in a day. I tried using LAG() but the query only calculates one day into the future and I'm sure how to continue the calculation until inventory is 0. I tried adding COALESCE to create a value and a self join but not I'm a little confused to my approach. 

Essentially I have a query with today as the starting record and using today's inventory and the average units sold. I'd like to show an ""estimated inventory"" for the future. What am I not considering in the LAG that would cause it to stop after just one row? 

Desired Output (assuming average units sold is 10 per day):

projected inventory: 

21

13

3

0

0

0

 Any links or leads are also greatly appreciated :)",learnSQL,Projected Inventory Query?,1.0,https://www.reddit.com/r/learnSQL/comments/n1eu7r/projected_inventory_query/
93,nanxe,1619732920,n1f5bj,14,1, ,learnSQL,HALP PLEASE,1.0,https://i.redd.it/t8z8xru1o6w61.jpg
94,lucian-12,1619781126,n1rlme,0,1, ,learnSQL,[video] MySQL Spotting Performance Problems,1.0,https://youtu.be/hUHQ3q9TW3o
95,groovygrilldad,1619971441,n39hs4,7,1,"Hello all! I'm trying to get my testproducts1 table to update after a sale, based on the quantity value inserted into my testorder\_items table upon sale. Where my id for a product in testproducts1 is equal to the product\_id field in testorder\_items, I'd like the product quantity to be updated respectively. I'm banging my head against the wall, having tried a few sql statements, none of which are updating my table. I was hoping someone might be able to provide some review and tell me where I may be going wrong. Below are three different statements I've drafted up in an attempt to get this update to work:

&amp;#x200B;

    UPDATE testproducts1 JOIN testorder_items ON testproducts1.id = testorder_items.product_id
      SET testproducts1.Quantity = testproducts1.Quantity - testorder_items.quantity
    WHERE testorder_items.product_id = testproducts1.id;
    
    
    UPDATE testproducts1 INNER JOIN testorder_items ON (testorder_items.product_id = testproducts1.id) SET testproducts1.Quantity = testproducts1.Quantity - testorder_items.quantity  WHERE testorder_items.product_id = testproducts1.id;
    
    UPDATE testproducts1, testorder_items SET testproducts1.Quantity = testproducts1.Quantity - testorder_items.quantity WHERE testproducts1.id = testorder_items.product_id;",learnSQL,Update Quantity of one table using data from two tables,1.0,https://www.reddit.com/r/learnSQL/comments/n39hs4/update_quantity_of_one_table_using_data_from_two/
96,AveryLee213,1619985368,n3ehgv,5,1,"Hello!

I recently accepted a new job offer and in order to get ahead I took a course on Udemy to learn SQL since I knew it was heavily used in my new orgnaisation. I've completed the course and want to keep learning but I'm not really sure where to go or what level I'm at. 

The course I took ([https://www.udemy.com/course/the-ultimate-mysql-bootcamp-go-from-sql-beginner-to-expert/](https://www.udemy.com/course/the-ultimate-mysql-bootcamp-go-from-sql-beginner-to-expert/)) taught me a lot of the basics, things like creating tables, joins, updating, grouping, ordering, and triggers, but I also know that data analysis is a thing that will be expected of me in my new position and I didn't get much of that here in terms of visualisation, regression, etc. 

I have experience performing data analysis in R and in Excel, but have no idea how to go about it in SQL, can anyone point me towards a course/book/recommendation that they feel might fit my circumstances?

P.S. I know that you can also run SQL through R, but for now I'd prefer to just learn it standalone and maybe come back to that possibility later.",learnSQL,Now What? (Where do I go from here?),1.0,https://www.reddit.com/r/learnSQL/comments/n3ehgv/now_what_where_do_i_go_from_here/
0,Melpeters2009,1614788310,lwxok5,6,7," I am fairly new to ms sql and I have to connect my sql database to my C# program. However, I do not use a username and password to log in to my ms sql. When I create the connection string, it requires a userID and password. Does anyone know where to find this in ms sql if you don't use it to log in? Thanks in advance!",learnSQL,Finding information in MS SQL,1.0,https://www.reddit.com/r/learnSQL/comments/lwxok5/finding_information_in_ms_sql/
1,Major-Tension7220,1614796790,lx11vu,12,10,"What are some standard features of SQL that are not directly supported in MySQL, and some ways to  workaround them within MySQL to achieve the same goal.",learnSQL,MYSQL vs. SQL,1.0,https://www.reddit.com/r/learnSQL/comments/lx11vu/mysql_vs_sql/
2,RDBNoob,1614867908,lxlncu,0,1,"Hello.

Can someone please help with this. I must define a constraint in relational algebra where there are 2 attributes in a table where when one has a value in a tuple the other cannot have a value in that tuple but one of the two must always have a value. Particularly it is a booking table and each booking must have musician\_ID or Actor\_ID but not both in one table.

Thanks a lot for help. I apologize for poor English.",learnSQL,Relational algebra either/or constraint question,0.6,https://www.reddit.com/r/learnSQL/comments/lxlncu/relational_algebra_eitheror_constraint_question/
3,ArutanSipdrae,1614876950,lxp9q7,3,3,"I've been pulling my hairs for hours over this one, and this seems to be a SQL server issue.

I'm using the mssql node module under node JS to send queries to my database.

My query in itself is correct and working, as I've been testing it in DataGrip and I get no error whatsoever, and my data is correctly inserted and I can select it.

But when sending it programatically with mssql, I keep getting ""Incorrect syntax near ','."", and it never did that until today.

Has anyone ever got this issue? I saw a post about invisible character so I already checked that...",learnSQL,"Query keeps returning ""Incorrect syntax near ','.""",0.71,https://www.reddit.com/r/learnSQL/comments/lxp9q7/query_keeps_returning_incorrect_syntax_near/
4,[deleted],1614889815,lxuew0,3,3,[deleted],learnSQL,Having Some Trouble - Dates and Aggregate Functions,1.0,https://www.reddit.com/r/learnSQL/comments/lxuew0/having_some_trouble_dates_and_aggregate_functions/
5,Vindictive_Vin,1614917335,ly3mro,8,2,"INSERT INTO CUSTOMER VALUES (1000, 'Smith', 'Jeanne', 1050.11) ;

from my other notes and  stuff I have done in the past this should be working but I am getting the following error :

Msg 8115, Level 16, State 8, Line 1

Arithmetic overflow error converting numeric to data type numeric.

The statement has been terminated.

&amp;#x200B;

Completion time: 2021-03-04T20:06:29.8278879-08:00

I don't know what that means, I am trying to do an assignment for school and of course the books only tell you exactly what to do but not how to fix any problems. I am sure it is something super obvious. Also sorry I know this is super basic I just have no idea what I am doing wrong.",learnSQL,Anyone willing to help me?,0.67,https://www.reddit.com/r/learnSQL/comments/ly3mro/anyone_willing_to_help_me/
6,A_Anand2441,1615134205,lztx6b,0,1," Hi Everyone,

I just wanted to let everyone know that there is a Facebook page and a YouTube channel that creates awesome tutorials on SQL, Excel , Google data studio and other analytical tools for freshers. 

you can subscribe the YouTube channel using the link below to get latest tutorials 

And please like and follow the Facebook page to get the latest updates on the videos posted by the Data Millennials Team.

YouTube Link:-[https://www.youtube.com/.../UCtc40fS9cGnoKIWOeu.../playlists](https://www.youtube.com/channel/UCtc40fS9cGnoKIWOeuXWIjQ/playlists?fbclid=IwAR3o3ZDSVwWjIci52S62s3fNqZgcFT0fjuV3vCVnQHLlKf0QwjQ-6Yl5ELQ)

Facebook Page Link:- [https://www.facebook.com/The-Data-Millennials-596575371027542/](https://www.facebook.com/The-Data-Millennials-596575371027542/?__cft__[0]=AZXvxwlHexBQrNmx6MSe1oCUFA1qDw5xqNlMkW07bortbgi1LYuJb5P3Xl7TvelGbbaRb-YDL7NrZ1o1uqVi8NXA58Sw5k0NMWPnYGpZNCMLrq9KpSngjNFhNTQFHfBx_UxMOL7qoCD6SsLFB1JEwTTl&amp;__tn__=kK-R)",learnSQL,Easy Steps to Learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/lztx6b/easy_steps_to_learn_sql/
7,ConsciousLawfulness4,1615226338,m0lmeh,2,1,"Check this string  
 'Alabama, Alaska, Alaska, Alaska, American Samoa, Arizona, Alaska, Arkansas, California, California, Colorado, California, Arkansas'  


here some values are repeated I want them as comma-separated and distinct values",learnSQL,"How to fetch distinct substring separated by the commas from a string, in the SQL",1.0,https://www.reddit.com/r/learnSQL/comments/m0lmeh/how_to_fetch_distinct_substring_separated_by_the/
8,r0xicet,1615263087,m0yfnu,7,1,"I have to find the cutomers who bought from the first time in 2019

|ORD\_NO|ORD\_DATE|CUST\_CODE|
|:-|:-|:-|
|23435312|2020-10-11|A4|
|76635699|2019-10-25|A7|
|87897898|2017-09-09|A5|
|65524245|2018-05-16|A4|
|98835351|2019-07-09|A5|
|75633535|2020-08-01|A7|
|54535353|2019-02-09|A3|
|31122212|2019-08-11|A1|

I USED THIS:   

# select * FROM (SELECT cust_code,  ord_date, ROW_NUMBER() OVER (PARTITION BY year(ord_date)) AS rankk FROM bb) a WHERE a.rankk=1

&amp;#x200B;

but this returns:

|CUST\_CODE|ORD\_DATE|rankkk|
|:-|:-|:-|
|A5|2017|1|
|A4|2018|1|
|A3|2019|1|
|A4|2020|1|

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

HELP????",learnSQL,CUSTOMER WHO BOUGHT FOR THE FIRST TIME IN 2019?,1.0,https://www.reddit.com/r/learnSQL/comments/m0yfnu/customer_who_bought_for_the_first_time_in_2019/
9,ConsciousLawfulness4,1615263775,m0ymvn,0,1,"&amp;#x200B;

The Hospital table holds all Guide types.

&amp;#x200B;

\+---+--------------------------------------------------------------------------------------------------+

| Id| Guide 											       |  

\+---+--------------------------------------------------------------------------------------------------+

| 1 | Operative 									 	       | 

| 2 | Laceration\\Operative 								 	       | 

| 3 | Operative,Abrasion|Operative,Operative,Operative 					 	       |

| 4 | Operative,Operative,Operative,Operative 						 	       | 

| 5 | Operative,Operative,Operative,Operative,Operative,Operative			 	       | 

| 6 | Damage type:Operative&amp;Abrasion  							 	       |

| 7 | Damage type:Operative 								 	       |  

| 8 | Damage type:Operative,Operative,Operative 					 	       |  

| 9 | Laceration,Damage type:Operative,Operative,Operative,Operative,Damage type:Operative	       | 

| 10| Damage type:Operative,Operative,Operative,Operative,Damage type:Operative		 	       | 

| 11| Damage type:Operative,&lt;Abrasion&gt;Operative,Operative,Damage type:Operative,Operative,Operative    |

| 12| Operative,Damage type:Operative,Damage type:Operative				 	       |   

| 13| tearing+Operative,Damage type:Operative,Damage type:Operative			 	       |   

\+---+--------------------------------------------------------------------------------------------------+

&amp;#x200B;

Write a SQL query to 

Find out records which have only 'Operative' or 'Damage type:Operative', can appear one time, multiple time or in the combination of both the guide types.

Make sure, any of the above-mentioned Guides must not appear in the combination of any other Guide type.

&amp;#x200B;

The Output table contains many possible below records.

&amp;#x200B;

\+---+------------------------------------------------------------+

| Id| Guide 							 |  

\+---+------------------------------------------------------------+

| 1 | Operative 						 | 

| 2 | Operative,Operative,Operative,Operative 			 | 

| 3 | Operative,Operative,Operative,Operative,Operative,Operative| 

| 4 | Damage type:Operative 					 |  

| 5 | Damage type:Operative,Operative,Operative 		 |  

| 6 | Operative,Damage type:Operative,Damage type:Operative	 | 

\+---+------------------------------------------------------------+

&amp;#x200B;

Solution link:

[https://github.com/Chaitanya150895/SQLDEV/commit/1c72f2af167d2b6fca39cd99aa76624ba6300776](https://github.com/Chaitanya150895/SQLDEV/commit/1c72f2af167d2b6fca39cd99aa76624ba6300776)

&amp;#x200B;

Suggestions are welcome..

\#dailycoding #sqlqueries #sql #SQLSERVER #post10",learnSQL,To find Unique substrings from a comma-separated string.,1.0,https://www.reddit.com/r/learnSQL/comments/m0ymvn/to_find_unique_substrings_from_a_commaseparated/
10,Anushraj_p,1615293122,m15fzd,5,1,"I'm quite new to SQL I have a database that will be updated daily with 3 columns company\_code, kgs\_consumed ,consumption\_date - there are many records for over 100 + companies with date going back up to 5 years if I have to find out the average kgs\_consumed in the last 1 month and the last 3 years from the current date what do I have to do 

date format is like 2021-03-09 00:00:00, 2021-03-08 00:00:00 and so on   
so far tried using the curdate() function but not able to exactly figure out how   


select company\_code,AVG(kgs\_consumed) from consumtionbd where Date\_ref between curdate() and curdate()+30 group by company\_code.",learnSQL,basic SQL monthly freq average to run daily,1.0,https://www.reddit.com/r/learnSQL/comments/m15fzd/basic_sql_monthly_freq_average_to_run_daily/
12,Kaulpelly,1615300461,m17mha,2,1,"I am working with a ticketing system of sorts and I am trying to create a log of changes to use as a source of insights into ticket lifecycle. I have multiple base dbs that all have identical structure and feed into one Main\_DB where the ticket number(INT) and DB\_ID (INT) are the primary key. Triggers insert or update (no delete) as needed when changes are made to the source DBs.

My thought was to have a new  trigger on the Main\_DB table. Before Main\_DB is updated it could write the current value to a log table and have an Integer value that iterates up as new values go in. That way we can track the number of changes and their statuses.

I was hoping someone could point me in the right direction or if there is existing functionality I am just unaware of then point me at that.",learnSQL,Tracking Ticket Lifespan,1.0,https://www.reddit.com/r/learnSQL/comments/m17mha/tracking_ticket_lifespan/
13,RightBehindMe,1615344993,m1nmdg,13,1,"Hey guys,

I've been looking for jobs as a recent graduate in the vein data analysis and data engineering. A pretty typical requirement is practical experience with SQL. Unfortunately, I don't have that right now.

What is a way I could gain this experience on my own. Perhaps there's a cert I could obtain?

Thanks for the help guys!",learnSQL,Best Way to Gain Practical Experience with SQL,1.0,https://www.reddit.com/r/learnSQL/comments/m1nmdg/best_way_to_gain_practical_experience_with_sql/
14,acernz,1615350530,m1pbxb,3,1,"Hi Experts,

Please may I know what is wrong with following, that my MySQL Workbench 8.0  is throwing up error code 1064.

1. ALTER TABLE sales CHANGE COLUMN day\_of\_week weekday;
2.  2. ALTER TABLE sales CHANGE COLUMN day\_of\_week weekday

Thanks a ton",learnSQL,May I know what is wrong with this simple script,1.0,https://www.reddit.com/r/learnSQL/comments/m1pbxb/may_i_know_what_is_wrong_with_this_simple_script/
15,Wild-Region9148,1615361203,m1s2sh,0,1,"Hi everyone,

which database would you recommend to use when working with XML?

Which object-oriented database would you suggest?

Thank you in advance!",learnSQL,Which database is suits XML?,1.0,https://www.reddit.com/r/learnSQL/comments/m1s2sh/which_database_is_suits_xml/
16,Wild-Region9148,1615365181,m1szai,0,1,"Hi everyone,

which database would you suggest to use for accessing XML files?

Thank you in advance!",learnSQL,Which database suits XML best,1.0,https://www.reddit.com/r/learnSQL/comments/m1szai/which_database_suits_xml_best/
17,sweetsummerschild,1615367076,m1teez,11,1,"Hi, I'm a newbie trying to learn PostgreSQL on DataCamp and came across this practice. I don't understand why this should be a left join instead of an inner join when both of them provide the exact same results here.

https://preview.redd.it/6k3olsn326m61.png?width=1600&amp;format=png&amp;auto=webp&amp;s=26f604d88301e20ab8fff6b997d3752ed2de5325",learnSQL,"Why must LEFT JOIN be used instead of INNER JOIN? Is it just for the sake of the chapter's topic, which is OUTER JOIN?",1.0,https://www.reddit.com/r/learnSQL/comments/m1teez/why_must_left_join_be_used_instead_of_inner_join/
18,thriveee,1615388867,m1zjx8,4,1,I have AdventureWorks database downloaded and was looking for a good SQL tutorial using this db. Any recommendations?,learnSQL,Any good tutorial that uses Adventureworks database?,1.0,https://www.reddit.com/r/learnSQL/comments/m1zjx8/any_good_tutorial_that_uses_adventureworks/
19,nsfw_celbs,1615399508,m243fx,0,1, ,learnSQL,I got ya homie!,1.0,https://direct-link.net/221756/activation
20,5oco,1615409171,m280yy,0,1,"I have two fields that I need to use for the query, I've figured that part out. One field is size, containing an integer, and one field is state, containing a state abbreviation. I need to add up the values from size for each state. So say there's 50 records for the state of Alabama. I want to get the size field for all records that have a value of ""AL"" in the state field. My thought was 

    cursor.execute(""SELECT size FROM tableName WHERE state = AL"") //Also tried with single quotes around AL
    rows = cursor.fetchall()

I think rows should have a list of all the fields that I selected. My next step was to iterate through the rows and just add up the values. At the moment though, this just appears to freeze for a bit and then closes. I'm guessing I'm writing the query wrong since I just started learning sql like a week ago.",learnSQL,Trying to use a WHERE statement right,1.0,https://www.reddit.com/r/learnSQL/comments/m280yy/trying_to_use_a_where_statement_right/
21,5oco,1615421303,m2czx9,5,1,"I have a field containing string in the format of ##-####.

I want to only select rows in which that field does not contains strings that start with a 3 or 4.

I'm thinking something like

    SELECT code FROM table WHERE &lt;this is what I don't know&gt;

I'm thinking maybe SUBSTRING(code,1) != ""3""

&amp;#x200B;

I'm not really sure though, I've only just recently started using SQL",learnSQL,How can I filter out results that start with a certain string?,1.0,https://www.reddit.com/r/learnSQL/comments/m2czx9/how_can_i_filter_out_results_that_start_with_a/
22,eckahh,1615455459,m2miqs,14,1,"I have one column containing total year-round sales and I'd like to filter out Sales for Jan and Dec to 2 different columns. I can only filter sales for Jan when I put the date conditions in the WHERE clause. Is it possible to filter the Dec sales in another column? Can I filter the sales of Jan and Dec in one query, how? So far what I did was change the WHERE clause date to Dec to get Dec sales 😅 

My current query looks something like this

SELECT total_sales
FROM 
INNER JOIN
USING
WHERE date = Jan",learnSQL,Hello SQL experts please help a newbie,1.0,https://www.reddit.com/r/learnSQL/comments/m2miqs/hello_sql_experts_please_help_a_newbie/
23,Wild-Region9148,1615472612,m2r66k,0,1,"Hi everyone,

Do you know any source where graph database is compared with object-relational?  Thanks in advance!",learnSQL,Neo4J vs. PostgreSQL,1.0,https://www.reddit.com/r/learnSQL/comments/m2r66k/neo4j_vs_postgresql/
24,JamesOHands,1615479695,m2u0rl,3,1,"I'm currently having some difficulty connecting to the MySQL server through Python. 

This is the code I currently have:

    import os
    from mysql.connector import connect, Error
    
    try:
        with connect(
            host='localhost',
            user='jamesohands',
            password='password',
        ) as connection:
            print(connection)
    except Error as e:
        print(e)

When I run it, I receive the following error:

    1045 (28000): Access denied for user 'jamesohands'@'localhost' (using password: YES)

I'm a little confused as to why I'm receiving the error as I'm able to access the server through the MacOS terminal.

Does anyone have any ideas what I'm doing wrong? 

Thanks a lot in advance!",learnSQL,Trouble connecting to MySQL server through Python,1.0,https://www.reddit.com/r/learnSQL/comments/m2u0rl/trouble_connecting_to_mysql_server_through_python/
25,5oco,1615498740,m31gvg,3,1,"I have a function that works when I hard code in the value but I don't wanna hard code stuff because...ya know...bad.

Anyway, my function is in python

        def get_state_jobs(state):
    
            MyWindow.cursor.execute("" SELECT * ""
                                    "" FROM state_schools ""
                                    "" WHERE area_title LIKE 'Alabama' ""
                                    "" AND occ_code NOT LIKE '3%' ""
                                    "" AND occ_code NOT LIKE '4%'"")
            jobs = MyWindow.cursor.fetchall()
            jobs_available = len(jobs)
    
            return jobs_available

So I tried writing state where I have 'Alabama', but that didn't work. I got no return value and print statements didn't print anything.",learnSQL,Trying to pass in a function argument to my execute statement,1.0,https://www.reddit.com/r/learnSQL/comments/m31gvg/trying_to_pass_in_a_function_argument_to_my/
26,fr0zen_yetti,1615515776,m37a9q,9,1,"Hi, 

I am needing some help / guidance on a query I am working on. I have a large data set of around 300K rows. In that data set are 6 of which I need to add together 5 of the column to create a ""Total"" column. Then using the ""Total"" column I need to add another column that will be a running total based on the ""Total"" column. Once I have the ""Running Total"" column I will need to run case statements on the ""Running Total"" column. 

So far I have the below statement to select my data and create my grand total column. I also have my case statements completed as well. However, I am not sure how to make a running total based on that calculated ""Total"" column. 

Current statement to bring data and create ""Total"" column:

Select top (100)
Column1, column2, column3, column4,column5,column6, (column2+column3+column4+column5+column6) as Total

FROM source

WHERE date BETWEEN '2021-03-09' AND '2021-03-09'


Thanks in advance",learnSQL,Running total on a calculated column,1.0,https://www.reddit.com/r/learnSQL/comments/m37a9q/running_total_on_a_calculated_column/
27,yeetawaybro,1615526260,m3ait3,2,1,"This is an example of the dataset I'm working with:

        id     | company |    number    |        percentage
    -----------+---------+-------------+--------------------------
             5 | PQ      | PQRSTU       |  83.33
             5 | PQ      | PQRSTU       |  90.65
             2 | PQ      | PQRSTU       |  45.00
            10 | AC      | ABCDE        | 100.00
            6  | AC      | ABCDE        | 10.00

I'm trying to use count and joins to get the final result such that it has the count for the frequency of percentage in each range for each number identifier with very low being percentage under 20, low being between 20 and 40 and fair between 40 and 60 and so on with high over 80.

     company | number | very_low | low | fair | normal | high
    ---------+-------------+------+---------+-------------+----------
       PQ    | PQRSTU |    0     |  0  |   1  |    0   |   2
       AC    | ABCDE  |    1     |  0  |   0  |    0   |   1

I'd appreciate any help with this. Thanks!",learnSQL,How to get count as 0?,1.0,https://www.reddit.com/r/learnSQL/comments/m3ait3/how_to_get_count_as_0/
28,Iluvnuggetsandcats,1615531539,m3byqn,2,1,"Appreciated so much in advance. I am super new to SQL. My teacher is incredibly nice but I do not find him very helpful in class unfortunately. I have to do all of the figuring stuff out myself. That is fine, but for SQL things can work and not be valid or can mess things up :( I have been working on this ONE question for like 3 days guys my mind is blown... This currently works in regards to the question:

QUESTION: Which team has the youngest athlete, and what is that athlete’s name?

'''

SELECT athleteFirstName, athleteLastName, teamName
FROM team t JOIN athlete a ON t.teamId = a.teamId
WHERE athleteDateOfBirth = (SELECT MAX(athleteDateOfBirth)
                            FROM team JOIN athlete ON team.teamId = athlete.teamId)
GROUP BY teamName, athleteFirstName, athleteLastName;
'''

So I have connected two tables and am trying to solve for that question. I have tried DATEDIFF over and over... and.......over... and all I get are errors. Many different errors.

Would that subquery work?

Like, does it make sense or will my teacher mark it as incorrect since I haven't used DATEDIFF? I was also a little confused if I need to add a GROUP BY statement in the subquery.

Thank you guys.",learnSQL,Is this SQL statement valid?,1.0,https://www.reddit.com/r/learnSQL/comments/m3byqn/is_this_sql_statement_valid/
29,thumbsdrivesmecrazy,1615551986,m3giji,0,1,"This SQL (based on bipp Analytics platform) tutorial provides basic and advanced concepts of SQL, designed for beginners and professionals with no prior DB experience is required: [Learn SQL for Data Analysis - SQL Tutorial for Data Analyst - bipp Analytics](https://bipp.io/sql-tutorial)",learnSQL,SQL Tutorial for Data Analyst - bipp Analytics platform,1.0,https://www.reddit.com/r/learnSQL/comments/m3giji/sql_tutorial_for_data_analyst_bipp_analytics/
30,thriveee,1615558632,m3ig2d,1,1,"What does this code do? 
case when sum( case when Count is null the. 0 else 1 end) =0 then 0",learnSQL,Case statement within case statement,1.0,https://www.reddit.com/r/learnSQL/comments/m3ig2d/case_statement_within_case_statement/
31,Sa_hou20,1615578762,m3pljo,2,1,"Hi guys, I am looking for a job as a data analyst and as you know SQL is an important skill for this role. I turned from construction Eng into DS and I took a SQL course zero to Hero on Udemy for this skill. My question is how can I show I am able to do stuff by SQL in my resume. I did a European Soccer project that is available in Kaggle with SQLite. Does anyone know anything else?  I would be very grateful if you could provide me with any information.",learnSQL,SQL Project,1.0,https://www.reddit.com/r/learnSQL/comments/m3pljo/sql_project/
32,ahalilov,1615587591,m3sops,6,1,"Hi,

I  am in tech for 12 years now and have been mentoring a lot of people during the last 5 years (primarily in backend and SQL). So I have figured the best way to learn SQL is to solve SQL tasks and learn by doing. I created an interactive SQL tutorial where you learn and improve your skills by having hands-on experience in SQL. Just check this out: [interactivesql.com](https://interactivesql.com/?ref=r_sqltutorial)

I would appreciate any feedback about the tutorial from people who are learning SQL now or who want to start.

Apologies if it is not allowed to self-promote myself here but I wanted to spread the word and help beginners in this. Looking forward to any feedback about the course.",learnSQL,I built an interactive SQL tutorial for junior engineers to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/m3sops/i_built_an_interactive_sql_tutorial_for_junior/
33,ElliotNZ,1615697615,m4o9v3,2,1,"I've heard SQL is a fast way to get into the industry, should I learn a programming language like Python or JavaScript at the same time?",learnSQL,Should I learn a programming language as well as SQL,1.0,https://www.reddit.com/r/learnSQL/comments/m4o9v3/should_i_learn_a_programming_language_as_well_as/
34,ThatSQLguy,1615718444,m4syb0,1,1,"Many students at my university seem to worship LeetCode so I thought I will give it a try.

It was a quantity over quality approach that I took to solve problems. Check out my progress and answers to some of the most common questions I get asked from beginners.

[12 Hours on SQL](https://github.com/avinshe/12hours_On_SQL)",learnSQL,For beginners attempting SQL first time,1.0,https://www.reddit.com/r/learnSQL/comments/m4syb0/for_beginners_attempting_sql_first_time/
35,fr0zen_yetti,1615719641,m4t7oq,3,1,"I am having some trouble with a query in which I have six columns. These six columns are summed to create a grand total column, and then I sum them again to do a running total. The problem I am having is that my running total doesn't seem to sync up with the summing of the grand total column. is there a way I can get the grandtotal column to be sorted in DESC order and then do the running total?",learnSQL,Running total not adding right,1.0,https://www.reddit.com/r/learnSQL/comments/m4t7oq/running_total_not_adding_right/
36,DenofBlerds,1615743762,m4zul4,0,1, ,learnSQL,SQL Injection: Overview For Beginners,1.0,https://cybercoastal.com/sql-injection-introduction-for-beginners/
37,thriveee,1615752779,m534ii,2,1,I downloaded a script from a tutorial that creates a database and it’s tables. I run it in SQL MS and completed successfully but I don’t see it in the object explorer. Am I missing steps ?,learnSQL,Running a script that creates a database and populating tables,1.0,https://www.reddit.com/r/learnSQL/comments/m534ii/running_a_script_that_creates_a_database_and/
38,BotR13,1615763242,m56t4k,3,1," I asked this on the main SQL reddit but I think it might be better here. 

I am currently a student getting is MS in SWE, my BS is in EE which I hated. CS wasn't my thing either till I found my database elective course. I love databases and I love SQL, currently I am using MSSQL. For once I know what I wanna do with my life. I am currently in the database class and am still learning design and SQL queries and next semester I plan to take the next course in big data and mining. Because I like this stuff I have been trying to get ahead in my free time following YouTube tutorials like AlextheAnalyst whom I adore and many others. Problem is I am having a hard time finding good ways to show my future interviews I like this stuff. Project examples seem to be hard to find unless I want to pay for other courses. So I thought maybe I will make my own database.

My questions are for anyone in the field, especially if they are in charge of hiring:

What kind of projects do you look for in an entry level applicant?

What kind of components to the project do you want to see? (Like the created database, the tables, and a bunch of saved queries?) Or is there other things you want to see?

I tried thinking of a database to make for myself for my own project. I like PokemonTCGO and thought a cool database could be taking in all the meta cards, potential meta cards, and future Japanese sets not yet released potential meta cards: their abilities and attacks and make a series of tables that allow queries that might find specific cards that have counters, compare options, and w/e else I could think of. Would this be an ok project or would you deem this childish? I can't really think of anything that isn't really cut and dry like doctor stuff or banking. I mean I know that's the end goal, but if I am doing it in my free time I would like to have a bit of fun.

I haven't started these tutorials but I have one for SSRS and SSIS using Visual studio, and although I am not fully sure what they are, I did see on several job postings they are wanted. Could I use these two things on my potential database I make for a project?

Thank you guys for any advice in advance, also if you know any portfolio project tutorials that could help I am all ears.",learnSQL,Is this an OK idea for an entry level portfolio project? What is actually asked for? Tables and example queries?,1.0,https://www.reddit.com/r/learnSQL/comments/m56t4k/is_this_an_ok_idea_for_an_entry_level_portfolio/
39,OperationCorporation,1615818616,m5lwth,1,1,"I want to get only the Serial Numbers that the shipping column of the latest record = 2. Thanks for your help in advance.

DECLARE `@SNS` TABLE( SN VARCHAR(25)) 

DECLARE `@BC` VARCHAR(25) 

DECLARE `@LOT_ID` VARCHAR(25)

INSERT INTO u/SNS SELECT SERIAL FROM ITEMS WHERE SHIPPED = 2 AND LOT\_ID = 90 AND Start\_Time = ( SELECT MAX(Start\_Time) FROM ITEMS GROUP BY SERIAL )",learnSQL,Stuck trying to get a max record for multiple records,1.0,https://www.reddit.com/r/learnSQL/comments/m5lwth/stuck_trying_to_get_a_max_record_for_multiple/
40,pm_90,1615819616,m5m99w,3,1,"Hi everyone, 

I'm looking for some guidance on writing a stored procedure for a query that would look like this

    update jobs set StatusRefNo = 4, EditUserRefNo = 1114 where WebReference in ('PPM-213268', 'PPM-213269')

The problem I have is that the number of those WebReferences could be anything between 1 and 1000. 

At the moment, the administrator for these rental products creates a list of reference numbers on an Excel spreadsheet. Concatenation is used to put the ' ' around the reference numbers and then sent to me. 

&amp;#x200B;

[Excel file will look like this](https://preview.redd.it/pn31f3co47n61.png?width=260&amp;format=png&amp;auto=webp&amp;s=8b6bbc95d56a2b872b490389e6b6592583c6ce22)

These are pasted in to the SQL query as above and I just make sure the last comma is removed and then it's run. 

There are a number of these sorts of queries that I am moving to webforms to be completed by the admin staff themselves as these jobs make up about half of our IT department tickets per month - and this one just so happens to be the last one. All the rest have been tested and working lovely.  

My HTML form is just going to be a textarea for the administrator to copy and paste the concatenated list of reference numbers into and once it is submitted, the stored procedure will do the rest. 

Are there any potential pitfalls to this idea? Is there a smarter way to do it?

Thanks in advance  🤓",learnSQL,Stored Procedure assistance,1.0,https://www.reddit.com/r/learnSQL/comments/m5m99w/stored_procedure_assistance/
41,lwilson747,1615836104,m5sk9j,0,1,[removed],learnSQL,Using Machine Learning in Trading and Finance,1.0,https://www.reddit.com/r/learnSQL/comments/m5sk9j/using_machine_learning_in_trading_and_finance/
42,sapienquest,1615867539,m60lgv,1,1,"I have the following query and I need to Create 3 columns (name of employee, average salary of departments/person, difference between employee salary and department salary). So far I have the below but I can't manage to get the average salary of departments/person or the difference:

&amp;#x200B;

 

CREATE TABLE IF NOT EXISTS customers

(

 id int NOT NULL,

 name varchar(128),

 salary int,

 dept\_id int,

 PRIMARY KEY (id)

);

CREATE TABLE IF NOT EXISTS departments

(

 id int NOT NULL,

 name varchar(128),

 location varchar(128),

 PRIMARY KEY (id)

);

INSERT INTO employees

VALUES

 (1, ""customera"", 4685, 1),

 (2, ""customerb"", 2559, 2),

 (3, ""customerc"", 4405, 4),

 (4, ""customerd"", 2350, 1),

 (5, ""customere"", 1151, 4),

 (6, ""customerf"", NULL, 2);

INSERT INTO departments

VALUES

 (1, ""Executive"", ""Berlin""),

 (2, ""Production"", ""Amsterdam""),

 (3, ""Resources"", ""Amsterdam""),

 (4, ""Technical"", ""Berlin""),

 (5, ""Engineering"", ""New York"");

&amp;#x200B;

ANSWER:

&amp;#x200B;

SELECT 

c.name,

AVG(c.salary) AS AvgDepartment,

c.salary AS difference

FROM customers AS c

JOIN departments AS d

ON c.dept\_id = d.id

GROUP BY c.name

;",learnSQL,I need help with the below query,1.0,https://www.reddit.com/r/learnSQL/comments/m60lgv/i_need_help_with_the_below_query/
43,lucian-12,1615898985,m68bbe,0,1,[https://youtu.be/NKakuDRExJE](https://youtu.be/NKakuDRExJE),learnSQL,[video] MySQL Composite Index Best Practices,1.0,https://www.reddit.com/r/learnSQL/comments/m68bbe/video_mysql_composite_index_best_practices/
44,lucian-12,1615899066,m68c61,0,1, ,learnSQL,[video] MySQL Composite Index Best Practices,1.0,https://youtu.be/NKakuDRExJE
45,OperationCorporation,1615908150,m6bhuz,18,1,"Why is the top so much slower than the bottom?
    DECLARE @START DATETIME
    DECLARE @CCAS TABLE ( SN VARCHAR(25) )
    SET @START = '2019-01-01 00:00:00.000'
    INSERT INTO @CCAS 
    SELECT SERIAL_NUMBER FROM 
        [ITEM_PRD].[dbo].ITEM_CCAVerify_TestResultsPro]
    WHERE SHIPPED = 0 
    AND START_TIME &gt; @START
    AND DSP_SERIAL IS NOT NULL
    AND PA_SERIAL IS NOT NULL
    AND IO_SERIAL IS NOT NULL

    SELECT DISTINCT(CV.[DSP_SERIAL])
    FROM [ITEM_PRD].[dbo].[ITEM_CCAVerify_TestResultsPro] CV
    LEFT JOIN ITEM_DSP_TestResultsPro DSP
    ON CV.DSP_SERIAL = DSP.SERIAL_NUMBER
    WHERE CV.SERIAL_NUMBER IN ( SELECT * FROM @CCAS )
    AND DSP.SERIAL_NUMBER IS NULL

----------------------------------------------------------------------------------

    DECLARE @START DATETIME
    SET @START = '2019-01-01 00:00:00.000'


    SELECT DISTINCT(CV.[DSP_SERIAL])
    FROM [ITEM_PRD].[dbo].[ITEM_CCAVerify_TestResultsPro] CV
    LEFT JOIN ITEM_DSP_TestResultsPro DSP
    ON CV.DSP_SERIAL = DSP.SERIAL_NUMBER
    WHERE CV.SERIAL_NUMBER IN ( SELECT SERIAL_NUMBER FROM 
                                [ITEM_PRD].[dbo].ITEM_CCAVerify_TestResultsPro]
                                WHERE SHIPPED = 0 
                                AND START_TIME &gt; @START
                                AND DSP_SERIAL IS NOT NULL
                                AND PA_SERIAL IS NOT NULL
                                AND IO_SERIAL IS NOT NULL )
    AND DSP.SERIAL_NUMBER IS NULL",learnSQL,Why is CTE so much slower than using subquery,1.0,https://www.reddit.com/r/learnSQL/comments/m6bhuz/why_is_cte_so_much_slower_than_using_subquery/
46,thriveee,1615915658,m6edwv,5,1,"If I don’t want fields with null values to not show on my output , what’s the best way to do it",learnSQL,What the syntax to not return values of fields with null values,1.0,https://www.reddit.com/r/learnSQL/comments/m6edwv/what_the_syntax_to_not_return_values_of_fields/
47,Electronic-Touch6131,1615921642,m6gpce,3,1,"Hello! 

So its spring break and my professor decided to make a homework due but my groupmates are on vacation, leaving me to finish our group homework alone. 

My task is to use table constraints to set PK and FK for a table that's been provided by my professor. 

Please DM me if you can help or if you need more details! I can also discord call and share screens because that makes things much easier! Thank you!",learnSQL,Need help on table constraints,1.0,https://www.reddit.com/r/learnSQL/comments/m6gpce/need_help_on_table_constraints/
48,34boyboy,1615941270,m6nr75,2,1," 

CREATE TABLE IF NOT EXISTS PizzaToppings   
(  
    surragateNum  int auto\_increment,  
    autogen\_FK    int auto\_increment,  
    igdm\_num\_FK       CHAR(5),  
CONSTRAINT PizzaToppings\_PK PRIMARY KEY (surragateNum),  
CONSTRAINT PizzaToppings\_FK1 FOREIGN KEY (autogen\_FK),  
REFERENCES Order\_Item(autogen),  
CONSTRAINT PizzaToppings\_FK2 FOREIGN KEY (item\_num\_FK)  
REFERENCES Toppings(item\_num)  
);",learnSQL,Why do I keep getting errors on this?,1.0,https://www.reddit.com/r/learnSQL/comments/m6nr75/why_do_i_keep_getting_errors_on_this/
49,SQLShitter11,1615996663,m73l8o,2,1,"What I'm trying to do:

[https://gyazo.com/d51820766c176d20a4ee22775d323f68](https://gyazo.com/d51820766c176d20a4ee22775d323f68)

The table:

[https://gyazo.com/174fb0ca7342c4cb41e2bdfceb9e30a4](https://gyazo.com/174fb0ca7342c4cb41e2bdfceb9e30a4)

&amp;#x200B;

Please help thank you very much",learnSQL,Why am I getting a syntax error here?,1.0,https://www.reddit.com/r/learnSQL/comments/m73l8o/why_am_i_getting_a_syntax_error_here/
50,heylinkgames,1616001515,m75g1s,4,9,"I've been asked to a second interview for a position next week. I'll be on zoom for two hours and the interview will focus on SQL and applying analytics to business scenarios.

The latter I'm comfortable with, however I'm completely new to SQL. I was upfront in the first interview about having no experience with SQL (I believe they use Oracle) and a very small amount of time with MySQL. 

I'm curious about what I'm looking at here as far as how difficult of a language this is to pickup and if anyone has any resource recommendations? I have past experience writing code (JS, MERN stack, very light MySQL for db stuff) so hoping that can help ease the learning curve.",learnSQL,Practical Interview using SQL,0.92,https://www.reddit.com/r/learnSQL/comments/m75g1s/practical_interview_using_sql/
51,originalgoodname,1616877776,mem8ld,4,1, ,learnSQL,"keying rules, line 1 and 9, why are some of the columns keyed into like table.column and some are just columnname?",1.0,https://i.redd.it/65qspnk1ump61.png
52,marouaneletech,1616945132,mf2xjr,0,1, ,learnSQL,[ SQL Tutoriel] Exercices sur la clause ORDER BY,1.0,https://youtube.com/watch?v=_Nq_N74B65w&amp;feature=share
53,marouaneletech,1616955578,mf6jfl,0,1, ,learnSQL,[SQL Tutoriel] les fonctions de conversion sous SQL Server,1.0,https://youtube.com/watch?v=Ggq1V7ELNpU&amp;feature=share
54,marouaneletech,1616959190,mf7s9y,0,1, ,learnSQL,[SQL Tutoriel] le rôle des operateurs selon le type de données sous SQL ...,1.0,https://youtube.com/watch?v=7orVZHZ7IW8&amp;feature=share
55,Nicholas_TW,1617026700,mfq9uh,7,1,"Let's say I have a table, Foo:

&amp;#x200B;

|Type|Value|Order|
|:-|:-|:-|
|'a'|'aaa'|1|
|'a'|'bbb'|2.2|
|'b'|'ccc'|1|
|'b'|'ddd'|1.5|
|'b'|'eee'|2.5|
|'b'|'fff'|3|
|'c'|'ggg'|1|
|'c'|'hhh'|1.5|

...And, based on 'Order', I wanted to get the SECOND-HIGHEST Value for each Type.

How can I do this? (I'm using SQL Server).

This code only gets called once per thirty minutes, so optimality is less important than code legibility.",learnSQL,How to get the second-highest row for each type?,1.0,https://www.reddit.com/r/learnSQL/comments/mfq9uh/how_to_get_the_secondhighest_row_for_each_type/
56,Pruthviamin,1617042812,mfw64u,6,1,"Two Tables

Table name = profiles

|UserRefID|Firstname|Surname|Deceased|
|:-|:-|:-|:-|
|100567|John|Smith|0|

Table name = emails

|UserRefID|emailID|email address|Default|
|:-|:-|:-|:-|
|100567|567|[j.smith@zmail.com](mailto:j.smith@zmail.com)|1|

&amp;#x200B;

Write a short SQL select statement to retrieve all duplicate email addresses for the same UserRefID where the user is alive and at least one of the emails is a default email address.

(The deceased and default fields are both Boolean)",learnSQL,SQL question. Can you answer it?,1.0,https://www.reddit.com/r/learnSQL/comments/mfw64u/sql_question_can_you_answer_it/
57,climbing-rocks,1617113651,mgh069,4,1,"Hello Learn SQL I want to amend a function I have, at the moment it returns all records of a table when I call it using the below command.

`select my_function()`

However I want to be able to give the select statement a list of ID's that will populate the where statement that is built in to the function, so when I call the function it looks like this.

`select my_function(1,2,3)`

Im assuming I need to declare the list? and then add it into my select 

&amp;#x200B;

`declare`  
`variable_list;`  
`select * from table where id in (variable_list)`",learnSQL,Creating a function,1.0,https://www.reddit.com/r/learnSQL/comments/mgh069/creating_a_function/
58,marouaneletech,1617132335,mgnubp,0,1, ,learnSQL,[ SQL Tutoriel] les fonctions DATE importantes sous SQL Server,1.0,https://youtube.com/watch?v=LGwfG4KFqU0&amp;feature=share
59,marouaneletech,1617138109,mgpxgj,0,1, ,learnSQL,[ SQL Tutoriel] Les fonctions CARACTERE sous SQL Server,1.0,https://youtube.com/watch?v=MRYBC25-oLk&amp;feature=share
60,apexysatish,1617168668,mgz1i8,0,1,"Hello Group Members,

This is my first video on PL/SQL Tutorial, Please give me feedback.

[https://youtu.be/NMYYu39tmjI](https://youtu.be/NMYYu39tmjI)",learnSQL,What is PL/SQL,1.0,https://www.reddit.com/r/learnSQL/comments/mgz1i8/what_is_plsql/
61,species5618w,1617185333,mh2wpg,7,1,"Let's say I call an external REST api to get transactions from last year and insert into a transaction table. Since I can call this api many times, most of the data returned would have already existed in the table (assuming the timestamp is always unique). What's the best way to do this insert? Right now, I am just ignore duplicate key errors. Not sure that is efficient.",learnSQL,How to insert data into table and ignore duplicates?,1.0,https://www.reddit.com/r/learnSQL/comments/mh2wpg/how_to_insert_data_into_table_and_ignore/
62,Sullhammer,1617193214,mh4waw,2,1,"Morning.

I'm looking to join two tables, but be able to get all instances in second table to display for the same value in the first table.

My issue is I'm looking for all people who have multiple entries associated to them on the second table.

What I have currently will only get me one instance:

SELECT tableA.participant, tableB.*
  FROM tableA
JOIN tableB ON tableB.key = tableA.key
WHERE tableB.status = 'PRI'
AND EXISTS
  (SELECT 1 FROM tableB2
    WHERE tableB2.bkey = tableB.bkey
    AND tableB2.status &lt;&gt; 'PRI'
    AND tableB2.number &lt;&gt; tableB.number)

This will get me the population I need from TableA, but not all the records I want from TableB. I want to see all the Primary statuses in TableB, along with their non Primary statuses that don't share the same Number in TableB.

Did I explain this properly?",learnSQL,Looking to join two tables and get all unique rows for second table for same value in first table,1.0,https://www.reddit.com/r/learnSQL/comments/mh4waw/looking_to_join_two_tables_and_get_all_unique/
63,apdaga,1617194032,mh54dw,1,1, ,learnSQL,HackerRank: [SQL Basic Select] (1/20) REVISING THE SELECT QUERY - I | Filtering in SQL,1.0,https://www.apdaga.com/2021/02/hackerrank-basic-select-revising-the-select-query-I-filtering-in-sql.html
64,HairyTomatillo6502,1617199552,mh6u9i,3,1,"For example, there is an HTML form &lt;input type=""file"" name=""excel\_file""&gt;. The user must click on ""Upload File"" in a browser and submit an Excel spreadsheet. Then, all the data contained in this spreadsheet must be sent to MySQL database. Afterwards, I need to modify this data using the Python library Pandas. Does anyone know how can I do it? Thanks a lot!",learnSQL,How can I send data from an Excel spreadsheet (xlsx) to a MySQL database in the browser?,1.0,https://www.reddit.com/r/learnSQL/comments/mh6u9i/how_can_i_send_data_from_an_excel_spreadsheet/
65,aferg011,1617214473,mhc4c5,6,1,"I like reading our databases textbook and learning about the particulars of all these things, like systems analysis &amp; design cycle, or studying principles of relational databases, things like this I legitimately am interested by. 

So finally getting into the coding part? I am still interested but losing touch I feel like I want to sort of write these queries out (very simple right now!) and really dig into the conceptual stuff and how we could have used these million different options to do this one thing so here they are and everything. 

Hope this is making sense.

Advice for how to sort of compliment reading about these queries? 

I saw a ""sql formatter"" thing and thought visualizing the queries could be useful. I would be willing to try any community I just get pretty lost being so new. 

Hope I'm in the right place.",learnSQL,Hi just joined - new to SQL and really to all languages - Frustrated with learning by Textbook?,1.0,https://www.reddit.com/r/learnSQL/comments/mhc4c5/hi_just_joined_new_to_sql_and_really_to_all/
66,marouaneletech,1617219604,mhdxnv,0,1, ,learnSQL,[ SQL Tutoriel] Exercices sur les types de données et fonctions sous SQ...,1.0,https://youtube.com/watch?v=7H4cM1M5J20&amp;feature=share
67,marouaneletech,1617222004,mhes2j,0,1, ,learnSQL,[ SQL Tutoriel] exercices sur les fonctions Date et Heure sous SQL Server,1.0,https://youtube.com/watch?v=k1tCpw-yFsc&amp;feature=share
68,cally0611,1617229596,mhhd47,11,1,"Hi

&amp;#x200B;

https://preview.redd.it/ygx50yb4wfq61.png?width=858&amp;format=png&amp;auto=webp&amp;s=2d211eacf4ea006f11a0c178ce56fb505d48c827

This is my data in sql  table. How do I get the max DTargetCumTotal for each ProcessUnitNm, as in, there are 3 different types of Machine in ProcessUnitNm, I only need the distinct values that has the max value at the DTargetCumTotal, the Plan Date would also show...the latest in that day.

I also need the rest of the columns to appear in the select statement.

Please advice. Thank you.",learnSQL,How to get the max value for these unique data in a sql table,1.0,https://www.reddit.com/r/learnSQL/comments/mhhd47/how_to_get_the_max_value_for_these_unique_data_in/
69,analytics_science,1617287575,mhwl8f,6,1, ,learnSQL,"A framework to solve any SQL question (Also, a cool Twitch interview question)",1.0,https://www.youtube.com/watch?v=tNXliLTlrV8
70,nonkeymn,1617305582,mi32qd,0,1, ,learnSQL,SQL Concepts You Need To Know Before Your Next Data Science Or Data Engineering Interview,1.0,https://www.youtube.com/watch?v=X6-VNKe3XVM
71,marouaneletech,1617308877,mi495t,0,1, ,learnSQL,[ SQL Tutoriel] Exercices sur les chaines de caractères et fonctions sou...,1.0,https://youtube.com/watch?v=kEBfio1m-wI&amp;feature=share
72,distraughthoughts,1617324896,mi9dx8,0,1, ,learnSQL,Assistance Learning SQL - Discord Server,1.0,/r/SQL/comments/jlawb1/assistance_learning_sql_discord_server/
0,claudiwneamtu,1612192204,la57c3,9,2,"Hy guys,

This is Claudio and I started learning for a career in Data Analytics. I am pretty good with Python, Excel and Tableau.   
Recently I started learning SQL and I am wondering how could I start doing SSIS, SSAS,SSRS on a MAC MACHINE ? Is there are available software, similar to the one from Microsoft or any way to run the Microsoft software on my MAC? I heard about a virtual machine and recently saw that It can be done with docker.

The thing is (i don't know much about SQL and all the courses i have taken were mostly related to how to  transform the data after having the database: Such clauses were: Select; from ; where ; limit ; and ; order by etc) 

So I am really confused on how could i first download the software and use it on the mac and secondly how to approach this to be able to master SQL?

&amp;#x200B;

Best, 

C",learnSQL,"MSBI ( SQL Server, SSIS , SSAS and SSRS)",0.67,https://www.reddit.com/r/learnSQL/comments/la57c3/msbi_sql_server_ssis_ssas_and_ssrs/
1,JabreakittJubawdit,1612196868,la75eg,6,1,"I have 2 table. 

Trip:  tripcost, tripdate, tripid, cityid

City:  id, city_type(metro, non_metro)


If i have to find the tripcost of metro and nen metro for everyday what should i do?

Output:   date ¦¦ cost_of_metro_trip¦¦¦ costofnonmetro

Will 

select sum(case when city_type='metro' then tripcost) as cost_of_metro_trip 

work?

(no its not for my homework, i graduated year ago)",learnSQL,Help me solve this query,0.67,https://www.reddit.com/r/learnSQL/comments/la75eg/help_me_solve_this_query/
2,DepressiedSpaghetti,1612284388,lb05iz,14,6,"Hi, I am new to SQL using SQL developer and just need a little help. I keep getting this error when I run my create table script however I don't understand what went wrong and unfortunately trusty Google is not really that helpful. Could anyone please explain why it doesn't work please? Thank you very much.

&amp;#x200B;

https://preview.redd.it/n6xmvwinf3f61.png?width=1133&amp;format=png&amp;auto=webp&amp;s=05b80574d0a0c57c16a2ebe7c57ce204a0cfbf24",learnSQL,Newbie needing help,0.88,https://www.reddit.com/r/learnSQL/comments/lb05iz/newbie_needing_help/
3,Random_dude_1980,1612296586,lb53n8,6,2,"Hey guys. Any training environments/online resources to just faff about in and try out scripts, etc.? Just want a safe sandbox to muck about and learn by trial and error.",learnSQL,Training environments?,0.76,https://www.reddit.com/r/learnSQL/comments/lb53n8/training_environments/
4,BLKD1aM0nDs,1612327544,lbftp8,10,5,"Dealing with brain fog and could use some direction here. I am needing to adjust the query to return only the Product IDs that have only one price listed in ProductListPriceHistory 

The code below answers this question -

Products have multiple list prices over time. These are stored in the ProductListPriceHistory table. Find the original list price and date on which that price was set for all finished goods (FinishedGoodFlag = 1) 

&amp;#x200B;

SELECT T1.ProductID, T1.Name, T2.ListPrice, T2.StartDate

FROM Production.Product AS T1 JOIN Production.ProductListPriceHistory  AS T2

ON T1.ProductID = T2.ProductID

WHERE FinishedGoodsFlag = 1

AND T2.StartDate = 

(SELECT MIN(StartDate)

 FROM Production.ProductListPriceHistory AS T3

 WHERE T3.ProductID = T2.ProductID);",learnSQL,Help with Correlated Nested Query,1.0,https://www.reddit.com/r/learnSQL/comments/lbftp8/help_with_correlated_nested_query/
5,darvidas,1612365662,lbpu75,8,2,"SELECT username, fnamn, enamn, salary

FROM kund

WHERE (salary) &lt; AVG(nvl(salary, 0));

&amp;#x200B;

This does not work, does anyone know why?",learnSQL,SELECT WHERE smaller than average,0.76,https://www.reddit.com/r/learnSQL/comments/lbpu75/select_where_smaller_than_average/
6,bdrilling33,1612388985,lbzb2h,2,7, ,learnSQL,Create two is found columns based on the same tables,1.0,/r/MSSQL/comments/lbyv4v/create_two_is_found_columns_based_on_the_same/
7,ChivisUwU,1612390309,lbztvf,1,3,"Hi guys, im a college student and i need to install SQL Server 2019, but im having some issues to complete the installation, one of them is this: ""Error -2147467259 The system cannot find the specified path."" I already google it, but i haven't found the solution... If anyone can help me, i'd appreciate it pretty much. I already installed SSMS and i didn't have problems to install it.",learnSQL,"Problems to install SQL Server 2019, i need help...",1.0,https://www.reddit.com/r/learnSQL/comments/lbztvf/problems_to_install_sql_server_2019_i_need_help/
8,[deleted],1612407711,lc5v8u,2,4,[deleted],learnSQL,Creating an output based on a set of rules in another table - can anyone point me in the right directly on what syntax or logic I would use to solve this? Let me know if you need more info,0.84,https://www.reddit.com/gallery/lc5v8u
9,Kaulpelly,1612803497,lfg5er,2,1,"I have done some research into this and find mostly responses that are a decade or more old so wanted to check I wasn't missing something.

If i write an SP to create a trigger on a table that is consistent across all the databases with a certain prefix, can I pass the list of DBs to the SP to have the trigger created on all of them.

Current workaround is an SP that prints out the create of the trigger but with the USE \[db\] just iterated. Its just duplicated N times, where N is the number of DBs. Its huge!",learnSQL,Run Stored Procedure against All DBs,1.0,https://www.reddit.com/r/learnSQL/comments/lfg5er/run_stored_procedure_against_all_dbs/
10,MikeDoesEverything,1612828697,lfpk6f,3,1,"Extremely new to SQL here.

I am using the following query on MySQL Workbench and SQL Workbench/J:


    create table master_table (
      location varchar(25) not null,
      city varchar(25) not null,
      utc datetime not null,
      local datetime not null,
      parameter varchar(25) not null,
      value float null,
      unit varchar(25) not null,
      latitude decimal (10,8) null,
      longitude decimal (11,8) null,
    	attribution varchar(255) null,
      primary key (city),
      key parameter (parameter)
    );
   
It works as intended on MySQL workbench although seems to not want to work on SQL Workbench/J.  In fact, a lot of the stuff I do on SQL Workbench/J doesn't work (tried creating and using a database - it did not want to be used) so I'm doing something wrong.  Only thing I've managed to find was enabling autocommit on the connection.  Other than that, nothing.

Would love some guidance.  Thank you!",learnSQL,New to SQL. Same query on two different IDEs although one works and one doesn't?,1.0,https://www.reddit.com/r/learnSQL/comments/lfpk6f/new_to_sql_same_query_on_two_different_ides/
11,panchocolat,1612860876,lfyesx,6,1,"1) A self join example where an employee earns higher than manager

Why can't it be

select [e.name](https://e.name) as employee

from employee e 

join employee m

on [e.id](https://e.id) = m.managerid

where e.salary &gt; m.salary

&amp;#x200B;

2) Other question is a query to delete duplicate emails in SQL

Does this query not work with MySQL? At least can I confirm syntax is fine with MSSQL?

&amp;#x200B;

DELETE FROM PERSON  
WHERE id IN (  
SELECT id  
FROM Person  
GROUP BY id, email  
HAVING COUNT(\*) &gt; 1));",learnSQL,What's wrong with these queries?,1.0,https://www.reddit.com/r/learnSQL/comments/lfyesx/whats_wrong_with_these_queries/
12,tuskadar,1612864627,lfz7mk,2,1,"I'm struggling with a problem.

I have two tables, first one is:

Persons  
(id, name)  
A | Jack  
B | Pete  
C | Nick

&amp;#x200B;

Second one is

  
Results

(id, person\_id, result)  
1 |A | RESULT X   
2 |A| RESULT Y   
3 | B | RESULT Z   
4 | B | RESULT Q   
5 | C| RESULT W   


I want to SELECT persons name and how many results they have, the result itself is irrelevant for now.

It should look like:

Jack | 2  
Pete | 2  
Nick | 1

I can't get it to work, I've tried SELECT [persons.name](https://persons.name), COUNT(results, person\_id) FROM persons, results but something goes wrong everytime. Any help?",learnSQL,Struggling with a simple problem,1.0,https://www.reddit.com/r/learnSQL/comments/lfz7mk/struggling_with_a_simple_problem/
13,exey1,1612880067,lg467d,7,1," 

**Background Information:**

1. There are two tables: parent and patients(children)
2. I want to list the parent names and the child names for those parents that have both male and female children
3. PFA snapshot of both tables. (I have copied them onto one excel sheet just for studying purposes)
4. I'm working on azure
5. Ignore the highlights

&amp;#x200B;

[ Left: Parents Table -- Right: Patients Table ](https://preview.redd.it/f5zov2qsmgg61.png?width=1161&amp;format=png&amp;auto=webp&amp;s=62f6f7387d3fb5fc93b0438ddc2ca04ffef7bb9c)

&amp;#x200B;

 **My code:** 

SELECT [parents.Name](https://parents.name/) as Parent\_Name, [children.Name](https://children.name/) as Child\_Name,

children.Gender

FROM t1 as children

JOIN t2 as parents

ON parents.ParentID=children.ParentID

ORDER BY Parent\_Name,Child\_Name,Gender

The expected output would be along these lines:

&amp;#x200B;

**Pre-output:**

Parent\_Name Child\_Name Gender \[*Output Headings*\]

Alden Avery female

Andrew Jerry male

Anne Lillian female

Arthur Grace female

Benjamin Lucifer Male

Benjamin Lucy female

Bessie Jessica female

Bobbie Benjamin male

Bruce Aurora female

Bruce Isla female

Bruce Kayden male

**Output:**

    Benjamin Lucifer   
    Benjamin Lucy  
    Bruce Aurora    
    Bruce Isla   
    Bruce Kayden",learnSQL,Appeal to the SQL gods - Been at it for 12 hours now,1.0,https://www.reddit.com/r/learnSQL/comments/lg467d/appeal_to_the_sql_gods_been_at_it_for_12_hours_now/
14,allun11,1612965430,lgu4s6,8,1,"I have a DB like the following

User     trackPreference

1            5

1            6

1            7

1            8

2            6

2            7

What I want, is to get all the trackPreferences that user 1 and user 2 has in common (i.e. trackPreference 6 and 7). I know how to do this programmatically by gathering all the trackPreferences from user 1, storing it in an array and then going over each one for user to and if they have a match, then add it to a new array. But this seems cumbersome, and I'm wondering if there is a nice way to do this in a query perhaps?",learnSQL,Best way to find matches by a column in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/lgu4s6/best_way_to_find_matches_by_a_column_in_sql/
15,snailv,1612997024,lh63bx,6,3,"    SQL&gt; CREATE TABLE REP_CONTACTS
      2  (  Store_ID NUMBER(8),
      3     Name NUMBER(5),
      4     Quarter CHAR(3),
      5     Rep_ID NUMBER(5),
      6             CONSTRAINT rep_contacts_rep_id_store_id_quarter_pk PRIMARY KEY (Rep_ID, Store_ID, Quarter),
      7             CONSTRAINT rep_contacts_rep_id_fk FOREIGN KEY (Rep_ID)
      8                     REFERENCES store_reps (Rep_ID),
      9             CONSTRAINT rep contacts_store_id_fk FOREIGN KEY (Store_ID)
     10                     REFERENCES BOOK_STORES (Store_ID));

i get this message:

    ERROR at line 9:
    ORA-00907: missing right parenthesis

but i swear ive read over it a million times and i dont see a missing parenthesis.

would really appreciate any insight into what the problem is.",learnSQL,whats wrong with my query?,1.0,https://www.reddit.com/r/learnSQL/comments/lh63bx/whats_wrong_with_my_query/
16,aj_ladybug,1612998527,lh6nob,7,1,"Hey ya'll,

I'm working on a report for work which I tend to do through Report Builder as I can query through ProLaw (our practice management software) and then just run the report. I need to set up the dataset so I'm working in SSMS now to have a more complete look at everything. I've been at this for hours now and I feel like my brain is about to explode, so hopefully you can help!

I've attached an image that shows the tables. Below that there is kind of a mockup of what I'm looking for in my final report. I'd like to group by initials, but right now I'm hanging on by a thread with the SQL and I've done and undone things many times over before giving up (for today). Below is the text of what I had started on.

    SELECT Initials, MatterID, ClientSort, ShortDesc, OpenedDate, CategoryDesc
    FROM Matters
    INNER JOIN MattersProfessionals ON Matters.Matters = MattersProfessionals.Matters
    INNER JOIN Professionals ON Professionals.Professionals = MattersProfessionals.Professionals
    INNER JOIN MatterCategories ON Matters.Matters = MatterCategories.Matters
    INNER JOIN Category ON MatterCategories.Matters = 
    WHERE AssignedType = ‘Billing’ AND
    WHERE CategoryDesc LIKE ‘Incomplete%’
    GROUP BY Initials

https://preview.redd.it/mnebortbgqg61.png?width=1286&amp;format=png&amp;auto=webp&amp;s=ffa721cd7c18c13e598364d5b7bd092d1859d190",learnSQL,Help with MSSQL Joins/Query,1.0,https://www.reddit.com/r/learnSQL/comments/lh6nob/help_with_mssql_joinsquery/
17,34boyboy,1613005239,lh8z9j,4,1,"hey so I have this question in class:

 ***"" The House ID, street address, and value for houses in the 19128 zip code with at least three bedrooms and two bathrooms. ""***

I type in this line of SQL and it keeps showing up null:

""***SELECT ID, street, value***

***FROM house***

***WHERE zip= ""19128"" AND bathrooms &gt;=3 AND bedrooms =2;""***

&amp;#x200B;

What am I doing wrong here, I know from the metadata at least one item should return?

&amp;#x200B;

Thanks!!",learnSQL,Need some help on this SELECT statement for class,1.0,https://www.reddit.com/r/learnSQL/comments/lh8z9j/need_some_help_on_this_select_statement_for_class/
18,JDiGi7730,1613017366,lhcrc4,3,1,"I am reading a SQL script and saw the following command :

delete from CustLog where CustID not in (2)

It is a very long script and I cannot paste the whole thing but I have not seen that reference before. There are 4 select statements above.

I know you cannot tell what it specifically means but I have not seen that (2) before.   
Does anyone know what the (2) is referencing?",learnSQL,what does this mean ? .... CustID not in (2),1.0,https://www.reddit.com/r/learnSQL/comments/lhcrc4/what_does_this_mean_custid_not_in_2/
19,mestitomi,1613052817,lhlh93,0,1, ,learnSQL,SQL CREATE TABLE tutorial (for beginners in data science),1.0,https://www.youtube.com/watch?v=rdZeuE7ahjA
20,FortWorthTexasLady,1613056423,lhmpw8,4,1,"I don’t have the means to get a college degree in computer science, but would be willing to put time and money into a certification online if it would look good on my resume. I always hear that Udemy courses and similar stuff look dumb on a resume, so is there something online that actually would look good?",learnSQL,Is there a programming certification that actually looks good on a resume?,1.0,https://www.reddit.com/r/learnSQL/comments/lhmpw8/is_there_a_programming_certification_that/
21,Top-Substance2185,1613062105,lhos8w,0,1, ,learnSQL,"Data Observability in Practice Using SQL, Part II: Schema &amp; Lineage",1.0,https://towardsdatascience.com/data-observability-in-practice-using-sql-part-ii-schema-lineage-5ca6c8f4f56a?source=friends_link&amp;sk=f1737b6a54bbd6d7c7b3d40e64e24a44
22,analytics_science,1613062585,lhoykz,2,1, ,learnSQL,Common SQL date manipulations that are helpful on the job/interview [X-post r/SQL],1.0,https://youtu.be/TYHWv1vT0Pk
23,parisiengoat,1613067512,lhqusb,4,1,"I'm doing a SQL Zoo tutorial and there's a question involving Exclusive OR that I can't seem to get past.  Is ""XOR"" the proper syntax for this?

*Processing img x5o3kv6c4wg61...*",learnSQL,question about Exclusive OR,1.0,https://www.reddit.com/r/learnSQL/comments/lhqusb/question_about_exclusive_or/
24,tuanavu,1613079296,lhvfk3,0,1,[removed],learnSQL,Learn Advanced SQL for FAANG interview,1.0,https://www.reddit.com/r/learnSQL/comments/lhvfk3/learn_advanced_sql_for_faang_interview/
25,MikeDoesEverything,1613082877,lhwrwn,1,1,"Hello all,

I'm currently trying to import a fairly large CSV into MySQL Workbench although am running into the following problems:

* I have this object ```2018-03-18T23:00:00-03:00``` although it never reads the correct time.  I've set to this both a ```datetime``` and ```timestamp``` object in the table although both give exactly the same results as UTC.

* When trying to load the file with this:

    LOAD DATA INFILE 'path\\to\\csv'
    
    INTO TABLE t
    
    FIELDS TERMINATED BY ','
    
    LINES TERMINATED BY '\n'
    
    ignore 1 lines;

I get this error: ```Error code 1292. Incorrect datetime value: '2018-03-18T23:00:00.000Z```

and if I use ```ignore``` on the load data infile line, the data towards the bottom doesn't load in properly.

All these things have happened and I'm not terribly sure why.  I've tried looking into datetime and timestamps and timestamps with timezones although can't seem to get my head around getting it work.  I also haven't a clue why towards the bottom of the table data randomly starts filling in incorrectly.  

Could somebody point me in the right direction please?",learnSQL,Load data infile and timestamp problems.,1.0,https://www.reddit.com/r/learnSQL/comments/lhwrwn/load_data_infile_and_timestamp_problems/
26,fervor430,1613085380,lhxodm,0,1,"I'm making a database in Spatialite and I bumped into a problem. I have a table that has column named ""length [cm]"" and I want to insert values from this table into another one but each time I try this column either gets filled with repeated ""length [cm]"" or I  get an error that such column does not exist. And I also want to merge 3 tables into one new table but none of them have the same set of columns. Could you guys help me?",learnSQL,Troublesome named column,1.0,https://www.reddit.com/r/learnSQL/comments/lhxodm/troublesome_named_column/
27,KJ6BWB,1613091664,lhztra,1,1,"    select Product.Class,
        (case
            when Class = 'M' then 'z'
            else Class
        end) as Class
    from Production.Product

I found https://stackoverflow.com/questions/28344087/how-to-use-case-without-adding-new-column-to-table-in-sql but it still seems to create a new column.

    select Product.Class,
        replace(Class, 'M', 'z')
    from Production.Product

Also creates a new column.",learnSQL,How do I replace a character within the same column without updating the source? MS SQL Server Management Studio,1.0,https://www.reddit.com/r/learnSQL/comments/lhztra/how_do_i_replace_a_character_within_the_same/
28,alex123711,1613101132,li2rch,0,1,"For learning SQL or is ot outdated?

https://www.amazon.com/Practical-SQL-Handbook-Using-Variants/dp/0201703092",learnSQL,Would this book still be worthwhile?,1.0,https://www.reddit.com/r/learnSQL/comments/li2rch/would_this_book_still_be_worthwhile/
29,alex123711,1613101176,li2rre,0,1, ,learnSQL,What is the best book for learning SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/li2rre/what_is_the_best_book_for_learning_sql/
30,Godnyx117,1613135229,liao25,8,1,I'm a TOTAL beginner in databases and I want to start with either mySQL or mariaDB. At first I went at mySQL as it is the most famous option out there. but then found about mariaDB and I made a comparison and found that it has more features and better performance and it becomes more and more famous and used instead of mySQL. So should I go for mariaDB? My time is very limited and I don't want to learn both.,learnSQL,Should I learn mySQL or mariaDB?,1.0,https://www.reddit.com/r/learnSQL/comments/liao25/should_i_learn_mysql_or_mariadb/
31,DataMajor,1613142595,licwv4,0,1,[https://datamajor.net/mssqlsplitcolumn/](https://datamajor.net/mssqlsplitcolumn/),learnSQL,How To Split A Column With Delimited String Into Multiple Columns In Sql Server,1.0,https://www.reddit.com/r/learnSQL/comments/licwv4/how_to_split_a_column_with_delimited_string_into/
32,modusros,1613152925,ligp3j,1,1,How would I begin to understand the relationship with tables in a DB if there is no ERD? I attempted to view dependencies for the table but some of these are tied to triggers and I cant tell how it all ties together.,learnSQL,No ERD.. How do I know Schema?,1.0,https://www.reddit.com/r/learnSQL/comments/ligp3j/no_erd_how_do_i_know_schema/
33,jdontherokks,1613164973,lil43u,2,1,"Can anyone guide me with the below query?

Write a query to display the customer\_id,customer full name ,city,pincode,and order details (order id, product class desc, product desc, subtotal(product\_quantity \* product\_price)) for orders shipped to cities whose pin codes do not have any 0s in them.

Sort the output on customer name and subtotal.",learnSQL,Help in a query !,1.0,https://www.reddit.com/r/learnSQL/comments/lil43u/help_in_a_query/
34,Iam_cool_asf,1613181432,liql65,7,1,Thanks in advance guys.,learnSQL,"Does the string in sql consumes the size specified regardless of the actual size of the content, or is the size used as a ceiling for the size that can be used ?",1.0,https://www.reddit.com/r/learnSQL/comments/liql65/does_the_string_in_sql_consumes_the_size/
35,Kpop2258,1613191753,lithgx,1,1,Preferably in oracle please.,learnSQL,Any good websites I can get practice projects on?,1.0,https://www.reddit.com/r/learnSQL/comments/lithgx/any_good_websites_i_can_get_practice_projects_on/
36,Iyamthepapa,1613239572,lj5mx4,0,1, ,learnSQL,Just starting with SSMS,1.0,/r/SQL/comments/lf76uz/ssms_practice_ms_sql/
37,vishalk0694,1613247192,lj873l,3,1,"I have just started taking some SQL Courses on udemy and now i am able to understand it.
But when i practice on W3 online i am not able to identify which join to use when solving a question.
Is there a trick to identify which join would work the best for that particular question.",learnSQL,Joins,1.0,https://www.reddit.com/r/learnSQL/comments/lj873l/joins/
38,r0xicet,1613259175,ljc5k4,3,1,"i forgot my mysql root password and now have installed and reinstalled almost 10 times, and now the command client doesnt even start !!!! pls help",learnSQL,SQL COMMAND CLIENT KEEPS CRASHING,1.0,https://www.reddit.com/r/learnSQL/comments/ljc5k4/sql_command_client_keeps_crashing/
39,ritz777,1613336344,ljx8cq,0,1,So I am brand new to SQL. I'm trying to create this table but I receive this error code when ever I try to finish it. I've watched numerous tutorials and followed it exactly and I still get this message. What am I doing wrong?,learnSQL,Trying to create a table,1.0,https://www.reddit.com/r/learnSQL/comments/ljx8cq/trying_to_create_a_table/
40,ritz777,1613336688,ljxct7,0,1,"Hello everyone,

I'm brand new to SQL and I am running into an issue while trying to create a table. I've watched numerous tutorials on how to do this and I follow them exactly, yet I still get this error message. What am I doing wrong? Thank you in advance.",learnSQL,Trying to create a table.,1.0,https://www.reddit.com/r/learnSQL/comments/ljxct7/trying_to_create_a_table/
41,ritz777,1613336846,ljxery,4,1,"https://imgur.com/a/8h4QlZ6

Hello everyone,

I'm brand new to SQL and I am running into an issue while trying to create a table. I've watched numerous tutorials on how to do this and I follow them exactly, yet I still get this error message. What am I doing wrong? Thank you in advance.",learnSQL,Trying to create a table,1.0,https://www.reddit.com/r/learnSQL/comments/ljxery/trying_to_create_a_table/
42,BLKD1aM0nDs,1613341450,ljyxs6,10,1,"This query returns all the employees in both department 10 and 16. I need to get it to return only the employees that are in both.

It doesnt return anything if I say where =10 AND =16

Any suggestions? Thanks

&amp;#x200B;

SELECT E.BusinessEntityID, LoginID, NationalIDNumber

FROM \[HumanResources\].\[Employee\] AS E

JOIN \[HumanResources\].\[EmployeeDepartmentHistory\] AS EDH

ON E.BusinessEntityID = EDH.BusinessEntityID

WHERE EDH.DepartmentID in (10,16)

GROUP BY DepartmentID, E.BusinessEntityID, LoginID, NationalIDNumber",learnSQL,WHERE Clause filtering,1.0,https://www.reddit.com/r/learnSQL/comments/ljyxs6/where_clause_filtering/
43,progforeverbody,1613353079,lk2m9m,0,1, ,learnSQL,"How to Create new SQL Server admin User, grant permissions and configure windows firewall",1.0,https://youtu.be/iYXqu2tQcW4
44,xxx90210xx,1613420005,lkm0jy,3,1,I was recently tasked with an assignment to create a Hospital Database in SQL but I just started using the program a month ago for school and I could really use some help whether it’s through reddit DMs or email,learnSQL,Help with SQL project Database,1.0,https://www.reddit.com/r/learnSQL/comments/lkm0jy/help_with_sql_project_database/
45,chape87,1613428995,lkp8d6,10,1,"Having a bit of trouble with this one. running an sccm sql query. I want to get a list of machine ids, hostnames, lastactivetime (plus some other columns). There is often duplicate hostnames, but no duplicate machine ids. I only want unique hostnames.

I originally quried the table, looking at  max activetime, then grouping by hostname. This gives me a list of unique names, using the ones with the most recent time online so i know they're the right ones. The issue is i also want to bring over the other columns like machineid. but i cant in a group by. I know im supposed to bring it over and join on itself, but anytime i make the query it gives me multiple names again.",learnSQL,"Want to remove duplicates by using ""Group by"", but still bring over more columns",1.0,https://www.reddit.com/r/learnSQL/comments/lkp8d6/want_to_remove_duplicates_by_using_group_by_but/
46,jiejenn,1613442622,lktl9d,1,2, ,learnSQL,How to Import JSON File Into SQL Server Database Using T-SQL,1.0,https://www.youtube.com/watch?v=rWW-j04cZQI&amp;feature=youtu.be
47,mestitomi,1613480418,ll3b4d,0,1, ,learnSQL,A ~3 hour SQL video course... only it's available on Youtube for free. (Everything you have to know as a junior data scientist or analyst about SQL.),1.0,https://www.youtube.com/playlist?list=PLHS1p0ot3SViZMNfr2jVjAcutht0g3Ep7
48,ConsciousLawfulness4,1613588074,lm1q51,2,1,"Write a SQL query to delete all duplicate email entries in a table named Person, keeping only unique emails based on its smallest Id.  
\+----+------------------+

| Id | Email            |

\+----+------------------+

| 1  | [john@example.com](mailto:john@example.com) |

| 2  | [bob@example.com](mailto:bob@example.com)  |

| 3  | [john@example.com](mailto:john@example.com) |

\+----+------------------+

For example, after running your query, the above Person table should have the following rows:

\+----+------------------+

| Id | Email            |

\+----+------------------+

| 1  | [john@example.com](mailto:john@example.com) |

| 2  | [bob@example.com](mailto:bob@example.com)  |

\+----+------------------+  
Resolution:

&amp;#x200B;

with cameleon (ID, Email, RecCount) as

(

Select Id, Email, Row\_number() OVER(Partition by Email order by Id) as RecCount

from 

Person 

)

&amp;#x200B;

delete

from Person where ID IN (

SELECT Min(ID) ID from Cameleon 

group by Email, RecCount having RecCount = 1 and Email in

(Select Distinct Email as tobe from cameleon where RecCount &gt; 1)

)",learnSQL,Delete Duplicate Emails,1.0,https://www.reddit.com/r/learnSQL/comments/lm1q51/delete_duplicate_emails/
49,analytics_science,1613598498,lm5ned,1,1, ,learnSQL,How to write a window alias to keep your window function clean,1.0,https://www.youtube.com/watch?v=QenwDm5oWdU
50,PleaseHelp43,1613602428,lm72s2,4,1,Looking for someone who has some time to help me with understanding some SQL concepts and general database stuff please PM me.,learnSQL,Hiring Database / SQL tutor,1.0,https://www.reddit.com/r/learnSQL/comments/lm72s2/hiring_database_sql_tutor/
51,pinkmarshmallow97,1613604855,lm7z56,2,1,Just completed sqlzoo. I really liked the format - it was the perfect amount of difficulty. Allowed me to just code without any distractions. What are some websites similar to it?,learnSQL,Websites like sqlzoo?,1.0,https://www.reddit.com/r/learnSQL/comments/lm7z56/websites_like_sqlzoo/
52,alldenla,1613637751,lmi3ky,6,1,I would like to query the number of times an id appears within a certain time period. Cant seem to figure out how. pls dm me!!! :((,learnSQL,Need help with a query,0.99,https://www.reddit.com/r/learnSQL/comments/lmi3ky/need_help_with_a_query/
53,chessmojo,1613654380,lmmm1t,8,1,"I think this is VERY simple question, but I'm unable to get to the correct solution. Please help, losing my mind here

Question: You have been provided with the following datasets -

Table 1: users
This table contains all of the user base

- Id: unique used for each user
- name
- email
- gender
- created_at: signup date of the user

Table 2: orders
This table contains all the orders placed on 

- order_id: unique key for each order
- user_id: user who placed the orde
- created_at: date of order
- status: completed or failed
- amount

Write a query to return date vs daily active users on the platform. Return only the dates with an odd number of dally active users. A user considered to be actively when they have completed an order on that particular date.",learnSQL,Simple question but can't seem to get it right :(,1.0,https://www.reddit.com/r/learnSQL/comments/lmmm1t/simple_question_but_cant_seem_to_get_it_right/
54,paul_walker6,1613662615,lmpfyl,2,1,Basically title. I feel underutilized at work and have a bunch of extra time during the day. What online resources (free or paid) do you recommend for a beginner to start learning? Also is there a basic program to use along with any tutorials?,learnSQL,Best Online Resource for Tutorials/Starting From Nothing,1.0,https://www.reddit.com/r/learnSQL/comments/lmpfyl/best_online_resource_for_tutorialsstarting_from/
55,darvidas,1613687192,lmz5eq,5,1,"I want to create a function which returns the amount of money from a table ""konto""

`CREATE TABLE konto(`

`knr NUMBER(8) NOT NULL,`

`ktnr NUMBER(6) NOT NULL,`

`regdatum DATE NOT NULL,`

`saldo NUMBER(10,2));`

When using the function:

`CREATE OR REPLACE get_saldo(`

`p_knr IN konto.knr%TYPE)`

`RETURN NUMBER`

`AS`

`v_saldo konto.saldo%TYPE;`

`BEGIN`

`SELECT saldo`

`INTO v_saldo`

`FROM konto`

`WHERE p_knr = knr;`

`RETURN v_pris;`

`EXCEPTION`

`WHEN no_data_found THEN`

`RETURN -1;`

`END;`

I get the following error:

&amp;#x200B;

 ORA-06550: line 5, column 11: PL/SQL: ORA-00904: ""P\_KNR"": invalid identifier  

&amp;#x200B;

I don't understand why, can someone see what mistake I have made",learnSQL,PLSQL function - return amount of money,1.0,https://www.reddit.com/r/learnSQL/comments/lmz5eq/plsql_function_return_amount_of_money/
56,xxx90210xx,1613687762,lmzdb8,5,1, ,learnSQL,I keep getting syntax errors and nothing is incorrect,1.0,https://www.reddit.com/gallery/lmzdb8
57,sleepysmol78,1613711721,ln7lg4,0,1,I tried entering some code (SET GLOBAL sort_buffer_size = 2560000000) into the HeidiSQL query tab but this didn't work. How else can I fix this? I'm working with a 230k row dataset. Thanks in advance.,learnSQL,"Using HeidiSQL. How do I fix error 1038: out of sort memory, consider increasing sort buffer size?",1.0,https://www.reddit.com/r/learnSQL/comments/ln7lg4/using_heidisql_how_do_i_fix_error_1038_out_of/
58,xxx90210xx,1613744444,lngz0z,6,1,I have a project due and I need to transfer my database to laptop from my computer or get access to my database from my laptop.,learnSQL,How do you transfer a database to your second computer/ laptop?,1.0,https://www.reddit.com/r/learnSQL/comments/lngz0z/how_do_you_transfer_a_database_to_your_second/
59,darvidas,1613747691,lni7d4,0,1,"I have created a function which returns 1 if a match is found in a table and 0 if not. But i get the following error and i don't get why: ' PL/SQL: ORA-00933: SQL command not properly ended '

Function:

    CREATE OR REPLACE FUNCTION get_behörighet(
    p_pnr IN kontoägare.pnr%TYPE,
    p_knr IN kontoägare.knr%TYPE)
    RETURN NUMBER
    AS
    v_behörighet NUMBER;
    no_behörighet EXCEPTION;
    BEGIN
    	SELECT count(*)
    	INTO v_behörighet
    	FROM kontoägare
    	WHERE pnr = p_pnr
    	AND knr = p_knr
    	RETURN v_behörighet;
    EXCEPTION
        WHEN no_behörighet THEN
        RETURN -1;
    END;",learnSQL,PL/SQL Function: command not properly ended??,1.0,https://www.reddit.com/r/learnSQL/comments/lni7d4/plsql_function_command_not_properly_ended/
60,newdamage1,1613752887,lnk9sn,5,1,"Backstory: The neighborhood has a porch pirate problem. I've setup OpenAlpr to catch License plates and have a single table DB on MSSql16 to track the data. Figured this would be a fun opportunity to learn something new/better.  


Currently,  I've been using Powershell to parse the incoming JSON, and then inserting that data into a table that looks like this:  


*Processing img jzitwpg9mgi61...*

&amp;#x200B;

I've spent some time reading and YouTubing database design, and have come up with a revised version of this:  


&amp;#x200B;

*Processing img acdsa5zbmgi61...*

&amp;#x200B;

There is a lot that I'm unsure of, but in this case, I'm thinking VehicleID is a Pk and Fk. The  PlateNumber I'm unsure how to handle. It wouldn't be unique in this design, so do I need a PK or some sort for that table? 

My idea was to keep the growth down as most of the cars are seen daily, so seemed to make sense. Am I on the right track or going about this all wrong? Advice most appreciated!",learnSQL,Looking for Db design advice.,1.0,https://www.reddit.com/r/learnSQL/comments/lnk9sn/looking_for_db_design_advice/
61,ceedeeuu,1613754196,lnktg3,1,1,"I have a fairly large query (for me anyway) and it measures performance metrics for each case that a doctor works on.  I then group on the provider and use average (or other aggregate) functions to get the averages for the month... so we can see the average time the doctor spends on certain cases, etc.

I have one file with the detail query that I used to validate the query and then another file with the data grouped that is actually viewed.

&amp;#x200B;

Of course, now I'm getting requests to modify the metrics and now I need to modify the query in both files... which is compounded because I have three versions of the query for different types of providers.

&amp;#x200B;

I was thinking of code where you have a #debug switch you can turn on when you're debugging.  Is there something like this I could do with my query, where I could easily switch between detail and aggregate.  Or maybe there are other better ways to do what I'm doing?

Right now I pretty much just work with SMSS, but I'm open to looking at better tools or methods.  My workplace is kind of stuck in the past and I'm looking to improve my skills and efficiency.",learnSQL,switch between aggregate and detail data,1.0,https://www.reddit.com/r/learnSQL/comments/lnktg3/switch_between_aggregate_and_detail_data/
62,javascript_dev,1613783428,lnvj1k,5,1,"Postgres query:

    select d.* from document d Right JOIN
    (
      select type, ""ownerDoc"", MAX (version) as version from ""document"" 
      where ""ownerDoc"" = '${ownerDoc}' 
      group by type, ""ownerDoc""
    ) d2 on (d2.type = d.type AND d2.""ownerDoc"" = d.""ownerDoc"" AND d2.version = d.version)
    order by type`

I have written some notes on this query

1. Select a full document row

2. Right join another document row on type, ownerDoc, and version

3. This second row selects only type, ownerDoc, and the highest version (the fields joined on). It groups by type and ownerDoc

4. It orders the result by type

&amp;#x200B;

Questions about this:

1. Is any of my interpretation wrong or incomplete?

2. what is the query trying to accomplish in general? I am having a tough time interpreting it.",learnSQL,Need help interpreting a query,1.0,https://www.reddit.com/r/learnSQL/comments/lnvj1k/need_help_interpreting_a_query/
63,javascript_dev,1613826442,lo6scu,1,1,"I thought all keys -- and values -- had to be string encoded to be passed over the network. But when I write json booleans and numbers as values I don't need to put them in a string.

I would like clarity on why this is. I know the entire json object is stringified, so my guess is that in this process, it remains clear that a bool or number is not an invalid extension of a colon during the parsing process (on the receiving side). Is that it? Can anyone explain why this is the case if it is true?",learnSQL,How does JSON handle booleans and numbers,1.0,https://www.reddit.com/r/learnSQL/comments/lo6scu/how_does_json_handle_booleans_and_numbers/
64,distraughthoughts,1613849609,loer09,0,1, ,learnSQL,Assistance Learning SQL - Discord Server,1.0,https://www.reddit.com/r/SQL/comments/jlawb1/assistance_learning_sql_discord_server/?utm_source=share&amp;utm_medium=ios_app&amp;utm_name=iossmf
65,atomicBeaver22,1613873339,lomkie,5,1,"I have the problem that after creating a column with id indexes and adding that last column to the table, I cant order the table by id\_index and keep it that way. Could anyone help me, please? I have literally spent 7 hours on this query but I have almost zero experience with SQL. 

&amp;#x200B;

SELECT Temporary\_Table.\* INTO \[TURBINE\] FROM  
 (SELECT Merged\_table.\*,ROW\_NUMBER() OVER(ORDER BY Merged\_table.Wind\_turbine\_name,Merged\_table.Date\_time ASC) AS id\_index  
 FROM \[Turbines\_data\].\[dbo\].\[la\_haute\_borne\_data\_merged\] Merged\_table) Temporary\_table;  
SELECT \* FROM TURBINE ORDER BY id\_index ASC;",learnSQL,How to sort a table permanently?,1.0,https://www.reddit.com/r/learnSQL/comments/lomkie/how_to_sort_a_table_permanently/
66,xxx90210xx,1613875474,lon6ec,8,1, ,learnSQL,Why am I getting this error and what am I doing wrong,1.0,https://www.reddit.com/gallery/lon6ec
67,xxx90210xx,1613933462,lp3pzp,3,1, ,learnSQL,I have Nulls on the table allowed but I still get this error,1.0,https://i.redd.it/adspk4z3nvi61.jpg
68,Tyraniczar,1613939459,lp5w3f,2,1,"I have a homework assignment and I need to join two tables, EMAILS and KEYWORDS, both have 70k+ rows. I've included a sample of the tables below. The prompt is: **""Generate a query that returns a dataset showing how often each employee discussed demos (KEYWORD=demo, Demo, etc) in their emails, grouped by quarter. Assume the results of this query will be used to populate a graph in the application.""** I understand that I need to COUNT(), join the tables on EMAIL\_KEY, and group by EMPLOYEE\_ID but I don't understand how I could also group by QUARTER which is what the prompts says to do. I guess QUARTER can be taken from the DATETIME column but still not sure how I would structure this. Any help is appreciated.

&amp;#x200B;

[EMAIL](https://preview.redd.it/cfjc353a3wi61.png?width=326&amp;format=png&amp;auto=webp&amp;s=1ca723ee09a731b79d5bcb1efeffe59d2e3940ce)

&amp;#x200B;

[KEYWORDS](https://preview.redd.it/vchimpu24wi61.png?width=303&amp;format=png&amp;auto=webp&amp;s=952fe0913408e3f6a3ee13acdc5deb1b657bf533)",learnSQL,HELP with SQL Question,1.0,https://www.reddit.com/r/learnSQL/comments/lp5w3f/help_with_sql_question/
69,ritz777,1613944517,lp7n32,9,1,"I am working on a school assignment that is asking us to join two tables that have the same attributes. I tried every method I could think of and I always get ""Error Code: 1052. Column 'STU_FNAME' in field list is ambiguous. What am I doing wrong here? The database that we were given for this assignment was premade by our professor. None of the tables have primary keys set up. Is that what is causing this error?",learnSQL,How to join two tables with same attributes?,1.0,https://www.reddit.com/r/learnSQL/comments/lp7n32/how_to_join_two_tables_with_same_attributes/
70,ISeeThings404,1613981125,lpinec,1,1,"&amp;#x200B;

*Processing img gml80uabkzi61...*

So we are given this schema for our homework. We are also given a set of problems: 

&amp;#x200B;

https://preview.redd.it/ljc4zngjkzi61.png?width=651&amp;format=png&amp;auto=webp&amp;s=a5405832784bc07f66d563178a5917beb994e81c

I'm working on solving them, and would like to know if I got the first 2 right. If not where am I messing up. I don;t want to push all my hw here, but SQL makes no sense to me, and I was hoping to know what I'm doing wrong (if anything). Understanding them would help me solve the other problems

Q1: 

SELECT [a.pid](https://a.pid),[p.name](https://p.name)

FROM Person as p

INNER JOIN Actor as a ON [p.id=p.pid](https://p.id=p.pid)

INNER JOIN Movie as m ON [m.id=p.pid](https://m.id=p.pid)

WHERE p.deathYear IS NOT NULL AND (m.year=2016 AND m.runtime&gt;=200) AND m.year&gt;=2017 IS NULL

&amp;#x200B;

Q2: 

SELECT [a.pid](https://a.pid),[p.name](https://p.name)

FROM Person as p

INNER JOIN Actor as a ON [p.id=p.pid](https://p.id=p.pid)

INNER JOIN Movie as m ON [m.id=p.pid](https://m.id=p.pid)

WHERE (m.isAdult=False AND m.year&lt;=2019) IS NULL AND (m.isAdult=True AND m.year=2020)

ORDER BY AVG(m.rating)

LIMIT 15",learnSQL,Validate Solution,1.0,https://www.reddit.com/r/learnSQL/comments/lpinec/validate_solution/
71,panchocolat,1613988565,lpkiuf,0,1,"Within a file, I want to compare the first line against the rest for the number of commas and print if it's greater or less than

    with open ('file.txt', 'r') as demo:
        for num, x in enumerate(demo,1):
            first_cond = demo.readlines()[0].count(',')
            rest_cond = demo.readlines()[1:].count(',')
            if x == first_cond and first_cond &gt; rest_cond:
                print ("" "")

first\_cond here iterates on the second line of the file because for x is already in the first line.  
How can I plug the count condition on the first line?  


I wanted rest\_cond to read the rest of the line, but the result is 0 when I print it  
How can I correct this?",learnSQL,Count Comparison In Loop,1.0,https://www.reddit.com/r/learnSQL/comments/lpkiuf/count_comparison_in_loop/
72,cuffia_azzurra_2,1613992598,lplmi8,1,1, ,learnSQL,The Most Popular Databases - 2006/2021,1.0,https://youtu.be/thuG2PXVbBU
73,longhairedgirl,1614010069,lps698,3,1,"SELECT
	a.id,
	CASE WHEN count(*) &gt; 0 THEN
		TRUE
	ELSE
		FALSE
	END AS has_animal
FROM
	animal a
	LEFT JOIN rat r ON a.id = r.animal_id
	LEFT JOIN cat c ON a.id = c.animal_id
WHERE
	a.id in(
		SELECT
			unnest($1::bigint []) AS id)
	AND $2 IN(c.group_id, r.group_id)
GROUP BY
	1

I have a query here to check if a group has an animal from the rat or at table.

Apparently I can just query rat and cat table by group_id and animal_id, no need to join on animal. How can I remove the animal table? Without that table not being joined on. I am not sure how I can check from either cat or rat.",learnSQL,[help -postgres] how to remove unnecessary table in from clause?,1.0,https://www.reddit.com/r/learnSQL/comments/lps698/help_postgres_how_to_remove_unnecessary_table_in/
74,5oco,1614019528,lpwats,1,1,"Wicked new to sql, so what I'm trying to do may not even be possible. Or there might be a better way to do it.

    df.to_sql('state_schools', con=conn, if_exists='append', index=False)

That's what it looks like now when I export it to the sql database. My problem is that next time I run the program, it doubles up all the fields. I only want it to add new fields. Maybe it has to do with the 'if\_exists' part, but I thought that only checked if the table existed, not if the record existed.

I think I need a primary key, but maybe not. The excel file has several columns but the two important ones are State\_Name and Job\_Field. There's like 50 something values under State\_Name(it includes territories and such), and like 700 different values under Job\_Field. Each state has a seperate record for each job field. So for example, Alabama has 1 of each Job Field(Accounting, Actor, Actuaries, etc) , Alaska has 1 of each of those job fields as well, so neither field is really unique to make the primary key. The Job\_Field column is unique to the State\_Name column though. Would that make it a foreign key? I think that needs two tables though so I don't think that's what I'm looking for.

My thought(that I don't know how to write) is that I can loop through the state column, and then loop through each field column.  Check if  the state exists in the State\_Name column, if not then add it. If it does exist, check if the Job exists in the Job\_Field column, if not then add it. I dunno if that makes sense, but figured I'd ask here while I'm googling more options.",learnSQL,Can I make a primary key that depends on another field of the table?,1.0,https://www.reddit.com/r/learnSQL/comments/lpwats/can_i_make_a_primary_key_that_depends_on_another/
75,thriveee,1614020492,lpwpzf,2,1,"How do you write an sql code to break up report by month of the year ( for example, total paid , tot products , total buyers for each month sectioned in the column) ?",learnSQL,Sql question,1.0,https://www.reddit.com/r/learnSQL/comments/lpwpzf/sql_question/
76,javascript_dev,1614021176,lpx0vl,3,1,"My company requests about 50 documents from various external services for a given client. A contractor we are using has setup a postgres database with a single documentScaffold table. It stores all 50 documents in this one table, identying their type in a type column.

1. Does this immediately stand out to you as a ""probable bad practice""?

To me it felt not great, but I'm no SQL master. On one hand an ecommerce store doesn't need a new table for every product. On the other hand, maybe 50 documents deserve their own table since they each have a unique shape. I would like help from you guys to form a better opinion of whether one table is sufficient, or we really should be having 50 tables and making heavy use of joins.

Additional context: We are in the middle of a major overhaul and I brought up the suggestion that each document might want its own table with a foreign key tied to the client, and also ""parent documents"" used for lookup. They said they would get back to me with a response, presumably of why they disprefer this. They first suggested to me, migrating to NoSQL to avoid having to constantly run migrations every time their large DocumentScaffold ORM object changed.

Thanks!",learnSQL,"A scaffold for all documents, or a table for each document type?",1.0,https://www.reddit.com/r/learnSQL/comments/lpx0vl/a_scaffold_for_all_documents_or_a_table_for_each/
77,ridefst,1614021349,lpx3h1,5,1,"I'm trying to lookup a value based on a query prompt, but the query should look in one field first and if it's blank, then try the lookup in a different field.

So, the basic code is: 

    SELECT [CONFIGID], [ITEMBARCODE], FROM [dbo].[PGDINVENTCONFIGINFOUNIONVIEW] WHERE [ITEMID] = N'?QueryPrompt1'

If there's a value in ITEMID, then this is fine as is.  However, sometimes ITEMID is empty, and in that case I need to look up in CONFIGID.

This is what I came up with, but it only works for an item found in ITEMID, it doesn't fail over and search CONFIGID when needed.

    SELECT [ITEMBARCODE], [ITEMID], [CONFIGID] FROM [dbo].[PGDINVENTCONFIGINFOUNIONVIEW] WHERE 
    CASE
    WHEN [CONFIGID] = ' ' THEN ""ITEMID""
    ELSE ""CONFIGID""
    END 
     = N'?QueryPrompt1' 
    

Any ideas?  SQL is definitely not my strong suit, but I'm trying to learn :)",learnSQL,Case with query prompt,1.0,https://www.reddit.com/r/learnSQL/comments/lpx3h1/case_with_query_prompt/
78,throwawaygarbage2010,1614022400,lpxjrw,2,1,I’ll Venmo some $ 🤗🤗,learnSQL,Can anyone help me with a few questions?,1.0,https://www.reddit.com/r/learnSQL/comments/lpxjrw/can_anyone_help_me_with_a_few_questions/
79,Nicholas_TW,1614023206,lpxvtx,2,1,"1) Is it possible to pass a python List as a parameter for a stored procedure in SQL Server? (I imagine as a table)

2) Is it possible to get the Xth row of a table in SQL server?

I inherited some code. It's several hundred lines, so I'd really rather not have to go through and refactor all of it, which is why I'm tolerating iterative methods in a SQL SP.

Let's say I have a staging table ""dollars"" which looks like this

|300|
|:-|
|215|
|300|

...And some code which looks like this: (where ""quantity"" is an int passed in as a parameter)

    DECLARE @deal_iterator INT = 0
    WHILE @deal_iterator &lt;= @quantity
    BEGIN
        INSERT INTO Deals(name, value)
        VALUES ('SampleDeal', X)
        SET @deal_iterator = @deal_iterator + 1
    END

...Where X is the corresponding value in the ""dollars"" table, how could I do this?

I've considered making ""dollars"" a two-column table, where the first one has a row id (0, 1, 2, etc), then have X be '(SELECT TOP 1 value FROM dollars WHERE id = deal\_iterator)'

Is there a better way, which doesn't require refactoring the code to not require refactoring so it isn't done iteratively?",learnSQL,How to get X row of a table in SQL Server?,1.0,https://www.reddit.com/r/learnSQL/comments/lpxvtx/how_to_get_x_row_of_a_table_in_sql_server/
80,MrCoolPyro,1614026828,lpzewz,1,1, ,learnSQL,Why does the table not exist?,1.0,https://i.redd.it/guvi8vcmc3j61.png
81,Ill-Tip3736,1614111345,lqrvw7,4,1,"Below is the question I am working on-

[I am not able to understand the solution part, especially the use of '&amp;#37;\/&amp;#37;' with ILIKE operator. I know the use of ILIKE and &amp;#37;&amp;#37; for pattern matching, but I am not able to understand here how this will help to categorize the multiple teams. Is &amp;#37;\/&amp;#37; used to identify mismatching values ??? Can anyone please clarify my doubt ? Below is the official solution-](https://preview.redd.it/4gwegoaabaj61.png?width=1638&amp;format=png&amp;auto=webp&amp;s=9df03216c50ac192213a8d2b68a65f4ffa180c3f)

`SELECT`

`distinct name,`

`(CASE`

`WHEN team ILIKE '%/%' THEN 'Multiple Teams'`

`ELSE 'One Team'`

`END) AS number_of_teams`

`FROM olympics_athletes_events`

&amp;#x200B;

`Dataset looks like this-`

&amp;#x200B;

https://preview.redd.it/gmp8s9lp8bj61.png?width=3028&amp;format=png&amp;auto=webp&amp;s=b261d1573477f4083c75a0fc95e3be4f55f1367b

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;",learnSQL,SQL Pattern Matching Question,1.0,https://www.reddit.com/r/learnSQL/comments/lqrvw7/sql_pattern_matching_question/
82,MrCoolPyro,1614111771,lqs1yi,8,7," ""Write a SQL query to modify the column name month to month-no""

This is one of my hw questions and I'm working on SQL Workbench.  So far I have tried 

 **ALTER TABLE ""table\_name""**  
**Change ""column 1"" ""column 2"" \[""Data Type""\];** 

&amp;#x200B;

 EXEC sp\_rename 'Sales.SalesTerritory.TerritoryID', 'TerrID', 'COLUMN'; 

&amp;#x200B;

these have not been successful. I am running the most current version of SQL WB.",learnSQL,What's the syntax for changing a column name?,0.9,https://www.reddit.com/r/learnSQL/comments/lqs1yi/whats_the_syntax_for_changing_a_column_name/
83,quietlypooping2,1614136396,lr280n,6,4,"I am trying to find the differences between two tables in two different servers. How should I go about successfully completing this task?

This is what I currently have:

SELECT 'TABLE1-ONLY' AS SRC, T1.*       
FROM (      
:connect SPXPBDB      
Select *       
FROM FINLS.FIN.DBO.EMPID        
EXCEPT     
:Connect SPXFINDB     
Select *     
FROM FIN.DBO.EMPIDFIN     
) AS T1      
UNION ALL      
SELECT 'TABLE2-ONLY' AS SRC, T2.*     
FROM (     
:Connect SPXFINDB       
Select *      
FROM FIN.DBO.EMPIDFIN     
EXCEPT      
:connect SPXPBDB      
Select *       
FROM FINLS.FIN.DBO.EMPID       
) AS T2       
;",learnSQL,Two Tables from Two Different Servers Comparison,0.84,https://www.reddit.com/r/learnSQL/comments/lr280n/two_tables_from_two_different_servers_comparison/
84,thriveee,1614188455,lrilg4,28,7, ,learnSQL,How to filter the last part of 10 filters?,0.9,https://i.redd.it/a6jiro2ipgj61.jpg
85,xGiga,1614195822,lrljuv,6,1,"Im going through the practice problems on SQLpad and I've been struggling with [this one](https://sqlpad.io/questions/65/movie-revenue-percentiles/).

Currently I have:  
    SELECT f.film_id,    
	    SUM(p.amount) AS revenue,     
    	NTILE(100) OVER() AS percentile    
    FROM film f JOIN inventory i ON f.film_id = i.film_id    
    JOIN rental r ON i.inventory_id = r.inventory_id    
    JOIN payment p ON r.rental_id = p.rental_id    
    WHERE f.film_id IN (1,10,11,20,21,30)    
    GROUP BY f.film_id  

But my percentile output column only goes from 1-6 and not the expected 1-100. Im assuming the issue is how I've grouped the film_id.  
The expected output is:  

		


film_id | revenue | percentile  
:--|:--:|--:
11	|  35.76	|  23  
1	| 36.77	|  24  
30	| 46.91	|  35  
20	|  67.90	| 53  
10	| 131.77	| 90  
21	| 167.78	|  97  


Thanks in advance",learnSQL,Cant get ntile() grouping to work,0.67,https://www.reddit.com/r/learnSQL/comments/lrljuv/cant_get_ntile_grouping_to_work/
86,nutmilk2,1614200278,lrnbus,0,13, ,learnSQL,"6 Common Mistakes for SQL Queries that ""Should be Working""",0.94,https://blog.arctype.com/6-common-mistakes-for-sql-queries/?utm_campaign=sql-mistakes&amp;utm_medium=blog&amp;utm_source=reddit
87,FLSeph28,1614204519,lroec9,4,1,"Hi all,

I have have a diploma in electronics (3 year diploma) but that was 10 years ago. Since then I've been floating between a partially completed psychology degree, and odd jobs. My last job was as a personal trainer in a chain gym but I've been unemployed since near the end of 2019. I have been building hobby projects off an on for a few years now in python+sql+javascript and to a lesser extent C++. I also spent a lot of 2020 working on datastructures and algorithms on leetcode. I'm not good at dynamic programming or greedy algorithms since I haven't practiced those as much but I can work through most other types of questions.

I've had my resume reviewed on reddit and have tweaked it a lot, making it more project focused. I have a linkedin profile. I've been searching for and applying just generally to python developer jobs. Recently I've decided I need to narrow my scope and gain some expertise in a niche area and sql seems to fit the bill more than python since it's the backbone of most of my hobby projects. 

**My questions is:**

What should I be doing to work towards a job working with sql in the next few months?  
Certifications?  
More projects?  
Another language?  
Meetups?  
Start a blog?  
Start a youtube channel?

I'm willing to spend a good chunk of this year just working on my sql chops if that is what will help.

Any help is much appreciated, Thank-you!",learnSQL,Python(flask)+SQL(postgresql) Developer: How can I get my resume not rejected?,0.67,https://www.reddit.com/r/learnSQL/comments/lroec9/pythonflasksqlpostgresql_developer_how_can_i_get/
88,emptyheadbloke,1614205036,lrom3o,4,2,"I'm learning SQL, got these 2 tasks that I need some help with

&gt;
tbl.customers

CustomerID| RegistrationDate
---|---
1| 2017/11/01
2| 2018/10/23
4| 2018/11/22
34| 2020/12/21
52| 2021/02/24


&gt;tbl.orders


CustomerID| Orders
---|---
1| 6
2| 5
34| 4
52| 3

Tasks:

* Select all records from tbl.customers and group by Year and Month. SQL Output: Count RegistrationDate by Year and Month &amp; Sort by date
* Select all records from tbl.customers and the number of orders from tbl.orders. 
SQL Output: CustomerID, datejoin, orders &amp; Sort by orders",learnSQL,begnner SQL help,0.67,https://www.reddit.com/r/learnSQL/comments/lrom3o/begnner_sql_help/
89,theSeeQR,1614263299,ls7qeo,2,9,"Hey y'all!  We're the team of engineers at SeeQR (it's pronounced exactly how you think it is) who have been working on a tool that will hopefully help you all learn SQL.

SeeQR works as a standalone application that allows you to either import your existing database or drop in a schema and populate your tables with records. Our build-in record generator allows users to create realistic data from nearly 200 data formats.

Once the data is created or imported, queries can then be run against these different schemas or scales to test their efficiency for different tasks. The statistics are then collected for comparison. Users can compare different queries within a schema or similar queries on different schemas/scales. We also created an execution plan visualizer for EXPLAIN/ ANALYZE.

Here's an [article](https://medium.com/p/f87f113c5f1a/) on how to use it!

This will allow you all to get a visual understanding of how PostgreSQL is planning the execution plans. We found this really helpful to play around with query scripts.

https://i.redd.it/8em4fbg1wmj61.gif

To try it out, visit [theSeeQR.io](http://theseeqr.io/) or [GitHub](https://github.com/oslabs-beta/SeeQR) for the application and documentation. If you like it, feel free to give us a GitHub star and some feedback.

Thanks for reading! Feel free to comment - we'd love to discuss!

Team SeeQR",learnSQL,I hope this tool helps you all learn - SQL execution plan visualizer tool,1.0,https://www.reddit.com/r/learnSQL/comments/ls7qeo/i_hope_this_tool_helps_you_all_learn_sql/
90,billybob131314,1614289894,lshwpi,4,3,"I want to add logic that calculates price per claim. Below, there are two claims, one for patient 5, and another for patient 6. Original idea is to create a unique list of patient numbers in a separate table, then sort the original table by these unique patient numbers and run conditional statements to output a single value (reimbursement value).Then iterate through the unique table until completed. Does this sound like a feasible workflow? Not necessarily looking for specific code but more of a workflow/process

&amp;#x200B;

For example/context:

&amp;#x200B;

| PatNo | RevCode | CPT   | BilledCharges | DRG  |

|-------|---------|-------|---------------|------|

| 5     | 141     | null  | 100           | 880  |

| 5     | 636     | J1234 | 50            | null |

| 6     | 111     | null  | 8000          | 783  |

| 6     | 636     | J1234 | 300            | null|

PSYCH look up table: if claim has DRG on table then calculate 75% of BilledCharges for claim.

&amp;#x200B;

&amp;#x200B;

\*\*DRG\*\*|\*\*Service Category\*\*

:-----:|:-----:

876|PSYCH

880|PSYCH

881|PSYCH

882|PSYCH

883|PSYCH

884|PSYCH

885|PSYCH

886|PSYCH

887|PSYCH

&amp;#x200B;

| DRG | Service |

|-----|------------------|

| 765| C-SECTION|

| 766| C-SECTION|

| 783| C-SECTION|

| 784| C-SECTION|

| 786| C-SECTION|

| 787| C-SECTION|

| 785| C-SECTION|

| 788| C-SECTION|

&amp;#x200B;

&amp;#x200B;

If claim has RevCode 636, then add 50% of charges to claim reimbursement.

&amp;#x200B;

OUTPUT would be:

| PatNo | Reimburs. |

|-------|-----------|

| 5     | 100       |

| 6     | 5150      |

|       |           |",learnSQL,SQL Workflow Question,0.81,https://www.reddit.com/r/learnSQL/comments/lshwpi/sql_workflow_question/
91,[deleted],1614328393,lstdgk,0,1,[deleted],learnSQL,bipp &amp; bippLand - New SQL editor and data modeling language that supports the SQL syntax,1.0,https://www.reddit.com/r/BusinessIntelligence/comments/ls8uk8/i_came_across_this_new_bi_vendor_i_kind_like_the/
92,thumbsdrivesmecrazy,1614328478,lste39,0,1, ,learnSQL,bipp &amp; bippLang - New SQL editor and data modeling language that supports SQL syntax,0.67,https://www.reddit.com/r/SQL/comments/lstbkp/bipp_bippland_new_sql_editor_and_data_modeling/
93,CallMeRachel,1614341112,lswem1,2,1,"How would you write these 2 questions in the simplest way please? 
Assuming everything is in 1 table.
Customers identified by CustomerID

1. Calculate the average visit frequency (count of transactions/count of unique customers) for customers who purchased Apple products between 01 January 2018 - 31 December 2020.

2. Segment customers as:
Low frequency = &lt;2 visits
Medium = 3-4 visits
High = &gt;5 visits",learnSQL,Calculate customer frequency,0.67,https://www.reddit.com/r/learnSQL/comments/lswem1/calculate_customer_frequency/
94,CallMeRachel,1614341113,lswemh,12,3,"How would you write these 2 questions in the simplest way please? 
Assuming everything is in 1 table.
Customers identified by CustomerID

1. Calculate the average visit frequency (count of transactions/count of unique customers) for customers who purchased Apple products between 01 January 2018 - 31 December 2020.

2. Segment customers as:
Low frequency = &lt;2 visits
Medium = 3-4 visits
High = &gt;5 visits",learnSQL,Calculate customer frequency,1.0,https://www.reddit.com/r/learnSQL/comments/lswemh/calculate_customer_frequency/
95,yassin001,1614355392,lt0qlj,4,2,can anyone have a crash course for beginners??,learnSQL,beginners guide,0.75,https://www.reddit.com/r/learnSQL/comments/lt0qlj/beginners_guide/
96,Elpsycongroo_,1614359670,lt2i9s,6,2,"Hi, 
I have this question and I cant seem to get the query to work. Can someone help me out? 

Question:
Create a stored procedure to get all the ShipTo_AN8 that have at least 5 invoices during the year 2020. You can find the invoice_no in the Sales Fact.

Table:
VW_SALES_FACT: SHIPTO_AN8 (PK), Invoice_No, Calendar_Date, Net_Revenue

My attempt:
select  

SHIPTO_AN8, 

year(Calendar_Date) as Year_date,

 sum(Net_Revenue) as Revenue,

(count (distinct Invoice_No) from VW_SALES_FACT where Calendar_Date='2020') as Invoice_count

from VW_SALES_FACT 

where Invoice_count &gt;= '5'

and 

year(Calendar_Date)='2020'

group by 

SHIPTO_AN8 (PK), 

year(Calendar_Date)",learnSQL,Using a nested query question,1.0,https://www.reddit.com/r/learnSQL/comments/lt2i9s/using_a_nested_query_question/
97,NoE_TDrizzle,1614365713,lt4wmn,16,5,"Hey guys,
I need a delete function in python that will delete the contents in certain tables in my MS access database. I have an idea how to start, I just am wondering what I need to do so it deletes the data in the tables rather than the entire columns including the headers themselves.

Thanks in advance!",learnSQL,SQL/Python help,1.0,https://www.reddit.com/r/learnSQL/comments/lt4wmn/sqlpython_help/
98,thriveee,1614367800,lt5p9q,9,1,"Table 1 and Table 2 have a common field XX ( not primary key) . I want to filter table one using only  XXs that are in table 2 and capturing few columns associated with xx from table 1. I tried :
Select t2.*, t1.col1, t1.col2, t1.col3
From table1 t1 INNER JOIN table 2 t2
On t1.XX=t2.XX",learnSQL,Filtering data by a common field,1.0,https://www.reddit.com/r/learnSQL/comments/lt5p9q/filtering_data_by_a_common_field/
99,[deleted],1614369432,lt6b2g,0,1,[deleted],learnSQL,How to subtract sum of 2 columns from 2 different tables,1.0,https://www.reddit.com/r/learnSQL/comments/lt6b2g/how_to_subtract_sum_of_2_columns_from_2_different/
0,Porsche992_GT3,1609625655,kp717m,1,1,"Hello everyone! I am currently doing a SQL bootcamp and I came across this query that I had some questions about. So this is the accurate query referencing a few different tables, with the economies and currencies tables having the country code column named 'code' and the populations and cities tables having the country code column named 'country\_code'. In the third line here, we can see the where clause references country\_code. When I merely reference code it does not work.

SELECT name  
 FROM cities AS c1  
 WHERE country\_code IN  
 (SELECT e.code  
 FROM economies AS e  
 UNION  
 SELECT c2.code  
 FROM currencies AS c2  
 EXCEPT  
 SELECT p.country\_code  
 FROM populations AS p);

Is this because it has to match what is in the first table, the cities table? I'm just confused as to why codes doesn't work, and how it knows to match code with country\_code. Any and all help would be sincerely appreciated. Thank you all so much!",learnSQL,Beginner question regarding a semi-join in a query,1.0,https://www.reddit.com/r/learnSQL/comments/kp717m/beginner_question_regarding_a_semijoin_in_a_query/
1,Dylanb993,1609633182,kp9d4k,3,1,"howdy folks, 

&amp;#x200B;

So I literally just started learning SQL probably about an hour ago and am watching a youtube tutorial by [freecodecamp.org](https://freecodecamp.org) on it.

&amp;#x200B;

They try walking you through installing mysql, and I've followed along, but I am not prompted for a 'root password' or anything like that as in the video. In fact, I am not getting a few of the steps when going through the installation process.

&amp;#x200B;

Ive looked elsewhere and they all show the same steps, but I'm not getting those during the installation.

&amp;#x200B;

Could it be the fact that the video was published 2 years ago and uses 5.7 instead of 8.0? 

&amp;#x200B;

I'm on a brand new laptop with barely anything installed, and don't have anything fancy setting wise that might interfere with installing it properly.

&amp;#x200B;

I'm on windows 10 on a XPS 15 9500.

&amp;#x200B;

Any help is super appreciated because I'm really looking forward to learning but can't get past the damn installation.",learnSQL,"Not getting asked for ""root password"" when installing MySql 8.0.22",1.0,https://www.reddit.com/r/learnSQL/comments/kp9d4k/not_getting_asked_for_root_password_when/
2,saucy_corvette,1609706796,kpsoc1,1,1,"I understand that indices are how databases are able to quickly locate the desired rows/data without having to comb through the whole relation, but I'm not sure how indices are assigned in the first place.",learnSQL,How do indices work?,1.0,https://www.reddit.com/r/learnSQL/comments/kpsoc1/how_do_indices_work/
3,workingtrot,1609707220,kpstbw,10,1,"I'm working through the practice problems on HackerRank. I have a question on this problem - [https://www.hackerrank.com/challenges/full-score/problem](https://www.hackerrank.com/challenges/full-score/problem) using MySQL

The GROUP BY clause must have both the HACKERS.HACKER\_ID and [HACKERS.NAME](https://HACKERS.NAME) for it to work and I don't understand why.

&amp;#x200B;

If I run this query  (with the groupby clause only using HACKERS.HACKER\_ID: 

&amp;#x200B;

    SELECT HACKERS.HACKER_ID,HACKERS.NAME
        FROM HACKERS,DIFFICULTY,CHALLENGES,SUBMISSIONS
        WHERE HACKERS.HACKER_ID=SUBMISSIONS.HACKER_ID
        AND CHALLENGES.CHALLENGE_ID=SUBMISSIONS.CHALLENGE_ID
        AND DIFFICULTY.DIFFICULTY_LEVEL=CHALLENGES.DIFFICULTY_LEVEL
        AND DIFFICULTY.SCORE=SUBMISSIONS.SCORE
        GROUP BY HACKERS.HACKER_ID
        HAVING COUNT(SUBMISSIONS.HACKER_ID)&gt;1
        ORDER BY COUNT(SUBMISSIONS.HACKER_ID) DESC,HACKERS.HACKER_ID ASC
        ;

&amp;#x200B;

It gives me this error message:  

     ERROR 1055 (42000) at line 3: Expression #2 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'run_ltc5bkwpv38.HACKERS.name' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by 

&amp;#x200B;

If I have 

    GROUP BY HACKERS.HACKER_ID,HACKERS.NAME

then it works fine. Why?",learnSQL,GROUP BY syntax question,1.0,https://www.reddit.com/r/learnSQL/comments/kpstbw/group_by_syntax_question/
4,accappatoiviola,1609767929,kq90xy,0,1, ,learnSQL,The Most Popular Databases - 2006/2020 - Statistics and Data,1.0,https://www.statisticsanddata.org/the-most-popular-databases-2006-2020/
5,Turbulent_Corgi7059,1609773357,kqan6j,14,1,"I recently accepted a new role in a global company. I have all the relevant experience and currently in my first month on the job. My role entails that I deal with big sets of data and SQL is heavily used to be able to do my job properly. 

I tried learning through online courses, but it just didn’t work for me. Can someone give me recommendations on how can I learn it? Or anyone willing to tutor. I am willing to set an agreement with anyone who is an SQL expert and willing to teach. 

P.S, not sure if it’s the relevant space or not. So if not, I will understand if my post gets removed. 

Thanks",learnSQL,I want to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/kqan6j/i_want_to_learn_sql/
6,XboxOneDad,1609803275,kql1th,1,1,"Inherited this system.    We have a parent table (ParentDocument) that has 3 child tables DocumentProperty2021, DocumentProperty2020, DocumentProperty2019.  All 3 child tables contain like information however only one of the 3 contain information for the parent.  

In other words,  ParentDocumentID 560 might have information in any of the 3 child tables but never multiple.  

I realize I can search each child table for the foreign key and see if it matches that child table but there must be a better way.  Any ideas?  Thanks in advance!",learnSQL,Parent table with additional data in one of N multiple tables.,1.0,https://www.reddit.com/r/learnSQL/comments/kql1th/parent_table_with_additional_data_in_one_of_n/
7,Spaceman776,1609805997,kqlyhc,2,1,"Hi, I am learning SQL and Java Hibernate. In the Java Hibernate course I'm taking we're looking at Unidirectional and Bidirectional mappings with One-to-One, etc. relationships. It all makes sense in the Java world but in SQL I am confused how this works. If there is a relationship where Table A has a foreign key linking to Table B. Would this be unidirectional or bidirectional? Because if you were querying Table B, couldn't you just ""JOIN tableA ON (id=fk_id)"" to access both tables regardless of which you started with?",learnSQL,"How do Uni/Bidirectional One-to-One, One-to-Many, etc. relationships work in SQL?",1.0,https://www.reddit.com/r/learnSQL/comments/kqlyhc/how_do_unibidirectional_onetoone_onetomany_etc/
8,bi_expert,1609828161,kqsgc1,2,1,"I’ve been building data warehouses ecosystems with SQL Server for seven years. As a consultant that moved from company to company, it turned into a rinse and repeat process. Over time, I started to develop design patterns and a code library which eventually turned into a framework.

However, I was the only one that could use it because it was only lightly documented. No longer. The framework is now FULLY documented with a free class on how to use it in the works.

The framework includes code libraries for:

Installing the framework

Sample database objects

Sample data processing

And more

If you’re new to data warehouses, there are opportunities to learn and train. With the exception of one class on data warehouse projects, all resources are freely available.

You can check it out here: [Mass Street Analytics Data Warehouse ETL Framework](http://etl-framework.massstreetuniversity.com/)",learnSQL,Learn How To Rapidly Build Data Warehouse ETL For Free,1.0,https://www.reddit.com/r/learnSQL/comments/kqsgc1/learn_how_to_rapidly_build_data_warehouse_etl_for/
9,Beats-By-Schrute,1609859144,kr03ua,3,1,"My goal is a quick bash script to combine data from 2 tables within 1 db, and create a new table in a new db.

&gt;sqlite3 current.db ""select B.Info,A.Info1,A.Info2,A.title,A.airdate from Episodes A LEFT JOIN Series B ON A.Info3 = B.Info;

This works fine. The process I'm stuck on is creating the new table/db from this query.",learnSQL,using sqlite3 to join data from 2 tables into a new table/db,1.0,https://www.reddit.com/r/learnSQL/comments/kr03ua/using_sqlite3_to_join_data_from_2_tables_into_a/
10,Hey__A,1609861843,kr0yo8,3,1,"Like many others this year I am looking for a career change as my current role (travel industry related) is looking more precarious by the day!

I am keen on the MS SQL data admin courses through ITLearningOnline in the UK. They look like they are really hands on and give a lot of assistance with job seeking after courses have been completed.

These are the courses

Microsoft 70-464: Developing Microsoft SQL Server 2012 Databases
Microsoft 70-765 Provisioning SQL Databases
Microsoft 70-764 SQL 2016 - Administering a SQL Database Infrastructure
Plus MS Excel for good measure... am sure advanced knowledge of this can't go to waste?

As I am an absolute beginner it has been recommended that I do a SQL programming course  to learn syntax before starting these courses. The pricing for this through ITLearning is steeper than anticipated as the programming course comes as part of a large package. I am looking for a recommendation for a course please (preferably with exercises and access to a tutor rather than just a video) to get me up to speed so I can work on the data admin courses effectively. Any advice for a total beginner is appreciated! 

I believe that the exams for the above courses are being retired end of Jan, would it be sensible to wait until Feb to start any courses? Do the courses or systems change or just the exam? 

Any additional suggestions or advice on how to get started is truly appreciated - it's all a bit overwhelming due to the drastic change from my current role! 

Apologies for formatting issues - posting from mobile.",learnSQL,MS SQL courses - Advice for an absolute beginner,1.0,https://www.reddit.com/r/learnSQL/comments/kr0yo8/ms_sql_courses_advice_for_an_absolute_beginner/
11,davidbc999,1609876105,kr63y4,6,1,"So I'm in audit b4 senior but want to move into more analysis style jobs. How can I rapidly learn SQL and get onto a solid level if I was doing say 20 hrs a week? 

What are the BEST quick and efficient resources? I'm happy to do a paid course if necessary. But I just need to know what users here consider the best for the most juvenile?",learnSQL,How to get to a good level with SQL worthy of putting it on my CV?,1.0,https://www.reddit.com/r/learnSQL/comments/kr63y4/how_to_get_to_a_good_level_with_sql_worthy_of/
12,analytics_science,1609960719,kruzx8,4,1, ,learnSQL,SQL mistake I see all too often when analysts try to solve a common question [X-post r/SQL],1.0,https://www.youtube.com/watch?v=j8kGqAAIhxA
13,vivian_tea,1609964622,krwcjj,6,1,"I learned SQL online but don’t have the opportunity to apply it into my current role. I found out that it’s easy to forget the queries and functions, or understand the new information during the course if you don’t use it during work. 

Any suggestions?",learnSQL,Learned SQL myself but my job doesn’t need it,1.0,https://www.reddit.com/r/learnSQL/comments/krwcjj/learned_sql_myself_but_my_job_doesnt_need_it/
14,germanhiker97,1610032149,ksf3y1,3,1, ,learnSQL,SQL extract daily average,1.0,https://i.redd.it/03kysvpmex961.png
15,DecodeAnalytics,1610036539,ksgm2t,0,0,"Course covers beginner to Intermediate topics and focuses on writing syntax.

[Check it out](https://courses.decodeanalytics.net/free-sql-reference)",learnSQL,Free T-SQL Course,0.5,https://www.reddit.com/r/learnSQL/comments/ksgm2t/free_tsql_course/
16,js_dev__,1610066952,ksr8xp,0,1, ,learnSQL,ITA: Community ItalianCoders - great Italian place for developers,1.0,https://discord.gg/WQrTPJWa
17,Beats-By-Schrute,1610117617,kt3yhj,0,1,"I'm attempting to make a new db in a script.

&gt;sqlite3 &lt;newfilename.db&gt; ""create and populate tables;""

I get an error which says 

Error: unable to open database ""&lt;newfilename.db&gt;"": unable to open database file

Do I need to create the table from within the sqlite commands? I thought I could just name a new db file when I run the sqilte3 command",learnSQL,sqlite3 - new db from bash script,1.0,https://www.reddit.com/r/learnSQL/comments/kt3yhj/sqlite3_new_db_from_bash_script/
18,caitto,1610132479,kt953s,1,1,"What are the best ways to get experience with SSIS, SSRS, and SSAS?",learnSQL,"SSIS, SSRS, and SSAS",1.0,https://www.reddit.com/r/learnSQL/comments/kt953s/ssis_ssrs_and_ssas/
19,[deleted],1610135561,kta8kn,0,1,[deleted],learnSQL,[MySQL] Finding the average of a view?,1.0,https://www.reddit.com/r/learnSQL/comments/kta8kn/mysql_finding_the_average_of_a_view/
20,GorllaDetective,1610153246,ktg54x,13,1,"Hi All,

Doing some interview prep and trying to puzzle out the answer to this question. I have gotten pretty close but I am stuck on why I am returning such a high count. I am thinking I need another condition on the LEFT JOIN but I can't figure out what it is. Any help is appreciated!

My Attempt:

    WITH cpr AS (SELECT COUNT(rental_id) as cr, date(rental_ts) AS d
    FROM rental
    WHERE date(rental_ts) BETWEEN '2020-04-30' AND '2020-05-31'
    GROUP BY 2
    ORDER BY 2 ASC)
    
    SELECT CASE WHEN cpr.cr &gt;= 100 THEN 'busy'
    WHEN cpr.cr &lt; 100 OR cpr.cr IS NULL THEN 'slow' ELSE '1' END date_category, COUNT(*)
    FROM rental LEFT JOIN cpr ON (cpr.cr = rental.rental_id)
    WHERE rental.rental_ts BETWEEN '2020-04-30' AND '2020-05-31'
    GROUP BY date_category

My Result:

|date\_category|count|
|:-|:-|
|slow|948|
|busy|7|

Expected Result:

|date\_category|count|
|:-|:-|
|busy|7|
|slow|24|

&amp;#x200B;

Question:

* Write a query to return the number of busy days and slow days in **May 2020** based on the number of movie rentals.
* The order of your results doesn't matter.
* If there are ties, return just one of them.

&amp;#x200B;

Table 1: Rental

Schema:

|col\_name|col\_type|
|:-|:-|
|rental\_id|integer|
|inventory\_id|timestamp with time zone|
|customer\_id|integer|
|return\_ts|timestamp with time zone|
|staff\_id|smallint|
|last\_update|timestamp with time zone|

&amp;#x200B;

Sample Data:

|rental\_id|rental\_ts|inventory\_id|customer\_id|return\_ts|staff\_id|last\_update|
|:-|:-|:-|:-|:-|:-|:-|
|11909|2020-02-14 15:16:03-08|871|474|NULL|1| 2020-05-01 10:52:12.932253-07 |
|12222|2020-02-14 15:16:03-08|3949|22|NULL|1| 2020-05-01 10:52:12.932253-07 |
|12574|2020-02-14 15:16:03-08|177|317|NULL|2| 2020-05-01 10:52:12.932253-07 |
|12891|2020-02-14 15:16:03-08|2764|388|NULL|2| 2020-05-01 10:52:12.932253-07 |
|13534|2020-02-14 15:16:03-08|2476|75|NULL|1| 2020-05-01 10:52:12.932253-07 |

Table 2: Dates ( Dates from 01/01/2019 to 12/31/2021. )

Schema:

|col\_name|col\_type|
|:-|:-|
|year|smallint|
|month|smallint|
|date|date|

Sample Data:

|year|month|date|
|:-|:-|:-|
|2019|1|2019-01-01|
|2019|1|2019-01-02|
|2019|1|2019-01-03|
|2019|1|2019-01-04|
|2019|1|2019-01-05|
||||",learnSQL,Using LEFT JOIN to Count the Absence of Records,1.0,https://www.reddit.com/r/learnSQL/comments/ktg54x/using_left_join_to_count_the_absence_of_records/
21,marsalans,1610200210,ktr7yx,1,1,"Hi all,

I have two tables \`users\` and \`radacct\`, both table has same column \`username\` .

table \`radacct\` also has a column \`acctstoptime\` which is important here.

table \`acctstoptime\` is actually a datetime column with allow null.

table \`users\` has more than 50k records (usernames) but table \`radacct\` has variation in records between 12k to 20k

i also has a application which insert or remove data from table \`radacct\` and update column \`acctstoptime\` in it, so \`acctstoptime\` null means username is active/connected and when it has a timestamp it means username is not connected.

Note: This is simplest way of explaining without any complexity. Its a freeradius application: [https://en.wikipedia.org/wiki/FreeRADIUS](https://en.wikipedia.org/wiki/FreeRADIUS)

So when i write this query:

    SELECT u.username, u.expiration FROM users u JOIN radacct r ON u.username=r.username  WHERE r.acctstoptime IS NULL 

I get online/connected username. but what i want is to get offline/not connected username list.

When i write this query:

    SELECT u.username, u.expiration FROM users u LEFT JOIN radacct r ON u.username=r.username WHERE r.acctstoptime IS NOT NULL  

I get offline customers but not full list joined by users table. Some of them also has another entry in radacct table which has r.acctstoptime NULL so firstly i can not get uniqueness, this query only shows not null query that are present in radacct table.

I like to explain further that:

radacct table has multiple entries with same username but with multiple acctstoptime, only one record can be NULL but other records may vary with different datetime

So i want that i get all username that does not have acctstoptime null, it also has to be unique so only one latest record that is not null

Note: I also post in [https://www.reddit.com/r/mysql/comments/kscgkn/i\_want\_to\_retrieve\_username\_list\_by\_joining\_two/](https://www.reddit.com/r/mysql/comments/kscgkn/i_want_to_retrieve_username_list_by_joining_two/)

but didn't get enough assistance",learnSQL,I want to retrieve username list by joining two tables,1.0,https://www.reddit.com/r/learnSQL/comments/ktr7yx/i_want_to_retrieve_username_list_by_joining_two/
22,raisedfromthedeadd,1610200280,ktr8ys,0,1, ,learnSQL,Hi.I'm very much beginner using db browser for sqllite.I want to create a table but it won't run it:(What can be the reason?,1.0,https://i.redd.it/sncqrjalaba61.jpg
23,marsalans,1610200358,ktr9nk,15,1, ,learnSQL,I want to retrieve username list by joining two tables,1.0,/r/mysql/comments/kscgkn/i_want_to_retrieve_username_list_by_joining_two/
24,stevelaceless,1610235129,ku272c,2,1,"flights(flNo{PK}, origin, destination, distance, depart-time, arrive-time, price)

aircraft(airID{PK}, air-name, cruising-range)

certified(empID{PK}, airID{PK})

employees(empID{PK}, emp-name, salary)

If this is my DB how can I express this query??

For each pilot certified for at least four aircraft, find the empID and the maximum cruising-range of the aircraft for which she or he is certified.",learnSQL,Can somebody help??,1.0,https://www.reddit.com/r/learnSQL/comments/ku272c/can_somebody_help/
25,iwiik,1610283872,kue4by,0,1,"I wanted to understand how to write trigger in different DBMSs. For this purpose, I read the definition of a trigger in the SQL Standard ([syntax](https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#_11_49_trigger_definition) &amp; [description](https://crate.io/docs/sql-99/en/latest/chapters/24.html)), and the PostgreSQL, MySQL, and SQLite documentation. I already knew how triggers work in Oracle, so I haven't read Oracle documentation.

Then I made notes that are **quite complete** and **concise** at the same time, marking similarities and differences in DBMSs.

I used the following marking in my notes:

* orange underscore - differences in RDBMS
* `P` `M` `O` `L` \- each letter means respectively: PostgreSQL, MySQL, Oracle, SQLite; they are used on the left margin or in parentheses in a function description: (`PMOL`: ...)
* blue underscore - when was a syntax introduced to a RDBMS?
* `∨` \- logical or
* `[..]` \- an option
* `{..|..}` \- a choice (sometimes also: `..|..` if it isn't ambiguous)

All SQL keywords all written in UPPERCASE.

Can I get a feedback? Are my notes readable and useful for others? Which parts are not readable? Do you see any errors? Should I add some important information, or can I remove some information that isn't useful?

Do you know books, articles, or blogs that are similarly concise and complete?

&amp;#x200B;

&amp;#x200B;

# Additional notes for DML triggers in PostgreSQL

Which types of triggers may be used on tables and views?

|when|event|row-level|statement-level|
|:-|:-|:-|:-|
|`BEFORE`/`AFTER`|`INSERT`/`UPDATE`/`DELETE`|tables|views\*, tables|
|`INSTEAD OF`|`INSERT`/`UPDATE`/`DELETE`|views|—|

\* - fired only if there is also an `INSTEAD OF` trigger on the view

The trigger function must:

* be declared with no arguments, even if it expects to receive some arguments specified in `CREATE TRIGGER` — such arguments are passed via `TG_ARGV`,
* be declared with returning type `trigger`,
* return either `NULL` or a record/row value having exactly the structure of the table the trigger was fired for:
   * Statement-level trigger functions should always return `NULL`.
   * Row-level trigger functions can return a table row, if they choose.
      * Row-level `AFTER` trigger ignores the value returned by the function so the function can return `NULL`.
      * Row-level `BEFORE` trigger should either return:
      * `INSTEAD OF` trigger should either return:

These special variables are available in a trigger function beside `NEW`/`OLD`:

* `TG_OP` \- trigger operation: 'INSERT', 'UPDATE', 'DELETE', or 'TRUNCATE'
* `TG_NAME` \- trigger name
* `TG_TABLE_NAME` \- trigger table name
* `TG_ARGV[]` \- (array of varchar) the arguments given to the trigger function in the `CREATE TRIGGER` statement; indexed from 0 to `TG_NARGS` \- 1

`CREATE CONSTRAINT TRIGGER trigger1 ...` \- see doc

# System triggers

**Oracle**

    CREATE [OR REPLACE] TRIGGER trigger1
    {BEFORE|AFTER|INSTEAD OF} {ddl_event|database_event} [OR ...] ON {SCHEMA|DATABASE}
    {plsql_block | CALL proc1[(...)]}

**PostgreSQL**

    CREATE EVENT TRIGGER trigger1
    ON event
    [WHEN TAG IN (filter_value [,...])]  **
    EXECUTE FUNCTION fun1()

\*\* - when the command tag, the trigger is fired for, is in the given list of command tags (e.g., 'DROP FUNCTION')

Event triggers are capable of capturing DDL events. The only supported events are:

* ddl\_command\_start - occurs before execution of a `CREATE`, `ALTER`, `DROP`, `COMMENT`, `GRANT`/`REVOKE` command
* ddl\_command\_end   - occurs after  execution of a `CREATE`, `ALTER`, `DROP`, `COMMENT`, `GRANT`/`REVOKE` command; `pg_event_trigger_ddl_commands()` returns details on the DDL operations that took place
* sql\_drop - occurs before ddl\_command\_end trigger for any operation that drops DB objects; `pg_event_trigger_dropped_objects()` returns a list of the objects that have been dropped
* table\_rewrite - occurs before a table is rewritten by some actions of the command `ALTER TABLE`

The trigger function must:

* be declared with no arguments,
* be declared with returning type `event_trigger`,
* need not (and may not) return a value; the return type serves merely as a signal that the function is to be invoked as an event trigger.

Some commands for which event triggers are supported:

    Command                                              ddl_​command_  sql_​drop  table_
                                                         {start|end}             ​rewrite
    GRANT/REVOKE/COMMENT/REFRESH MATERIALIZED VIEW                               X  -  -
    CREATE TABLE/[MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE/INDEX   X  -  -
    ALTER        [MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE         X  -  -
    DROP   TABLE/[MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE/INDEX   X  X  -
    ALTER  TABLE                                                                 X  X  X

These special variables are available in an event trigger function:

* `TG_EVENT` \- varchar, the event the trigger is fired for
* `TG_TAG` \- varchar, the command tag the trigger is fired for",learnSQL,"Triggers in PostgreSQL, MySQL, Oracle, and SQLite - the complete and concise comparison",1.0,https://www.reddit.com/r/learnSQL/comments/kue4by/triggers_in_postgresql_mysql_oracle_and_sqlite/
26,iwiik,1610288688,kufb4s,0,1,"I wanted to understand how to write trigger in different DBMSs. For this purpose, I read the definition of a trigger in the SQL Standard ([syntax](https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#_11_49_trigger_definition) &amp; [description](https://crate.io/docs/sql-99/en/latest/chapters/24.html)), and the PostgreSQL, MySQL, and SQLite documentation. I already knew how triggers work in Oracle, so I haven't read Oracle documentation.

Then I made notes that are quite complete and concise at the same time, marking similarities and differences in DBMSs.

I used the following marking in my notes:

* orange underscore - differences in RDBMS
* `P` `M` `O` `L` \- each letter means respectively: PostgreSQL, MySQL, Oracle, SQLite; they are used on the left margin or in parentheses in a function description: (`PMOL`: ...)
* blue underscore   - when was a syntax introduced to a RDBMS?
* `∨` \- logical or
* `[..]` \- an option
* `{..|..}` \- a choice (sometimes also: `..|..` if it isn't ambiguous)
* All SQL keywords all written in UPPERCASE.

Can I get a feedback? Are my notes readable and useful for others? Which parts are not readable? Do you see any errors? Should I add some important information, or can I remove some information that isn't useful?

Do you know books, articles, or blogs that are similarly concise and complete?

# Additional notes for DML triggers in PostgreSQL

Which types of triggers may be used on tables and views?

|when|event|row-level|statement-level|
|:-|:-|:-|:-|
|`BEFORE`/`AFTER`|`INSERT`/`UPDATE`/`DELETE`|tables|views\*, tables|
|`INSTEAD OF`|`INSERT`/`UPDATE`/`DELETE`|views||

\* - fired only if there is also an `INSTEAD OF` trigger on the view

The trigger function must be declared with no arguments, even if it expects to receive some arguments specified in `CREATE TRIGGER` — such arguments are passed via `TG_ARGV`.

The trigger function must be declared with returning type trigger, and return either `NULL` or a record/row value having exactly the structure of the table the trigger was fired for:

1. Statement-level trigger functions should always return `NULL`.
2. Row-level trigger functions can return a table row, if they choose.

* Row-level `AFTER` trigger ignores the value returned by the function so the function can return `NULL`.
* Row-level `BEFORE` trigger should either return:
   * `NULL` to cancel the `INSERT`/`UPDATE`/`DELETE` for the current row
   * `NEW` for `INSERT`/`UPDATE`, and `OLD` for `DELETE`. For row-level `INSERT`/`UPDATE` triggers only, the returned row becomes the row that will be inserted or will replace the row being updated - this allows the trigger function to modify the row being inserted/updated.
* `INSTEAD OF` trigger should either return:
   * `NULL` to signal that the trigger haven't performed any data modifications in the view's underlying base tables,
   * `NEW` for `INSERT`/`UPDATE`, and `OLD` for `DELETE`, to signal that the trigger performed the necessary data modifications in the view's underlying base tables. This will increment the count of the number of rows affected by the command. For `INSERT`/`UPDATE`, the trigger can modify `NEW` before returning it, which will change the data returned by `INSERT RETURNING` or `UPDATE RETURNING`, and is useful when the view won't show exactly the same data that was provided.

These special variables are available in a trigger function beside `NEW`/`OLD`:

* `TG_OP` \- trigger operation: 'INSERT', 'UPDATE', 'DELETE', or 'TRUNCATE'
* `TG_NAME` \- trigger name
* `TG_TABLE_NAME` \- trigger table name
* `TG_ARGV[]` \- (array of varchar) the arguments given to the trigger function in the `CREATE TRIGGER` statement; indexed from 0 to `TG_NARGS` \- 1

`CREATE CONSTRAINT TRIGGER trigger1 ...` \- see doc

# System triggers

**Oracle**

    CREATE [OR REPLACE] TRIGGER trigger1
    {BEFORE|AFTER|INSTEAD OF} {ddl_event|database_event} [OR ...] ON {SCHEMA|DATABASE}
    {plsql_block | CALL proc1[(...)]}

**PostgreSQL**

    CREATE EVENT TRIGGER trigger1
    ON event
    [WHEN TAG IN (filter_value [,...])]   **
    EXECUTE FUNCTION fun1()

\*\* - when the command tag, the trigger is fired for, is in the given list of command tags (e.g., 'DROP FUNCTION')

Event triggers are capable of capturing DDL events. The only supported events are:

* `ddl_command_start` \- occurs before execution of a `CREATE`, `ALTER`, `DROP`, `COMMENT`, `GRANT`/`REVOKE` command
* `ddl_command_end` \- occurs after  execution of a `CREATE`, `ALTER`, `DROP`, `COMMENT`, `GRANT`/`REVOKE` command; `pg_event_trigger_ddl_commands()` returns details on the DDL operations that took place
* `sql_drop` \- occurs before `ddl_command_end` trigger for any operation that drops DB objects; `pg_event_trigger_dropped_objects()` returns a list of the objects that have been dropped
* `table_rewrite` \- occurs before a table is rewritten by some actions of the command `ALTER TABLE`

The trigger function must:

* be declared with no arguments,
* be declared with returning type `event_trigger`,
* need not (and may not) return a value; the return type serves merely as a signal that the function is to be invoked as an event trigger.

Some commands for which event triggers are supported:

    Command                           ddl_​command_{start|end} / sql_​drop / table_​rewrite
    ------------------------------------------------------------------------------------
    GRANT/REVOKE/COMMENT/REFRESH MATERIALIZED VIEW                               +  -  -
    CREATE TABLE/[MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE/INDEX   +  -  -
    ALTER        [MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE         +  -  -
    DROP   TABLE/[MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE/INDEX   +  +  -
    ALTER  TABLE                                                                 +  +  +

These special variables are available in an event trigger function:

* `TG_EVENT` \- (varchar) the event the trigger is fired for
* `TG_TAG` \- (varchar) the command tag the trigger is fired for",learnSQL,"Triggers in PostgreSQL, MySQL, Oracle, and SQLite - the complete and concise comparison",1.0,https://www.reddit.com/r/learnSQL/comments/kufb4s/triggers_in_postgresql_mysql_oracle_and_sqlite/
27,iwiik,1610289967,kufndw,0,1,"I wanted to understand how to write trigger in different DBMSs. For this purpose, I read the definition of a trigger in the SQL Standard ([syntax](https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#_11_49_trigger_definition) &amp; [description](https://crate.io/docs/sql-99/en/latest/chapters/24.html)), and the PostgreSQL, MySQL, and SQLite documentation. I already knew how triggers work in Oracle, so I haven't read Oracle documentation.

Then I made notes that are quite complete and concise at the same time, marking similarities and differences in DBMSs.

I used the following marking in my notes:

* orange underscore - differences in RDBMS
* `P` `M` `O` `L` \- each letter means respectively: PostgreSQL, MySQL, Oracle, SQLite; they are used on the left margin or in parentheses: (`PMOL`: ...)
* blue underscore - when was a syntax introduced to a RDBMS?
* `∨` \- logical ""or""
* `[..]` \- an option
* `{..|..}` \- a choice (sometimes also: `..|..` if it isn't ambiguous)
* All SQL keywords all written in `UPPERCASE`.

Can I get a feedback? Are my notes readable and useful for others? Which parts are not readable? Do you see any errors? Should I add some important information, or can I remove some information that isn't useful?

Do you know books, articles, or blogs that are similarly concise and complete?

&amp;#x200B;

[Main notes - page 1](https://preview.redd.it/cigiwajlmia61.jpg?width=2776&amp;format=pjpg&amp;auto=webp&amp;s=afbc28ba9f51a3c8e2f889a58c83dcc29430b84a)

[Main notes - page 2](https://preview.redd.it/pu6imhqnmia61.jpg?width=2772&amp;format=pjpg&amp;auto=webp&amp;s=5a7a0f06986accd104d34c9a3361a1c49e1f2701)

# Additional notes for DML triggers in PostgreSQL (read documentation for more information, because I pay less attention to this point)

Which types of triggers may be used on tables and views?

|when|event|row-level|statement-level|
|:-|:-|:-|:-|
|`BEFORE`/`AFTER`|`INSERT`/`UPDATE`/`DELETE`|tables|views\*, tables|
|`INSTEAD OF`|`INSERT`/`UPDATE`/`DELETE`|views||

\* - fired only if there is also an `INSTEAD OF` trigger on the view

The trigger function must be declared with no arguments, even if it expects to receive some arguments specified in `CREATE TRIGGER` — such arguments are passed via `TG_ARGV`.

The trigger function must be declared with returning type `trigger`, and return either `NULL` or a record/row value having exactly the structure of the table the trigger was fired for:

* Statement-level trigger functions should always return `NULL`.
* Row-level trigger functions can return a table row, if they choose.
   * Row-level `AFTER` trigger ignores the value returned by the function so the function can return `NULL`.
   * Row-level `BEFORE` trigger should either return:
      * `NULL` to cancel the `INSERT`/`UPDATE`/`DELETE` for the current row
      * `NEW` for `INSERT`/`UPDATE`, and `OLD` for `DELETE`. For row-level `INSERT`/`UPDATE` triggers only, the returned row becomes the row that will be inserted or will replace the row being updated - this allows the trigger function to modify the row being inserted/updated.
   * `INSTEAD OF` trigger should either return:
      * `NULL` to signal that the trigger haven't performed any data modifications in the view's underlying base table(s),
      * `NEW` for `INSERT`/`UPDATE`, and `OLD` for `DELETE`, to signal that the trigger performed the necessary data modifications in the view's underlying base table(s). This will increment the count of the number of rows affected by the command. For `INSERT`/`UPDATE`, the trigger can modify `NEW` before returning it, which will change the data returned by `INSERT RETURNING` or `UPDATE RETURNING`, and is useful when the view won't show exactly the same data that was provided.

These special variables are available in a trigger function beside `NEW`/`OLD`:

* `TG_OP` \- trigger operation: 'INSERT', 'UPDATE', 'DELETE', or 'TRUNCATE'
* `TG_NAME` \- trigger name
* `TG_TABLE_NAME` \- trigger table name
* `TG_ARGV[]` \- (array of varchar) the arguments given to the trigger function in the `CREATE TRIGGER` statement; indexed from 0 to `TG_NARGS` \- 1

`CREATE CONSTRAINT TRIGGER trigger1 ...` \- see doc

# System triggers (read documentation for more information, because I pay less attention to this point)

**Oracle**

    CREATE [OR REPLACE] TRIGGER trigger1
    {BEFORE|AFTER|INSTEAD OF} {ddl_event|database_event} [OR ...] ON {SCHEMA|DATABASE}
    {plsql_block | CALL proc1[(...)]}

**PostgreSQL**

    CREATE EVENT TRIGGER trigger1
    ON event
    [WHEN TAG IN (filter_value [,...])]   **
    EXECUTE FUNCTION fun1()

\*\* - when the command tag, the trigger is fired for, is in the given list of command tags (e.g. 'DROP FUNCTION')

Event triggers are capable of capturing DDL events. The only supported events are:

* `ddl_command_start` \- occurs before execution of a `CREATE`, `ALTER`, `DROP`, `COMMENT`, `GRANT`/`REVOKE` command,
* `ddl_command_end` \- occurs after  execution of a `CREATE`, `ALTER`, `DROP`, `COMMENT`, `GRANT`/`REVOKE` command; `pg_event_trigger_ddl_commands()` returns details on the DDL operations that took place,
* `sql_drop` \- occurs before `ddl_command_end` trigger for any operation that drops DB objects; `pg_event_trigger_dropped_objects()` returns a list of the objects that have been dropped,
* `table_rewrite` \- occurs before a table is rewritten by some actions of the command `ALTER TABLE`.

The trigger function must:

* be declared with no arguments,
* be declared with returning type `event_trigger`,
* need not (and may not) return a value; the return type serves merely as a signal that the function is to be invoked as an event trigger.

Some commands for which event triggers are supported:

    Command                           ddl_​command_{start|end} / sql_​drop / table_​rewrite
    ------------------------------------------------------------------------------------
    GRANT/REVOKE/COMMENT/REFRESH MATERIALIZED VIEW                               +  -  -
    CREATE TABLE/[MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE/INDEX   +  -  -
    ALTER        [MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE         +  -  -
    DROP   TABLE/[MATERIALIZED] VIEW/FUNCTION/PROCEDURE/TRIGGER/SEQUENCE/INDEX   +  +  -
    ALTER  TABLE                                                                 +  +  +

These special variables are available in an event trigger function:

* `TG_EVENT` \- (varchar) the event the trigger is fired for
* `TG_TAG` \- (varchar) the command tag the trigger is fired for",learnSQL,"Triggers in PostgreSQL, MySQL, Oracle, and SQLite - the complete and concise comparison",1.0,https://www.reddit.com/r/learnSQL/comments/kufndw/triggers_in_postgresql_mysql_oracle_and_sqlite/
28,GorllaDetective,1610324600,kuqwyn,2,2,"I am working through a question for interview prep and the answer is provided to the 16th decimal place but as far as I know SQLite only allows for 15 decimal places... I am just wondering if I were to use a window function instead of just using math would it display a greater level of precision?

The math in question is trying to find the average number of rentals per video category:

    cte.c/CAST(nfc.cf AS FLOAT) AS avg_rentals_category

As an example the site I am using provides the answer for the first row as:

 16.8035714285714286

While using the above equation I am only able to get:

 16.803571428571427

I am just wondering if there is away around this?

Thanks!",learnSQL,SQLITE - Will Window Functions Return a Greater Precision than Normally Available?,1.0,https://www.reddit.com/r/learnSQL/comments/kuqwyn/sqlite_will_window_functions_return_a_greater/
29,mister_patience,1610365604,kv14l0,2,1,"...what would you say would be interesting about 

&amp;#x200B;

* Aggregate functions \[min, max, sum, avg\]
* GROUP BY
* HAVING

&amp;#x200B;

That perhaps isn't covered with some basic code?",learnSQL,If you were teaching learners...,1.0,https://www.reddit.com/r/learnSQL/comments/kv14l0/if_you_were_teaching_learners/
30,mestitomi,1610376403,kv40ji,2,1, ,learnSQL,Learn SQL in 5 minutes... can you? (Watch it to the end!),1.0,https://www.youtube.com/watch?v=vkhjO7fc78g
31,GrandBbt,1610381966,kv5v8j,6,1,"Hi

I have been struggling quite a bit with one of my exercises from a course on EDX by Stanford (which I didn't like btw) and wanted to know if someone could help me out.

Database:

 Movie ( mID, title, year, director )  
English: There is a movie with ID number *mID*, a *title*, a release *year*, and a *director*.

Reviewer ( rID, name )  
English: The reviewer with ID number *rID* has a certain *name*.

Rating ( rID, mID, stars, ratingDate )  
English: The reviewer *rID* gave the movie *mID* a number of *stars* rating (1-5) on a certain *ratingDate* 

Query:

For all cases where the same reviewer rated the same movie twice and gave it a higher rating the second time, return the reviewer's name and the title of the movie.

**Note:** Your queries are executed using SQLite, so you must conform to the SQL constructs supported by SQLite. 

Thanks in advance!",learnSQL,Help with an easy query? EDX course,1.0,https://www.reddit.com/r/learnSQL/comments/kv5v8j/help_with_an_easy_query_edx_course/
32,snake_py,1610396995,kvbbji,4,1,"&amp;#x200B;

Hey guys I am trying to select the last month and the current month. My current query yields only two days. What am I doing wrong? 

    select date(date_trunc('month', date)) as ""Month"", sum(users) as ""Daily Users""
    from analytics
    where project_id = {{project_id}} and cast(schema as float) = -1  and (date=date_trunc('month', {{end_date}} - interval '0' month) or date=date_trunc('month', {{end_date}} - interval '1' month))
    group by 1 order by 1",learnSQL,Try to select the current month and the last month,1.0,https://www.reddit.com/r/learnSQL/comments/kvbbji/try_to_select_the_current_month_and_the_last_month/
33,snake_py,1610454490,kvqqoj,2,1,"I am trying to get the quotient of new\_users/all\_users.

&amp;#x200B;

I am unsure how to proceed from here:

    select date_trunc('MONTH', analytics.date) as ""Month"", sum(users) as ""Daily Users"",
        Case
            when schema='-1' then 'All Users'
            when schema='-2' then 'New User'
        End as ""user_type""
    from analytics
    where project_id = {{project_id}} 
    and cast(schema as int) in  (-1, -2) 
    and date_trunc('MONTH', analytics.date) IN 
    (
    date_trunc('MONTH', {{end_date}} - interval '0' month),
    date_trunc('MONTH', {{end_date}} - interval '1' month)
    ) 
    group by ""Month"",""user_type""  order by ""Month""
    

**Current output:**

    Month                         Users      User type
    November 1, 2020, 12:00 AM    435        All Users
    November 1, 2020, 12:00 AM    371        New User
    Dezember 1, 2020, 12:00 AM    435        All Users
    Dezember 1, 2020, 12:00 AM    375        New User

**Wanted output:**

    Month                         quotient 
    November                      371/435
    Dezember                      375/435",learnSQL,Trying to get the quotient of two rows from one col,1.0,https://www.reddit.com/r/learnSQL/comments/kvqqoj/trying_to_get_the_quotient_of_two_rows_from_one/
34,IMRicko,1610464193,kvtfg4,0,1,"Hi everyone, I am currently learning MS SQL. I am currently generating list of string based columns for all tables, each column with its own data type and max character length. However I realized that oen of the tables contains columns which has a special character (eg. ampersand &amp;). The query that I am currently using kept throwing an error about the column name.

Can anyone have a look at the code help to point which part of the code I should tweak? I tried escaping the COLUMN\_NAME on the select statement but it didn't help:

[The error I Received.](https://preview.redd.it/zwhwnq983xa61.png?width=251&amp;format=png&amp;auto=webp&amp;s=d311cf048b635e79f2f32a524fd2fceeb4c55767)

    DECLARE @TableName NVARCHAR(100); 
     
    DECLARE X CURSOR 
    FOR 
        SELECT  TABLE_SCHEMA + '.[' + TABLE_NAME + ']' 
        FROM    INFORMATION_SCHEMA.TABLES 
        WHERE   TABLE_TYPE = 'VIEW' AND TABLE_NAME ='MYTABLE' 
        ORDER BY TABLE_SCHEMA, TABLE_NAME; 
    
    OPEN X; 
    FETCH FROM X INTO @TableName; 
      
    WHILE @@FETCH_STATUS = 0 
        BEGIN 
     
    -- Create and execute a query to retrieve MAX(LEN()) for every varchar column. 
    
    DECLARE @Query NVARCHAR(MAX); 
            SELECT  @Query = 'SELECT ''' + @TableName + ''' as TableName, ' 
                    + STUFF(( SELECT    ', MAX(LEN([' + COLUMN_NAME + '])) as [' 
                                        + COLUMN_NAME + ' (' 
                                        + CASE WHEN CHARACTER_MAXIMUM_LENGTH = -1 THEN 'MAX'                                            
                                               ELSE CAST(CHARACTER_MAXIMUM_LENGTH AS VARCHAR(10)) 
                                          END + ')]' 
                              FROM      INFORMATION_SCHEMA.COLUMNS 
                              WHERE    TABLE_SCHEMA + '.[' + TABLE_NAME + ']' = @TableName 
                            FOR 
                              XML PATH('') 
                            ), 1, 1, '') + ' FROM ' + @TableName 
            FROM    INFORMATION_SCHEMA.COLUMNS; 
             
            PRINT @Query; 
            EXEC sp_executesql @Query; 
      
            FETCH NEXT FROM X INTO @TableName; 
        END; 
     
    CLOSE X; 
    DEALLOCATE X;",learnSQL,Help Selecting and Escaping Column Name with Special Characters,1.0,https://www.reddit.com/r/learnSQL/comments/kvtfg4/help_selecting_and_escaping_column_name_with/
35,mcar91,1610467233,kvud4t,4,1,"I have an array field in my database. I'm trying to show the sum of rows that have each *combination* of items in the array, not each *permutation*.

For example, I need `{""Item1"", ""Item2"", ""Item3""}` to group into the same group as `{""Item3"", ""Item1"", ""Item2""}`.

Is this possible?",learnSQL,Counting array combinations ignoring order,1.0,https://www.reddit.com/r/learnSQL/comments/kvud4t/counting_array_combinations_ignoring_order/
36,Airsickclock,1610468265,kvupfk,0,1,"I've installed MySQL but i cant seem to wget it working on my pc, i keep getting errors saying my password is incorrect even though it is correct.

I was following a tutorial and used XAMPP along with phpmyadmin XAMPP.

I just wanted to know whats the difference between these?",learnSQL,MySQL application vs XAMPP MySQL?,1.0,https://www.reddit.com/r/learnSQL/comments/kvupfk/mysql_application_vs_xampp_mysql/
37,Nicholas_TW,1610470660,kvvinl,1,1,"Let's say I have table Foo

|ID|Value|
|:-|:-|
|2|10|
|2|15|

And table Bar

|ID|Value|
|:-|:-|
|1|5|

&amp;#x200B;

And a Merge which reads as follows:

    MERGE INTO Bar TARGET
    USING Foo SOURCE
    ON SOURCE.ID = TARGET.ID
    
    WHEN MATCHED AND SOURCE.Value &gt; TARGET.Value
        THEN UPDATE
            SET TARGET.Value = SOURCE.Value
    
    WHEN NOT MATCHED
        THEN INSERT (ID, Value)
        VALUES (SOURCE.ID, SOURCE.Value)
    ;

...My desired result would be:

|ID|Value|
|:-|:-|
|1|5|
|2|15|

Yet, when I test similar code, my result ends up being:

|ID|Value|
|:-|:-|
|1|5|
|2|10|
|2|15|

&amp;#x200B;

**Is the above expected behavior?**",learnSQL,Does a merge statement take into account other lines previously merged?,1.0,https://www.reddit.com/r/learnSQL/comments/kvvinl/does_a_merge_statement_take_into_account_other/
38,mister_patience,1610527026,kwch3w,4,1,"I have a table called ""film"" that has the usual columns you might guess are there.

I want to try and combine the below three queries into one, is that possible?

&amp;#x200B;

`SELECT`

	`COUNT(*)`

`FROM`

	`film`

`WHERE` 

	`film.length &gt;= 150`

`;`

&amp;#x200B;

`SELECT`

	`COUNT(*)`

`FROM`

	`film`

`WHERE` 

	`film.rating = 'PG'`

`;`

&amp;#x200B;

`SELECT`

	`COUNT(*)`

`FROM`

	`film`

`WHERE` 

	`UPPER(film.title) LIKE 'B%'`

`;`",learnSQL,How would I combine the following queries into one?,1.0,https://www.reddit.com/r/learnSQL/comments/kwch3w/how_would_i_combine_the_following_queries_into_one/
39,joshuawong99,1610551383,kwijmp,0,1,"Hi everyone. I am currently learning SQL and in the topic of using cursors and variables to perform iterations and loops. I am trying to scale down my database size and thought of checking the data length that was set for each column for each table in my database (I am trying to check for the actual longest data stored in every column and not the maximum data length set for columns during table creation).

Thus, I came up with this query:

    DECLARE @TableName NVARCHAR(100)     
      
    DECLARE tableCursor CURSOR FOR     
    SELECT table_name  
    FROM INFORMATION_SCHEMA.TABLES
    WHERE TABLE_TYPE = 'VIEW'
    ORDER BY TABLE_NAME;   
      
    OPEN tableCursor    
      
    FETCH NEXT FROM tableCursor INTO @TableName    
      
    WHILE @@FETCH_STATUS = 0    
    BEGIN    
        
    	
    	--print @TableName /*TO CHECK WHAT VALUES ARE INSIDE THE VARIABLE*/
    	DECLARE @TSQL VARCHAR(MAX);
    
    	SELECT 
    		@TableName as TableName 
    		,c.COLUMN_NAME as ColumnName
    		,c.CHARACTER_MAXIMUM_LENGTH as CharacterMaxLength
    	FROM INFORMATION_SCHEMA.COLUMNS c 
    	WHERE c.TABLE_NAME = @TableName
    
          
    	FETCH NEXT FROM tableCursor INTO @TableName   
       
    END     
    CLOSE tableCursor;    
    DEALLOCATE tableCursor;

The result of the query (for each result, it gives me repeating name of eac table, each with different column name as one table contains several columns. Image is highlighted for data privacy):

https://preview.redd.it/gya5vhzs94b61.png?width=511&amp;format=png&amp;auto=webp&amp;s=1bf86a6034ce179f3e1c8652ca200a841387cfa3

However, for the data that I need the most, the actual longest data length for each column, I am currently facing an issue as I couldn't figure out on how to integrate the MAX(LEN(COLUMN\_NAME)) function on the query.

Could anyone give me a pointer as to how can I tweak the code to get that particular data?",learnSQL,"Learning SQL Server Cursor To List Tables, Columns and Longest Data Stored on Each Column",1.0,https://www.reddit.com/r/learnSQL/comments/kwijmp/learning_sql_server_cursor_to_list_tables_columns/
40,GorllaDetective,1610567281,kwo962,4,1,"Hi All,

Ran into this interview question and have been banging my head against as solution:

Return the Top 10 Count of Conversations

Table: msgs\_sent

&amp;#x200B;

|Date|Sender|Receiver|
|:-|:-|:-|
|2021-01-01|alice|bob|
|2021-01-01|alice|bob|
|2020-10-01|charlie|james|
|2020-02-02|james|henry|
|2020-03-02|henry|alice|
|2019-01-07|alice|james|
|2019-01-07|alice|henry|
|2019-01-07|bob|alice|
||||
|I tried:|||

    SELECT s1.sender,s1.receiver, COUNT(*) AS msg_count
    FROM msgs_sent AS s1 JOIN msgs_sent s2 ON (s1.sender = s2.receiver)
    WHERE s1.sender = s2.receiver AND s1.receiver = s2.sender
    GROUP BY 1

but this returns:

&amp;#x200B;

|sender|receiver|msg\_count|
|:-|:-|:-|
|alice|bob|4|
|bob|alice|3|
|henry|alice|1|

Which is incorrect. It also doesn't take into account that we need to count both the sent msg and the replies. It doesn't matter what the dates are in this scenario. We just need to count both sides of the conversations. I don't know what the solution is but I am banging my head against the wall to figure it out. Any help would be greatly appreciated!",learnSQL,Interview Question - Top 10 Count of Conversations,1.0,https://www.reddit.com/r/learnSQL/comments/kwo962/interview_question_top_10_count_of_conversations/
41,saraheatsmuffins,1610595035,kwxbds,0,1,"So I'm doing a subquery practice on W3:

[https://www.w3resource.com/sql-exercises/subqueries/sql-subqueries-inventory-exercise-15.php](https://www.w3resource.com/sql-exercises/subqueries/sql-subqueries-inventory-exercise-15.php)

And the query answer is:

 `SELECT customer_id,cust_name, city FROM customer WHERE EXISTS (SELECT * FROM customer WHERE city='London');` 

And the returned results are:

 ^(customer\_id	 cust\_name		city) 

^(3002		Nick Rimando	New York) 

^(3007		Brad Davis		New York) 

^(3005		Graham Zusi		California) 	

But shouldn't it only return where the city is 'London'? Why all other data is getting returned? Then what's the purpose of WHERE EXISTS in this query?",learnSQL,I am confused about how WHERE EXISTS works..,1.0,https://www.reddit.com/r/learnSQL/comments/kwxbds/i_am_confused_about_how_where_exists_works/
42,ChristopherCorvo,1610640202,kx8hi1,3,2,"Hey group,

I was wondering if anyone knew of any SQL learning games. 

I am learning SQL as part of my back end education in Java Spring and was looking for some novel ways to strengthen my SQL knowledge. 

Thanks for your thoughts.",learnSQL,Question: learning SQL with games,1.0,https://www.reddit.com/r/learnSQL/comments/kx8hi1/question_learning_sql_with_games/
43,alex123711,1610690233,kxoct4,10,1, ,learnSQL,How to know which join to use?,1.0,https://www.reddit.com/r/learnSQL/comments/kxoct4/how_to_know_which_join_to_use/
45,Faust_0,1610737367,ky1ak4,2,1,"SELECT

  DISTINCT au.au\_fname + ' ' + au.au\_lname AS 'Authors::',

  ttl.title AS 'Title:',

  tlt.advance AS 'advance:',

  ttl.ytd\_sales AS 'GROSS:',

  (ttl.ytdsales - ttl.advance) AS ""NET""

FROM

  dbo.titles AS tlt

WHERE

  ttl.advance &gt; ttl.ytd\_sales

  JOIN ON dbo.titleauthor AS ttlau ON ttl\_au.title\_id = ttl.title\_id

  JOIN dbo.authors AS au ON au.au\_id == ttlau.au\_id

&amp;#x200B;

&amp;#x200B;

Does anyone know why I am having an issue here? Especially on the second last line. I can't seem to figure it out",learnSQL,Having a syntax issue,1.0,https://www.reddit.com/r/learnSQL/comments/ky1ak4/having_a_syntax_issue/
46,Nicholas_TW,1610744945,ky3xgg,3,1,"Let's say I have 3 varchars: 

""this is a test"", ""this is part of a test"", and ""this is a difficult test"".

For each of these varchars, I want to remove ""this is"" from the beginning, and ""test"" from the end, leaving me with ""a"", ""part of a"", and ""a difficult"".

Is there a way I can do this as either an operation or part of a test? If so, what is the syntax?

I'm imagining something like,

    DECLARE @test_varchar VARCHAR(MAX) = 'this is a test'
    SELECT ((@test_varchar - 'this is ') - ' test')

...But you can't subtract varchars in SQL.

Any ideas?",learnSQL,Is there a way to strip text from a varchar?,1.0,https://www.reddit.com/r/learnSQL/comments/ky3xgg/is_there_a_way_to_strip_text_from_a_varchar/
47,Nicholas_TW,1610748357,ky53z4,8,1,"Sorry, very similar to the last question I asked, but with an important difference:

Let's say I have three varchars, ""January 2020 ABC Test"", ""February 2021 DEFGHI Test"", and ""March 2222 JK Test"", and i just want to get the third word of each one (""ABC"", ""DEFGHI"", and ""JK"").

I can remove the 'Test' text using REPLACE() and replacing 'Test' with an empty string. Simple.

But the month/year is changeable, so I can't use Replace as easily. Any suggestions? I know it will ALWAYS follow this format (Monthname, Year, Info, Test), so if there's a way I can say ""Select the third 'word'"" or something, that would be ideal.

The only solution I can think of (which is absolutely AWFUL) is:

* First, call 'REPLACE()' twelve times, each time replacing a different monthname with an empty string. Then I could truncate everything to the right of the leftmost six characters (the four year digits and the two whitespaces). THEN I could replace 'Test' with an empty string. That'd be 14 nested function calls. Horrific.

...So, basically any solution which works is a better one.",learnSQL,How to remove variable text from a Varchar?,1.0,https://www.reddit.com/r/learnSQL/comments/ky53z4/how_to_remove_variable_text_from_a_varchar/
48,kidkai25,1610806792,kyjpnf,4,1,"if a resultset/table is created by A inner Join B

producing C (having A and B columns)

does it makes sense to do something like

A inner join C  producing D?",learnSQL,Does this inner join with used table makes sense?,1.0,https://www.reddit.com/r/learnSQL/comments/kyjpnf/does_this_inner_join_with_used_table_makes_sense/
49,MakePie_NotWar,1610808615,kyk6vb,2,1,"The question asks what kind of information is contained within the table (employee demographics, customer information, facility information, etc.) but every query I've tried so far doesn't work.

I've tried the following:

Select \* from information\_schema.columns 

where table\_name = '[sales.store](https://sales.store)'

and

sp\_Columns '[sales.store](https://sales.store)'

Both queries result in something that looks like a blank table. Any help is greatly appreciated!",learnSQL,How to find information in a table?,1.0,https://www.reddit.com/r/learnSQL/comments/kyk6vb/how_to_find_information_in_a_table/
50,alex123711,1610813852,kylqyp,1,1,What sort of join would I use to select for e.g items in table A that were sold between 01/01/01 and 01/03/01 in table C which are unlinked/ no shared key etc?,learnSQL,Select join,1.0,https://www.reddit.com/r/learnSQL/comments/kylqyp/select_join/
51,accappatoiviola,1610826348,kypugj,0,1, ,learnSQL,US Cities VS Europe Cities - Population - 1950/2019,1.0,https://youtu.be/fWC5tP9hDms
52,Grahf0085,1610844115,kyvfeg,7,2,I used lots of .sql files to make a database and have since edited that database using sql quaries.  Is there anyway to get updated .sql files from my database with the changes I made?  That way someone else could take my .sql files and rebuild the database.,learnSQL,Export database to update SQL files?,1.0,https://www.reddit.com/r/learnSQL/comments/kyvfeg/export_database_to_update_sql_files/
53,Zdzbloszcz,1610920009,kzfteo,3,1,"Oracle SQL Developer 19.2.1

Hello, I'm just learning dbs and I'm not sure what can be wrong with this.

Compiling proceeding text:
 
CREATE TABLE Zawodnicy
(   id_zawodnika NUMBER(6,0) constraint id_zawodnika_pk PRIMARY KEY,
    nazwisko VARCHAR(20) 	constraint nazwisko_nn NOT NULL,
    imie VARCHAR(20) 		constraint imie_nn NOT NULL,
    data_ur DATE 		constraint data_ur_ch CHECK(data_ur &lt;= (to_date(01-01-2004, 'DD-MM-YYYY'))),
    wzrost NUMBER(3,0)		constraint wzrost_ch CHECK(wzrost &gt; 0),
    waga NUMBER(3,1)		constraint waga_ch CHECK(waga &gt; 0),
    pozycja VARCHAR(10) 	constraint pozycja_ch CHECK(pozycja IN ('bramkarz', 'obronca', 'pomocnik', 'napastnik')),
    klub VARCHAR DEFAULT ('wolny_zawodnik'),
    liczba_minut NUMBER(5,-1) DEFAULT 0,
    placa NUMBER(6,-2)
);

throws ""missing left parenthesis"", error 0906",learnSQL,Begginer's problem with table creation,1.0,https://www.reddit.com/r/learnSQL/comments/kzfteo/begginers_problem_with_table_creation/
54,lucian-12,1610951363,kzp0c5,0,1, ,learnSQL,[video] Making use of MySQL EXPLAIN ANALYZE for Query Optimization,1.0,https://youtu.be/TukZd6LjeBc
55,Nicholas_TW,1610978977,kzvbm7,13,1,"I understand how to select the TOP n rows in SQL Server, but is there a way to JUST select the nth row?

I have a query set up that parses data such that it returns a table of four rows, and the third row is ALWAYS the row with the information I need. Is there a way to select the third row from that table? The actual values within the rows can change (it's the results of the STRING\_SPLIT() function used in a varchar of 4 words, if that helps).",learnSQL,How to select nth row in SQL Server?,1.0,https://www.reddit.com/r/learnSQL/comments/kzvbm7/how_to_select_nth_row_in_sql_server/
56,nutmilk2,1611004978,l0465u,0,1, ,learnSQL,UUID vs. Auto-Incrementing Primary Keys,1.0,https://blog.arctype.com/postgres-uuid/
57,MTerry00,1611028137,l0bhy7,3,1,"Taking a beginners course in SQL.  I've successfully joined two tables, and the next step is to take an existing column and use the values in that column to create a new column.  

I can create column just fine using just a single table.  I'm having trouble figuring out how to add a column to the query that returns the joined tables.",learnSQL,Beginner Question - Joining Tables and adding columns,1.0,https://www.reddit.com/r/learnSQL/comments/l0bhy7/beginner_question_joining_tables_and_adding/
58,dawilliams1,1611076432,l0o8yu,2,1,"Hi everyone! I am a 21yo working at a L1 tech support job, I’ve been here a little over a year and I am interested in branching into SQL with the end goal of becoming a DBA. I know the BARE minimum, such as tables and views I have SSMS installed on a windows server i found online and spun up. I want to know what are the things I need to know to be a DBA, and in what order I should learn them. (Oh I also have Visual Code Studio that my boss helped a colleague of mine install but he included me in the meeting as well just in case I was interested so I installed it too. he mainly installed it for python (which I don’t use) but I can use it for SQL too)
Any suggestions, guidance, resources, etc. will all be very much appreciated.

Thank you so much!",learnSQL,Starting up With SQL specifically for SSMS,1.0,https://www.reddit.com/r/learnSQL/comments/l0o8yu/starting_up_with_sql_specifically_for_ssms/
59,faust2099,1611077761,l0oqem,0,1,"Hello, anyone know a good tutorial on MS SQL trigger.  i need to create two, on delete and edit for auditing purposes.

Thank you in advance.",learnSQL,Triggers,1.0,https://www.reddit.com/r/learnSQL/comments/l0oqem/triggers/
60,Jmills2,1611081533,l0q3h9,9,1,"I want to select all of the rows that have wt\_contraction in the where statement below, but this doesn't include the rows where the wt\_contraction isn't filled in. Is there a way to make this type of statement include the blanks?  Or create values in the blanks and then include that value in the where?

select wt\_contraction, channel

from table\_name

where 

wt\_contraction IN ('3HH','3GD3','BVD','DGSH','HHHC','ESFL','SPBN','SPCL','TDN', 'RTC')",learnSQL,How to include values that are blank in my WHERE,1.0,https://www.reddit.com/r/learnSQL/comments/l0q3h9/how_to_include_values_that_are_blank_in_my_where/
61,ADDMYRSN,1611090222,l0t6wm,1,2,"Is using the command line client viable or should I be using an independent text editor like PopSQL? Furthermore, if it is beneficial to use, are there any good cheat sheets for using it? I'm having a hard time operating it.",learnSQL,Using MySQL Command Line Client,1.0,https://www.reddit.com/r/learnSQL/comments/l0t6wm/using_mysql_command_line_client/
62,MTerry00,1611115263,l117ih,1,1,"Working on a school project, and I'm being asked to create a new column (days\_per\_booking) using data from two other columns (Maximum nights and Minimum nights).  Each property is supposed to show an average days booked as 3.9 UNLESS the minimum stay is more than 3.9 or the maximum is less than 3.9.  

&amp;#x200B;

&amp;#x200B;

Sorry if this is confusing, any help would be much appreciated!",learnSQL,CASE statement using 2 columns?,1.0,https://www.reddit.com/r/learnSQL/comments/l117ih/case_statement_using_2_columns/
63,gamerfreakish,1611126718,l143qn,2,1,"For example, I have the following data; 

1. I want to count how many occurrences an item has. e.g Banana = 3x, Apple = 3x, Orange = 2x.
2. I want to count how many positive sales an item has. e.g Banana = 2x.
3. I want to sum each item but only if the sales &gt; 0. e.g Banana = 30.

&amp;#x200B;

|ID|Item|Sales|
|:-|:-|:-|
|1|Banana|20|
|2|Banana|0|
|3|Banana|10|
|4|Apple|4|
|5|Apple|18|
|6|Apple|10|
|7|Orange|4|
|8|Orange|4|",learnSQL,How to sum with several conditions?,1.0,https://www.reddit.com/r/learnSQL/comments/l143qn/how_to_sum_with_several_conditions/
64,knopeknope18,1611128615,l14iln,3,1,Hi Guys! Is there any function or way around to get Sunday Date for a week where we have either the Week No. available or a date,learnSQL,Using Week No. Or Date to get Sunday Date,1.0,https://www.reddit.com/r/learnSQL/comments/l14iln/using_week_no_or_date_to_get_sunday_date/
65,alex932314,1611182582,l1kixd,16,2,"Hi I am reading Head-First SQL and I want to follow the practical parts and I need to use a command-line window to use the ""CREATE DATABASE"" command. I installed MySQL from [https://dev.mysql.com/downloads/windows/installer/8.0.html](https://dev.mysql.com/downloads/windows/installer/8.0.html) and I can't find anything like what is in the book. MySQL workbench has no command line,  MySQL shell does not seem to work and MySQL Command Line Client just asks for my password then it closes... Please help me I feel ashamed for being stuck on something seemingly elementry for about 40 minutes... This always seems to happen when I follow any kind of tutorial I get stuck on something which completely halts my progress...",learnSQL,Please help me get started,1.0,https://www.reddit.com/r/learnSQL/comments/l1kixd/please_help_me_get_started/
66,JabreakittJubawdit,1611240965,l1zyts,9,1,"Hello I have failed 4 straight interviews this month because of my average sql skills. I have one interview scheduled for this weekend. Can anybody tell me where can I learn to solve complex queries involving multiple tables. I have tried leetcode and hackerrank but questions im getting in the interviews are more complicated than ones in these websites.
Help.",learnSQL,Help me learn sql.,1.0,https://www.reddit.com/r/learnSQL/comments/l1zyts/help_me_learn_sql/
67,Eamo853,1611249261,l22t30,1,1,"I have a table that contains A Location, Product Type, And customer type (plus others but logic should remain the same), and also a sales figure order by a time column (it's a integer but represents a time period) 

&amp;#x200B;

|Location|Product\_Type|Customer\_Type|Time\_Period|Sales|
|:-|:-|:-|:-|:-|
|America|ItemA|Large|1|10|
|America|ItemA|Large|2|15|
|Asia|ItemB|Small|1|1|
|Asia|ItemB|Small|2|2|
|America|ItemC|Small|1|16|
|America|ItemC|Small|2|11|

&amp;#x200B;

So say I want to take every combination of Location, product type and customer type that have a total Sales greater than 20 (as an example), and across all time periods, and all preferable some unique way to identify each combination. So For the above I would get the above:

 

|Location|Product\_Type|Customer\_Type|Time\_Period|Sales|SomeUniqueIdentifier|
|:-|:-|:-|:-|:-|:-|
|America|ItemA|Large|1|10|1|
|America|ItemA|Large|2|15|1|
|America|ItemC|Small|1|16|2|
|America|ItemC|Small|2|11|2|

&amp;#x200B;

I've eventually built up through googling to the following query which looks to achieve what I want, but I wondering is there any better/more efficient way to do it?

    with my_CTE as 
    (
    select *, dense_rank() over(order by Location,Product_Type,Customer_Type) as SomeUniqueIdentifier from MyTable
    
    )
    
    
    select * from my_CTE
    where 
    SomeUniqueIdentifier in
    (
    select SomeUniqueIdentifier 
    from
    (
    select sum(Sales) as Sales,SomeUniqueIdentifier from my_CTE
    group by SomeUniqueIdentifier
    ) t1
    where Sales &gt; 20
    )

Thank You!",learnSQL,Most Efficient way to take categorical combinational With Total Sum Greater Than.,1.0,https://www.reddit.com/r/learnSQL/comments/l22t30/most_efficient_way_to_take_categorical/
68,realtrevorfaux,1611261889,l27bob,6,1,"It's not you... it's SQL

* The hardest part isn't the SQL, it's the data model 
* Mastering SQL is only a small part of your job
* Make a list, take tiny steps
* If you're stuck, Google the heck out your problem—and ask for help
* Find a friendly dev and ask for help
* Create a quick and dirty cookbook
* Write SQL knowing that you'll need to change it in six months
* Where you can, hide the weird stuff
* For internal databases, think about asking for a sandbox

[https://blog.panoply.io/how-to-get-comfortable-with-sql](https://blog.panoply.io/how-to-get-comfortable-with-sql)",learnSQL,How To Nail Your New Year's Resolution To Actually Learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/l27bob/how_to_nail_your_new_years_resolution_to_actually/
69,workingtrot,1611272586,l2axao,2,1,"    SELECT * FROM dbo.Orders
    	WHERE (ShipCountry='Germany'
    	OR	ShipCountry='France')
    	AND EmployeeID=1;

Gives 28 rows that meet the criteria where Employee ID = 1 and the country is either Germany or France

However, 

&amp;#x200B;

    SELECT * FROM dbo.Orders
    	WHERE ShipCountry='Germany'
    	OR ShipCountry='France'
    	AND EmployeeID=1;

Gives all the rows where  the country is Germany, regardless of Employee, and also the rows where country=France and employee = 1.  So it's almost like there's some default parens around 

    shipcountry='France' AND EmployeeID=1

The video I'm watching just says that it processes the statements in order of precedence but doesn't elaborate further. How is precedence determined? How do you know when you need to use the parens around filtering statements?",learnSQL,What's the difference between these 2 queries? Why doesn't AND clause work without parens?,1.0,https://www.reddit.com/r/learnSQL/comments/l2axao/whats_the_difference_between_these_2_queries_why/
70,mister_patience,1611326646,l2p45e,4,1,"I have two columns in a table - date and ice cream ordered. I'd like to do a group by so that I can show 

Year     Strawberry Ice Cream     Chocolate Ice cream

&amp;#x200B;

With the year under year, obvs, and the count of orders under choc and strawb respectively.

&amp;#x200B;

Is that possible? I can get it to do one for strawb or choc \[below\], but can I get both together?

&amp;#x200B;

  

    WHERE
    ice_cream = 'Strawberry'
    AND date_part('year', order_date) IN ('2000','2001','2002','2003','2004','2005','2006','2007','2008','2009','2010',
    '2011','2012','2013','2014','2015','2016','2017','2018','2019')
    GROUP BY
    date_part('year', order_date)
    ORDER BY
    date_part('year', order_date)",learnSQL,Group by - but two columns output instead of one?,1.0,https://www.reddit.com/r/learnSQL/comments/l2p45e/group_by_but_two_columns_output_instead_of_one/
71,rzepeda1,1611440795,l3m6ct,0,1,"Hi there im pretty new to SQL query and im trying to get one working. 

https://preview.redd.it/1hhtmbbrq5d61.png?width=652&amp;format=png&amp;auto=webp&amp;s=00de0b059462a54a30de10c668842bcc4862ebb7

SELECT  \* FROM \[Sheet1$\] WHERE ""Id""=%prop(""Element ID"",""Value"");

&amp;#x200B;

The  thing is that the query only works if i set the data type in excel for the column Id to ""Text"" but if i leave it as ""General""(thats the default since the files come from another script) it wont work. 

the prop Element ID is a string 

i know there is Cast and Convert but not sure how to use them to make it work",learnSQL,Excel data SQL Query,1.0,https://www.reddit.com/r/learnSQL/comments/l3m6ct/excel_data_sql_query/
72,ktbffh12,1611440940,l3m823,0,1,"**EXPLAIN ANALYZE** was recently introduced for MYSQL but it only seems to work with **SELECT**  
. I am trying to find a similar command for **INSERT**  
which would print some insertion related statistics for each row that as it is inserted.

The following command does not work, but I am looking for a substitute for this.

    EXPLAIN ANALYZE INSERT INTO table FROM &lt;table&gt;(col1, col2) values(val1, val2)  

For some context, I am trying to insert into an AWS RDS MYSQL database using python and am looking to generate some insertion related metrics. Does it make sense to time each insertion command using python? What are some other ways of doing this?",learnSQL,EXPLAIN ANALYZE and other insertion related stats for INSERT command in MYSQL (8.0.20),1.0,https://www.reddit.com/r/learnSQL/comments/l3m823/explain_analyze_and_other_insertion_related_stats/
73,alex123711,1611471693,l3ulqc,1,1,Anywhere to find some advanced ERD questions with worked through solutions?,learnSQL,Advanced ERD questions and solutions?,1.0,https://www.reddit.com/r/learnSQL/comments/l3ulqc/advanced_erd_questions_and_solutions/
74,iwiik,1611489949,l3y9gg,0,1,"I wanted to understand how to write trigger in different DBMSs. For this purpose, I read the definition of a trigger in the SQL Standard ([syntax](https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#_11_49_trigger_definition) &amp; [description](https://crate.io/docs/sql-99/en/latest/chapters/24.html)), and the PostgreSQL, MySQL, and SQLite documentation. I already knew how triggers work in Oracle, so I haven't read Oracle documentation.

Then I made notes that are quite complete and concise at the same time, marking similarities and differences in DBMSs: [https://github.com/iwis/Trigger-notes](https://github.com/iwis/Trigger-notes).

Can I get a feedback? Are my notes readable and useful for others? Which parts are not readable? Do you see any errors? Should I add some important information, or can I remove some information that isn't useful?

Do you know books, articles, or blogs that are similarly concise and complete?

**Edit**: I'm reposting this, because I have made a PDF file from the previously posted photo of my notes.",learnSQL,"Triggers in PostgreSQL, MySQL, Oracle, and SQLite - the complete and concise comparison",1.0,https://www.reddit.com/r/learnSQL/comments/l3y9gg/triggers_in_postgresql_mysql_oracle_and_sqlite/
75,iwiik,1611505457,l42g4i,0,1,"I wanted to understand how to write trigger in different DBMSs. For this purpose, I read the definition of a trigger in the SQL Standard ([syntax](https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#_11_49_trigger_definition) &amp; [description](https://crate.io/docs/sql-99/en/latest/chapters/24.html)), and the PostgreSQL, MySQL, and SQLite documentation. I already knew how triggers work in Oracle, so I haven't read Oracle documentation.

Then I made notes that are quite complete and concise at the same time, marking similarities and differences in DBMSs.

Can I get a feedback? Are my notes readable and useful for others? Which parts are not readable? Do you see any errors? Should I add some important information, or can I remove some information that isn't useful?

Do you know books, articles, or blogs that are similarly concise and complete?

A description of used symbols and additional notes are at: [https://github.com/iwis/Trigger-notes](https://github.com/iwis/Trigger-notes).

https://preview.redd.it/unff06kf3bd61.png?width=4956&amp;format=png&amp;auto=webp&amp;s=680be0c1589aed95c16bfbff6ba0a9dd1cc65f11

**Edit**: I'm reposting this, because I have made a PDF file from the previously posted photo of my notes.",learnSQL,"Triggers in PostgreSQL, MySQL, Oracle, and SQLite - the complete and concise comparison",1.0,https://www.reddit.com/r/learnSQL/comments/l42g4i/triggers_in_postgresql_mysql_oracle_and_sqlite/
76,oschka-the-first,1611522124,l47izz,0,1,"I have a java Program in which I have a list that stores lists that each store the same amount of numbers.  Now, I want to store those numbers in the same table but each list should have their own column. 

If I go through those lists and store the data with a normal insert statement the problem is that instead of going to the first row in the new column it just continues from the row, where the previous column ended. 

Is there a way how I can store the numbers in their respective columns with the all starting from the top?

Help would be greatly appreciated",learnSQL,Inserting in first row,1.0,https://www.reddit.com/r/learnSQL/comments/l47izz/inserting_in_first_row/
77,Comisaurio,1611523305,l47ye7,0,1,"I need to know How to link my work to a Data Base
It could be SQLite, Mysql, etc 
I hope you can help me ):",learnSQL,I want to link Visual to a Data Base,1.0,https://www.reddit.com/r/learnSQL/comments/l47ye7/i_want_to_link_visual_to_a_data_base/
78,JabreakittJubawdit,1611597270,l4t90a,0,1,[removed],learnSQL,Can any sql expert here help me out,1.0,https://www.reddit.com/r/learnSQL/comments/l4t90a/can_any_sql_expert_here_help_me_out/
79,JabreakittJubawdit,1611599744,l4u6sk,0,1, ,learnSQL,Can any sql expert here help me out?,1.0,https://www.reddit.com/r/learnSQL/comments/l4t90a/can_any_sql_expert_here_help_me_out/?utm_medium=android_app&amp;utm_source=share
80,JabreakittJubawdit,1611600990,l4ung8,0,1, ,learnSQL,Can any sql expert here help me out with this queries? I am confused by default condition here,1.0,https://www.chegg.com/homework-help/questions-and-answers/please-write-sql-query-following--please-help-understanding-please-provide-explanation-als-q39798695
81,Theodocius,1611623889,l52pvh,0,1, ,learnSQL,SQL Class Assignment Help,1.0,https://i.redd.it/daxsdtlovkd61.png
82,brilliantmojo,1611654861,l5axh8,0,1,"I'm learning to use MySQLi when I found myself stuck at an issue; I have a table that looks something like this:

# inventory

|ID|SKU|SUB\_SKU|QUANTITY|
|:-|:-|:-|:-|
|1|a||2|
|2|c||8|
|3|a|a1|2|
|4|d||1|
|5|b||4|
|6|a|a2|1|

How do I select all from inventory and if the column *SKU* has multiple listings only give results from the *SUB\_SKU* column \[otherwise use *SKU*\]?",learnSQL,How do I use another column if two rows in the first column checked are the same?,1.0,https://www.reddit.com/r/learnSQL/comments/l5axh8/how_do_i_use_another_column_if_two_rows_in_the/
83,gaz2600,1611764503,l681fi,0,1, ,learnSQL,Help with setting up SCCM | Creating DB Files,1.0,/r/SCCM/comments/l6723s/help_with_setting_up_sccm_creating_db_files/
84,Theodocius,1611767472,l6994q,1,1,"Hi Everyone

I'm currently trying to solve an issue revolving around summarizing a list of publishers, their total revenue, total payouts, and their net profit. What makes this slightly complicated is that the total payout is contingent on a case statement (due to having to choose between the higher value of royalties). This case statement was perfectly fine and executed in a previous query that you can see on the SQLFiddle link down below. My issue is that I have a near finished query that addresses what I need but I don't know what correction to make for it to complete. Help would be super appreciated! 

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/o267ohsblwd61.png?width=567&amp;format=png&amp;auto=webp&amp;s=0bb687abe312de5e6f78c84b70a1d4faff74ca65

&amp;#x200B;

 

The SQL fiddle is as follows : [https://dbfiddle.uk/?rdbms=mysql\_8.0&amp;fiddle=911696b1a3dfd3a9f090db2766a8e96f&amp;hide=13312](https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=911696b1a3dfd3a9f090db2766a8e96f&amp;hide=13312)

The output expected should look

This is also MySQL

&amp;#x200B;

*Processing img hob2a71alwd61...*",learnSQL,Please HELP me fix a query involving a CASE statement,1.0,https://www.reddit.com/r/learnSQL/comments/l6994q/please_help_me_fix_a_query_involving_a_case/
85,ysgrifennu,1611790732,l6hunu,4,1," Hello. I'm learning SQL, and there's this practice exercise that I don't understand. The website shows the solution, can anyone break it down for me please? I don't quite get the Group By and Having part. Like, why COUNT(\*) = 1? Thank you in advance! [http://studybyyourself.com/seminar/sql/exercises/7-1/?lang=en](http://studybyyourself.com/seminar/sql/exercises/7-1/?lang=en) 

There's a 'show solution' button under the database schema photo. they group by book.ID but i thought it would group by author. also, \* is to choose all columns, right? i thought to ensure that there's only 1 author, it would be count(author\_id) or sth related to author. can you explain it to me pls",learnSQL,Break this down for me please,0.67,https://www.reddit.com/r/learnSQL/comments/l6hunu/break_this_down_for_me_please/
86,NickT423,1611873669,l7b8tq,2,1,"Hello,

I have defined variables to retrieve a range of filmIds from my film table by using a while loop. My question is how would I use this code in a stored procedure so that I can define the variables when I call the procedure?

For instance I want to just be able to do this
EXEC spCallWhileLoop 
@Maxloop = 8,
@LoopCounter = 1


Feel free to edit the code directly in the link. Thanks in advance


[Link to my code](https://www.codepile.net/pile/4EqqG3Ey)",learnSQL,Using while loop in stored procedure,1.0,https://www.reddit.com/r/learnSQL/comments/l7b8tq/using_while_loop_in_stored_procedure/
87,ditdiritdidiit,1611996546,l8hm5c,4,1,"Guys, I've been using same sql database for over 5 years on accounting program.

If I use a new database, does performance increase due to low data? Even not getting reports.",learnSQL,Performance issue on big database,1.0,https://www.reddit.com/r/learnSQL/comments/l8hm5c/performance_issue_on_big_database/
88,Electronic-Touch6131,1612029148,l8r83s,3,1," hello!

im taking an intro to SQL class this semester and have a homework assignment due but have no clue whats going on. I'm willing to pay $30 to anybody whos willing to help me work through the assignment! should be easy and not take more than 30 min as it is the first homework. Please dm me or comment in this post",learnSQL,HELP! hw assignment due in an hour ($30 compensation!),1.0,https://www.reddit.com/r/learnSQL/comments/l8r83s/help_hw_assignment_due_in_an_hour_30_compensation/
89,sleepysmol78,1612054596,l90ivn,2,1,"I have a dataset that has a column called ""DOI"" that has the DOIs of articles on a website. I wrote a query that isolates the articles that have a DOI for a particular month and it worked:  
SELECT DOI FROM scraped\_data\_all WHERE DATE &gt;='2018-09-01' AND DATE &lt;='2018-09-30' AND DOI IS NOT NULL;  


Now, here's my issue. I need to write a query that will change all those DOIs to ""Y"", meaning that yes, there is a DOI, but doesn't actually show the DOI itself. This is because within the dataset, if there is no DOI, it just says ""N"". I wrote this but it is not working:  


SELECT DOI FROM scraped\_data\_all WHERE DATE &gt;='2018-09-01' AND DATE &lt;='2018-09-30' IF DOI IS NOT NULL REPLACE WITH 'Y';

Is there a way to write this query, or is this something I would need to use Python for?",learnSQL,Stuck trying to write a query. Is what I'm trying to do possible?,1.0,https://www.reddit.com/r/learnSQL/comments/l90ivn/stuck_trying_to_write_a_query_is_what_im_trying/
90,[deleted],1612093941,l9avyt,0,0,[deleted],learnSQL,help me solve this query. please.,0.5,https://www.reddit.com/r/learnSQL/comments/l9avyt/help_me_solve_this_query_please/
91,[deleted],1612098726,l9c1e8,2,0,[deleted],learnSQL,Hello does this query works?,0.5,https://www.reddit.com/r/learnSQL/comments/l9c1e8/hello_does_this_query_works/
92,[deleted],1612111537,l9g3c4,0,1,[deleted],learnSQL,Taking a college class on structured databases and am stuck and professor is....unhelpful,1.0,https://www.reddit.com/r/learnSQL/comments/l9g3c4/taking_a_college_class_on_structured_databases/
93,crouchingcrowe,1612139230,l9q76v,20,8,Recently accepted a job as a business intelligence analyst and want to refresh/advance my SQL skills and resources. I'm currently enrolled in a Udemy and Datacamp course but want to confirm I'm not missing any online sources?,learnSQL,Looking to learn SQL asap,0.8,https://www.reddit.com/r/learnSQL/comments/l9q76v/looking_to_learn_sql_asap/
0,iwaterboardoldpeople,1606903218,k56jm8,2,1,"I have this code:

    CASE`type`
        WHEN '20 Dry' then '20ftdc'
        WHEN '40 Dry' then '40ftdc'
    END as 'b'

I want to use IN('20 Dry', '20 cDry', '20 vxDry') then convert it to '20ftdc'. How can I incorporate it with my CASE? I tried plugging it directly like this:

    CASE`type`
        WHEN IN('20 Dry', '20 cDry', '20 vxDry')  then '20ftdc'
    END as 'b'

But I got an error. It's MariaDB.",learnSQL,Using CASE and IN together?,1.0,https://www.reddit.com/r/learnSQL/comments/k56jm8/using_case_and_in_together/
1,Blanco04,1606904054,k56pj7,2,1,I was just wondering if anyone can suggest me some good resources for window function and subqueries,learnSQL,Window functions and subqueries,1.0,https://www.reddit.com/r/learnSQL/comments/k56pj7/window_functions_and_subqueries/
2,Nicholas_TW,1606935788,k5ftak,2,1,"Let's say a company has a project assigned on '2020-12-7' (a Monday), and they're told they have 8 days to get it done. The company doesn't work on weekends, so that means the due date isn't 7+8 (the 15th, a Tuesday), but rather the 18th (a Thursday).

The common solution I've seen is ""If it ends on a Saturday, add 2; if it ends on a Sunday, add 1."" But that only helps me if I *END* the calculation on a weekend. In the above example, the numbers are still off.

&amp;#x200B;

Does anyone have any idea whatsoever on how I can calculate the end date based on a start date and the number of days out, not counting weekends as 'days'?",learnSQL,SQL Server: How to skip weekends when using DATEADD?,1.0,https://www.reddit.com/r/learnSQL/comments/k5ftak/sql_server_how_to_skip_weekends_when_using_dateadd/
3,xclhalp,1607097390,k6ni4t,1,1," 

I want to pull IDs from the most recent quarter (which would be 2020Q3 in this example). My query along with current and desired output is below.

Use Database1

Select [Roster.ID](https://roster.id/), Max(Roster.Quarter)

From: BeneficiaryHelper ROSTER

Group by

[Roster.ID](https://roster.id/)

My current output:

📷

Desired output:

📷",learnSQL,How to pull rows based on max date of a column,1.0,https://www.reddit.com/r/learnSQL/comments/k6ni4t/how_to_pull_rows_based_on_max_date_of_a_column/
5,mrsystem101,1607195586,k7dmnr,1,1, ,learnSQL,Pivoting Data In SQL Server - What Does It Mean?,1.0,https://www.youtube.com/watch?v=xAIVJ4d_CPA&amp;feature=share
6,xJoe16,1607286744,k81fsf,10,1,"Hi all, 

I have the following table: 

    CREATE TABLE ratings ( 
        customer_id CHAR(10),
        model CHAR(4),
        rating INTEGER, 
        rating_time TIMESTAMP
    );

However, I need a trigger/ON UPDATE statement where if the rating attribute from a row in this table is changed, then a new row with the original customer\_id, original model, updated rating and current\_timestamp is inserted. This means the data will have a row for both the original rating and a row for the updated rating attribute.

What's the best way to go about this?",learnSQL,Insert Row into same table on update?,1.0,https://www.reddit.com/r/learnSQL/comments/k81fsf/insert_row_into_same_table_on_update/
7,rimon34,1607319898,k8aquh,0,1, ,learnSQL,Applying Software Engineering Principles To Your Data Science Tasks In Python,1.0,https://youtu.be/N0aHeKyNEto
8,Tigriqkym1,1607354593,k8ij98,19,1,"[Short] 

Hello all


I'm a student learning SQL for my database class, i have a project due, in which i need to create a ERD about a certain need or topic, like a library sistem or such, i have to explain what i am doing in 500 or 600 words, and then do a diagram of it

So what im asking for is ideas on what to do it on ?

Thank You for reading",learnSQL,Need ideas for SQL project,1.0,https://www.reddit.com/r/learnSQL/comments/k8ij98/need_ideas_for_sql_project/
9,Nicholas_TW,1607376339,k8pvag,1,1,"Let's say I have table TARGET:

|NonUniqueID|Info|Created|
|:-|:-|:-|
|'foo'|1|1/1/2011|
|'bar'|2|1/1/2011|
|'bebarbe'|3|2/2/2020|

And table SOURCE:

|NonUniqueID|Info|Created|
|:-|:-|:-|
|'foo'|45|3/3/2030|
|'bar'|55|3/3/2030|

...And I wanted to merge SOURCE into TARGET, so that the 'bar' entry in SOURCE only replaced the most recently-created entry in TARGET, how would I set up that MERGE statement?

Right now my code looks something like...

    MERGE INTO TARGET
    USING SOURCE
    
    ON TARGET.NonUniqueID = SOURCE.NonUniqueID
    WHEN MATCHED THEN UPDATE
        SET TARGET.Info = SOURCE.Info
        WHERE TARGET.Created = -- (SELECT MAX(Created) FROM TARGET WHERE NonUniqueID = NonUniqueID ???)

Would something like that work? Or is there a better way to say 'Only update the row(s) with the maximum Created ID for a given NonUniqueID'?",learnSQL,SQL Server: How to Merge using the most recently-created entry for a given criteria?,1.0,https://www.reddit.com/r/learnSQL/comments/k8pvag/sql_server_how_to_merge_using_the_most/
10,vhpoet,1607444981,k97d5k,16,1, ,learnSQL,Best SQL Books (see comments for the list),1.0,https://i.redd.it/tk4adt6ppz361.png
11,zooloos007007,1607451618,k99mg0,2,1,"Good day, quick question, I can not find clear answer, if I want to install SQL server 2019 on 2/16cores CPU hardware, I will install windows server 2019 first on VM, Do I need to license Windows Server AND SQL server and each of them for 32 cores??? Or I license 32 cores on SQL only? If I licence 16 cores on Server 2019 and 32 cores on SQL will SQL be restricted to 16 cores only?",learnSQL,SQL licensing question.,1.0,https://www.reddit.com/r/learnSQL/comments/k99mg0/sql_licensing_question/
12,JoshBurnsTech,1607462200,k9d8sk,1,1, ,learnSQL,T-SQL Script to Set all User Databases to Simple Recovery Model,1.0,https://joshburnstech.com/2020/10/t-sql-script-to-set-all-user-databases-to-simple-recovery-model/
13,nowwhoyouthink,1607469351,k9fj6f,2,1,"Explain how views can be used to ensure 

·  **privacy** of  data

·  **security** of data.",learnSQL,A teacher asked me this question the other day and I can't really understand what the answer was. Any help?,1.0,https://www.reddit.com/r/learnSQL/comments/k9fj6f/a_teacher_asked_me_this_question_the_other_day/
14,bearwardenx,1607517976,k9r87x,0,1,"Hi, why does this query work but the one below it does not?

    (works)
    SELECT starttime FROM bookings WHERE date(starttime) = '2012-09-21'

    (does not work)
    select starttime, name
    from cd.bookings 
    join cd.facilities on cd.bookings.facid = cd.facilities.facid
    where date(starttime) = '2012-09-21';

I'm trying to learn SQL and would help any insight into why the query above fails. Thank you!",learnSQL,Why does this query not work?,1.0,https://www.reddit.com/r/learnSQL/comments/k9r87x/why_does_this_query_not_work/
15,Artistic_Mix_3076,1607524009,k9sqw1,5,1,"1.Display the First Name, Last Name of each customer along with the First Name and Last Name of their support rep. Give the support rep the appropriate alias. Sort the results by customer last name then first name.

2.  Display the track name, genre name, and mediatype name for each track in the database. Alias all columns and sort by track name in reverse alphabetical order.

3. Display the first name and last name of each customer along with the name of each track that they have purchased and the date the track was purchased on. Sort the results by customer last name, then first name, then name of the track.

4. Display the first name and last name of each employee along with the first name and last name of their respective manager. Alias all columns and sort by manager last name, then employee last name.

5. Display the name of the artist and the total number of albums the artist has available for sale. Call the first column Artist and the second ""Num of Albums"". Sort by number of albums in reverse order, then by artist name.

6. Display the name of each track along with the name of the album it’s from and the name of the artist who performs it. Name all columns as in screenshot and sort by artist, album, then track.

7. Display the first name and last name of each customer along with the various types of media that they have purchased. Put a label on each column and sort by last name, first name, then media.

8. Display the Invoice id, invoice date, total invoice item quantity, and the first and last name of the customer who made the purchase. Put a label on each column and sort by last name, first name, and total invoice amount in descending order.",learnSQL,Have a issue with these inner join queries help would be appreciated,1.0,https://www.reddit.com/r/learnSQL/comments/k9sqw1/have_a_issue_with_these_inner_join_queries_help/
16,RocoDeNiro,1607543484,k9z5yn,2,1,"Hello,

I was wondering if anyone knew of a udemy course that uses adventure works or northwind throughout the video. I have already started playing around with data that I currently have but want to start using a real database to get a better grasp on everything.

&amp;#x200B;

Thank you,",learnSQL,Adventure works or northwind database Udemy video,1.0,https://www.reddit.com/r/learnSQL/comments/k9z5yn/adventure_works_or_northwind_database_udemy_video/
17,xclhalp,1607551389,ka1rzk,6,1, ,learnSQL,How to summarize by date?,1.0,https://i.redd.it/xa1802e3i8461.png
18,SpatialThoughts,1607557568,ka3okm,1,1,"I just join this sub because in my current job search I am finding a lot of the positions I am applying for (research associate) have a preference for knowledge of SQL. Even though it is not a requirement, I see the benefit of learning this to put me ahead of other applicants. Another thread with book recommendations had a few people mention SQL in 10 minutes a day to get started. I went and ordered that but in the introduction it recommends also reading a good book about the fundamentals of databases. I'm a bit of an overachiever and like to really understand what I'm learning both functionally and conceptually so now I'm looking for a good book to supplement my learning in the theory and fundamentals. My educational background is a bachelors in psychology so something for a complete beginner would be ideal. Thanks :)",learnSQL,Recommendation for book on database fundamentals,1.0,https://www.reddit.com/r/learnSQL/comments/ka3okm/recommendation_for_book_on_database_fundamentals/
19,setuc,1607612179,kago47,0,1,[removed],learnSQL,A simple game to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/kago47/a_simple_game_to_learn_sql/
20,xJoe16,1607631774,kanay3,10,1,"Hi all.

This SELECT statement:

    SELECT * FROM ratings WHERE customer_id = 9999999999 ORDER BY rating_time DESC

Outputs the following table:

    customer_id  model  rating rating_time 
    9999999999   1001    5     2020-12-10 14:36:17
    9999999999   1001    3     2020-12-10 14:36:27
    9999999999   2004    4     2020-12-10 14:37:16

As you can see, there are two rows with the same customer\_id and model. I only want to return the record with has the most recent rating\_time. I tried using GROUP BY model but it only returns the record model which appears first in the table. What is the best way to achieve this? I assume using a Function but I'm not 100% sure if it can be done using SELECT statement.",learnSQL,Return most recent record if duplicate values,1.0,https://www.reddit.com/r/learnSQL/comments/kanay3/return_most_recent_record_if_duplicate_values/
21,Nicholas_TW,1607642404,kaq7g6,3,1,"Let's say I want to left join table Foo to table Bar on columns colA and colB. However, sometimes column colB is NULL. If that's the case, I JUST want to join on column colA, instead of requiring both to match.

How can I do this?

I imagined it would be something like...

    SELECT * FROM Foo F
    LEFT JOIN Bar B
        ON (F.colA = B.colA
        AND F.colB = B.colB)
        OR (F.colA = B.colA)

...Except, the above leads to situations where both columns match, and I get duplicate results.

Is there a way to tell my program something like...

    LEFT JOIN Bar B
        IF F.colB IS NOT NULL
            ON F.colA = B.colA AND F.colB = B.colB
        ELSE
            ON F.colA = B.colA

?",learnSQL,How to do conditional joins?,1.0,https://www.reddit.com/r/learnSQL/comments/kaq7g6/how_to_do_conditional_joins/
22,RichWinner5,1607647900,kary9e,0,1,"Hi guys,

I recently got my AWS Cloud Practitioner and Solutions Architect Certifications and I made some notes along the way that helped me prepare. I've designed a blog series dedicated to the whole thing. If anyone is interested, check it out. [Blog Link](https://hemamurhtyportfolio.wordpress.com/2020/12/09/aws-solutions-architect-certificate-part-1-s3/) Thanks ✌",learnSQL,AWS Solutions Architect Study Guide Series,1.0,https://www.reddit.com/r/learnSQL/comments/kary9e/aws_solutions_architect_study_guide_series/
23,MobAppDev,1607652765,katek9,2,1,"Using SQL Developer, I’m running a query that calculates age

SELECT Name, floor(months_between(sysdate,birthday)/12) as Age
FROM ListofPeople;

If I want another column that defines any age &gt;= 65 as ‘Old’ and all other ages as ‘Young’ without altering the table, how would I do so?",learnSQL,How to create a column in a query without altering a table?,1.0,https://www.reddit.com/r/learnSQL/comments/katek9/how_to_create_a_column_in_a_query_without/
24,TheBlackPopeOP,1607698050,kb4468,1,1,"I'm trying to update a table through phpMyAdmin, but my SQL isn't working. My table has 2 columns, here they are copied directly from phpMyAdmin:`intCorporateSponsorshipTypeID, strCorporateSponsorshipType`. Below is the SQL code I'm trying to run:

    UPDATE TEventCorporateSponsorshipTypes
    SET strCorporateSponsorshipType = 'Logo on T-Shirt'
    WHERE intCorporateSponsorshipTypeID = 7

This results in  `#1054 - Unknown column 'intCorporateSponsorshipTypeID' in 'where clause'`. The problem is that this column exists and is spelled correctly. I even typed it using phpMyAdmin's intellisense. Despite matching exactly, I still get the error. Why is this happening, and how can I fix it? 

Thanks for any help, I really appreciate it :)",learnSQL,"MySQL: Unknown column in WHERE clause, but column exists",1.0,https://www.reddit.com/r/learnSQL/comments/kb4468/mysql_unknown_column_in_where_clause_but_column/
25,mestitomi,1607700278,kb4sbj,4,1, ,learnSQL,SQL best practices - 7 tips for beginners,1.0,https://youtu.be/SrwB-nInhUA
26,deguza,1607741510,kbh92k,5,1,"Hello all,

I have a query to find the sum of ""Lenght of Stays"" in days for guests at several motels under one management.

With the raw data in Excel, I am able to get the right sums. 

However, my query does not seem to work.  

It is the first time I am using the SUM function. 

What am I doing wrong?

&amp;#x200B;

Thanks! 

Deguza

&amp;#x200B;

    SELECT       
    DISTINCT
    	CASE			
    		WHEN	MOTEL_LOCATION_CODE='L-01' THEN	'HORIZON'
    		WHEN	MOTEL_LOCATION_CODE='L-02' THEN	'ALBATROS'
    		WHEN	MOTEL_LOCATION_CODE='L-03' THEN	'MARIPOSA'
    		WHEN	MOTEL_LOCATION_CODE='L-04' THEN	'AUBURN'
    		WHEN	MOTEL_LOCATION_CODE='L-05' THEN	'YOLO'
    		WHEN	MOTEL_LOCATION_CODE='L-06' THEN	'THE HILL'
    		ELSE	'-'	
    	END							AS 'Motel'	
    
    	, SUM(DATEDIFF(DAY, AdmitDate, 
    		(CASE
    			WHEN DischargeDate IS NULL	THEN '2020-09-30'
    			ELSE DischargeDate 
    		END )))						AS Length_of_Stay
    
    FROM 
    	[dbo].[1003_Guests_Stays]
    
    WHERE 
    	[AdmitDate] BETWEEN '2020-01-01' and '2020-09-30'
    	AND
    	[DischargeDate] &gt; '2020-06-30'
    	AND
    	MOTEL_LOCATION_CODE in ('L-01','L-02','L-03','L-04','L-05','L-06')
    
    GROUP BY 
    	CASE
    		WHEN	MOTEL_LOCATION_CODE='L-01' THEN	'HORIZON'
    		WHEN	MOTEL_LOCATION_CODE='L-02' THEN	'ALBATROS'
    		WHEN	MOTEL_LOCATION_CODE='L-03' THEN	'MARIPOSA'
    		WHEN	MOTEL_LOCATION_CODE='L-04' THEN	'AUBURN'
    		WHEN	MOTEL_LOCATION_CODE='L-05' THEN	'YOLO'
    		WHEN	MOTEL_LOCATION_CODE='L-06' THEN	'THE HILL'
    		ELSE	'-'
    	END",learnSQL,Q: Query to find the sum,1.0,https://www.reddit.com/r/learnSQL/comments/kbh92k/q_query_to_find_the_sum/
27,TheBlackPopeOP,1607785151,kbqez0,1,1,"I have a list of state abbreviations that appears on a form. I need to populate a dropdown menu with the list, but I need to have a specific state pre-selected in the dropdown when the page loads. 

The code I currently have is this:

    SELECT TGolfers.intStateID, strState 
    FROM TGolfers, TStates 
    WHERE TGolfers.intStateID = TStates.intStateID AND intGolferID ="" . $_GET[""ID""]

but that only returns a single state. I need the entire list of states with the appropriate state pre-selected. Is this possible? How can I do it?

Thanks for any help, I really appreciate it :)",learnSQL,How to populate dropdown menu from database with specific option pre-selected?,1.0,https://www.reddit.com/r/learnSQL/comments/kbqez0/how_to_populate_dropdown_menu_from_database_with/
28,ScriptRestored,1607817007,kbzudt,1,1,"I am working on project for my db class, and I have a Train, Schedule and Reservation entity.

The Reservation needs to reference Schedule, and Schedule needs to reference the Train. 

The part that I am trying to resolve is that the Reservation needs to know the TrainID that runs the schedule. I don't want to have a separate relation from Reservation to Train, but I can't figure out how to do this without making TrainID a primary key of Schedule. 

Is there a way I can pack extra key information into Reservation's foreign key that references Schedule, so that it can also reference the Schedule's trainID even though it is not apart of Schedule's primary key? Ty.

&amp;#x200B;

Train:

primary key: TrainID

&amp;#x200B;

Schedule:

primary key: TransitLineName, DepartureTime

foreign key: TrainID references Train(TrainID)

&amp;#x200B;

Reservation:

primary key: Reservation Number

foreign key: TransitLineName, DepartureTime references Schedule(TransitLineName, DepartureTime)

**//I'm trying to get something like foreign key(TrainID) references Schedule(trainID)**",learnSQL,Attempting to chain foreign keys,1.0,https://www.reddit.com/r/learnSQL/comments/kbzudt/attempting_to_chain_foreign_keys/
29,abuab75,1607879067,kce5e5,2,1,Please Would any one suggest me procedure for installing sql software on my Windows 7 pc.,learnSQL,Sql,1.0,https://www.reddit.com/r/learnSQL/comments/kce5e5/sql/
30,Dark_Suzaku,1607902456,kcljp0,3,1,"I'm working on an assignment for school and the question is as follows:

""One of the purchasing managers is interested in the impact of product prices on the sale of products of each brand. Write a query to display the brand name, brand type, average price of products of each brand, and total units sold of products of each brand. Even if a product has been sold more than once, its price should only be included once in the calculation of the average price. However, you must be careful because multiple products of the same brand can have the same price, and each of those products must be included in the calculation of the brand’s average price.""

Now, I've put in the coding sequence for this at least 50 times and I have been presented with the same error over and over.

""Traceback (most recent call last):
  File ""nt-test-488a7919"", line 19, in &lt;module&gt;
    assert(str(results[0]['Units Sold']) == '3753')
AssertionError""

Here is my coding sequence:

SELECT BRAND_NAME, BRAND_TYPE, ROUND(AVGPRICE,2) AS 'Average Price','Units Sold'
FROM (LGBRAND AS b INNER JOIN (SELECT BRAND_ID, AVG(PROD_PRICE) AS AVGPRICE FROM LGPRODUCT GROUP BY BRAND_ID) AS sub1 ON b.BRAND_ID = sub1.BRAND_ID) INNER JOIN (SELECT BRAND_ID, SUM(LINE_QTY) AS 'Units Sold' FROM LGPRODUCT p INNER JOIN LGLINE l ON p.PROD_SKU = l.PROD_SKU GROUP BY BRAND_ID) AS sub2 ON b.BRAND_ID = sub2.BRAND_ID
ORDER BY BRAND_NAME;

The problem lies within the columns, but I am not sure how to go about fixing it. I've tried to find solutions everywhere and everything I have found has not helped me figure this out. If I don't get the error message above, I get this one:

sqlalchemy.exc.NoSuchColumnError: ""Could not locate column in row for column 'Units Sold'""

Any and all help would be appreciated. I can't even get my professor to give me some sort of attention on this.",learnSQL,"SQL Error ""No Such",1.0,https://www.reddit.com/r/learnSQL/comments/kcljp0/sql_error_no_such/
32,3rdtimecharm3,1607969532,kd2xcp,1,1,"This is from SQL Queries for Mere Mortals, chapter 11. The question is: ""List all the bowlers who have a raw score that’s less than all of the other bowlers on the same team""

Here's a sample of the data: https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=293e2f5b08676d7110a0b38bfe07ffc9

I only managed to come up with a query that calculates the raw scores for each member in a team:
    select bowler_scores.bowlerid, sum(Rawscore), teams.TeamID
    from Bowler_Scores
    INNER JOIN Bowlers on bowler_Scores.BowlerID = 
    Bowlers.BowlerID
    INNER JOIN teams on Bowlers.TeamID = Teams.TeamID
    group by bowler_scores.BowlerID, teams.TeamID

but I have no idea how to then solve the question. 

Any help would be appreciated. Thanks",learnSQL,Comparing individual score to all other scores in a database,1.0,https://www.reddit.com/r/learnSQL/comments/kd2xcp/comparing_individual_score_to_all_other_scores_in/
33,FabienHerfray,1608025856,kdiw6z,0,1,"Many people use db indexes as black boxes. And articles explaining them are often extremely technical.

I tried to fit everything in a more “general knowledge” format 😊👇

[https://fabien.herfray.org/posts/mastering-postgres-indexes-in-10-minutes/](https://fabien.herfray.org/posts/mastering-postgres-indexes-in-10-minutes/)",learnSQL,Mastering Postgres indexes in 10 minutes,1.0,https://www.reddit.com/r/learnSQL/comments/kdiw6z/mastering_postgres_indexes_in_10_minutes/
34,pknerd,1608054436,kdqfvv,7,1,"I am trying to improve the existing code where the data is being returned from a  parent/child relationship that is the first query have a WHERE clause against a number which returns \`parent\_id\`. The query is run again but this time against the values of \`parent\_id\` returned from the first one. So far so good, I was able to prepare a nested query to do that but later got stuck at a place where the data of one column from inner query was being displayed on-page. Now I am trying everything but not finding any clue how to do it. The query in the subject is given below:

&amp;#x200B;

    select description,catalog from catalog_category_flat_store_1
    where entity_id IN (
    select parent_id
    FROM (
     SELECT entity_id,description,parent_id,catalog //have to show catalog and description from here on parent 
     FROM catalog_category_flat_store_1 
     WhERE entity_id IN (1403,1506,1615,1704,1780,1879,1986)
    ) as T
    )

I guess IN query is creating all the issue but I am clueless how else I filter the outer query against \`parent\_id\`",learnSQL,How to refer subquery column in the outer query in MYSQL,1.0,https://www.reddit.com/r/learnSQL/comments/kdqfvv/how_to_refer_subquery_column_in_the_outer_query/
35,MelonSpongeBoB,1608070904,kdvz2n,1,1,Thanks,learnSQL,What is the correct order of keywords for SQL select statement?,1.0,https://www.reddit.com/r/learnSQL/comments/kdvz2n/what_is_the_correct_order_of_keywords_for_sql/
36,alexsinani,1608129564,keacqo,6,1," Why do we need to be able to create Cartesian Products when we work with relational databases, and what property of the relationships in a relational database schema means that this operator is needed?",learnSQL,Can somebody explain a cartesian join?,1.0,https://www.reddit.com/r/learnSQL/comments/keacqo/can_somebody_explain_a_cartesian_join/
37,Kush3112,1608132897,kebc5p,3,1,"I need to find the total amount of all Paul Browns orders.
How would I go about doing this?

https://ibb.co/SdM23Xc",learnSQL,How to find the total amount,1.0,https://www.reddit.com/r/learnSQL/comments/kebc5p/how_to_find_the_total_amount/
38,yeayem,1608141370,kee3us,1,1,"Hi, I'm new to SQL and want to learn how to work on spatial data, find the distance between locations similar to what we see in a property search website where the suburb also shows schools, hospitals, and other important things in a radius. Could anyone please refer to me any resources I Can refer to or buy courses online which could help me?

&amp;#x200B;

Thanks in advance",learnSQL,I want to learn to work on spatial data on SQL,1.0,https://www.reddit.com/r/learnSQL/comments/kee3us/i_want_to_learn_to_work_on_spatial_data_on_sql/
39,h4k01n,1608143539,keeu1q,8,1,"I have a table of products and sub-products which looks like this, `products`:

    | backend | sub_product | product |
    |---------|-------------|---------|
    | conn_go | go_update   | prod_go |
    | conn_go | go_delete   | prod_go |
    | conn_go | go_edit     | prod_go |
    | conn_rv | rv_update   | prod_rv |
    | conn_mb | mb_update   | prod_mb |
    | conn_mb | mb_delete   | prod_mb |
    | conn_mb | mb_edit     | prod_mb |
    | conn_pr | pr_update   | prod_pr |
    | conn_pr | pr_edit     | prod_pr |
    | conn_ct | pol_edit    | null    |
    ....
    ....

I then have a second table - `usage`, which records how many times a `product` has been used. Note that not every product may be in the `usage` table as it's possible that an `id` has no usage at all, in which case there would be no row. Also this table is the output of a subquery rather than an actual table but I don't think that makes a difference to the problem.


    | x_id | product | usage |
    |------|---------|-------|
    | 1    | prod_go | 342   |
    | 1    | prod_mb | 54345 |
    | 1    | prod_eb | 453   |
    | 2    | prod_go | 534   |
    | 3    | prod_rv | 65    |
    | 4    | prod_go | 754   |
    | 4    | prod_rv | 452   |
    | 4    | prod_mb | 2457  |
    | 4    | prod_pr | 67563 |

I want to create a master table so that each there is a row for every `product` and usage will be 0 if there are no rows for that `id` / `product` in the `usage` table.

I thought a left join would solve this like so:

    select
        usage.id,
        p.product,
        coalesce(usage.usage, 0) as usage
    from(
        select
            distinct feature
        from
            my_schema.products
    ) p
    
    left join(
        select
            user.x_id,
            p.product,
            count(distinct(user.user_id)) as usage
        from(
            ...
            ...
            ...
        )
        left join(
            ...
            ...
            ...
        )
        ...
        ...
        
        group by
            1,2
    ) usage on usage.product = p.product

    where
        p.product is not null

However, this does not give the desired output. For example, there are about 24 products total and I can see many `id`s with 1-5 rows of products. The other products they have not used but I was hoping my left join would bring them in and the `coalesce` would set them to 0.

I think this isn't happening because of my final `where` clause which filters out `NULL` products. This is intentional as I don't want to count those.

However, I'm unsure what `join` type I need to use in order to get the desired output. Also, I am running this in Hive. (Cross post from/r/sql)",learnSQL,Left join doesn't give expected output,1.0,https://www.reddit.com/r/learnSQL/comments/keeu1q/left_join_doesnt_give_expected_output/
40,JoshB335,1608149049,kegpg6,2,1,"  SELECT student\_id FROM     \[SELECT course\_id,student id,MAX(GRADE)     FROM Grade     GROUP BY course\_id\]   


  
Im trying to select the student id that has the max grade in a course. but my question is can i use this sub quarry in the \[ \]  extract in my outter FROM like get the table made by it ?",learnSQL,need help with sub qurries,1.0,https://www.reddit.com/r/learnSQL/comments/kegpg6/need_help_with_sub_qurries/
41,16deanm,1608222344,kf0jw3,3,1," 

    select camp.campaignCode,CampaignName, beginDate, endDate, leadingCampCode, isnull(sm.mediaCode,0) 'Social Media', isNull(stm.mediaCode,0) as 'Personal' from [dbo].[tblCampaign] camp left join [dbo].[tblCampaignInSocialMedia] csm on camp.campaignCode = csm.campaignCode left join [dbo].[tblSocialMedia] sm on sm.mediaCode = csm.mediaCode left join [dbo].[tblSentToMember] stm on stm.campaignCode = csm.campaignCode
    
    I need to to get that if both mediaCodes have values that it comes out as general
    if sm.mediaCode is the only value then i get social
    if stm.mediaCode is the only value then i get 'personal'
    and if i get nothing then i get 'nothing'
    Im not allowed to use Case",learnSQL,Need some Help,1.0,https://www.reddit.com/r/learnSQL/comments/kf0jw3/need_some_help/
42,MaritimeOliver,1608229026,kf2ua6,4,1,"Are there any good free object oriented sql database packages?  I keep hearing about mySQL, but every time I try to get that theres a cost.",learnSQL,Free SQL Software,1.0,https://www.reddit.com/r/learnSQL/comments/kf2ua6/free_sql_software/
43,jadesalad,1608245377,kf89o0,4,2, ,learnSQL,CASE inside ORDER BY with multiple columns,1.0,https://stackoverflow.com/questions/39873677/case-inside-order-by-with-multiple-columns
44,vagnerPG,1608248156,kf94vx,5,3,"I'm trying to add prices to a column. I've some research and found that i should use `DECIMAL(4,2)` .

But when i execute `INSERT INTO PRICE 10.00` it adds to the table the value `10` , but i wanna keep the trailing zeros. In every site that i've read, it says that `DECIMAL` should store all the decimal values.

Am i doing something wrong? Or this is a bug?",learnSQL,How do i keep trailing zeros?,1.0,https://www.reddit.com/r/learnSQL/comments/kf94vx/how_do_i_keep_trailing_zeros/
45,Amin_Abdul_Awal,1608275636,kfgfcs,5,1,"I want the user to be able to search fort items using a keyword, currently the only thing i managed to do is have the user type in the name of the product they want but if the input is off even by a single character than it doesnt return anything. 

this is the sqlite command I used 

    SELECT OID, * FROM anime WHERE Name MATCH'{entry.get()}' COLLATE NOCASE

any help would be much appreciated",learnSQL,I am using pyhton and sqlite3 [BEGINNER],1.0,https://www.reddit.com/r/learnSQL/comments/kfgfcs/i_am_using_pyhton_and_sqlite3_beginner/
46,jadesalad,1608325259,kftkku,6,5,"                    INSERT @product (product_id)
    		SELECT distinct p.id
    		FROM product_image pi
    		JOIN product p on p.id = pi.product_id

More specifically, what does this SQL command do exactly?",learnSQL,What does INSERT into SELECT do?,0.86,https://www.reddit.com/r/learnSQL/comments/kftkku/what_does_insert_into_select_do/
47,treddson,1608331644,kfvm62,4,2,"When performing a join, what dictates which table is the left table and table is the right table?",learnSQL,JOIN question,1.0,https://www.reddit.com/r/learnSQL/comments/kfvm62/join_question/
48,alex123711,1608339599,kfxxhz,15,4,What would be the best way to learn as much SQL as possible in 1 month?,learnSQL,Best way to learn SQL in 1 month?,0.84,https://www.reddit.com/r/learnSQL/comments/kfxxhz/best_way_to_learn_sql_in_1_month/
49,boyzone87seo,1608390060,kg96ll,0,3, ,learnSQL,"SQL Window Functions on Data Science Interviews | Asked By Airbnb, Netfl...",1.0,https://youtube.com/watch?v=XBE09l-UYTE&amp;feature=share
50,rstovall801,1608439556,kgnsp4,5,1,"If you are ever going to run a manual INSERT, UPDATE, or DELETE statement on a table using a WHERE clause, please, please, please write them like the below.  It will let you run the SELECT statement so you know which records will be affected (obviously do a TOP 10 or something if you're doing a lot of records)  and at the same time will also keep you from having to rewrite the statement if you're doing a SELECT statement first by itself, and then doing a separate INSERT/UPDATE/DELETE and fat-fingering something.

    SELECT * 
    --UPDATE t SET FieldName = Value
    FROM Table t
    WHERE field = value
    
    --INSERT INTO TABLE (columns..)
    SELECT * 
    FROM Table t
    WHERE field = value
    
    SELECT * 
    --DELETE t
    FROM Table t
    WHERE field = value",learnSQL,Proper Ways to Write INSERT/UPDATE/DELETE,1.0,https://www.reddit.com/r/learnSQL/comments/kgnsp4/proper_ways_to_write_insertupdatedelete/
51,kh-appy,1608543894,khe7hn,2,1,"So i've started teaching myself SQL with Mode ([https://mode.com/sql-tutorial/](https://mode.com/sql-tutorial/)) and it is absolutely brilliant like I love it. Anyways, I was wondering if anyone knows where I can find more practice problems using their datasets? 

Thanks",learnSQL,More Practice Problems for MODE,1.0,https://www.reddit.com/r/learnSQL/comments/khe7hn/more_practice_problems_for_mode/
52,kattkatie,1608551205,khfv44,0,1,"\## SQL worth remembering.

&amp;#x200B;

Something I've noticed since joining a new company (Hubble) a little less than two months ago is how much SQL I have stuck in my head. These are queries that I find myself reusing over and over again at every place I work and once I used them once, I couldn't forget them.

&amp;#x200B;

So, I thought it might be worth sharing these queries in case it's useful for others 🤗I work in BigQuery, so all of the SQL below is standard SQL (for reference).

&amp;#x200B;

\## Use event funnels to track a series of events that users can take - and to improve the journey!

&amp;#x200B;

One of the most useful data I dig up when first launching a product is an \*\*event funnel\*\*. 

&amp;#x200B;

An event funnel is a tool that lets you measure the completion rate of a series of steps (events). For example, you might create a funnel of the steps you need to go through to create an account, and then track the completion rate of each step.

&amp;#x200B;

!\[Untitled (1)\]([https://dev-to-uploads.s3.amazonaws.com/i/iy360gg1govdjzs19nuj.png](https://dev-to-uploads.s3.amazonaws.com/i/iy360gg1govdjzs19nuj.png)) 

&amp;#x200B;

With these funnels, you're able to see which steps are the biggest drop-off points in the user journey. This information is really useful, because:

&amp;#x200B;

1. You can make \*\*\*data-informed decisions\*\*\* about what parts of the product you need to change to increase completion of an action (instead of relying only on your intuition).

2. You're able to \*\*estimate the impact\*\* that your change made on the completion rate because you can compare the funnel before + after the change. 

&amp;#x200B;

\## How we used event funnels to drive higher engagement with \[Beacon\]([https://slack.com/oauth/v2/authorize?client\_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user\_scope=&amp;state=devto.event\_funnel](https://slack.com/oauth/v2/authorize?client_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user_scope=&amp;state=devto.event_funnel)).

&amp;#x200B;

At Hubble, we built a product, \[Beacon\]([https://www.gethubble.io/beacon](https://www.gethubble.io/beacon)), that lets you write, run and share your SQL in Slack (you can \[add it to your workspace here\]([https://slack.com/oauth/v2/authorize?client\_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user\_scope=&amp;state=devto.event\_funnel](https://slack.com/oauth/v2/authorize?client_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user_scope=&amp;state=devto.event_funnel))!)

&amp;#x200B;

Once we launched it, we wanted to understand how users were engaging with the product. Specifically, we wanted to figure out \*\*why people weren't running a query with Beacon after installing it\*\*. 

&amp;#x200B;

So, we have an action (""execute a query"") that we're trying to optimize the completion rate for, and we know the steps leading up to that action. Enter...\*the event funnel.\* 

&amp;#x200B;

I built an event funnel for users starting at ""I installed the app"" and going to ""I executed a query"". I used our awesome tool, \[Beacon\]([https://slack.com/oauth/v2/authorize?client\_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user\_scope=&amp;state=devto.event\_funnel](https://slack.com/oauth/v2/authorize?client_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user_scope=&amp;state=devto.event_funnel)), to run the query and share the results directly with the team in Slack:

&amp;#x200B;

!\[Untitled (2)\]([https://dev-to-uploads.s3.amazonaws.com/i/p6lph9mjp5w2c7pslfwa.png](https://dev-to-uploads.s3.amazonaws.com/i/p6lph9mjp5w2c7pslfwa.png))

 

...

&amp;#x200B;

!\[Untitled (3)\]([https://dev-to-uploads.s3.amazonaws.com/i/3g663dsoixshkgaoqfe2.png](https://dev-to-uploads.s3.amazonaws.com/i/3g663dsoixshkgaoqfe2.png))

 

&amp;#x200B;

This event funnel makes it really clear that the biggest drop off point is between steps 3 and 4: seeing the \`connect modal\` (i.e. the screen giving instructions about how to connect to a database) and successfully getting a \`database connected\`. 

&amp;#x200B;

So, we reached out to some of the users who got stuck at this step and brainstormed some improvements that we could make to help reduce the friction in getting a database connected. Basically, \*\*the event funnel showed us what part of the product we should be looking to change if we wanted to drive the highest increase in user engagement.\*\*

&amp;#x200B;

\## The event funnel is one of the SQL queries I have imprinted in my brain.

&amp;#x200B;

To be able to build a funnel, you need to generate a table with one row per step in your funnel, and then a count of the number of users who made it to that step. 

&amp;#x200B;

!\[Untitled (4)\]([https://dev-to-uploads.s3.amazonaws.com/i/1zad65oqzdk4bb7ktnuo.png](https://dev-to-uploads.s3.amazonaws.com/i/1zad65oqzdk4bb7ktnuo.png))

 

&amp;#x200B;

These \`step\_name\` values are analytics events that we're tracking in our app (you can use a tool like \[Segment\]([https://segment.com/docs/protocols/tracking-plan/best-practices/](https://segment.com/docs/protocols/tracking-plan/best-practices/)) or \[Rudderstack\]([https://docs.rudderstack.com/rudderstack-sdk-integration-guides](https://docs.rudderstack.com/rudderstack-sdk-integration-guides)) to set up event tracking if you haven't already!)

&amp;#x200B;

Once you've figured out the steps that you want in your funnel and the order that you want them in, you can use this SQL template below to build your event funnel.  Our team loves seeing these funnels now, it drives a lot of our work. We use \[Beacon\]([https://www.gethubble.io/beacon](https://www.gethubble.io/beacon)) to share the latest event funnel data in our team Slack every morning before stand up.

&amp;#x200B;

I tapped out at 3 events, but you can follow the pattern in this template and add more events as additional sub-queries (these are actually called ""\[CTEs\]([https://www.essentialsql.com/introduction-common-table-expressions-ctes/](https://www.essentialsql.com/introduction-common-table-expressions-ctes/))"") to fulfil your funnel needs!

&amp;#x200B;

\## So here it is, in all its glory: \*\*The event funnel.\*\*

&amp;#x200B;

To run a query using this event funnel, you'll need to make sure you've got a few thing sorted:

&amp;#x200B;

\### Step 1: Plug the right variables into the query below.

&amp;#x200B;

1. The \`user\_id\` field needs to be the identifier for your users (or the unit that you're counting in the funnel - e.g. \`team\_id\` if you want to know the rate of conversion for teams doing something)

2. The \`event\` field should be the \*\*name\*\* \*\*of the step\*\* that you're referencing in each sub-query (CTE).

3. The \`timestamp\` field should represent the time when the event occurred.

4. You'll need to change the \`FROM project\_name.dataset\_name.event\_name\_1\` to reference the table where your event data is stored for each given step.

5. I've commented out some code at the bottom which lets you specify a range of dates for the funnel (see: \`IF YOU WANT TO SPECIFY A RANGE OF DATES, YOU CAN DO THAT HERE\`). You can add it in if you need it, but it's not required for the query to work! 🙂

&amp;#x200B;

\`\`\`sql

WITH event\_1 AS (

SELECT

user\_id, -- identifier of the thing you're counting in your funnel

'get\_in\_rocket' AS event, -- name of the step in your funnel

MIN(timestamp) AS timestamp\_first -- timestamp of when the event occurred



FROM \`project\_name.dataset\_name.event\_name\_1\` -- table where your event data is stored for step 1



GROUP BY 1, 2

),

&amp;#x200B;

event\_2 AS (

SELECT

s2.user\_id,

'push\_button' AS event,

MIN(timestamp) AS timestamp\_first



FROM \`project\_name.dataset\_name.event\_name\_2\` AS s2



INNER JOIN event\_1 s1 ON s1.user\_id = s2.user\_id



WHERE s2.timestamp &gt;= s1.timestamp\_first



GROUP BY 1,2

),

&amp;#x200B;

event\_3 AS (

SELECT

s3.user\_id,

'blastoff' AS event,

MIN(timestamp) AS timestamp\_first



FROM \`project\_name.dataset\_name.event\_name\_3\` AS s3



INNER JOIN event\_2 s2 ON s2.user\_id = s3.user\_id



WHERE s3.timestamp &gt;= s2.timestamp\_first



GROUP BY 1,2

),

&amp;#x200B;

all\_events AS (

SELECT CONCAT('01: ""', event, '""') as step\_name, user\_id, timestamp\_first FROM event\_1

UNION ALL

SELECT CONCAT('02: ""', event, '""') as step\_name, user\_id, timestamp\_first FROM event\_2

UNION ALL

SELECT CONCAT('03: ""', event, '""') as step\_name, user\_id, timestamp\_first FROM event\_3

)

&amp;#x200B;

SELECT

step\_name,

COUNT(user\_id) AS num\_users\_making\_it\_to\_step,

ROUND(COUNT(user\_id) \* 100 / (MAX(COUNT(user\_id)) OVER(PARTITION BY NULL)), 2) AS percent\_of\_users\_making\_it\_to\_step

&amp;#x200B;

FROM all\_events

LEFT JOIN event\_1 USING(user\_id)

&amp;#x200B;

\-- IF YOU WANT TO SPECIFY A RANGE OF DATES, YOU CAN DO THAT HERE

\-- This is the ""From"" date:

\-- WHERE event\_1.timestamp\_first &gt;= '2020-12-01'

&amp;#x200B;

\-- This is the ""To"" date:

\-- AND event\_1.timestamp\_first &lt;= '2020-12-03'

&amp;#x200B;

GROUP BY 1

ORDER BY 1 ASC

\`\`\`

&amp;#x200B;

\### Step 2: Use Beacon to share the funnel in your favourite Slack channel!

&amp;#x200B;

Once you've \[installed Beacon\]([https://slack.com/oauth/v2/authorize?client\_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user\_scope=&amp;state=blog.event\_funnel](https://slack.com/oauth/v2/authorize?client_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user_scope=&amp;state=blog.event_funnel)) into your Slack workspace and you've connected to your database, just type \`/run-query\`, then your SQL query and hit enter.

&amp;#x200B;

!\[Untitled (5)\]([https://dev-to-uploads.s3.amazonaws.com/i/53zrhm69qlwc5pjhvaar.png](https://dev-to-uploads.s3.amazonaws.com/i/53zrhm69qlwc5pjhvaar.png))

 

\### Step 3: Save your query so that the rest of your team can use it!

&amp;#x200B;

Once your query is posted in Slack, you can hit \`Save Query\` to make the SQL query for your event funnel available to everyone else in your team! 

&amp;#x200B;

!\[Untitled (6)\]([https://dev-to-uploads.s3.amazonaws.com/i/74o6a3zux8p7sjugx9ik.png](https://dev-to-uploads.s3.amazonaws.com/i/74o6a3zux8p7sjugx9ik.png))

 

&amp;#x200B;

And that's it! 

&amp;#x200B;

Feel free to shoot me a message at \[katie@gethubble.io\]([mailto:katie@gethubble.io](mailto:katie@gethubble.io)) if you have any questions or feedback, and go check out \[Beacon\]([https://slack.com/oauth/v2/authorize?client\_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user\_scope=&amp;state=devto.event\_funnel](https://slack.com/oauth/v2/authorize?client_id=1207722259383.1462138656839&amp;scope=commands,im:history,im:read,im:write,team:read,users:read,users:read.email,workflow.steps:execute,chat:write&amp;user_scope=&amp;state=devto.event_funnel)) so you can share your nifty new event funnel with your team, directly in Slack 😊",learnSQL,SQL queries I wish I'd known when I started in data. Part 1: the event funnel.,1.0,https://www.reddit.com/r/learnSQL/comments/khfv44/sql_queries_i_wish_id_known_when_i_started_in/
53,noxlv,1608631498,ki2ip5,4,1," I want to have an output listing all the column names and the result  
What's the appropriate way of writing this? Is it based on Union or Intersect?  
I'm getting an error if I write like this

    (Select ColumnName From DBO.ColumnNameV Where Databasename ='DB' and Table ='Table')  Union  (Select *  From Specific DB.Table)",learnSQL,Union or Intersect Statement,1.0,https://www.reddit.com/r/learnSQL/comments/ki2ip5/union_or_intersect_statement/
54,fishypoos,1608666760,kicnb2,2,1,"I was wondering if anyone might be able to help. I'm building a shopping list app as a personal project and I'm trying to find the best solution to generate shopping lists from meals and ingredients.

So at the moment I have a populated database with a meal table and a ingredient table. The meal table goes ID,name,difficulty,mealtype,kidfriendly. The ingredient table goe, ID,name,shopsection.

I need to define the ingredients for each meal somewhere so that when the meal is picked in the frontend it outputs the list of ingredients associated with that meal. Is that best done in backend app logic or another table with the ID of the meal and columns with the ID's of each ingredient?",learnSQL,A recipe database,1.0,https://www.reddit.com/r/learnSQL/comments/kicnb2/a_recipe_database/
55,Pretend_Piano8354,1608674545,kif6gi,0,1,"Hello,

I've been trying to research this, and so far the answer just seems to be: ""no, there is no appropriate way to do that"". I've got a set of computers working from a locally hosted Flask app, feeding a local mySQL db. I want that all to stay local (essentially, I want to guarantee that it keeps working even if the internet connection fails), but I would also like to give users the ability to access the app and db remotely. Finally, I don't feel like I know nearly enough about security/server capacity/etc to host an internet-connected app from the local site, so I wouldn't be excited about opening the local app to the public. My bright idea to resolve this was to have a local db and server, as well as a remote db and server. The apps don't change, so I'd just need a way for the dbs to periodically sync. Then disallow any connection to the local server excluding the sync. This way, if the internet died, everything keeps working, we just sync the next time it is connected. 

I see that it's common enough to mirror db a to db b, but it all seems like ""one way"" connections. I'd like for changes on both sides to be reflected on the other.

Is there any way to make this happen? Thanks!",learnSQL,Is there an appropriate way to 'mirror' 2 databases,1.0,https://www.reddit.com/r/learnSQL/comments/kif6gi/is_there_an_appropriate_way_to_mirror_2_databases/
56,Plate-Junior,1608712266,kipe94,2,1,"Hello

I'm new to SQL and I'll be going on a work course for it in a few weeks, however I've been playing about with it trying to run some data to build a report. I'm using Microsoft Server SQL

One of the things I need to do is display a column of information (Call\_Start) for the whole of November, but I also need to know which hours the call came into the call centre that meet a certain criteria. I've sorted out the criteria part, it's just the hours thing I can't crack. We're a 24 hour business and I want to see the impact of calls at midnight for example. 

This is how the Date/Time comes through 2020-11-01 00:03:42.000

Here's what I've written so far:

DATEPART (mm, Call\_Start) = '11' AND

DATEPART (YYYY, Call\_Start) = '2020' AND

**DATEPART(HH, Call\_Start) BETWEEN 0 AND 24 as 'hh'**

Before I added the line in Bold, it pulled all the data through for the whole of Nov which is what I wanted. I just can't seem to get the information for just the hour the calls came through.

I've seen it done, but for the life of me can't remember how. Any help would be appreciated. Thank you",learnSQL,How to get Date and Time information just showing Hour,1.0,https://www.reddit.com/r/learnSQL/comments/kipe94/how_to_get_date_and_time_information_just_showing/
57,relayer77,1608845870,kjnc9h,1,1,I've just joined the Sub and I cannot seem to find the Wiki. Can someone point me to it? Thanks!,learnSQL,"New, and where is the WIKI?",1.0,https://www.reddit.com/r/learnSQL/comments/kjnc9h/new_and_where_is_the_wiki/
58,angelankia,1608887297,kjw7fu,0,1, ,learnSQL,10 SQL Concepts That Every Developer Should Know!,1.0,https://www.programming-hero.com/blog/10-sql-concepts-that-every-developer-should-know.html
59,boyzone87seo,1608891406,kjwvk1,1,1, ,learnSQL,Tricky Data Science Interview Question [By Facebook],1.0,https://youtube.com/watch?v=eC7MdwKCCOE&amp;feature=share
60,rimon34,1608970687,kkf8r4,0,1, ,learnSQL,Tricky Data Science Interview Question [By Facebook],1.0,https://youtu.be/eC7MdwKCCOE
61,saraheatsmuffins,1609029615,kktmag,0,1,"I recently downloaded the MSSQL server and the database to practice some queries, and I'm doing the questions in this link ([https://sqlzoo.net/wiki/AdventureWorks\_easy\_questions](https://sqlzoo.net/wiki/AdventureWorks_easy_questions)) and having an awfully hard time!

I'm stuck on the first question which is:

1. Show the first name and the email address of customer with CompanyName ‘Bike World’

 Because I don't have the customer table with company names. And I think I could only find the name 'Bike World' in the store table, which has a ""buisinessEntityId"" and it does not match anything in the person table, which all the information such as name and email address.

I googled the answer to this, and it looks like I have a different database. I downloaded it directly from the MS website, so I think I have the right database. I'm so confused about what is going on.

Does anyone try the ""Adventure Works"" recently?",learnSQL,"Has anyone worked on the ""Adventure Works"" database recently?",1.0,https://www.reddit.com/r/learnSQL/comments/kktmag/has_anyone_worked_on_the_adventure_works_database/
62,pullups2,1609039961,kkwbh5,4,1,"Hello all,

I am trying to learn MySQL, and have been having some early success, but have been having a lot of problems with the autograder Gradescope. It works on my workbench, but I can't even get points for the code running on the autograder.  Below is my code.

&amp;#x200B;

USE my\_guitar\_shop;

SELECT first\_name, last\_name, line1, city, state, zip\_code

FROM Customers c

	INNER JOIN Addresses a

		ON c.customer\_id = a.customer\_id

WHERE c.email\_address = 'allan.sherwood@yahoo.com'

ORDER BY a.zip\_code 

ASC

&amp;#x200B;

Feel free to comment with any questions about the assignment or with any adjustments to my code!",learnSQL,problem with code; EDX class,1.0,https://www.reddit.com/r/learnSQL/comments/kkwbh5/problem_with_code_edx_class/
63,jadesalad,1609111615,kle1tb,8,1,"    ORDER BY (CASE WHEN TRUE THEN users.date END) DESC, 
    (CASE WHEN TRUE THEN users.lastname END) DESC, 
    (CASE WHEN FALSE THEN users.date END) DESC,           
    (CASE WHEN FALSE THEN users.lastname END) DESC, 

How can I insure that TRUE is on top of false at all time regardless of the date?",learnSQL,Insuring that something is always ordered on top of another when using CASE WHEN,1.0,https://www.reddit.com/r/learnSQL/comments/kle1tb/insuring_that_something_is_always_ordered_on_top/
65,boyzone87seo,1609264726,kmj9zm,2,1, ,learnSQL,SQL Case Statements For Data Science Interviews,1.0,https://youtube.com/watch?v=W_IERUwElkg&amp;feature=share
67,3rdtimecharm3,1609268213,kmkeqp,1,1,"The question I'm trying to solve is: List the students who have passed all completed classes with a grade of 80 or better.

And the query I don't understand is:


    SELECT Students.StudentID, Students.StudFirstName, 
    Students.StudLastName
    FROM Students
    INNER JOIN Student_Schedules
    ON Students.StudentID=Student_Schedules.StudentID
    WHERE (Student_Schedules.Grade&gt;80)
    AND (Student_Schedules.ClassStatus=2)
    GROUP BY Students.StudentID, Students.StudFirstName, 
    Students.StudLastName
    HAVING Count(Students.StudentID) =  
    (SELECT COUNT(*)  
    FROM Student_Schedules  
    WHERE Student_Schedules.ClassStatus = 2  
    AND Student_Schedules.StudentID = Students.StudentID);


Here's a link to sample data: https://dbfiddle.uk/?rdbms=sqlserver_2019&amp;fiddle=9a3957786ffdb0687ef2c1a66df29b85",learnSQL,Can anyone explain what the having clause is doing in this query?,1.0,https://www.reddit.com/r/learnSQL/comments/kmkeqp/can_anyone_explain_what_the_having_clause_is/
68,jadesalad,1609301372,kmuno9,1,1,"     ORDER BY (CASE WHEN TRUE THEN 0 END) ASC,  
    (CASE WHEN TRUE THEN users.date END) DESC,  
    (CASE WHEN TRUE THEN users.lastname END) DESC, 
    (CASE WHEN FALSE THEN 1 END) ASC,  
    (CASE WHEN FALSE THEN users.date END) DESC,            
    (CASE WHEN FALSE THEN users.lastname END) DESC, 
    

Would this insure that TRUE is sorted on top of FALSE? I know this example is bad, because everything would evaluate to true, but you get the point.",learnSQL,Would this insure that TRUE is sorted on top of FALSE?,1.0,https://www.reddit.com/r/learnSQL/comments/kmuno9/would_this_insure_that_true_is_sorted_on_top_of/
69,jadesalad,1609337748,kn2zws,4,1,"    ORDER BY (CASE WHEN GENDER = 'MALE' THEN 0 END) ASC,  
    (CASE WHEN GENDER = 'MALE' THEN users.date END) DESC,  
    (CASE WHEN GENDER = 'MALE' THEN users.lastname END) DESC, 
    (CASE WHEN GENDER = 'FEMALE' THEN 1 END) ASC,  
    (CASE WHEN GENDER = 'FEMALE' THEN users.date END) DESC,            
    (CASE WHEN GENDER = 'FEMALE' THEN users.lastname END) DESC, 

Would this insure that all males are above all females regardless of the date or lastname?",learnSQL,Sorting Male above Female no matter what,1.0,https://www.reddit.com/r/learnSQL/comments/kn2zws/sorting_male_above_female_no_matter_what/
70,alex123711,1609338481,kn36nt,1,1,Does anyone know where I can find a good explanation on ERD's and rationalisation/ normalisation? I'm still a bit confused about making one.,learnSQL,ERD explanation?,1.0,https://www.reddit.com/r/learnSQL/comments/kn36nt/erd_explanation/
71,xXPolaris117Xx,1609386068,kni2dd,3,1,"To elaborate on my title, I'm trying to count the instances of a value in a postgres table. If the amount of instances is equal to zero, I want to print ""hello"". I would think it would be simple but I'm still messing up somewhere. Here is my code:

            cur.execute(""SELECT COUNT(*) FROM table_name WHERE column = 'xyz'"")
            check_result = cur.fetchall()
            
            if check_result == ""([0,])"":
                print(""hello"")",learnSQL,How to trigger if function in python using count sql function,1.0,https://www.reddit.com/r/learnSQL/comments/kni2dd/how_to_trigger_if_function_in_python_using_count/
72,alex123711,1609509972,kobsnt,1,1,Does anyone know of any good ones? Or anywhere to practice them? Finding it hard to get my head around them/ actually do them correctly. Specifically finkelstein methodology if possible. Is there anything like khan academy out there?,learnSQL,Data model/ ERD diagram tutorials?,1.0,https://www.reddit.com/r/learnSQL/comments/kobsnt/data_model_erd_diagram_tutorials/
73,nhochamvui,1609520762,koepu8,0,1,"-So my teacher asked me to demonstrate how to test databases in my SQL server in 3 types: Structural testing, Functional testing and Non-fuctional testing. So far I understand non-functional testing to be stress and load tests. But I don't understand anything in structural and function testing and I can't find example test cases in SQLqueries anywhere on the internet.

-I downloaded and use a sample SQL database called AdventureWorks: https://github.com/microsoft/sql-server-samples/tree/master/samples/databases/adventure-works

-I then use a sql testing software from RedGate but don't understand these tests they made for me: https://github.com/red-gate/SQLCop

--&gt; Can someone give me some guidance on what I should test on a big database like this? some example codes would be great.",learnSQL,Learning how to test a database. Need help,1.0,https://www.reddit.com/r/learnSQL/comments/koepu8/learning_how_to_test_a_database_need_help/
0,AllEncompassingThey,1604285236,jmfl4g,3,1,Just wondering,learnSQL,Is there a discord server for people wanting to learn SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/jmfl4g/is_there_a_discord_server_for_people_wanting_to/
1,nadeembca1,1604307670,jmk7az,0,1,"If you will start searching on the Internet about the definition of a database, you will find a lot of diverse definitions. Since you are a beginner, I will make it simple for you. I think first you need to understand what is data and then we will talk about what is database. 

[https://www.codingfornoob.com/sql-what-is-database/](https://www.codingfornoob.com/sql-what-is-database/)",learnSQL,What Is Database,1.0,https://www.reddit.com/r/learnSQL/comments/jmk7az/what_is_database/
2,Cheriberri,1604332637,jmq1tq,12,1,"Hello I am trying to prepare for a test from SQL databases and I have a lot of exercises to go through. I struggle however and would be very greatful if someone could solve the query on a specific example to demonstrate how it should be done. This is the first one of the ~15 exercises so itd help tremendously to have this one solved. 

Here are the instructions:

This is how the database looks like: https://gyazo.com/ec90dee319e9e399421923bd3af4bbca

The objective is to create a table of all employees working in a department managed by the managers: King, Fripp or Higgins (all last names). The table should contain the following entries: 

    1. employee_id 
    2. first_name (employee)
    3. last_name (employee)
    4. department_name (to which employee is assigned to)
    5. manager_id (managed of the dpt)
    6. manager_first_name 
    7. manager_last_name 

I believe it should be accomplished with some form of join but Ive been unable to move past this for weeks now. Thanks to anyone who decides to help.",learnSQL,Could use some help,1.0,https://www.reddit.com/r/learnSQL/comments/jmq1tq/could_use_some_help/
3,s_porteous,1604395826,jn7emo,2,1," For an assignment we have to create am SQLite database from our logical modeling and I'm getting the error message

    Error: near line 75: near ""("": syntax error 

which is the first line of this entity

    CREATE TABLE Invoice (
    uniqueInvoiceNumber VARCHAR(5) NOT NULL,
    relevantDate TEXT,
    clinicalComment VARCHAR(200),
    status CHAR,
    dateAndStartingTime TEXT,
    clientNumber INTEGER,
    PRIMARY KEY (uniqueInvoiceNumber),
    FOREIGN (dateAndStartingTime) REFERENCES Appointment(dateAndStartingTime) ON UPDATE CASCADE ON DELETE NO ACTION,
    FOREIGN KEY (clientNumber) REFERENCES Customer(clientNumber) ON UPDATE CASCADE ON DELETE NO ACTION
    );

I can't find the error, what have i done wrong.

thanks for your help.",learnSQL,CREATE TABLE error,1.0,https://www.reddit.com/r/learnSQL/comments/jn7emo/create_table_error/
4,Sephran,1604420194,jnd5pc,0,1,"Good day,

I will have a process that will simply be updating old records and I want to track the changes so that if something happens I can refer to what it was compared to what it is now.

For this purpose it has to do with a simple schedule.

The current table looks like
- UserID
- Date
- StartTime
- EndTime
- shiftLength

My proposed solution would be a new table that tracks these updates and look like this

trackChangesTable
- UserID
- Date
- ChangeDate
- PrevStartTime
- StartTime
- PrevEndTime
- EndTime
-prevShiftLength
-shiftLength

It's one record, and makes it easy to compare before and after.

Is there a better way to create this table? A better way to go about storing the previous record values and the new record values? 

Thank you.",learnSQL,How to organize a new update table,1.0,https://www.reddit.com/r/learnSQL/comments/jnd5pc/how_to_organize_a_new_update_table/
5,TNTiger_,1604444905,jnl5r5,3,1,"Apart  from a GCSE computing course, I have very limited knowledge of  programming, and am only coding to make a mod for CIV 6 which changes the names of some of the AI. I currently have cracked how to do the main job of changing names, and I even have it set up so that you can change the settings in another file which allows you to choose between different options showing. I know it isn't at all groundbreaking but I'm proud of myself for getting this far. However, I have come to a  roadblock on how to making an option dependant on TWO variables at once.

Here is an example of some working code, dependant on a variable:

    	UPDATE LocalizedText 	SET Text = replace(Text, ""Armagh"", ""Ulster"") 	WHERE Tag IN ( 		'LOC_CIVILIZATION_ARMAGH_NAME', 		'LOC_CIVILIZATION_ARMAGH_DESCRIPTION', 		'LOC_LEADER_TRAIT_ARMAGH_NAME' 	) 	AND EXISTS (SELECT * FROM BaseGameText WHERE Tag = 'PER_ARMAGH' AND Text = 0); 

And here is one of my cracks at a two-variable setting:

    	UPDATE LocalizedText 	SET Text = replace(Text, ""Armagh"", ""Éire"") 	WHERE Tag IN ( 		'LOC_CIVILIZATION_ARMAGH_NAME', 		'LOC_CIVILIZATION_ARMAGH_DESCRIPTION', 		'LOC_LEADER_TRAIT_ARMAGH_NAME' 	) 	AND EXISTS (SELECT * FROM BaseGameText WHERE Tag = 'PER_ARMAGH' AND Text = 1) AND EXISTS (SELECT * FROM WHERE Tag = 'PER_Gaeilge' AND Text = 1); 

I know it must be a  really easy and obvious thing to do, but I'm new to this and unaware of the correct syntax. Does anyone know how to do it?

Additionally,  if context helps, what my mod does is rename city-states- the really small AI nations- in the game after the country their city is from,  rather than just being named after the city itself. I.e, 'Brussels' gets renamed to 'Belgium'. The actual city will still be called 'Brussels',  only the government who owns them will be renamed. I also want there to be user options to choose between names ('Armagh city-state' can be changed either to 'Ulster city-state' or 'Ireland city-state'), changing them to be named after another kind of government other than a  city-state ('Province of Ulster', 'Kingdom of Ireland'), using their native names ('Ulaid city-state', 'Éire city-state'), or both at once  ('Cúige Uladh', 'Ríoghacht Éireann').",learnSQL,Assistance with using SQL to code a Civ 6 mod,1.0,https://www.reddit.com/r/learnSQL/comments/jnl5r5/assistance_with_using_sql_to_code_a_civ_6_mod/
6,bdrilling33,1604445621,jnldk7,6,1,"in most cases, I only use SQL to get my dataset into python then process it there.  In most of my cases, it involves some type of looping over the data, comparing, creating new tables based on the data pulled etc.  i have been given a new task and believe that i could use this as an opportunity to do it all in SQL.

Doing this in Python would be a breeze.  But to extend my sql skills, I figured I would give it a try.

Basically, I need to loop over a data set and check if a row of data's column matches a variable, if so, look for the next type of variable.  once it has found both, add that to a temp table and keep going until all rows have been checked.

[Here](https://pastebin.com/BUHRYcxU) is what I had so far along with some example data.

any help or comments would be great.  

&amp;#x200B;

thanks!",learnSQL,MSSQL looping questions,1.0,https://www.reddit.com/r/learnSQL/comments/jnldk7/mssql_looping_questions/
7,angereydoggo,1604539018,jo9bmn,0,1,"&amp;#x200B;

[This is the table I'm working with](https://preview.redd.it/k6a3f60qobx51.png?width=1059&amp;format=png&amp;auto=webp&amp;s=4e3c74368c3a7ea442fd168dcfd1662265ecdc7e)",learnSQL,How can I display total sales for each customer ID between 2014-2015?,1.0,https://www.reddit.com/r/learnSQL/comments/jo9bmn/how_can_i_display_total_sales_for_each_customer/
8,xHelios1x,1604698125,jpdvcu,3,1,"Should i have one table with only user key, login and password for entry and after authorization i select user data from another table by respective user key, or should i just have one table all together?",learnSQL,Extreme beginner in sql: how should i create basic user table,1.0,https://www.reddit.com/r/learnSQL/comments/jpdvcu/extreme_beginner_in_sql_how_should_i_create_basic/
9,moody_balloon_baby,1604711317,jphkvr,5,1,"Kinda hard to explain so please bear with me. I have  ~20 variables that I want to use each on a query, then union and loop through the next variable in the original query. Something like this...


    query using var1
    union 
    query using var2
    union
    query using var3
    ........

I just discovered recursive CTE but I can only find examples adding numbers &amp; dates. Can't seem to find an example where it loops through a list of strings. Is that even possible or so I have to write this whole thing out in order to achieve my goal?",learnSQL,Looping query using union through a list of variables,1.0,https://www.reddit.com/r/learnSQL/comments/jphkvr/looping_query_using_union_through_a_list_of/
10,cord202,1604816331,jq6y37,0,1,"Hello, I need help combining two relations using relational algebra. I have the following 3 relationship schemes:

    Employee (SSN, Name, WorkBeginDate, departmentNr)  
    Journey (JourneyID, SNN, fromCity, toCity, fromDate, toDate)  
    Expenses (JourneyID, ReservationID, amountOfMoney)  

How can I form a statement in relational algebra that lists all attributes from **Journey** and **Expenses** if **amountOfMoney** is greater than $1000?

Second, how do I form a statement that determines the names and SSN of the employees who have made trips to ""New York""?

And third, how to list all attributes of the schema ""Expenses” of the employee with SSN = 12345678.

This is what I've done so far, but I'm not sure if it's correct:

    σ amountOfMoney (Expenses) &gt; 1 000 (Journey ᴜ Expenses)   
    π Employee, SSN ((fromCity (Journey) = “New York”)(Employee)) 
    σ (Employee (SSN = 12345678 (Expenses)) 

Could you please help me out?",learnSQL,How can I combine two relations using relational algebra?,1.0,https://www.reddit.com/r/learnSQL/comments/jq6y37/how_can_i_combine_two_relations_using_relational/
11,LonelySnowSheep,1604830522,jq9gpo,1,1,Basically what I asked in the title. I don't know if core SQL has changed a lot but I have this book from when my father did his CS degree. Would it be worth reading?,learnSQL,"Is ""SQL in a nutshell - 2nd Edition"" (2003) worth reading, or should I get a newer book",1.0,https://www.reddit.com/r/learnSQL/comments/jq9gpo/is_sql_in_a_nutshell_2nd_edition_2003_worth/
12,scottie_summers,1604866328,jqikvy,0,1,"Anyone has any suggestions with converting a character varying data type field to geometry in SQL statement (redshift DWH) ?  

I tried with cast(column as geometry) but it gives error saying it cannot cast type character varying to geometry.",learnSQL,Geometry datatype: Redshift,1.0,https://www.reddit.com/r/learnSQL/comments/jqikvy/geometry_datatype_redshift/
13,TicklesMcFancy,1604872666,jqkj8k,1,1,"I'm working on setting up a database for an inventory cataloging system and I'm not well refined in sql so I'm having a hard time figuring out how I would do this. 

Here is the schema for my one table:

&amp;#x200B;

|prodID|INT|primary key|
|:-|:-|:-|
|prodName|TEXT||
|servPerProd|INT||
|prodSKU|TEXT||
|reorderNumber|INT||
|vendor|TEXT||

Now I want to make another table that takes acts as a holder for how much quantity is being held as inactive inventory and then whatever stock is being used for service, being held in a separate table of active inventory; I imagine the two would behave the same. Something like this:

|invID|INT|primary key|
|:-|:-|:-|
|quantity|INT||
|prodID|INT|foreign key(references product\_list prodID)|
|deliveryID|INT|foreign key(references delivery\_invoice delivery ID)|

I'm really uncertain if doing this makes any sense or is even necessary.",learnSQL,Help with Foreign Key relationship,1.0,https://www.reddit.com/r/learnSQL/comments/jqkj8k/help_with_foreign_key_relationship/
14,CouilleRoyal,1604873964,jqkxea,0,1,"Hello! I'm currently learning PL SQL and I need to create a trigger that updates automatically a table (named STATEMPLOYEE) according to the main table named (Employee). I need to do this using a procedure called P\_Ini\_Stat in the Pack\_emp package. Right now it's not working at all. I can create a new employee in my main Employee table and my second table won't even change.

Here is my trigger:

`CREATE OR REPLACE TRIGGER Trig_Maj_Emp`

`AFTER INSERT OR UPDATE OR DELETE`

`ON employee`

`FOR EACH ROW`

`BEGIN` 

  `IF INSERTING THEN`

`Pack_emp.P_Ini_Stat;`

`ELSIF UPDATING THEN`

`Pack_emp.P_Ini_Stat;`

 `ELSIF DELETING THEN`

 `Pack_emp.P_Ini_Stat;`

 `END IF;`

`END  Trig_Maj_Emp;`

&amp;#x200B;

Here is the procedure in my package:

`CREATE OR REPLACE PACKAGE BODY Pack_emp`

`IS`

  `PROCEDURE P_Ini_Stat`

  `AS`

  

`CURSOR c_statDepEmp`

  `IS`

`SELECT code_dept,`

`COUNT(code_dept) AS nb,`

`SUM(sala_empl)   AS sm`

`FROM employee`

`GROUP BY CODE_DEPT;`

`BEGIN`

  `FOR record IN c_statDepEmp`

  `LOOP`

`INSERT INTO statDepEmp VALUES`

`(record.code_dept, record.nb,` [`record.sm`](https://record.sm)

`);`

  `END LOOP;`

  `EXCEPTION`

  `WHEN OTHERS THEN`

  `DBMS_OUTPUT.PUT_LINE(SQLCODE||' '||SQLERRM);`

  `END P_Ini_Stat;`

`END Pack_emp;`",learnSQL,Question in pl SQL,1.0,https://www.reddit.com/r/learnSQL/comments/jqkxea/question_in_pl_sql/
15,jbokwxguy,1604954860,jr5zs6,6,1,"So I'm writing code to read from a database. And I need data from two separate rows, and to minimize numbers of queries.

&amp;#x200B;

The structure of the database:

|id|association\_id|boolean|value|
|:-|:-|:-|:-|
|1|1|true|36|
|2|1|false|78|

&amp;#x200B;

So basically I need the return to look something like this:

&amp;#x200B;

|association\_id|value\_true|value\_false|
|:-|:-|:-|
|1|36|78|

&amp;#x200B;

Is there any SQL queries to do this? Or will it need to be done completely by code?

&amp;#x200B;

Thanks",learnSQL,SQL Join Rows?,1.0,https://www.reddit.com/r/learnSQL/comments/jr5zs6/sql_join_rows/
16,Jake_Stack808,1604960211,jr7s6d,0,1,"I work with a lot of SQL data and often end up doing the data manipulation in google sheets. But google sheets analyses are often not repeatable, so me and some friends made this [tool](https://trymito.io/?source=r/learnSQL) that lets you do your edits (cleaning, merging, calculations etc.) and then have all those edits automatically converted to the equivalent Python code.

It's been great for automating a lot of my SQL data analysis, without having to know all the right right SQL syntax. I'm a total noob at both Python and SQL, so it's been super helpful for me.

You can check it out [here!](https://trymito.io/?source=r/learnSQL)

I'd love to hear any thoughts. Thanks!",learnSQL,My project lets you learn to automate your SQL workflow by editing a spreadsheet,1.0,https://www.reddit.com/r/learnSQL/comments/jr7s6d/my_project_lets_you_learn_to_automate_your_sql/
17,sirpoloo,1605031495,jrpys5,2,1,"Hi all,
so i am working on these queries, i have most done but would love to see other answers thanks!

Person
Id	Title	Forename	Surname	CompanyId
1	Mr	Geoff	Fisher	1
2	Miss	Sarah	Hiscox	4
3	Mr	Ralph	Bennet	2
4	Mrs	Fiona	Fisher	1
5	Dr	Maggie	May	null
Company
Id	Name
1	WH Smiths
2	Amazon
3	Waitrose
4	Welsh Water
5	Bosch

The tables above are used to store person and company details. The Person table has a link to the Company table via CompanyId. 

1)	Write a query that returns only people that have a company. The results should contain only the Person’s Forename, Surname and Company Name.

2)	Write a query that returns every Person, along with the Company name (if they have one). The results should contain only the Person’s Forename, Surname and Company Name (null if they don’t have a company).

3)	rite a query that returns every Company, along with the number of people belonging to that 

4)	Write a query that returns all orphans (i.e. people without a Company, and companies without people). The results should contain PersonID, Forename, Surname, CompanyID, Company Name.
Bonus: What other ways are there to solve question 4?",learnSQL,Building SQL knowledge,1.0,https://www.reddit.com/r/learnSQL/comments/jrpys5/building_sql_knowledge/
18,Kindly-Sympathy-3684,1605034742,jrr20n,5,1,"I'm a newbie at SQL. I am tryin to create a table titled ""invoice"" but I keep getting syntax error. CUST\_NUM is the foreign key. What changes need to be made? 

CODE: **create table INVOICE (**

**INV\_NUM int NOT NULL PRIMARY KEY,**

**CUST\_NUM int FOREIGN KEY REFERNCES CUSTOMER,**

**INV\_DATE varchar(20),**

**INV\_AMOUNT float**

**);**",learnSQL,Foreign key help,1.0,https://www.reddit.com/r/learnSQL/comments/jrr20n/foreign_key_help/
19,noemailforreddit,1605046886,jrv1o6,1,1,"What are some good options for creating forms for a mysql database? I have about a half-dozen users who aren't super computer-savvy, so I need to make forms for data entry for our DB. Do you guys have any recommendations?",learnSQL,How to do forms and reports?,1.0,https://www.reddit.com/r/learnSQL/comments/jrv1o6/how_to_do_forms_and_reports/
20,CapitalistPig_42069,1605071590,js20r2,0,1,"Topic: Using anonymous blocks of PL/SQL

DM for more info",learnSQL,DM me for quick (10 minutes) paid ($30) SQL job lol (6 questions),1.0,https://www.reddit.com/r/learnSQL/comments/js20r2/dm_me_for_quick_10_minutes_paid_30_sql_job_lol_6/
21,Agitated-Shoe-3250,1605103079,js8kcl,10,1,"Hi all, I am learning to do some sql.

While trying to create a table, I have a column in which it registers either ""S"" or ""NS"" and I used CHAR(2) as the data type. Wondering if this is the ideal data type to use?

I may just have a scenario in which I will need to list out all the records of ""S"" or ""NS"" from this column.

I asked, as I have been using VARCHAR2 for most of my columns since it will strips out the remaining spaces. Does CHAR works the same way too?",learnSQL,What data type to use for 1 to 2 characters,1.0,https://www.reddit.com/r/learnSQL/comments/js8kcl/what_data_type_to_use_for_1_to_2_characters/
22,Twilight_Odin,1605117518,jsd159,4,1,"So I have this class and the professor recommended we download MS SQL Server and MS SQL Server Manager for our class. So I have already downloaded the Server Manager, not sure if it comes built in with MS SQL Server too.

So I go on Microsoft’s website and I see two free versions, a developer and an express version. Could anyone suggest the version best for a very very very beginner to this? I am thinking Express would be good but still. Or if the Server Manager already comes with the other one built in and I don’t need to install anything.

Thanks!",learnSQL,Newbie here. Which MS SQL to download for a student?,1.0,https://www.reddit.com/r/learnSQL/comments/jsd159/newbie_here_which_ms_sql_to_download_for_a_student/
23,TuloCantHitski,1605123601,jsf282,4,1,"Let's say I have column 1 and column 2:

A -&gt; 1

A -&gt; 2

B -&gt; 1

B -&gt; 4

C -&gt; 4

C -&gt; 2

C -&gt; 3


What I want for the output would be like:

A -&gt; 1

B -&gt; 4

C -&gt; 2


Basically, column 1 should never repeat itself AND column 2 should never repeat itself

I was trying with SELECT DISTINCT, but if you do that on both columns, I would get a repeat of A -&gt; 1 and A -&gt; 2

Thanks in advance!",learnSQL,Selecting from two columns such that there are no repeats in EITHER column?,1.0,https://www.reddit.com/r/learnSQL/comments/jsf282/selecting_from_two_columns_such_that_there_are_no/
24,HaleyMorn,1605155526,jso7c7,1,1,"This is how my query looked like: 

&gt;$sql = ""select [a.name](https://a.name), b.age from a right join b on [a.id](https://a.id) = [b.id](https://b.id) where ......  
&gt;  
&gt;union select select select [c.name](https://c.name), d.age from c right join ...............""

I want my output to look something like this:

row|name|age

1    |jam    |12

2    |rex     |15",learnSQL,"How to add sequential row in joined tables with union in mysql with MariaDB? I can't make it work, I've tried all possibilities of what I found in the internet and I can't seem to find a solution which uses union and joined table at the same time. Pls check description.",1.0,https://www.reddit.com/r/learnSQL/comments/jso7c7/how_to_add_sequential_row_in_joined_tables_with/
25,kreukle,1605197320,jsxap8,0,1,"Offering paid uni assignment solving I am looking for somebody to solve many university assignments. I have a website where students ask for help with Python, R-Studio, Matlab, SQL, Machine Learning, etc. It is well paid (~$25) per hour. Payments are to Paypal only. There is plenty od work right now to start with. Morever, it is not like freelancer.com or similar - we don't bid on price. Just take and complete, no time wasting.",learnSQL,Offering paid uni assignment statistics solving [many],1.0,https://www.reddit.com/r/learnSQL/comments/jsxap8/offering_paid_uni_assignment_statistics_solving/
26,CUBoulder_Interview,1605198927,jsxtgd,3,1,"I'm stuck on the B portion of this problem, any advice?

https://preview.redd.it/rug5c14z6uy51.png?width=1400&amp;format=png&amp;auto=webp&amp;s=5cdb872847c0cc08edcff1db57e3dfc8a24a2989",learnSQL,Need help returning the results in multiple columns,1.0,https://www.reddit.com/r/learnSQL/comments/jsxtgd/need_help_returning_the_results_in_multiple/
27,nonkeymn,1605230564,jt7rdh,0,1, ,learnSQL,Calculating A Running Total With SQL,1.0,https://www.youtube.com/watch?v=G3kYPzLWtpo
28,jarreed0,1605315668,jtsmz5,0,1, ,learnSQL,MySQL + Python Tut for Beginners,1.0,https://youtu.be/VPXIJIt7yJ8
29,khiari_hamdi,1605360738,ju1z02,23,1,"Hey guys,
I m an intermediate java developer and I want to start learning SQL.
How did you guys start ?",learnSQL,How did you learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ju1z02/how_did_you_learn_sql/
30,psdel,1605379478,ju6wne,8,1,"Using my database, this query works:

  

SELECT people.firstname, people.lastname, posnames.position, Year

FROM PosByYear 

JOIN people ON PersonID = [people.id](https://people.id)

JOIN posnames ON PosByYear.Position = posnames.posid 

ORDER BY Year, posnames.position, people.lastname  

&amp;#x200B;

And this query works:

SELECT \* FROM PosByYear WHERE position = 3

&amp;#x200B;

But this query (and any WHERE clause)  doesn't:

SELECT people.firstname, people.lastname, posnames.position, Year

FROM PosByYear 

WHERE position = 3

JOIN people ON PersonID = [people.id](https://people.id)

JOIN posnames ON PosByYear.Position = posnames.posid 

ORDER BY Year, posnames.position, people.lastname  

&amp;#x200B;

&amp;#x200B;

HELP!!",learnSQL,Need help with WHERE,1.0,https://www.reddit.com/r/learnSQL/comments/ju6wne/need_help_with_where/
31,dark-angel007,1605418416,juguil,1,1,"\- I used to use PopSQL on windows for running SQL queries. It all used to work fine.

\- But recently i've shifted to linux and im not able to connect to a database using PopSQL. (im even not able to connect to the database using vscode).

Please have a look at the error: [Error in PopSQL](https://ibb.co/ZSXm4xH)

\- Even though i've entered the password properly it's not connecting.

\- I'm new to linux if this has anything to do with the OS.

\- Please help me. I'm in dire need of help for setting this up.",learnSQL,Not able to connect to database (PopSQL) Please help.,1.0,https://www.reddit.com/r/learnSQL/comments/juguil/not_able_to_connect_to_database_popsql_please_help/
32,VanillaGuy22,1605462416,jupx6z,12,6,"Using azure DB which is i think T-Sql I have this query:

INSERT INTO Person (SSN, name, age)
VALUES
(12345657, ""Billy Bob"", 0);

Is there a way that I can alter this statement before actually inserting it if age==0, and instead make it NULL?",learnSQL,How do if/else when inserting a row?,0.88,https://www.reddit.com/r/learnSQL/comments/jupx6z/how_do_ifelse_when_inserting_a_row/
33,Adorable-Target-2337,1605500640,jv0g5u,2,6,"Hi everyone, I have a question in which I am unsure if I am doing this right. I apologize in advance that this may not be more related to SQL but it uses the language though.

I have a parking meter table in which it consists of id, installation and replacement dates. The meters have a life span of 5 years in which they will then needs to be replaced once  they have been use for 5 years.

In my following table:

\`\`\`

CREATE TABLE METER  
(  
MeterID INT NOT NULL  
InstallDate DATE NOT NULL,  
ReplaceDate DATE NULL,  
CONSTRAINT MeterPK PRIMARY KEY (MeterID)  
)

\`\`\`

For example, if I have a meter with the installation date at 2010-01-10, going by the date, it will have undergo 2 replacements (year 2015 and year 2020), should the InstallDate be updated too? Or stick it to the initial given date?

Or should the install date be 'triggered' in some way such that if the replacement date is no older than 5 years, the replacedate should be null?

I got confused between the installation and replacement date",learnSQL,Date checking/ triggers,1.0,https://www.reddit.com/r/learnSQL/comments/jv0g5u/date_checking_triggers/
34,Nicholas_TW,1605543495,jv9jqz,8,6,"Right now I have code which looks something like this:

    INSERT INTO @foo_table
    SELECT * FROM CORE.dbo.udf_GetFooTable
    
    -- start pesudocode
    IF ( COUNT(@foo_table.columnA) WHERE columnA = 'condition' ) &gt; 1:
        EXECUTE sp_StoredProcedure_example
    -- end pseudocode
    
    MERGE INTO Bar TARGET
    USING @foo_table SOURCE
    ON Target.ID = Source.ID

Basically, the query (which is actually much longer than shown above) retrieves a table using a UDF, then merges the results into another table.

Before the merge, I want to check to see if there are any entries in the UDF-retrieved table which match a specific condition. And, if so, execute a stored procedure.

How can I execute a stored procedure based on a condition in this way?

&amp;#x200B;

EDIT: Updated pseudocode",learnSQL,How to execute a stored procedure based on a condition?,1.0,https://www.reddit.com/r/learnSQL/comments/jv9jqz/how_to_execute_a_stored_procedure_based_on_a/
35,Hodiddly,1605546118,jvadbb,12,12,Ive recently finished sams teach yourself sql and have run through all of the exercises on w3schools without any hiccups. When can I put sql on my resume and start looking for jobs in the field? Could i wing it now? Should I continue practicing? Where would you recommend I find more ways to practice?,learnSQL,When to apply for sql related jobs?,1.0,https://www.reddit.com/r/learnSQL/comments/jvadbb/when_to_apply_for_sql_related_jobs/
36,[deleted],1605558691,jvehv6,0,1,[deleted],learnSQL,Need help learning how to use aggregate functions,1.0,https://www.reddit.com/r/learnSQL/comments/jvehv6/need_help_learning_how_to_use_aggregate_functions/
37,kwenzel1,1605566035,jvgun2,0,3, ,learnSQL,UNION and UNION ALL Set Operators,0.72,https://www.youtube.com/watch?v=FEQ79TZPFWQ&amp;feature=share
38,krame_krome,1605566297,jvgxjc,2,3,"Alright, so as the title implies, I currently have a query that returns the count(\*) of things sold on a given date ... so my results returned is simply something like the following:

&amp;#x200B;

https://preview.redd.it/36zg1nboioz51.png?width=237&amp;format=png&amp;auto=webp&amp;s=d418e7c3e5f1ac8efa55820c416ee5eaf628af33

In SQL, I'd like the logic to let me know when a date is missing. For example, if data was entirely missing for 11/9, when running the query - the results would simply be a message saying: 'Data for 11/9 is missing, please look into retrieving it'. 

My results will always have the last result be the present day's date &amp; it goes back 2 weeks. I'm mentioning this part as I believe this present day / 2 week lookback date range can somehow be used in this logic.",learnSQL,Writing logic in a query that checks if dates are in sequential order (looking for missing dates).,0.81,https://www.reddit.com/r/learnSQL/comments/jvgxjc/writing_logic_in_a_query_that_checks_if_dates_are/
39,DecodeAnalytics,1605634859,jvxezu,0,4, ,learnSQL,Install SSIS SSAS and SSRS,0.76,https://youtu.be/BwhN7s3Bv9Y
40,dracarys_drogon_48,1605681374,jwauxh,8,5,"Beginner here. Is there any source which explains the minute details and not so common conditions of sql queries and statements? Most sources just mention the most common conditions and basic stuff.

For eg, instead of just explaining case statement, it also says how it would be useful to use it along with order by. Or how count(col) won't return null values.
Such details.",learnSQL,Source to learn minute details in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/jwauxh/source_to_learn_minute_details_in_sql/
41,lynn0108,1605688917,jwcao6,2,1,"[there are discrepancies when extracting the datetime from an SQL server.](https://imgur.com/E0xtM8k)

The query now i use is

    ""SELECT * FROM clinic_time_table WHERE date BETWEEN $1 AND $2"", [start.toString(), end.toString()]

how do you extract datetime in its string exact format as in the SQL server so that javascript does not convert it to something stupid?

thanks.",learnSQL,extract EXACT datetime string from elephantSQL server,0.67,https://www.reddit.com/r/learnSQL/comments/jwcao6/extract_exact_datetime_string_from_elephantsql/
42,Federal-Crab8351,1605715977,jwilc4,3,3,"Within a SQL Database -- what is SALT and HASH encryption for the Passwords?

Like the function how is it applied and what does it do?",learnSQL,Password (SQL) Encryption Question,0.81,https://www.reddit.com/r/learnSQL/comments/jwilc4/password_sql_encryption_question/
43,Nicholas_TW,1605724695,jwlgx4,8,3,"There's a table with a specific cell I want to select and assign to an INT variable. What would the syntax be for that?

For example, if I have table Foo with columns **id** and **data** like so:

|id|data|
|:-|:-|
|1|3252|
|2|546|
|3|73|

If I wanted to select the '73' data value, could I do something like...

    DECLARE @data_value INT = SELECT data FROM Foo WHERE id = 3 

When I try this, it says I have a syntax error with 'SELECT' (presumably because the code doesn't KNOW I'm only selecting a single row with this query). Is there a way to achieve what I'm trying?

&amp;#x200B;

EDIT: Clarification",learnSQL,How to set a scalar variable using a SQL select?,0.81,https://www.reddit.com/r/learnSQL/comments/jwlgx4/how_to_set_a_scalar_variable_using_a_sql_select/
44,raisly_questions,1605732510,jwo3l4,2,3,"I've gotten a bit of a better understanding of declarative vs imperative by studying terraform a bit, which is a declarative language, keeping in mind current state and the config file and looking at the end result.  So like if you have a config file indicating the environment needs two EC2 instances, and you build, and then make some other change to the config again, and build again, it won't create two more additional EC2 instances in addition to the first two that were created in the first build.

What does it mean when we say SQL is declarative? 

Is what is meant is that it doesn't depend on any previously executed commands (aside from dropping tables, or deleting rows), but each command is individual and stand alone?",learnSQL,What do we mean when we say SQL is a declarative language,0.72,https://www.reddit.com/r/learnSQL/comments/jwo3l4/what_do_we_mean_when_we_say_sql_is_a_declarative/
45,Federal-Crab8351,1605738491,jwpzvw,12,1,How to sanitisze variable inputs and escape special characters?,learnSQL,Preventing SQL injection:,0.67,https://www.reddit.com/r/learnSQL/comments/jwpzvw/preventing_sql_injection/
46,nahakubuilder,1605783957,jx0t86,3,2,"I am trying to find a way, if possible, to import data from excel file csv or xlsx to mysql database.

Where first column is as index similar to IP address and rest of the columns are data i want inport to database, something like this query.

    update `locations` SET `item` = [column2],`customer`=[column3],`amount`=[column4] where `location` = [column1];

I would probably create php web interface for this or used PHP myadmin to do this, in worst case if it is not possible to make with website, i can create desktop python application. 

any suggestions?",learnSQL,How i can inport data from excel file to mysql database based on first column?,1.0,https://www.reddit.com/r/learnSQL/comments/jx0t86/how_i_can_inport_data_from_excel_file_to_mysql/
47,KommanderTom,1605801781,jx5cgr,5,1,"Let's say for UniqueCode '12345', there is a price value of 20.00 for all DateCode from 1-29. The 20.00 price value isn't copied over for DateCode 30-35, so I'm looking into doing that for each UniqueCode and each of them has different prices.

Ex) '12346' 40.00, '12347' 25.00, '20,000' 200.00. These codes and the rest have 00.00 for DateCodes starting from 30 to 35.

So far I have 

    UPDATE TABLE
    SET PRICE = '00.00'
    WHERE DateCode in ('30','31','32','33','34','35');

This currently sets the price to 00.00 for each DateCode from 30 to 35.",learnSQL,How do I copy over values in multiple columns per unique code?,1.0,https://www.reddit.com/r/learnSQL/comments/jx5cgr/how_do_i_copy_over_values_in_multiple_columns_per/
48,iwaterboardoldpeople,1605858267,jxkynl,4,1,"`\`S\`.\`order_status\` = 'IN_TRANSIT' and (if(\`S\`.\`selectedVoyage_destinationAta\`is null, \`S\`.\`selectedVoyage_destinationEta\`&lt; Now(),\`S\`.\`selectedVoyage_destinationAta\`&lt;now() ))`

It's part of a WHERE statement, I don't get the &lt; NOW() in the true and false argument.",learnSQL,What does this line of IF code means?,1.0,https://www.reddit.com/r/learnSQL/comments/jxkynl/what_does_this_line_of_if_code_means/
49,mooodii7,1605874401,jxnyl7,5,1,I'm trying to atuomate a job but I'm facing an issue where I need to calculate something each quarter and I'm using the Quarter () function but the issue os that's it's counting a quarter without it being finished and I'm really stuck,learnSQL,The best way to eliminate a quarter that isn't finished,1.0,https://www.reddit.com/r/learnSQL/comments/jxnyl7/the_best_way_to_eliminate_a_quarter_that_isnt/
50,OfficeComputerChair,1605889216,jxs12s,5,1,"This is kind of a complex issue I've been working on the last few weeks. I've tried to resolve it on my own and have some ideas on how to handle this, but it needs refinement. 

So I need to create a query that will only return information under certain conditions. An employee is assigned to a ticket and can have a role. If an employee is assigned to a certain ticket, it will return ticket name, ticket number, ticket subject (content of the ticket), and ticket date. This information is listed in a ticket details table. The employee must be part of a specific role which is listed in the staff table. 

However, right now, the query displays every ticket that was approved. I only want the tickets that were approved if the user was assigned directly to the ticket. 

select distinct  tid.C_TICKET_NUMBER, tid.C_TICKET_NAME, tid.C_TICKET_SUBJECT, tid.C_TIC_APPROVED
FROM T_Ticket_Details tid
left join T_Ticket_Staff ts on ts.c_employee = tid.c_created_by_id
WHERE (ts.C_ROLE = '5') OR (ts.C_ROLE = '6') 

The query results in a lot of entries right now which is not what I want. I am trying to limit the query output but trying to single out the query to only show a ticket the user is assigned to (according to role)  is what has me stumped. 

More information on the tables: 

Table Ticket Details contains the following columns which may be useful: c_Created_By (username), C_Created_By_ID, c_Created_Date, c_TICKET_NUMBER, C_Ticket_Name, C_SUBJECT

Table Ticket Staff contains following columns which may be useful: 
C_CREATED_BY (username), C_Employee (links to another table, integer field), C_ROLE (integer field linking to a role table)",learnSQL,Need ideas on how to associate certain ticket information in multiple tables.,1.0,https://www.reddit.com/r/learnSQL/comments/jxs12s/need_ideas_on_how_to_associate_certain_ticket/
51,deguza,1605917843,jy0uaf,5,1,"Hello all,

&amp;#x200B;

I'm relatively new to SQL. I'm on the Microsoft platform and use the Management Studio.

&amp;#x200B;

Yesterday for the first time I use the SQL variable declaration construct. My query runs without any errors. However, the variable I declared ends up giving all zeros.

&amp;#x200B;

What am I doing wrong?

&amp;#x200B;

Thank you!

&amp;#x200B;

Deguza

&amp;#x200B;

– – – Here is my code:

    DECLARE  u/Depart_Points AS INT  
    SELECT   u/Depart_Points = (CASE				
    	WHEN 			
    		(LEAD(AdmitDate) OVER (ORDER BY ClientID, AdmitDate, FormNumber) = AdmitDate			
    		AND 
    		LEAD(Client_ID) OVER (ORDER BY ClientID, AdmitDate, FormNumber) = Client_ID)
    	THEN
    		LEAD(DepartPoints) OVER (ORDER BY ClientID, AdmitDate, FormNumber)			
    	ELSE '' END) 	
    FROM SQLSRV57.[Bookings].[dbo].[Clients] 
    
    SELECT
    TOP 100%
    	 [AdmitDate]					
    	,[DepartDate]
    	,[FormNumber]
    	,[FormName]
     	,[ClientID]	
    	,[FirstName]
    	,[LastName]
    	,[Points]
    	,@DepartPoints
    	,@DepartPoints-[Points] AS Improvement
    FROM SQLSRV57.[Bookings].[dbo].[Clients] 
    ORDER BY ClientID, AdmitDate, FormNumber

Sample data

https://preview.redd.it/vrdcxwbzjh061.png?width=541&amp;format=png&amp;auto=webp&amp;s=a79730853002091e9748d8af0d7aa5688cd2d38d

&amp;#x200B;

What I am expecting:

&amp;#x200B;

https://preview.redd.it/e898m1oakh061.png?width=687&amp;format=png&amp;auto=webp&amp;s=a4517558d7008ed024dfde20886be2de84a012e4",learnSQL,Question on SQL Variable declaration,1.0,https://www.reddit.com/r/learnSQL/comments/jy0uaf/question_on_sql_variable_declaration/
52,hombre_lobo,1605926909,jy363y,2,1,"I have a single table with 4 columns This statement gets me the most recent entry:

    SELECT ParamData, ParamTime, ParamType, DeviceId
    FROM DataTable
    WHERE
        ParamTime = (SELECT MAX(ParamTime) FROM DataTable)
Now I want to add the 2 conditions:

    SELECT ParamData, ParamTime, ParamType, DeviceId
    FROM DataTable 
    WHERE
    ParamTime = (SELECT MAX(ParamTime) FROM DataTable WHERE ParamType = ""3"" AND DeviceId = ""F14049B1BC974"")
The above SQL statement doesn't work as expected.

It almost feels like I need to have a query that finds ParamType and DeviceId, and then another query that finds for the oldest timestamp from that result?

Any help is appreciated",learnSQL,Help please - Find Most Recent entry from single table with 2 conditions,1.0,https://www.reddit.com/r/learnSQL/comments/jy363y/help_please_find_most_recent_entry_from_single/
53,Mission_Fix3651,1606058625,jyxc17,0,1, ,learnSQL,New post. An attempt to explain SQL recursion visually.,1.0,https://denis-lukichev.medium.com/recursion-in-sql-explained-graphically-679f6a0f143b
54,LateThree1,1606086151,jz5m55,0,1,"I have a university project where I need to do some simple analysis on a large dataset of my choosing, and we are to run this in the Hadoop system. I am choosing to use Hive because I have essentially no experience with databases, but I like Hive.

Anyway, I have got a chess dataset, and I have been able to extract some columns of interest, such as the names of the opening moves, and find how often they occur. Things like that. 

I would like to be able to take a look at the first few move from each game, and that brings me to my problem. The notation for all moves is stored in a column called `moves`, and looks like this:

&amp;#x200B;

[Chess Moves](https://preview.redd.it/n6gtf4yggv061.png?width=553&amp;format=png&amp;auto=webp&amp;s=fafb4a1c5eaac3a2f2ac17ffb3165e97a193e626)

This column is in a .csv file called `chess game`.

How would I go about extracting say, the first 4 moves into a new table called something like `opening_moves`.

Thanks in advance for any advice.",learnSQL,Splitting column contents (Hadoop Hive),1.0,https://www.reddit.com/r/learnSQL/comments/jz5m55/splitting_column_contents_hadoop_hive/
55,xclhalp,1606156554,jzngcb,7,1,"I need help with my code because I'm not getting desired output.

&amp;#x200B;

SELECT DISTINCT

PATIENT\_ID, PATIENT, BIRTHDATE

FROM DATABASE

WHERE DATABASE.CONTROL\_ID = (SELECT MAX(DATABASE.CONTROL\_ID) FROM DATABASE)

https://preview.redd.it/nt0ut8rfa1161.png?width=409&amp;format=png&amp;auto=webp&amp;s=1b3977023f1f4ab049acadbe4f3cb8f375fd6105",learnSQL,Help with SQL syntax,1.0,https://www.reddit.com/r/learnSQL/comments/jzngcb/help_with_sql_syntax/
56,DasYoung_Thugger,1606175939,jztrja,1,1,"Hello everyone! 

I am not very experienced with SQL and I am trying to complete a class project. I am trying to create the tables for my database but I keep getting this error ""missing keyword"" and I can't for the life of me figure out the problem. I put pictures of the statement and error below. I appreciate any advice you can give. Thanks!

[https://gyazo.com/d29affe69f2bf29e444bc8fc6cf25694](https://gyazo.com/d29affe69f2bf29e444bc8fc6cf25694)

[https://gyazo.com/5c5d761c9b54163a8984e2768768c290](https://gyazo.com/5c5d761c9b54163a8984e2768768c290)",learnSQL,"Help with ""Missing Keyword"" error",1.0,https://www.reddit.com/r/learnSQL/comments/jztrja/help_with_missing_keyword_error/
57,Irina__Jelavic,1606216947,k038u6,4,1,I am completely new to programming. I was trying to download SQL but instead I found SQL server or MySQL. which one should I download? I am learning how to use it through a DataCamp course,learnSQL,Why I cannot find SQL free download?,1.0,https://www.reddit.com/r/learnSQL/comments/k038u6/why_i_cannot_find_sql_free_download/
58,PlethoraOfFuckery,1606233824,k07pv5,0,1, ,learnSQL,INFORMATION_SCHEMA Views,1.0,http://jebbr.com/2020/11/24/information_schema-views/
59,TheBlackPopeOP,1606234157,k07tu9,2,1,"I need to find the largest sum among a group of sums. I'm trying this:

    SELECT MAX (SELECT SUM(dblPledgePerHole))
    FROM TEventGolferSponsors
    GROUP BY intEventGolferID

but it's throwing a syntax error on line 1. Everything I've looked at says this syntax should be fine. What am I missing?",learnSQL,Having problems using MAX() with SUM() subquery,1.0,https://www.reddit.com/r/learnSQL/comments/k07tu9/having_problems_using_max_with_sum_subquery/
60,whiskeybreathtx,1606243647,k0b1dw,0,1,"Hey there, so I'm a huge idiot and can't seem to figure this out. I recently had a course where we learned and used SQL. I did well on the assignments and whatnot but with some extra free time for Thanksgiving break, I decided to take on a little project since I actually really enjoy using SQL, I'm just not that good at it.

I have a  common AQI dataset that has each county in the US for every day in the years, 1999, 2009, and 2019. I cannot for the life of me figure out how to see the difference from the average AQI in 2019 to the average AQI in 1999.

I have created views but get one of the averages to display as a constant. I have tried subqueries but can't seem to get that to work either. I feel like I'm overthinking this and wanted to see if anyone might be able to give me a quick tip on how to approach this. 

I have been using Postgres but my computer kept freezing so I downloaded Beekeeper after reading that it's quick and easy to use.",learnSQL,Stuck on simple calculation... Need Guidance!,1.0,https://www.reddit.com/r/learnSQL/comments/k0b1dw/stuck_on_simple_calculation_need_guidance/
61,StartlingCat,1606244502,k0bbvt,3,1,"I'm new at database design and decided to build a small project to practice with using some interesting and free datasets.  I decided to use the Presidential election data 1976-2016.  I would like some help on how to look at this spreadsheet and determine how to build a schema with it.

[https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/42MVDX/MFU99O&amp;version=5.0](https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/42MVDX/MFU99O&amp;version=5.0)

From this, the columns I would use are:  
year | state | state\_po | candidate | party | writein | candidatevotes | totalvotes  


I thought it would be straightforward, but when I saw that some candidates ran in different parties in different states in the same year, I wasn't sure how to break this up and join them back together properly, and wasn't sure if a separate table for each column was the correct way to go.

Thanks for taking the time to help with this.",learnSQL,Help deciding how to break this spreadsheet into tables to build a database in SSMS,1.0,https://www.reddit.com/r/learnSQL/comments/k0bbvt/help_deciding_how_to_break_this_spreadsheet_into/
62,biggbrother23,1606258840,k0fw4a,0,1, ,learnSQL,Consider leveraging Udemy BFD,1.0,https://www.tryblackfriday.com/2020/11/udemy-black-friday.html
63,jarreed0,1606281899,k0lyem,0,1, ,learnSQL,Send SMS with Python and Vonage,1.0,https://youtu.be/L1Td2O36wOk
64,TheBlackPopeOP,1606321580,k0v8td,7,1,"I have an app that calculates donations made to golfers in a charity golf event. I need to query the database and return the golfer who has received the most donations. This involves a query to calculate the MAX of the SUM of the donations, but I then need to tie that result to the golfer's first and last name. I'm not sure what the syntax of the query should be. Is this even possible with a single query, or do I need multiple queries + a variable (I'm using MySQL)? 

This is what I have, but it's giving me all kinds of errors. 

    SELECT TG.strFirstname, TG.strLastName, MAX(sum_pledge) AS max_pledge
    FROM TGolfers AS TG, TEventGolfers AS TEG, TEventGolferSponsors AS TEGS, 
           ( SELECT SUM(dblPledgePerHole) AS sum_pledge
           FROM TEventGolferSponsors
           GROUP BY intEventGolferID ) AS pledges
    WHERE TG.intGolferID = TEG.intGolferID AND TEG.intEventGolferID = TEGS.intEventGolferID

Thanks for any help, I really appreciate it.",learnSQL,Combining subquery with regular queries in a single query?,1.0,https://www.reddit.com/r/learnSQL/comments/k0v8td/combining_subquery_with_regular_queries_in_a/
65,xJoe16,1606326263,k0wu77,0,1,"Hi all,

 I'm trying to create a trigger where before an update occurs on pcs table, if the value in price column is changed, then it'll insert the old values into another table. The following is my code:

    CREATE TRIGGER pcs_trigger
BEFORE UPDATE ON pcs
FOR EACH ROW BEGIN
 IF OLD.price &lt;&gt; NEW.price THEN INSERT INTO price_change_log VALUES (OLD.model, OLD.price);
END;

However, when I run it, I get a error message:

    Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2

Any help is greatly appreciated!",learnSQL,SQL Trigger throwing ER_PARSE_ERROR,1.0,https://www.reddit.com/r/learnSQL/comments/k0wu77/sql_trigger_throwing_er_parse_error/
66,nobodyinparticul4r,1606332640,k0z1lc,4,1,"I want to retrieve text from a field that has html. The html is for rich text so it's kind of a mess. Everything I have seen online uses a user defined function, and I don't have access to creating functions on the database I'm using. Thanks in advance to anyone who helps me out!",learnSQL,Does anyone know of a good way to strip HTML using sql,1.0,https://www.reddit.com/r/learnSQL/comments/k0z1lc/does_anyone_know_of_a_good_way_to_strip_html/
67,feivel123,1606408149,k1i7r2,6,1,"    SELECT S.CITY, J.CITY 
    FROM SPJ,S,J
    WHERE S.SNO = Spj.SNO AND j.JNO = spj.JNO; 

https://preview.redd.it/yc3iug4g2m161.png?width=179&amp;format=png&amp;auto=webp&amp;s=03fe889efd3add976a6ab2f1304260fbb1c0e840

https://preview.redd.it/5yhg3x3g2m161.png?width=572&amp;format=png&amp;auto=webp&amp;s=c3d6e2f2e511d61a6d15cdd50a30a4d2f4fb07ac",learnSQL,Could somebody help me understanding the output from this command?,1.0,https://www.reddit.com/r/learnSQL/comments/k1i7r2/could_somebody_help_me_understanding_the_output/
68,ArutanSipdrae,1606428253,k1oesv,6,1,"I'm trying to use ON DELETE for foreign keys in my tables but I get an error that I don't know why

&gt;Introducing FOREIGN KEY constraint 'FK\_\_ManyCusto\_\_proje\_\_2DBD803D' on table 'ManyCustomerToManyProject' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.

Is it because I have 2 foreign keys in the same table? 'cause I don't see where can this cause cycle/multiple cascade path as the referencing only goes 1 way... if so, how should I handle relationnal tables for rows to be deleted upon one of the foreign key being deleted?

&amp;#x200B;

`CREATE TABLE Company`

`(`

`pk_id BIGINT IDENTITY PRIMARY KEY,`

`)`

&amp;#x200B;

`CREATE TABLE Customer`

`(`

`pk_id BIGINT IDENTITY PRIMARY KEY,`

`)`

&amp;#x200B;

`CREATE TABLE Project`

`(`

`pk_id BIGINT IDENTITY PRIMARY KEY,`

`)`

&amp;#x200B;

`CREATE TABLE ManyCustomerToManyProject`

`(`

	`customer_id BIGINT REFERENCES Customer (pk_id) ON UPDATE CASCADE ON DELETE CASCADE NOT NULL,`

	`project_id BIGINT REFERENCES Project (pk_id) ON UPDATE CASCADE ON DELETE CASCADE NOT NULL,`

`)`",learnSQL,ON DELETE with multiple foreign keys,1.0,https://www.reddit.com/r/learnSQL/comments/k1oesv/on_delete_with_multiple_foreign_keys/
69,iFlipsy,1606443844,k1sjhr,3,1,"Aside from certifications, how else could someone demonstrate their value in knowing SQL? In other words, how can you build a portfolio to showcase your knowledge of SQL?",learnSQL,How can I display SQL proficiency and knowledge to employers?,1.0,https://www.reddit.com/r/learnSQL/comments/k1sjhr/how_can_i_display_sql_proficiency_and_knowledge/
70,PlethoraOfFuckery,1606481840,k20mir,0,1, ,learnSQL,Pull Data from Multiple Databases,1.0,http://jebbr.com/2020/11/27/pull-data-from-multiple-databases/
71,ArutanSipdrae,1606491682,k23e2b,0,1,"I'm having issue with cascade path due to a table referencing twice another one and thus can't use ON DELETE on the foreign keys, so I wanna use trigger instead, but triggers are triggered only before/after queries like INSERT, UPDATE or DELETE.  Do ON UPDATE/DELETE actually produce one of those queries, activating the triggers?",learnSQL,Can I use trigger with ON UPDATE/DELETE ?,1.0,https://www.reddit.com/r/learnSQL/comments/k23e2b/can_i_use_trigger_with_on_updatedelete/
72,pm_90,1606495758,k24opf,10,1,"Hi everyone, 

Just looking for pointers to get a table showing the top 20 selling products on our webstore per month. 

I have written a view which gives me everything that sells per month but I am unsure how to limit it to show top 20 selling products for November, October, September,etc (the site launched on July 1st so there isn't years of data to go back through yet)

    SELECT TOP (1000) ROW_NUMBER() OVER ( ORDER BY [Month] desc) AS RN,
           [MONTH],
           [ItemCode],
           COUNT([ItemCode]) AS QtyLines,
           [WebCategory],
    	  
          SUM([QTY]) As TotalQty,
          SUM(CAST([NET] AS DECIMAL(10,2))) AS TotalNet,
          SUM(CAST([VAT] AS DECIMAL(10,2))) AS TotalVat,
          SUM(CAST([TOTAL] AS DECIMAL(10,2))) AS TotalRevenue,
          SUM(CAST([COST] AS DECIMAL(10,2))) AS TotalCost,
          SUM(CAST([MARGIN] AS DECIMAL(10,2))) AS TotalMargin , 
          ROUND(SUM([Margin]) / Sum(NULLIF([TOTAL],0)), 4) * 100 AS MarginPercentage
          
    	FROM [Server].[dbo].[View_Detailed_WebSales]
      WHERE InvDate &gt;= '2020-07-01' AND InvDate &lt;= getDate()
      GROUP BY [Month], [ItemCode], [WebCategory])
    
     ORDER BY [Month] desc, [QtyLines] desc

I have added row numbers as some similar questions have had responses where row numbers are a way to solve this. 

     Select *
      FROM (SELECT TOP (1000) ROW_NUMBER() OVER ( ORDER BY [Month] desc) AS RN
           ,[MONTH]
    	   ,[ItemCode]
    	   ,COUNT([ItemCode]) AS QtyLines
    	   ,[WebCategory]
    	  
          ,SUM([QTY]) As TotalQty
          ,SUM(CAST([NET] AS DECIMAL(10,2))) AS TotalNet
          ,SUM(CAST([VAT] AS DECIMAL(10,2))) AS TotalVat
          ,SUM(CAST([TOTAL] AS DECIMAL(10,2))) AS TotalRevenue
          ,SUM(CAST([COST] AS DECIMAL(10,2))) AS TotalCost
          ,SUM(CAST([MARGIN] AS DECIMAL(10,2))) AS TotalMargin  
          ,ROUND(SUM([Margin]) / Sum(NULLIF([TOTAL],0)), 4) * 100 AS MarginPercentage
          
    	FROM [Sage200_HomecareLive].[dbo].[PCAL_Detailed_WebSales]
      WHERE InvDate &gt;= '2020-07-01' AND InvDate &lt;= getDate()
      GROUP BY [Month], [ItemCode], [WebCategory]) as t
      WHERE t.RN &lt;=20
    
     ORDER BY [Month] desc, [QtyLines] desc

Above is my somewhat feeble attempt at finding what I am looking for but all it returns is 20 results. 

Am I moving in the right direction?

Any advice would be massively appreciated. 

Thank you!",learnSQL,Top Selling Products Per Month,1.0,https://www.reddit.com/r/learnSQL/comments/k24opf/top_selling_products_per_month/
73,LateThree1,1606497918,k25ebf,1,1,"I have 5 different tables, and I would like to know how to create a new table, called \`total\_counts\` which has 5 columns each with the total row count from the individual tables. So, something like

|Flights\_2015|Flights\_2016|Flights\_2017|Flights\_2018|Flights\_2019|
|:-|:-|:-|:-|:-|
|223541|251782|233658|124738|5546789|

My data is road flights for each year from 2015 to 2019, so I would like a table which just gives me the total number of accidents in each year.

I have tried variations of the following:

    create table total_counts
    as select COUNT(*)
    from flights_2014 as ""2014_count"", flights_2015 as ""2015_count;

I can get the counts for an individual year, but I can't seem to give the columns a heading, nor can I figure out how to do it for all my tables.

Thanks.",learnSQL,New table with row counts,1.0,https://www.reddit.com/r/learnSQL/comments/k25ebf/new_table_with_row_counts/
74,mister_patience,1606503226,k276ea,5,1,"I've been searching for this answer online but haven't found anything that clearly states what I need it to.

When doing multiple joins, what are you joining to?

&amp;#x200B;

 

`SELECT country.country_name_eng, city.city_name, customer.customer_name`  
`FROM country`  
`INNER JOIN city ON city.country_id = country.id`  
`INNER JOIN customer ON customer.city_id = city.id;`

&amp;#x200B;

Is the second join impacted by the first? Or is it just an inner join between customer and country tables?

&amp;#x200B;

Hope this question makes sense!",learnSQL,Multiple joins question,1.0,https://www.reddit.com/r/learnSQL/comments/k276ea/multiple_joins_question/
75,skepticalthrow699,1606544178,k2ior2,0,1,"So as part of an assignment we need to take some tables we built, and design correlated queries to verify constraints when data is imported. I understand the basis of a correlated query, that makes sense. What I don't understand is the logic behind it. For instance, say I have an employee table as so:

	EmployeeID INT IDENTITY(1,1),
	FirstName VARCHAR(50) NOT NULL,
	LastName VARCHAR(50) NOT NULL,
	Title VARCHAR(50) NOT NULL,
	ManagerID INT NULL,
	Salary DECIMAL(10,2) NOT NULL,
	FK_Address INT NOT NULL

Using a correlated query how would I be able verify that each line is unique? Im turning to reddit as a last resort in this case. 

I really appreciate the help and thank you in advance.",learnSQL,Correlated Query to validate constraints on data import - Kind of Lost,1.0,https://www.reddit.com/r/learnSQL/comments/k2ior2/correlated_query_to_validate_constraints_on_data/
76,kh-appy,1606558865,k2leoq,5,1,"Hi Guys,

Im a Biz Econ Student that needs SQL to survive. I want to pass the MS MTA basic SQL certification thing, but im sure as hell not paying $2k to do so. The language looks pretty easy, it reminds me of STATA/IC for econometrics. Im wondering what the best and most affordable way to start is, and i'm completely open to literally just working with MySQL or something right off the bat and just playing with databases and practicing with scenarios. 

All pointers are appreciated thanks!",learnSQL,Completely New To SQl,1.0,https://www.reddit.com/r/learnSQL/comments/k2leoq/completely_new_to_sql/
77,ZeroVirusXIII,1606599678,k2wazv,1,1,"Hello, I'm looking for some assistance on a project that I am currently undertaking.

I'm new to this subreddit but also to database design and I am not entirely sure if I have my DBDL designed correctly to where it would be in 3NF at the least. I enjoy learning so if someone could help me to understand the normalization process and help to correct my DBDL I would greatly appreciate that.  
Also another question, is it possible to make an AutoNum a primary key, why or why not?

Thank you!

    CustomerBalance (CustomerNum(PK), YTDSales, CurrentBalance, CreditLimit)
    FK – CustomerNum  Customer, CustomerShipTo
    
    Customer (CustomerNum(PK), CustomerName, Address1, Address2, City, State, Zip, TerritoryNum, EmployeeID)
    FK – EmployeeID  SalesRep
    FK – TerritoryNum  Territory
    
    CustomerShipTo (CustomerNum(PK), STName, STAddress1, STAddress2, STCity, STState, STZip, TerritoryNum, EmployeeID)
    FK – EmployeeID  SalesRep
    FK – TerritoryNum  Territory
    
    Employee (EmployeeID(PK), LastName, FirstName, Address, City, State, Zip, Position)
    Inventory (ItemNum, Description, Price, YTDUnitsSold, UnitsOnHand, UnitsAllocated, ReorderPoint, MinOrder, LeadTime)
    
    ItemVendor (ItemNum(PK), VendorNum(PK))
    FK – ItemNum  Inventory
    FK – VendorNum  Vendor
    
    ItemOrder (OrderNum(PK), ItemNum(PK))
    FK – ItemNum  Inventory
    FK – OrderNum  Order
    
    Invoice (InvoiceNum(PK), InvoiceDate, OrderNum, ShipDate, Shipped)
    FK – OrderNum  Order
    
    Order (OrderNum(PK), ItemNum, Price, NumOrdered, Amount, SubTotal)
    FK – ItemNum  Inventory
    
    SalesRep (EmployeeID(PK), LastName, FirstName, Address, City, State, Zip, Position, TerritoryNum)
    FK – TerritoryNum  Territory
    
    Territory (TerritoryNum(PK), State)
    
    Vendors (VendorNum(PK), VendorName, Address, City, State, County, Zip)
    
    WorkOrder (OrderNum(PK), OrderDate, CutomerNum, EmployeeID)
    FK – CustomerNum  Customer
    FK – SalesRep  EmployeeID",learnSQL,Database design project,1.0,https://www.reddit.com/r/learnSQL/comments/k2wazv/database_design_project/
78,Somuchwastedtimernie,1606610187,k2zccd,6,1,"Hey All!

I've recently started learning SQL and I had a quick question regarding it's order of operations. I usually like to create outlines for quick reference when writing queries but so far from what I can tell the order more or less goes as follows:

* SELECT
* FROM
* GROUP BY
* WHERE
* HAVING
* ORDER BY
* LIMIT

can anymore confirm or provide any additional thoughts? 

Thanks in advance!",learnSQL,QQ about SQL query flows,1.0,https://www.reddit.com/r/learnSQL/comments/k2zccd/qq_about_sql_query_flows/
79,mymar101,1606618975,k31q7e,6,1,"Let’s say I have a button, and I want to know how many times it’s been clicked , or an option selected or whatever. Or even the number of times I Practiced piano throughout the day.  The thing doesn’t matter as much as how do I add something like this to a database?",learnSQL,What is the proper way of keeping track of the number of times x happens?,1.0,https://www.reddit.com/r/learnSQL/comments/k31q7e/what_is_the_proper_way_of_keeping_track_of_the/
80,tackyOnhisway,1606647005,k37i8f,4,1,"So I have 2 tables

Table Order: 

order_id, order_From_Date, order_To_Date, order_on_Date


Table Codes: 

Codes_id, Valid_From, Valid_to, Code_Created_Date

So the codes refer to discount codes, 
I have to find the no of orders made using each code",learnSQL,How to use 2 tables together,1.0,https://www.reddit.com/r/learnSQL/comments/k37i8f/how_to_use_2_tables_together/
81,snake_py,1606654650,k38yjz,1,1,"Hey I am using sqlite and I want to create a query which returns me an object like this:  


    {
    id : 1,
    language: JavaScript,
    framewokrs: [{frameworkobject}]
    }

My current query returns me for each framework one row.

            SELECT 
            languages.id,
            languages.long AS language,
            languages.icon AS languageIcon,
            frameworks.long AS framework,
            frameworks.icon AS frameworkIcon
            FROM languages
            INNER JOIN frameworks ON languages.id=frameworks.language_id;

I tried to use a `GROUB BY` with `CONCAT` but it did not really work out.",learnSQL,Can someone help me with this join? I want an array inside one object - sqlite,1.0,https://www.reddit.com/r/learnSQL/comments/k38yjz/can_someone_help_me_with_this_join_i_want_an/
82,a2nlpimee,1606661279,k3aixs,10,1, ,learnSQL,"Display all employees name except the name who are teachers. Can't use ""EXCEPT"" Clause here, so need an alternative of ""EXCEPT"" clause.",1.0,https://i.redd.it/5fqvv7qxu6261.png
83,Substantial_Pie_5696,1606675847,k3euaw,2,1,"This is what I've understand from w3 site

MAX is an Aggregate  function, https://www.w3schools.com/sql/sql_groupby.asp

Having is used with aggregate functions https://www.w3schools.com/sql/sql_having.asp

But, they are using WHERE in syntax, https://www.w3schools.com/sql/sql_min_max.asp",learnSQL,"What to use with MAX(), WHERE or HAVING",1.0,https://www.reddit.com/r/learnSQL/comments/k3euaw/what_to_use_with_max_where_or_having/
84,abon90,1606704613,k3n9fr,2,1,"I have been trying to answer this question: What are the customer ID and name for customers that have made any order containing only one product?

I used:
SELECT c.customerID, c.customerName,
             COUNT (ol. orderID) AS 'product qty'
FROM Customer_T c, OrderLine_T ol
GROUP BY c.customerID, c.customerName, ol.orderID
HAVING COUNT (ol.orderID) = 1;

the orderline table has the following attributes: orderID, productID, and orderedquantity 



The results keep giving me 60 rows but when I look at the orderline table, there should only be about 5 rows. Does anyone have any advice for this problem?",learnSQL,returning the results for a count,1.0,https://www.reddit.com/r/learnSQL/comments/k3n9fr/returning_the_results_for_a_count/
85,jimbobjam2020,1606716689,k3q7bs,10,1,"Hi, I want to use the like argument however some of my data contains plural versions. I want to be able to create a single argument that is like ""%test %"" that means that there must be a space after the word (to eliminate the s) before there is another character. Can anyone advise how to do this?",learnSQL,Help with Like argument,1.0,https://www.reddit.com/r/learnSQL/comments/k3q7bs/help_with_like_argument/
86,East-Barracuda-6479,1606723287,k3rmd3,0,1,[removed],learnSQL,sql developer delete duplicates from columns from 2 tables query,1.0,https://www.reddit.com/r/learnSQL/comments/k3rmd3/sql_developer_delete_duplicates_from_columns_from/
87,3rdtimecharm3,1606834250,k4m9an,6,1,"I'm a total noob trying to practice with w3resource, but the editor doesn't give out error statements which makes it really difficult to know what I'm doing wrong. 

The question is: ""Write a query in SQL to display the list of players scored number of goals in every matches""

There are three tables: a goal_details table with goal_id, match_no, player_id, team_id, goal_time, goal_type, play_stage, goal_schedule, goal_half

a soccer_country table with country_id, country_abbr, country_name

a player_mast table with player_id, team_id, jersey_no, player_name,  posi_to_play, dt_of_bir, age, playing_club


The query I wrote:
    select player_mast.player_name, goal_details.player_id
    from (goal_details inner join player_mast on 
    goal_details.player_id = player_mast.player_id)
    where goal_details.player_id 
    in (select count(*), goal_details.player_id
    from goal_details
    group by goal_details.player_id
    having count(*) &gt; 1)

Here's a link to the question and schema in case I explained very stupidly: https://www.w3resource.com/sql-exercises/soccer-database-exercise/sql-subqueries-exercise-soccer-database-6.php

I'm a total noob even after taking several courses, so maybe this isn't for me, but I'd appreciate the help",learnSQL,Can anyone help explain why my query is incorrect?,1.0,https://www.reddit.com/r/learnSQL/comments/k4m9an/can_anyone_help_explain_why_my_query_is_incorrect/
88,Nicholas_TW,1606841706,k4orx5,1,1,"When merging two tables, I want to use OUTPUT to save the value of the record BEFORE and AFTER it is updated. How can I do this?

&amp;#x200B;

*Example*:

Let's say I have this table:

Foo:

|a|b|c|
|:-|:-|:-|
|1|2|3|

&amp;#x200B;

And table Bar:

|a|b|c|
|:-|:-|:-|
|1|7|7|
|2|2|1|

&amp;#x200B;

And table StoredRecord:

|a|old\_b|new\_b|
|:-|:-|:-|
|*empty*|*empty*|*empty*|

&amp;#x200B;

And the following merge statement:

    MERGE Bar as TARGET
    USING Foo as SOURCE
        ON (SOURCE.a = TARGET.a)
    WHEN MATCHED
        UPDATE
            SET  b = SOURCE.b
                ,c = SOURCE.c
    WHEN NOT MATCHED
        INSERT (a, b, c)
        VALUES (SOURCE.a, SOURCE.b, SOURCE.c)
    
    OUTPUT a, TARGET.b, SOURCE.b INTO StoredRecord
    
    ;

...I get an error saying:

`The multi-part identifier ""TARGET.b"" could not be bound.`

Is there a way I can use OUTPUT to get the value, pre-merge? If not, is there a clean workaround?",learnSQL,How to save pre- and post- merge data?,1.0,https://www.reddit.com/r/learnSQL/comments/k4orx5/how_to_save_pre_and_post_merge_data/
89,LevelFig9,1606843409,k4pdw2,0,1,"Budding web developers learning [Model-View-Controller frameworks](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) are taught that they should use an Object Relational Mapper (ORM) to interface with their databases. But the “why” is often brushed aside or omitted entirely, leaving a fledgeling programmer with burning questions like ”What are ORMs, anyway?” and “What problems do they solve?”

ORMs are a class of tools that facilitate interactions between a programming language and a relational database management system. They can range in complexity and opinionation from a simple set of abstractions for interactions with relational databases (SQLAlchemy Base) to fully opinionated tools for mapping database rows to language structs (Django ORM, SQLAlchemy ORM). To get a better understanding of how ORMs work, it’s helpful to work through the kind of problems they can solve.

This article aims to explain the use of ORMs by examining the kinds of problems they can solve and the advantages they have over alternative approaches: [https://monadical.com/posts/why-use-orm.html](https://monadical.com/posts/why-use-orm.html)",learnSQL,Why should you use an ORM (Object Relational Mapper)?,1.0,https://www.reddit.com/r/learnSQL/comments/k4pdw2/why_should_you_use_an_orm_object_relational_mapper/
90,IAmHungry4Carbs,1606860569,k4vem5,5,1,"All,

About a full week into SQL learning and am working through SQL Queries for Mere Mortals. I am on aggregate functions right now and am having a difficult time understanding the rationale behind a solution in the book (I am learning in T-SQL).

&amp;#x200B;

The problem is as follows:

*“List the last name and first name, in alphabetical order, of every bowler whose personal average score is greater than or equal to the overall average score.”*

There is a Bowlers table (containing basic personal info) and a bowler\_scores table that contains score information for individual games. Both tables contain a ""BowlerID"" unique identifer number linking bowlers to games. 

The solution given is as follows:

&amp;#x200B;

SELECT Bowlers.BowlerLastName,

Bowlers.BowlerFirstName

FROM Bowlers

WHERE (SELECT AVG(RawScore)

FROM Bowler\_Scores AS BS

***WHERE BS.BowlerID = Bowlers.BowlerID***)

&gt;=(SELECT AVG(RawScore) FROM Bowler\_Scores)

ORDER BY Bowlers.BowlerLastName,

    Bowlers.BowlerFirstName

&amp;#x200B;

The part I don't understand is bolded. How would this result in determining whose average rawscore is higher than average?

&amp;#x200B;

I appreciate any help you kind people can provide.",learnSQL,SQL Queries for Mere Mortals 4th Ed: Chapter 12 example problem,1.0,https://www.reddit.com/r/learnSQL/comments/k4vem5/sql_queries_for_mere_mortals_4th_ed_chapter_12/
91,iwaterboardoldpeople,1606900418,k560zv,2,1,"Say I have this block of code

    SELECT `TrackedContainer`.`id` AS `id`, `TrackedContainer`.`containerId` AS `containerId`, `TrackedContainer`.`type` AS `type`, `Trackedordercontainer`.`id` AS `id_2`, `Trackedordercontainer`.`trackedContainer` AS `trackedContainer`, `Trackedordercontainer`.`trackedOrder` AS `trackedOrder`, `Trackedordercontainer`.`visibility` AS `visibility`, `Trackedorder`.`id` AS `id_3`, `Trackedorder`.`arrival` AS `arrival`, `Trackedorder`.`automatedUpdate` AS `automatedUpdate`, `Trackedorder`.`billOfLadingNum` AS `billOfLadingNum`, `Trackedorder`.`carrierBookingNum` AS `carrierBookingNum`, `Trackedorder`.`carrierCode` AS `carrierCode`, `Trackedorder`.`carrierLocation` AS `carrierLocation`, `Trackedorder`.`carrierOrgId` AS `carrierOrgId`, `Trackedorder`.`carrierStatus` AS `carrierStatus`, `Trackedorder`.`carrierVessel` AS `carrierVessel`, `Trackedorder`.`carrierVoyage` AS `carrierVoyage`, `Trackedorder`.`customerOrgId` AS `customerOrgId`, `Trackedorder`.`departure` AS `departure`, `Trackedorder`.`DestinationPortId` AS `DestinationPortId`, `Trackedorder`.`OrderId` AS `OrderId`, `Trackedorder`.`OriginPortId` AS `OriginPortId`, `Trackedorder`.`Status` AS `Status`, `Trackedorder`.`nextMove` AS `nextMove`, `Trackedorder`.`updatedAt` AS `updatedAt`
    FROM `TrackedContainer`
    LEFT JOIN `TrackedOrderContainer` `Trackedordercontainer` ON `TrackedContainer`.`id` = `Trackedordercontainer`.`trackedContainer` LEFT JOIN `TrackedOrder` `Trackedorder` ON `Trackedordercontainer`.`trackedOrder` = `Trackedorder`.`id`

So in the type column (\`TrackedContainer\`.\`type\` AS \`type\`). I want to do a IF query wherein if a row contains ""cat"", ""dog"" or ""snake"" it will convert the word to ""animal"". Then if it's ""cake"", ""bread"" or ""juice"" it will be ""food"". So imagine I'm trying to convert it to 3 categories, ""animal"", ""food"" and ""things"". How can I do it?",learnSQL,Using IF in my query,1.0,https://www.reddit.com/r/learnSQL/comments/k560zv/using_if_in_my_query/
0,billy1T,1601802882,j4w1xv,9,1, ,learnSQL,Anyone oneline ? I need help with a sql puzzle,1.0,https://www.reddit.com/r/learnSQL/comments/j4w1xv/anyone_oneline_i_need_help_with_a_sql_puzzle/
1,rickzlifelb,1601815075,j4y9us,6,1,"Hi all,

Beginner here. I wanted to know what was best practice for the types of files to import into SQL Server.

I have the option to download daily/monthly/weekly files from our marketplace as a CSV or Xlsx. Some of these files have multiple sheets. So far, I have been downloading the files with single sheets as CSVs and multiple sheets as Xlsx. I found that downloading multiple sheet files as CSV would come in ZIP files and take more time to extract and save. Am I doing this correctly or is there better practice? (Disclaimer, I don’t know any programming to automate this process)

Apologies if this is basic but any insight on this would be super helpful!",learnSQL,CSV or Xlsx,1.0,https://www.reddit.com/r/learnSQL/comments/j4y9us/csv_or_xlsx/
2,distraughthoughts,1601854628,j590vk,0,1,"Hello,

If you are interested in learning SQL or have knowledge and wish to review SQL with others, I’ve created the following SQL discord channels.

Please feel free to join the community. 😊

In my spare time I teach SQL to beginners and intermediate folks.

[https://discord.gg/Xr593UW](https://discord.gg/Xr593UW)

Thanks!",learnSQL,Assistance with SQL,1.0,https://www.reddit.com/r/learnSQL/comments/j590vk/assistance_with_sql/
3,billy1T,1601859600,j5a975,4,1,You have an input string and you have to create a table (or just a result set) from it. Each character will be converted in a row with a single column. Check out sample input and expected output.,learnSQL,Hey guys im having issue with a puzzle cam anyone help me,1.0,https://www.reddit.com/r/learnSQL/comments/j5a975/hey_guys_im_having_issue_with_a_puzzle_cam_anyone/
4,PinkDraconian,1601888641,j5g3is,0,1, ,learnSQL,"XXE, XSS and SQL injection all in one payload. Polyglot - Pwn2Win [Walkthrough]",1.0,https://youtu.be/EXnq1JSa6zY
5,Q26239951,1601954138,j5xru3,0,1,"AB Test can be very straight forward but can also be very complex due to # of metrics and # of treatment groups you have. This video covers the basics of how AB test is done but also how to handle complex situations.

[https://www.youtube.com/watch?v=64i4SmyK5Nw](https://www.youtube.com/watch?v=64i4SmyK5Nw)",learnSQL,AB Test,1.0,https://www.reddit.com/r/learnSQL/comments/j5xru3/ab_test/
6,Q26239951,1601954205,j5xsey,0,1,"1. Determine what's the control and treatment group?
2. Calculate Sample Size
3. Runs the test until it hits sample size 
4. p-value 
5. but what if it's multivariate AB test?

&amp;#x200B;

[https://www.youtube.com/watch?v=64i4SmyK5Nw](https://www.youtube.com/watch?v=64i4SmyK5Nw)",learnSQL,How to conduct an AB Test?,1.0,https://www.reddit.com/r/learnSQL/comments/j5xsey/how_to_conduct_an_ab_test/
7,HugeSmoker,1602013186,j6bxzm,1,1, ,learnSQL,How to generate Random Values in all SQL Language flavors,1.0,https://piprogramming.org/articles/How-to-generate-Random-Values-in-all-SQL-Language-flavors-0000000021.html
8,danielmajors,1602127549,j75q8z,4,1,"I'm trying to pull in activities that have zero values in addition to the ones that contain data. I'm using a count and joining to the correct able but the zero values aren't pulling. Any assistance is greatly appreciated:

SELECT COUNT(i.personid) AS 'Person', 
                       ia.businessunit,
COUNT (i.organizationid) AS 'Org',
i.activityidname AS 'Activity'
FROM involvementactivity ia
LEFT OUTER JOIN involvement i ON (ia.involvementactivityid = i.activityid)
GROUP BY i.activityidname, ia.businessunit
ORDER BY i.activityidname",learnSQL,Zero values are not pulling into query,1.0,https://www.reddit.com/r/learnSQL/comments/j75q8z/zero_values_are_not_pulling_into_query/
9,iusshpandeh101,1602145102,j79b3r,0,1,"I've few columns with REAL type, how can I query this?",learnSQL,How can you query a real number in MySQL?,1.0,https://www.reddit.com/r/learnSQL/comments/j79b3r/how_can_you_query_a_real_number_in_mysql/
10,Mindless_Learner,1602176601,j7gwkb,1,1,"&amp;#x200B;

[Hello friends! I need to figure out how to filter out a row if the highlighted column is blank. \(AddressLine1.\) Any advice?](https://preview.redd.it/yi2sk5psjwr51.jpg?width=1350&amp;format=pjpg&amp;auto=webp&amp;s=b13278db9499ba5e3b007a4c69e0d6fbdb7af677)",learnSQL,Question on filtering out data!,1.0,https://www.reddit.com/r/learnSQL/comments/j7gwkb/question_on_filtering_out_data/
11,Humble_Willingness_7,1602189687,j7l2nd,12,1,"I need help with this query :

So if the person (card\_no) purchased Item\_1 + Item\_2 + Item\_3 on the same day then Y else N. 

So my flag indicates that card no 123 and 1314 purchased Item\_1 + Item\_2 + Item\_3 together on the same day.  

&amp;#x200B;

https://preview.redd.it/ce9uno1nmxr51.png?width=392&amp;format=png&amp;auto=webp&amp;s=f17026251b86bfb3756d5f90d3e1e57fa61ed6cb",learnSQL,Need help with query (partition by),1.0,https://www.reddit.com/r/learnSQL/comments/j7l2nd/need_help_with_query_partition_by/
12,Ricardio2-0,1602272947,j85xwc,2,1,"Hi guys

Had a question I am trying to do a table backup but I can’t figure how to do the backup table name as a variable. 

For example 

Declare @tbName varchar(50)
Set @tbName = ‘name’+converting the date 

This is where I am kind of stuck:
I want to do 
Select * into @tbName from table 

Is this possible?",learnSQL,Setting up a dynamic table name,1.0,https://www.reddit.com/r/learnSQL/comments/j85xwc/setting_up_a_dynamic_table_name/
13,vishalk0694,1602339958,j8lcys,7,1,"Has anyone taken this course on udemy, as i am a beginner and want to start learning SQL for data analysis i just want to know how was your experience going through this course.",learnSQL,Need an honest review The Complete SQL Bootcamp 2020: Go from Zero to Hero - from udemy.,1.0,https://www.reddit.com/r/learnSQL/comments/j8lcys/need_an_honest_review_the_complete_sql_bootcamp/
14,EducateMePleeze,1602431899,j97w1j,3,1, ,learnSQL,SQL Murder Mystery - posting this here in case others haven’t seen it,1.0,https://mystery.knightlab.com/
15,C__Zakalwe,1602440390,j9agbz,0,1,"Hi all,  


I'm moving out of an IT manager position which was fairly SQL heavy in that I developed all reporting for the company, but I was spread too thin with administrative tasks and general tech support which is not where I wanted my career going. I passed the technical interview and have accepted a position as a BI developer for a local company. I'm looking for advice on skills and techniques to sharpen up in the next few weeks to help me hit the ground running. It's a SQL Server environment, on premise but looking at moving to hybrid with Azure.  


I rated myself a 6/10 in SQL in the interview process. The higher end of my knowledge I'd say includes CTEs, scalar functions, triggers, ETL via scheduled jobs to move from production to a warehouse, window functions (rank, lag, lead etc).  


This company is fairly tech illiterate, but is investing in their IT team heavily and needs to build out a data driven culture and educate its users. I'll be reporting to an IT director with a programming background. Any advice on next level tools and skills that will help make me an asset from the get go?",learnSQL,Hired as BI Developer - Advice on skills/knowledge to improve?,1.0,https://www.reddit.com/r/learnSQL/comments/j9agbz/hired_as_bi_developer_advice_on_skillsknowledge/
16,SimpleSeahorse,1602531553,j9xw0y,5,1,"&amp;#x200B;

https://preview.redd.it/epl4aceivps51.png?width=468&amp;format=png&amp;auto=webp&amp;s=555522dea42eddd0d367448dd867426b450da38f",learnSQL,How do I add string literals for certain conditions?,1.0,https://www.reddit.com/r/learnSQL/comments/j9xw0y/how_do_i_add_string_literals_for_certain/
17,Q26239951,1602546500,ja2dge,0,1, ,learnSQL,Summarize data with pandas and explained with excel,1.0,https://www.youtube.com/watch?v=4zLd9YEnABs
18,YmFzZTY0dXNlcm5hbWU_,1602863743,jccedy,2,1, ,learnSQL,SQL Joins without the Venn diagrams,1.0,https://www.helenanderson.co.nz/sql-joins-venn-diagrams/
19,sohail_ansari,1602952857,jcyfuj,2,1, ,learnSQL,How to change database name in MySQL?,1.0,https://www.reddit.com/r/learnSQL/comments/jcyfuj/how_to_change_database_name_in_mysql/
20,ThinIntention1,1603013386,jddehb,2,1,"Does anyone recommend any learning resources, books for T SQL, MS SQL, at all levels, beginner, intermediate and advance level",learnSQL,T/MS SQL Learning resources / books,1.0,https://www.reddit.com/r/learnSQL/comments/jddehb/tms_sql_learning_resources_books/
21,Dalkimi,1603062696,jdqhjd,0,1,"I'm taking a Fundamentals of relational database management class, and am learning SQL with mixed results. I've been trying to answer one particular question for about an hour now and cannot get it right. I've tried multiple combinations, and am starting to worry that the program broke since I am unable to drag and drop some of the options. Does anyone have any clue how to do this? It's seriously stressing me out.

https://preview.redd.it/c8ahpg2oqxt51.png?width=1007&amp;format=png&amp;auto=webp&amp;s=c0fe85bd1d219141db2806e5f690285e024237d8",learnSQL,Confused about a question,1.0,https://www.reddit.com/r/learnSQL/comments/jdqhjd/confused_about_a_question/
22,aiyqiugf,1603105708,jdznff,0,1,"My cloud provider has prevented me accessing `fn_LocalTimeToUTC` and `fn_UTCToLocalTime`.

How would I go about getting the same functionality that these two functions offer manually and directly in SQL without using these functions?

To try to simplify it further, All our users are in the UK.

Using SQL Server 2018",learnSQL,Basic alternative to fn_LocalTimeToUTC,1.0,https://www.reddit.com/r/learnSQL/comments/jdznff/basic_alternative_to_fn_localtimetoutc/
23,CalisthenicsDude95,1603264487,jf87kl,22,1,"Hello everyone,

I might need some hints how to solve the following problem. I have multiple tables like **Category**, **Discipline**, **Sport**, **Sport\_Discipline**, **Sport\_Category**. To get the necessary information I perform a **SELECT** in combination with multiple **INNER JOIN**s. The used shortened example query is this one:

    SELECT sport.public_id,
       sport.title,
       category.title,
       discipline.distance,
       sport_discipline.official
FROM running_event
         INNER JOIN sport
                    ON sport.id = sport_category.fk_sport_id
         INNER JOIN category
                    ON sport_category.fk_category_id = category.id
         INNER JOIN event_discipline
                        ON sport.id = sport_discipline.fk_sport_id
         INNER JOIN discipline
                        ON sport_discipline.fk_discipline_id = discipline.id;

Now comes my question:

I use this query for a REST API where I implemented a pagination to limit the retrieved data that is initially retrieved. The limit is 20 results per page BUT at the same time I want to count ALL found entries from **Category**, **Discipline**, **Sport**, **Sport\_Discipline** to show these numbers the website user.

To make it clearer here is a short scenario:

&gt;The user uses a search form and makes a GET request to my backend. 100 results are matching his search parameters but I only return 20 for the first page. If the user clicks on page to he gets another 20 results. At the same time I want to show him that I found 100 results with 150 categories, 50 disciplines etc.

Well I'm not sure what the right approach is. It might make sense to make a second SQL Query that counts these parameters without a filter or I could return all results at once and implement the pagination on the end user side but this puts unnecessary workload on the client. I don't use a lot data here. I think the largest result count would be like 1000 results. I think that the second SQL Query might be the best solution but I'm not sure, how to write the **COUNT** query with multiple joins and counts at one.

I really appreciate your ideas and tipps :)",learnSQL,[MySQL] Question about Query,1.0,https://www.reddit.com/r/learnSQL/comments/jf87kl/mysql_question_about_query/
24,farens98,1603321345,jfnsuo,3,1,"Hi, what's a good RDMS to install on a windows laptop to learn and practice creating databases,SQL &amp; reporting? Thanks",learnSQL,RDMS 2 learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/jfnsuo/rdms_2_learn_sql/
25,Q26239951,1603325413,jfoy3k,0,1, ,learnSQL,SQL Window Function and Conditional Aggregation Explained with Excel,1.0,https://www.youtube.com/watch?v=VZIGAycekYI
26,hnlintune,1603375371,jg0778,2,1, ,learnSQL,Can you tell me the exact difference between the tuple relational calculus of the left and the right side?,1.0,https://i.redd.it/1gnwyk5lknu51.jpg
27,jaundence,1603402368,jg95g9,5,1,"I am currently trying to reskill myself by learning SQL in my free time, using public CSV data I've downloaded.

I am currently using Microsoft SQL Server Management (MSSM) because it's free and endorsed by Windows. However, I am a complete novice and I don't know how to even begin a query in the software.

Is there a better free software for using SQL to analyze (and possibly generate) CSVs, or do you have a link to a tutorial for MSSM? Or is SQL not equipped for analyzing CSVs at all?  


If I missed something obvious, please let me know (gently)!",learnSQL,How to Analyze CSV in MSSM Studio,1.0,https://www.reddit.com/r/learnSQL/comments/jg95g9/how_to_analyze_csv_in_mssm_studio/
28,rockymountain999,1603425427,jgfmrw,10,1,"I have two date columns and I’m trying to filter results to show only data where Date A is one date prior to Date B. Can anyone help?

I’m brand new to SQL and struggling here.",learnSQL,Help with dates,1.0,https://www.reddit.com/r/learnSQL/comments/jgfmrw/help_with_dates/
29,hnlintune,1603428398,jggdnw,2,1,"Someone recommended this books and told that it was good, but I couldn't find anything in google. So asking it here.",learnSQL,Can anyone link amazon version of Daite s books on dbms?,1.0,https://www.reddit.com/r/learnSQL/comments/jggdnw/can_anyone_link_amazon_version_of_daite_s_books/
30,tobikey123,1603626219,jhs1to,3,1,"Hello everyone,

I want to build a database that stores the product-price history of an online shop. There are e.g. 20.000 products. I am thinking of creating 1 Table of all Products with all subcategories.

Should I create a new table every day to store the prices and availability of the products? Or should I create one single Database with all the prices and dates?  The goals are (1) Quickly pull all prices for a specific day and (2) quickly pull the price-history of a specific product. 

Thank you very much for your time !!!",learnSQL,Database Design for price-history,1.0,https://www.reddit.com/r/learnSQL/comments/jhs1to/database_design_for_pricehistory/
31,Hodiddly,1603643690,jhwby6,9,1,Im almost done with Sams teach yourself SQL and I was wondering how i go about practicing now? Is there a website with challenges or real world applications of sql that I can do? Is there a book that you would recommend for a deeper dive?,learnSQL,Where to go from here?,1.0,https://www.reddit.com/r/learnSQL/comments/jhwby6/where_to_go_from_here/
32,SimpleSeahorse,1603671438,ji4gbz,1,1,"&amp;#x200B;

https://preview.redd.it/xy7k6jky0cv51.png?width=669&amp;format=png&amp;auto=webp&amp;s=607537b2acf56e212569323bbb2df518c1b0c341",learnSQL,How to do video_award_percent column?,1.0,https://www.reddit.com/r/learnSQL/comments/ji4gbz/how_to_do_video_award_percent_column/
33,OfficeComputerChair,1603803302,jj0kg0,3,1,"I have a query here that grabs the latest ticket approvals that have been approved since I log in. The query works, but needs refinement. 

As written, the query retrieves the last few updates. There will be one entry in the result set, then I create a new ticket and the previous result will persist in the result set. So, every time I create a ticket, you're seeing a bunch of tickets pile up, some from weeks ago.

I only want the query to list the updates that happen since the last approval, or the ticket_APPROVED value. EventTime is the current login. 

SQL script 

SELECT DISTINCT inv.record_number, inv.RECORD_TITLE, inv.ticket

    			FROM invTable inv, event_log e

    			WHERE inv.ticket_APPROVED &lt;= e.EVENT_TIME AND EVENT_TYPE = '1'

    			AND e.ACCOUNT_NAME = '"" + username + ""' AND e.ACCOUNT_NAME = inv.createdByID

    			ORDER BY inv.ticket DESC


If anyone has any suggestions on steps to take to further refine this query to fit my needs, it would be appreciated.",learnSQL,Need assistance with a query that retrieves the most latest result.,1.0,https://www.reddit.com/r/learnSQL/comments/jj0kg0/need_assistance_with_a_query_that_retrieves_the/
34,PeachDrinkz,1603898061,jjplp1,9,1,"I have learned how to code in SQL. However after that I'm pretty much blanked out. My plan is to find an interesting database from the internet, about anything from plane flights to energy production etc. etc. My questions are

\- Where can I find these data bases?

\- How do I use them (what app do I need)?

\- How do I query through them?

&amp;#x200B;

Thank you.",learnSQL,"I want to get a database and then make some infographics based off a few queries, how can I do this?",1.0,https://www.reddit.com/r/learnSQL/comments/jjplp1/i_want_to_get_a_database_and_then_make_some/
36,snuzet,1603992824,jkek0v,1,1,"_TLDR; want to do relational query against flat file sales history_

Hi pulled a CSV extract from our pos of sales transactions (items) of interest and dumped into a table. eg

Pk, Date, Name, Phone, Item,..

Where Pk is just autoinc recno. Flat file so name etc not normalized. Date and item per invoice line item. 

So have been able to do nice queries like when did each customer first visit (item=“New”) and also grouped into boxes like month or day or week. So getting feel for things (on mobile now so don’t have the actual queries handy)

What like to do now is see results from repeat customers, so for people that came back how long (weeks?) since after started for second visit, and weeks since their last visit. 

Could just use invoice date for that since item doesn’t matter here (except that New is flag that first sale)

Not that savvy with complex queries would a self join make sense here?

Thanks",learnSQL,[n00b] MariaDb flat table self join?,1.0,https://www.reddit.com/r/learnSQL/comments/jkek0v/n00b_mariadb_flat_table_self_join/
37,Pink_Custard,1604128191,jle3ot,10,1,Learning SQL is one of my bucket-list goals. Where should I start if I have no programming knowledge? If you have any books I should consider reading please let me know.,learnSQL,Where to start?,1.0,https://www.reddit.com/r/learnSQL/comments/jle3ot/where_to_start/
38,alexfromvermont,1604281680,jmepb3,3,1,"I have a test on SQL tomorrow. It is just introductory work, so if you are proficient in SQL, you should have no problems. If you know that you could get me an A, please reach out to me! I will pay generously. (Oracle Live)",learnSQL,Will pay you if you take my test!,1.0,https://www.reddit.com/r/learnSQL/comments/jmepb3/will_pay_you_if_you_take_my_test/
0,rabbitwithrabbies,1599046884,il56f5,7,1,"My only slightest interaction with sql was while writing google sheet queries (language and logic are similar)
I want to start learning sql from scratch.

What courses (paid or free) would you suggest?
Thanks",learnSQL,Suggest courses for a total beginner,1.0,https://www.reddit.com/r/learnSQL/comments/il56f5/suggest_courses_for_a_total_beginner/
1,tendorphin,1599055610,il7f5u,12,1,"I'm trying to query a database for practice.

The schema is as follows (these are from IMDB and a free online CS course, so it may be familiar to some already): 

CREATE TABLE movies (

                    id INTEGER,
                    title TEXT NOT NULL,
                    year NUMERIC,
                    PRIMARY KEY(id)
                );

CREATE TABLE stars (

                movie_id INTEGER NOT NULL,
                person_id INTEGER NOT NULL,
                FOREIGN KEY(movie_id) REFERENCES movies(id),
                FOREIGN KEY(person_id) REFERENCES people(id)
            );

CREATE TABLE directors (

                movie_id INTEGER NOT NULL,
                person_id INTEGER NOT NULL,
                FOREIGN KEY(movie_id) REFERENCES movies(id),
                FOREIGN KEY(person_id) REFERENCES people(id)
            );

CREATE TABLE ratings (

                movie_id INTEGER NOT NULL,
                rating REAL NOT NULL,
                votes INTEGER NOT NULL,
                FOREIGN KEY(movie_id) REFERENCES movies(id)
            );

CREATE TABLE people (

                id INTEGER,
                name TEXT NOT NULL,
                birth NUMERIC,
                PRIMARY KEY(id)
            );

I'm trying to build a list of movie titles that consists of those movies which star BOTH Johnny Depp and Helena Bonham Carter. 

I can easily get the list for either one. I can easily create a list of both of their 'person_id's and create a query that selects movies that star either of them. The syntax for a query that stars both of them, however, eludes me. Of the sample set of 13 problems, this is the only one that I can't quite wrap my head around, and I can get so close, logically, but not quite there. 

I'd prefer something along the lines of a hint rather than the outright answer, as that will certainly help me learn better, but if it's not possible to hint at without giving it away, that's fine. The other tasks each took about a minute, maybe 2 or 3 for the more challenging ones, to figure out and build the query. This one has taken me well over half an hour and I just keep circling around to the same logical problems.",learnSQL,Help with nested AND query?,1.0,https://www.reddit.com/r/learnSQL/comments/il7f5u/help_with_nested_and_query/
2,AugustinIV,1599157429,ilz228,2,1,"I have a dataset with a list of students who picked from one of five colors, White, Blue, Black, Red, Green. The columns are each of the colors, and whenever student has picked a color, an an ""N"" is put in the cell. How do I make it so it spits out how many time N was put in a column. I want the output to be like:
White 35
Blue 57
Black 40
Red 25
Green 34",learnSQL,How do I tally results from each column?,1.0,https://www.reddit.com/r/learnSQL/comments/ilz228/how_do_i_tally_results_from_each_column/
3,fakedying,1599179211,im5pac,4,1,Would I create a view? I've never made one before so Im not sure. Basically I have 22 tables of call survey results. The colums that are the same is the identifying information for people who were called and usually there are also some survey questions that are the same depending on the script that was used. I'm trying to find a way to query a of the tables so I can find overall answers to a survey question regardless of which script it was asked on. Is there a way to do this?,learnSQL,How do I combine multiple tables that have only some columns in common?,1.0,https://www.reddit.com/r/learnSQL/comments/im5pac/how_do_i_combine_multiple_tables_that_have_only/
4,mwspencer75,1599185079,im78ba,3,1,I have a data table for t-shirts. The fields are Color ; Size ; Material.  The t-Shirt can be multiple colors.  How do I handle this?  Example - I might have shirt that is red and white.  Thank you!,learnSQL,Data Table Design Row with Multiple Values for a Single Field.,1.0,https://www.reddit.com/r/learnSQL/comments/im78ba/data_table_design_row_with_multiple_values_for_a/
5,vijaysrj,1599220579,imekns,0,1, ,learnSQL,SQL has evolved so much since SQL-92 standard . One of the new features introduced in later versions is the Window function.An article on that,1.0,https://fullstackdeveloper.guru/2020/08/25/how-to-use-window-functions-in-sql/
6,BillBeaux,1599232053,imhmi3,0,1, ,learnSQL,SQL trick to find customers likely to churn: PostgreSQL's stats functions,1.0,https://dev.to/popsql/the-easy-way-to-find-customers-likely-to-churn-4ljg
7,moody_balloon_baby,1599275377,imtx7s,7,1,"Hi does this make sense? I'm trying to union 2 queries. I want to declare a variable based on the max of a date in the first query, then with the union use that variable to filter down on the variable's date. How easy is it to implement this?",learnSQL,Select - declare variable from select - union using the variable,1.0,https://www.reddit.com/r/learnSQL/comments/imtx7s/select_declare_variable_from_select_union_using/
8,Lynxes_exe,1599331125,in6dgb,4,1,"Hello.

I'm writing an app that connects to MariaDB, I am still a beginner with SQL and trying to learn along the way (I already know I will have to rewrite a ton of queries for efficiency).

I have searched online about deleting multiple rows with the same value... but that's not what I'm looking for.

In my case I need to delete multiple rows, where one value is the same for all rows, and one is unique for each row.  
How can I do this for multiple rows using a single query?

Thanks in advance!",learnSQL,"Delete multiple rows with 1 value equals for all rows, and 1 unique.",1.0,https://www.reddit.com/r/learnSQL/comments/in6dgb/delete_multiple_rows_with_1_value_equals_for_all/
9,inu_shibe,1599338158,in8ghi,0,1,"I have a table in Json (there's a CSV copy too but I used Json) which has the fields: Team_name, leader_name, member_1, member_2, member_3, member1_university, member2_university, member3_university

Leader_name is any one from members 1,2,3. 

I want to add normalisation to the database and create seperate tables. 

team table containing teamID, name and member IDs

member table containing member ID, name, University ID

and a table for University containing University name and University ID

For now I can only parse the table and add the names to the tables and generate auto incrementing primary keys. How do I add the foreign keys in Team and Member tables? 

Any tutorials or videos? Please any help is appreciated",learnSQL,Add Foreign keys and constraints in sqlite3 (using python),1.0,https://www.reddit.com/r/learnSQL/comments/in8ghi/add_foreign_keys_and_constraints_in_sqlite3_using/
10,fakedying,1599363325,inf2l0,16,1,"So I have a bunch of customer data from daily call reports. The tables will all have the columns Customer\_ID, Customer\_First, Customer\_Last, and Date\_Called, but depending which script our callers were using the following columns may vary lets say on 09/03 we had the columns Satisfaction\_Rating, Call\_Rating, and Recommendation\_Rating, but on 09/04 we had \_Satisfaction\_Rating, Recommendation\_Rating, Social\_Share\_Rating. I want to combine 09/03 and 09/04 and have the columns Customer\_ID, Customer\_First, Customer\_Last, Date\_Called, Satisfaction\_Rating, Call\_Rating, Recommendation\_Rating, and Satisfaction\_Rating.

&amp;#x200B;

Now lets scale this problem up to the past 2 months of data. Each day there is a new report. I have combined all the daily reports where the columns are the same (aka they used the same scripts for calls those days). I have about 22 tables that I need in one big table. What do?

&amp;#x200B;

The very baseline that I'm working with to try to get it to work in just 2 tables is

SELECT COALESCE (a.Customer\_ID, b.Customer\_ID) AS Customer\_ID

FROM \`project.schema.script\_1\` AS a

LEFT JOIN \`project.schema.script\_2\` AS b

ON a.Customer\_ID = b.Customer\_ID

&amp;#x200B;

This baseline has two MAJOR issues. I can't coalesce more than one common column at once (or if I can idk how to do it). I also don't want literally 22 left joins (plus more in the future if we are having any foresight). I have to update this daily with the new daily call report. Whaaaaaat the heck do I do here?",learnSQL,What to do INSTEAD of 22 left joins?,1.0,https://www.reddit.com/r/learnSQL/comments/inf2l0/what_to_do_instead_of_22_left_joins/
11,fpuen,1599427634,inud1s,0,1,"I'm doing a multi insert in Postgres 12 (via Express.js, using pg-promise) and notice the date is triple quoted. I guess pg-promise does this intentionally. Does anyone know why?

    'INSERT INTO ""call""(""unique_id"",""caller_id"",""date"",""description"",""account"",""disposition"",""seconds"",""campaign_id"") VALUES('2155000088','8335951058','''2020-09-05T11:21:43.000+07:00''','Inbound DID','1540','ANSWERED','7','59'),",learnSQL,Triple quotes around date values during insert,1.0,https://www.reddit.com/r/learnSQL/comments/inud1s/triple_quotes_around_date_values_during_insert/
12,Sysnomid,1599435506,inwmsd,0,1,"Hello!, We are The Developers Guild, a friendly discord community offering free help and chat about SQL and many other programming languages.    


We want more SQL users to join our ranks! 

 &gt; Discord Community: Script Review, Paired Programming, Collab, and Live Instruction for API Engineers! A community of student and professional developers. Join us for free instruction, paired programming, code/project review, collaboration, and more. Looking for exposure to new concepts? Engage in peer review on your projects? Want to shout to the world that your API is online and ready for use? Looking for help getting through your latest assignment or project? If you can ask a good question you're like to find a good answer here! If you're more on the expert side and you're so inclined you can engage in the Feinberg method of learning, where you reinforce what you do know and spot weaknesses in your own studies, by teaching a few code-along courses or just share your latest project. Regardless of your skill level though we are eager to have individuals from the software development sphere to collaborate and converse with. To teach and be taught. 

In short: We'd love to have you. Come on in! https://discord.gg/xqUN8KY",learnSQL,"Need Help Learning SQL?, Check out our community, https://devguildweb.xyz",1.0,https://www.reddit.com/r/learnSQL/comments/inwmsd/need_help_learning_sql_check_out_our_community/
13,embar5,1599510565,iofezg,1,1,"Right now I have something similar to:

    SELECT *
    FROM user
    WHERE user.id = $1
    LEFT JOIN order
    ON user.id = order.user_id

In this case I think the user id has collided with and overwritten the order id.

I could erase the star and manually write out every column. But I'm curious if there is a way to only alias two columns:

    user.id as user_id
    order.id as order_id",learnSQL,Can i still alias certain column names when using * syntax?,1.0,https://www.reddit.com/r/learnSQL/comments/iofezg/can_i_still_alias_certain_column_names_when_using/
14,waknuckles1020,1599537954,iomtlh,5,1,"Hello, I am learning SQL, and since I don’t have any access to data sets, as I am self learning, I am wondering where can I find data sets to tinker with?",learnSQL,Where to find Data sets?,1.0,https://www.reddit.com/r/learnSQL/comments/iomtlh/where_to_find_data_sets/
15,Pumpkin_Rifle,1599539213,ion3yb,5,1,"I’m a rookie and I’m practicing, how do I query a table by a specific year ex: hire date. Specifically 1986",learnSQL,Query by a specific year,1.0,https://www.reddit.com/r/learnSQL/comments/ion3yb/query_by_a_specific_year/
16,Reginald_Martin,1599571800,iotkki,1,1, ,learnSQL,Learn To Retrieve Data and Basics of MySQL In 60 Minutes,1.0,https://www.youtube.com/watch?v=8P4bjjpTDJg
17,moody_balloon_baby,1599585327,ioxonx,2,1,"I mainly run select queries to pull in data for my job and use that data in Excel or Tableau. How can I get better and learning SQL (specifically Oracle) lingo? I don't totally understand what a schema is, a table vs a view, a DBQ, etc.etc.

The more advanced I'm getting with SQL the more I have to work with my DB Admin to sync up over certain things and I feel like a dummy not knowing how to talk the talk. Is there a good reference guide to these basic things?",learnSQL,Trying to improve my DB lingo,1.0,https://www.reddit.com/r/learnSQL/comments/ioxonx/trying_to_improve_my_db_lingo/
18,jdb7121,1599622675,ip8m2f,0,1, ,learnSQL,Multiple updates using CASE,1.0,/r/SQL/comments/ip7jkj/updating_with_case_vs_iterating_through_multiple/
19,_SlothTheWizard,1599724324,ipz0ri,1,1,"&gt;How many of Northwind's customers, that don't work in sales, are explicitly identified as ""Manager"" in their job title? Show the individual count for all of the various ""Manager"" titles. Please use a subquery. 

How would you properly write this as an answer? Sorry for the trouble.",learnSQL,Quick question,1.0,https://www.reddit.com/r/learnSQL/comments/ipz0ri/quick_question/
20,zigazigha42,1599744931,iq3ebp,2,1," 

I have a b+tree index on attribute A of table T.

T has 100 tuples and for every value of A there are 5 tuples that contain that value.

At leaf level how many pairs does the index contain? 5 or 100?",learnSQL,"How many pairs (key, pointer) does this b+tree index have?",1.0,https://www.reddit.com/r/learnSQL/comments/iq3ebp/how_many_pairs_key_pointer_does_this_btree_index/
21,MajorData,1599781407,iqf76b,2,1,"I have to put SQL into a 'JSON' format to be encrypted in a header portion of an API call to a Postgresql db.  My understanding of JSON is along the lines of ""key"":""value"".

I am trying to join 3 tables.

1 """"from"""":""""tablegroup1.table_s s"""",
2    """"joins"""":[
3         {
4             """"innerJoin"""":""""tableroup2.table_p p"""",
5             """"on"""":""""s.prvdr_id = p.prvdr_id"""",
6             """"innerJoin"""":""""tablegroup3.table_i i"""",
7             """"on"""":""""p.prvdr_id = i.prvdr_id""""   
8         }
9         ]

When I only use the first two tables the SQL returns as expected.  
When I add the third table join in the way shown above the SQL generated shows only the join from line 6 above.  The error says it is a syntax error.

First, are there any resources available for this kind of thing?  How common is it?

Second, how to get the generated SQL to include all joins?

Third,  is there something I am missing...

Thank You",learnSQL,JSON formatted SQL query,1.0,https://www.reddit.com/r/learnSQL/comments/iqf76b/json_formatted_sql_query/
22,SolitaireKid,1599843783,iquk7g,11,1,"I know the basics of SQL like select, from, where, having, update, insert, delete. I also have some experience with joins between two tables.

But I want to really understand it, and reach a point where I can understand joins between multiple tables on different conditions. To visualize it in my mind, and also be able to execute complex select statements

I figured solving problems would be the best way to do it. More like questions. Like, ""here are these tables, i want this data out of it"". 

Is this a good way to do it? And if yes, I am looking for resources for that.

Thanks",learnSQL,Looking for problems/resources that can help deepen my understanding of SQL concepts,1.0,https://www.reddit.com/r/learnSQL/comments/iquk7g/looking_for_problemsresources_that_can_help/
23,rd916,1599860084,iqztdz,10,1,"Hi,  

I have 4 tables. Each of them having the same key and named the same just containing different data. I am joining and want to keep all key values, even if it does not have data in all tables.  I am  having trouble joining them as I get the 'column name is ambiguous' error, but when I try to do table\_name.key , I am not getting the keys from all of the tables.",learnSQL,Outer joins and ambiguous column names,1.0,https://www.reddit.com/r/learnSQL/comments/iqztdz/outer_joins_and_ambiguous_column_names/
24,Q26239951,1600055845,isdje2,3,4, ,learnSQL,Learn basic SQL with Excel demonstration,0.84,https://www.youtube.com/watch?v=gjUNNHlMwWA
25,rolingwaves,1600084667,isjgkc,7,2,"`with df as ( (select columns from table1 do_something_here) ,`

`t2 as (select * from df),`

`t3 as (alter table t2 drop coloumn_1)`

`select * from t3 );`

Throws an syntax error:

`Syntax error at or near ""ALTER""`

`t11 as (ALTER TABLE df)`

`Any help here?`",learnSQL,"Using WITH , combined with the ALTER TABLE statement to drop columns",1.0,https://www.reddit.com/r/learnSQL/comments/isjgkc/using_with_combined_with_the_alter_table/
26,OperationCorporation,1600100726,iso946,6,1,"I can run this query in under a sec.

    SELECT Serial_Text
        ,COUNT(Serial_Text) Cnt
    FROM [a].[dbo].[SUP]
    GROUP BY Serial_Text

And this one under a second.

    SELECT a.[Serial_Text]
        ,[IR_1]
        ,[Date_Time]
    FROM [a].[dbo].[SUP]

But, when I try to combine them with a join it takes over 3 minutes and counting...

    SELECT a.[Serial_Text]
    	,[IR_1]
        ,[Date_Time]
      FROM [a].[dbo].[SUP] b
      JOIN
      (
    	SELECT Serial_Text
    		,COUNT(Serial_Text) Cnt
    	FROM [a].[dbo].[SUP]
    	GROUP BY Serial_Text
      ) c ON b.Serial_Text = c.Serial_Text
     WHERE Date_Time &gt; '2020-06-01 00:00:000' AND c.Cnt = 1
     ORDER BY Date_Time desc

How can I make this more efficient? I am just trying to not show Serial numbers with multiple records...Thanks!",learnSQL,Help with optimization,1.0,https://www.reddit.com/r/learnSQL/comments/iso946/help_with_optimization/
27,marcalb,1600104517,ispkcu,2,1,"Hi everyone,

I'm pretty new with SQL, and I'm struggling to figure out a seemingly simple task. 

&amp;#x200B;

Here's the situation:

	• I'm working with two data sets

		○ Data Set A, which is the most accurate but only refreshes every quarter

		○ Data Set B, which has all the date, including the most recent data, but is overall less accurate

	• My goal is to combine both data sets where I would have Data Set A for all data up to the most recent quarter and Data Set B for anything after (i.e., all recent data not captured in Data Set A)

&amp;#x200B;

For example:

	• Data Set A captures anything from Q1 2020 (January to March)

	• Let's say we are April 15th

	• Data Set B captures anything from Q1 2020 to the most current date, April 15th 

	• My goal is to use Data Set A for all data from January to March 2020 (Q1) and then Data Set B for all data from April 1 to 15

&amp;#x200B;

Any thoughts or advice on how to do this? Potentially a join function along with a date one? 

Any help would be much appreciated.

&amp;#x200B;

Thanks in advance for the help.",learnSQL,Question: Joining two data sets with date conditions,1.0,https://www.reddit.com/r/learnSQL/comments/ispkcu/question_joining_two_data_sets_with_date/
28,waitinthefog,1600186303,itbvtj,1,1,Is there an online resource that allows me to enter separate tables of information and then compare or join our multiply them?,learnSQL,Relational algebra help,1.0,https://www.reddit.com/r/learnSQL/comments/itbvtj/relational_algebra_help/
29,soundycomputer,1600195490,itew4l,1,1,"(I am on mobile, apologies for the formatting) 

I remember when learning the very basics that I used to go often to w3schools.com to check the syntax differences between MYSQL and SQL Server. Think LIMIT 5 vs TOP 5.

Is there any resource that does the same but for MYSQL and PostgreSQL? From your experience, what are the most relevant differences I should be aware of?

On a side note, in live assessments I always told my interviewers I am more familiar with MYSQL and this has never been a problem. This time it's an online test to take on my own, and the system only supports PostgreSQL. I am afraid to write queries that would work in MYSQL, but to get them flagged as incorrect because it's not the expected syntax.",learnSQL,I have experience with MYSQL. I have been asked to take an online assessment in POSTGRESQL. What are the main syntax differences between the two?,1.0,https://www.reddit.com/r/learnSQL/comments/itew4l/i_have_experience_with_mysql_i_have_been_asked_to/
30,Horsemeat_Deity,1600201420,itgvwn,1,1, ,learnSQL,"Is there any source for something like random query request generators, etc. for practice?",1.0,https://www.reddit.com/r/learnSQL/comments/itgvwn/is_there_any_source_for_something_like_random/
31,Matheos7,1600207961,itiwoi,15,1,I’m currently learning basics of python and shortly would like to add SQL to that. I’m wondering if you guys would be kind enough to suggest some books or other references to learn basics about databases etc BEFORE I start learning SQL? Thank you in advance.,learnSQL,Basics required before learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/itiwoi/basics_required_before_learning_sql/
32,youallssuck,1600273221,ityt3o,10,1,"I understand how indexs work and what they do, however all of the resources just show the index and not how to query afterwords. I'm using JDBC I have a working query in place but cannot figure out how to Index and have the query refer to it.",learnSQL,Creating an Index then Querying?,1.0,https://www.reddit.com/r/learnSQL/comments/ityt3o/creating_an_index_then_querying/
33,The_Emerald_Knight,1600304438,iu9122,2,1,"I'm just beginning, and I am lost. Everywhere I try to learn is full of a ton of jargon, and I just cant seem to get my foot in the door to understand any of it.",learnSQL,"Anyone know of a comprehensive, easy to understand glossary of database/SQL terms?",1.0,https://www.reddit.com/r/learnSQL/comments/iu9122/anyone_know_of_a_comprehensive_easy_to_understand/
34,Q26239951,1600312795,iubasi,2,1, ,learnSQL,Looking to learn SQL when you already know Excel! I made this video to help visualize and with Excel concept,1.0,https://www.youtube.com/watch?v=mHWb16MvyMs
35,pm_90,1600357227,iulxqe,4,1,"Hi all, 

I've been working on creating a view by joining two tables I have, one with just a few columns  (first\_name, surname, employee\_id, department, week\_number, total\_hours) and the second table has about 60 columns but I am hoping to fill the employee\_id column, week\_number, department and total\_hours from first table into second table. 

I'm very much conscious of the fact I could have gone about this arseways but here is what I have tried so far

    SELECT TOP (150)  dbo.submitted_timesheets.employee_id, dbo.submitted_timesheets.department,
    dbo.submitted_timesheets.week_number as [Period No], SUM((((DATEDIFF(hour, 
                      dbo.submitted_timesheets.mondaystart, dbo.submitted_timesheets.mondayend) * 100 + DATEDIFF(HOUR, dbo.submitted_timesheets.tuesdaystart, dbo.submitted_timesheets.tuesdayend) * 100) + DATEDIFF(hour, 
                      dbo.submitted_timesheets.wednesdaystart, dbo.submitted_timesheets.wednesdayend) * 100) + DATEDIFF(hour, dbo.submitted_timesheets.thursdaystart, dbo.submitted_timesheets.thursdayend) * 100) + DATEDIFF(hour, 
                      dbo.submitted_timesheets.fridaystart, dbo.submitted_timesheets.fridayend) * 100) AS total, MAX(YEAR(dbo.submitted_timesheets.submit_datetime)) AS currentyear
    FROM     dbo.submitted_timesheets
    INNER JOIN dbo.approved_timesheets ON dbo.submitted_timesheets.[employee_id] = dbo.approved_timesheets.[Employee No]
    AND dbo.submitted_timesheets.[week_number] = dbo.approved_timesheets.[Period No]
    WHERE  (dbo.submitted_timesheets.week_number =
                          (SELECT MAX(week_number) AS [Period No]
                           FROM      dbo.submitted_timesheets AS timesheets_approval))
    GROUP BY dbo.submitted_timesheets.employee_id, dbo.submitted_timesheets.department, dbo.submitted_timesheets.week_number
    ORDER BY dbo.submitted_timesheets.employee_id, dbo.submitted_timesheets.week_number DESC

The corresponding columns are as follows

&amp;#x200B;

|dbo.submitted\_timesheets|dbo.approved\_timesheets|
|:-|:-|
|employee\_id|\[Employee No\]|
|department|department|
|week\_number|\[Period No\]|
|total|total|

The query returns no results. Based on my relatively short SQL experience, I thought it would be an inner join I need to do this (based on the info here - [https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins](https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)) but I suspect I may have misunderstood this. In my role, I could look a SQL  for 2 minutes one week or spend a whole day on it - it depends on the assignment that comes my way. 

Any advice would be great. I've learned so much from asking questions here in the last few months and really appreciate people taking time to explain things to me  🙋‍♂️ 

P.S. Any extra info needed, happy to add it in.",learnSQL,Question about joins,1.0,https://www.reddit.com/r/learnSQL/comments/iulxqe/question_about_joins/
36,youallssuck,1600360555,iun1z0,3,1,"Is there a reason to use both? 

I am running 10 instances of the same program at the same time and need to speed things up.",learnSQL,CachedRowSet or Pooled Connection? or Both,1.0,https://www.reddit.com/r/learnSQL/comments/iun1z0/cachedrowset_or_pooled_connection_or_both/
37,jsingh21,1600446051,iv978c,4,1,"What does this error mean and it doesn't tell you were to get the data is the error since I don't have the data. The course is not clear gives you a worksheet to install everything your self not explained in the video how to do this. Now I have this error can anyone explain? 

Msg 208, Level 16, State 1, Line 1

Invalid object name 'SalesLT.Product'.",learnSQL,"Edx quering datat with SQL issues Msg 208, Level 16, State 1, Line 1 Invalid object name 'SalesLT.Product'. error anyone take this course?",1.0,https://www.reddit.com/r/learnSQL/comments/iv978c/edx_quering_datat_with_sql_issues_msg_208_level/
38,serft2002,1600455394,ivc6g4,1,1,Please DM me I need an answer for a question that needs help,learnSQL,I need help for my kid for this SQL program,1.0,https://www.reddit.com/r/learnSQL/comments/ivc6g4/i_need_help_for_my_kid_for_this_sql_program/
39,B_Huij,1600464131,ivew1d,2,1,"I'm writing a query to pull some data about a list of employees at the company. The Employee table has a field on it called ""org\_id"". The Org table contains every single organization in the company, with a categorical and hierarchical ""org\_type"" to distinguish between things like regional sales offices vs specific city field teams.

Each employee actually belongs to two orgs that I'm interested in pulling into my table. Their ""org\_id"" is the id of the local sales office they belong to. No problem, I just left join the Org table onto the Employee table to get that field. Unfortunately I also need to pull in their regional sales office, which is a different org. There is no field on the Employee table that refers to their regional office directly. However, the org\_id that refers to the employee's sales office has a ""parent\_org\_id"" in the Org table, which simply refers to a different row on the same Org table.  


For example, employee John Smith has an org\_id of 1, which points to ""Manhattan Local Sales Office"" on the Org table. The ""New York Local Sales Office"" org on the Org table has a parent\_org\_id of 2, which points to the ""New York Regional Sales Office"" on the same Org table.  


How do I set up my joins so that I can end up with a table that says ""John Smith, Manhattan Local Sales Office, New York Regional Sales Office""? I've heard of joining a table onto itself using a subquery, but I'm unsure how to actually do that, or whether it's the proper way to return the columns I want in my final query.",learnSQL,I think I need a subquery? Not sure - need to join a value from a table onto itself,1.0,https://www.reddit.com/r/learnSQL/comments/ivew1d/i_think_i_need_a_subquery_not_sure_need_to_join_a/
40,jsingh21,1600529347,ivulvi,4,1,"SELECT id, title FROM movies;

WHERE id = 6;

I have it written like this incomplete query I check the solution and it is the same way what I'am doing wrong here? is there a space missing? I tired it multiple times.",learnSQL,SQL Bolt Iam writng the follwoing line exactly the same but It say incomplete query I dont know what Iam doing worng.,1.0,https://www.reddit.com/r/learnSQL/comments/ivulvi/sql_bolt_iam_writng_the_follwoing_line_exactly/
41,Gregdevogo,1600529966,ivusv7,2,1, ,learnSQL,Introduction to full-text operators and basic search -Definitive Guide,1.0,https://manticoresearch.com/2020/09/16/manticore-full-text-operators-definitive-guide/
42,Amar0302,1600531237,ivv70e,3,1,"I have an SQL question I am struggling to answer:

How would I answer this question? :

If I upload 1,000,000 rows of data, each containing 73 columns, to the database, how can I check and be reasonably sure that all the data has been successfully uploaded?

Many thanks",learnSQL,Verifying Data Question,1.0,https://www.reddit.com/r/learnSQL/comments/ivv70e/verifying_data_question/
43,spiritmate88,1600606980,iwdgi3,6,1,"Hi,

Could someone describe what is the difference between MSSQL, MySql and T-SQL?

Thank you!",learnSQL,Definitions,1.0,https://www.reddit.com/r/learnSQL/comments/iwdgi3/definitions/
44,PeachDrinkz,1600610819,iwegar,3,1,"I've done a course to learn the actual language, SELECT etc. What can I do now? Where can I get a database and just look through it.",learnSQL,"So I've learned the language basics, what do I do now?",1.0,https://www.reddit.com/r/learnSQL/comments/iwegar/so_ive_learned_the_language_basics_what_do_i_do/
45,bilbao111,1600803705,ixuo38,0,1,"Just spent hours downloading MSSQL Express. I am a beginner.

I know I have a password but what is the login?

I don't recall there being a login???",learnSQL,How to connect to a server?,1.0,https://www.reddit.com/r/learnSQL/comments/ixuo38/how_to_connect_to_a_server/
46,Q26239951,1600831241,iy2j0q,4,1,"It took me 5 years to go from an entry level position to a senior position where I do a machine learning project every quarter. I wanted to share my experience with you all and transparency about my salary in Silicon Valley. Maybe I can encourage some people to advance their career.[ ](https://www.youtube.com/watch?v=sDtoxJ-p41c)

[https://www.youtube.com/watch?v=isVHh5DV07I](https://www.youtube.com/watch?v=isVHh5DV07I)",learnSQL,Start from Excel to Machine Learning in My Career,1.0,https://www.reddit.com/r/learnSQL/comments/iy2j0q/start_from_excel_to_machine_learning_in_my_career/
47,Shimdan,1600868672,iyadlu,8,1,"Hi my current query is 
Select Distinct PlanID,PlanStatus,Date,PriceStart, Midsupport
From Planprice

I need to identify the PlanIDs where MidSupport is less than 20% of PriceStart .",learnSQL,"Dividing Columns from one another , trying to get percentage",1.0,https://www.reddit.com/r/learnSQL/comments/iyadlu/dividing_columns_from_one_another_trying_to_get/
48,Leocannon,1600875805,iyckum,2,1,"I'm trying to build a database that generates a test with randomized questions every time for my division. We're Air Traffic Controllers in the Navy, and I am trying to build a better and more structured training program with this test generator. I found some success in randomizing questions from a single table and this is what I used:

SELECT TOP 5 ID 

FROM \[Question\_Bank\_00-80T-125\_Chapter\_1\] 

ORDER BY rnd(INT(NOW\*ID)-NOW\*ID)

I use design view to add the other columns without having to type it manually.

&amp;#x200B;

Except I'm having a hard time trying to run a query that selects random questions from multiple tables. Each table has the same set up and the only difference is the chapter number.  For example: 

Question\_Bank\_00-80T-125\_Chapter\_1                        Question\_Bank\_00-80T-125\_Chapter\_2

ID	           AutoNumber                                                   ID	         AutoNumber  
Question   Text                                                                  Question   Text  
Answer\_1  Text                                                                  Answer\_1  Text   
Answer\_2  Text                                                                  Answer\_2  Text   
Answer\_3  Text                                                                  Answer\_3  Text   
Answer\_4  Text                                                                  Answer\_4  Text   
Answer      Text                                                                  Answer      Text 

&amp;#x200B;

I've used the following and found a bit of success but the problem is that the same 5 records are selected for the second table every time I run the query. I can't place the ""ORDER BY rnd"" at the very end because it won't run the query. 

SELECT TOP 5 ID FROM \[Question\_Bank\_00-80T-125\_Chapter\_1\]

ORDER BY rnd(INT(NOW\*ID)-NOW\*ID);

UNION ALL 

SELECT TOP 5 ID FROM \[Question\_Bank\_00-80T-125\_Chapter\_2\];",learnSQL,Trying to solve a SQL problem with MS Access. Help Please?,1.0,https://www.reddit.com/r/learnSQL/comments/iyckum/trying_to_solve_a_sql_problem_with_ms_access_help/
49,CouilleRoyal,1600895827,iyjd83,2,1,"Hello!

I have an issue with my homework.

I have to create code that can receive a department code from the user and display the correct department name. The thing is I can't find a way to display like an error message (Departement not found) Here is my code: 

`SET SERVEROUTPUT ON`

`ACCEPT v_CodeDept ""PROMPT Code department?""`

&amp;#x200B;

`DECLARE`

   `v_DescDept    DEPARTEMENT_PL.DESC_DEPT%TYPE;`

&amp;#x200B;

`BEGIN`

   `SELECT`     

   `DESC_DEPT` 

   `INTO`  

   `v_DescDept`

   `FROM` 

   `DEPARTEMENT_PL`

   `WHERE` 

   `CODE_DEPT = '&amp;v_CodeDept';`

   `DBMS_OUTPUT.PUT_LINE (v_DescDept);`

`END;`

`/`",learnSQL,I have a question regarding PL/SQL,1.0,https://www.reddit.com/r/learnSQL/comments/iyjd83/i_have_a_question_regarding_plsql/
50,GregPikitis24,1600930906,iysdhs,5,1,"I work in a school, and we are fumbling through hybrid learning. 

Arguably, the biggest point of contention is attendance monitoring. Everyday, my attendance clerk is comparing two spreadsheets -- our district attendance/enrollment system (IC) &amp; our learning management system (LMS). She uses these two spreadsheets to identify which students in which cohort had zero activity in our LMS.

After some furious googling, it sounds like SQL may help us synthesize groups of data much faster. I am currently taking the Khan Academy SQL course -- it's pretty interesting, but I'm still a whole unit away from relational SQLs. 

\*Before I go any further, I have to know: \*

Since these data sets are from different databases, they have unrelated user\_ids. They even format student name differently (Column A: FIRST NAME; Column B: LAST NAME ) vs. (Column A: LAST NAME, FIRST NAME). 

The Ad Hoc functions in both systems are pretty unsophisticated so I cannot add any compatible fields.

I know a formula where I can reformat names.  Can I edit data sets individually and merge them in the same script? Unless I can change some stuff around, there will be no primary key (and therefore, no functional SQL query).",learnSQL,Relational Query: Identifying (or Creating?) a Primary Key,1.0,https://www.reddit.com/r/learnSQL/comments/iysdhs/relational_query_identifying_or_creating_a/
51,pm_90,1600950454,iywao3,4,1,"Hi everyone, 

I'm running a query that is currently counting the number of entries to a table per hour. Here is an image of the query and result (I've not used the GROUP BY clause when executing the query)

&amp;#x200B;

https://preview.redd.it/j9aa04og73p51.png?width=1973&amp;format=png&amp;auto=webp&amp;s=92485b92c8f1770f444e0a59c738772885069c5b

I am trying to get a few nuggets of info from this query but the Group By clause is giving me an 'invalid column' error. 

I'm aiming to have results which show me the average number of calls on each day of the week, average number of calls per hour, and then average number of calls per hour per day. 

I've created a view from this query but when trying to Group By \[DayOfTheWeek\] I get an error about other columns not being contained in aggregrate function or Group By clause. I appreciate I may sound silly for asking such questions but how do I go about grouping the results by DayOfTheWeek and in other queries, just group by HourOfTheDay and then in a third, group by both?

Any advice would be massively appreciated!

Thanks  🤓",learnSQL,Grouping Results &amp; Average,1.0,https://www.reddit.com/r/learnSQL/comments/iywao3/grouping_results_average/
52,Jmills2,1601054566,iznpq0,0,1," I finally got IT's permission to install PostgreSQL on my work laptop, and I keep getting this error when I try to go next from the Installation Directory page: The chosen installation directory exists and is non-empty. Please choose a different directory. Any ideas on how to fix this?",learnSQL,Problem Installing PostgreSQL: The chosen installation directory exists and is non-empty.,1.0,https://www.reddit.com/r/learnSQL/comments/iznpq0/problem_installing_postgresql_the_chosen/
53,QueryStash,1601158897,j0f6qr,0,1, ,learnSQL,Z-score's for easy anomaly detection,1.0,https://app.querystash.com/query/2db5849525e37fe9988a055980ec8a92
54,AP3340,1601180738,j0kq5u,1,1,"I'm a senior in university and wanted to know if the projects that CodeAcademy offers on its SQL course are worth it? 

&amp;#x200B;

If not, are there any courses that DO give decent projects to put on a resume?",learnSQL,CodeAcademy SQL Projects Worth It?,1.0,https://www.reddit.com/r/learnSQL/comments/j0kq5u/codeacademy_sql_projects_worth_it/
55,abandonedcrybaby,1601222063,j0tf1k,0,1,"This is what I've entered to create a stored procedure that displays details from customers where cus\_ID = CustomerID parameter. 

    Create procedure getCusDetails (IN CustomerID int) \ BEGIN \ DECLARE c cursor with return for \ SELECT *from customer \ where cus_ID = CustomerID \ OPEN C \ END

 and the error I keep getting is",learnSQL,Error when trying to create stored procedure db2,1.0,https://www.reddit.com/r/learnSQL/comments/j0tf1k/error_when_trying_to_create_stored_procedure_db2/
56,DrixlRey,1601235034,j0x88f,4,1,"Hi everyone, I'm going through CBTNuggets and grinding through 70-761 material, as well as the Itz Gans book. However, which practice test is the MOST similar to the test? Is it the MeasureUP test? Also I've heard about ""test dumps"" are there any accurate ones too? A lot of people says it's cheating, however, I'm going to go through these dumps for more practice, not just memorizing the answers. Are there any out there?",learnSQL,70-761 Which has the best practice test?,1.0,https://www.reddit.com/r/learnSQL/comments/j0x88f/70761_which_has_the_best_practice_test/
57,TravisCuzick,1601256414,j12ylc,5,1,"Fellow Data Geeks,

Here's a complete course on the fundamentals of SQL, that I'm offering for free on Udemy through the end of September:

https://www.udemy.com/course/sql-basics-crash-course-with-sql-server/?couponCode=LEARN-SQL-FOR-FREE

As a self-taught SQL programmer, I’ve learned the hard way that all the books, videos, and articles in the world won’t help without LOTS of structured practice, i.e. coding exercises. So I've included nearly 100 coding exercises in the course, covering every fundamental aspect of SQL programming.

And I walk through every subject in bite-sized videos ( averaging less than 10 minutes in length). Every concept is built up step by step, with no hand-waving at intermediate topics.

I hope you enjoy...and of course, reviews/feedback are greatly appreciated:)",learnSQL,FREE Udemy Course on SQL with Real-World Exercises,1.0,https://www.reddit.com/r/learnSQL/comments/j12ylc/free_udemy_course_on_sql_with_realworld_exercises/
58,rap4obg,1601396321,j22fs9,3,1," Hello, this is the first version of the database that I make for a browser turn based game. If you can tell me some mistakes I made in writing it. Everything will go through the Entity Framework Core. And the tables with the composite keys are for the collection so that I have quick access to the data. I'm not sure if it's written correctly so I accept all criticism and opinions. Thanks ! Specifically if you have any idea about the game's Battle Log  and team table .What a battle log should keep. For a team table, a team can have one leader, and one player can have one team. But a team can have many players!  

[https://1drv.ms/u/s!AooTsicUGRjashjmd22aebQhkNt4?e=kfBrVa](https://1drv.ms/u/s!AooTsicUGRjashjmd22aebQhkNt4?e=kfBrVa)",learnSQL,Can give me some advices ?,1.0,https://www.reddit.com/r/learnSQL/comments/j22fs9/can_give_me_some_advices/
59,pmz,1601398011,j230wr,0,1, ,learnSQL,Analytic SQL for Developers (free Oracle course),1.0,https://www.i-programmer.info/news/84-database/14026-analytic-sql-for-developers.html
60,QueryStash,1601411185,j27gh1,0,1, ,learnSQL,"Outlier detection with Z-score's, using cycle hire data.",1.0,https://app.querystash.com/query/2f433cd9bf51caa9ee29028577ec444a
61,KrishnaKA2810,1601430325,j2cx0s,0,1,"We are currently using python to push data to Azure SQL at fixed time intervals. Since this process of using python is not standardized as in, we use the same code but modify a few parameters to create another bot which was very inefficient and time consuming. Due to this my team is planning to move to SSIS. Is this the right option or is there any advanced tools? Also, can someone give advantages on using SSIS?",learnSQL,Migration to SSIS,1.0,https://www.reddit.com/r/learnSQL/comments/j2cx0s/migration_to_ssis/
62,Gregdevogo,1601544301,j359zx,0,1, ,learnSQL,Bite-Sized Tips To Make Chinese Full-Text Search,1.0,https://hackernoon.com/bite-sized-tips-to-make-chinese-full-text-search-0pl3t2h
63,ghood97,1601579362,j3f26l,5,2,"I am trying to write a query to get the first and last names of employees and the sum of all of the invoices for the customers that they support. I have rearranged and messed with different queries but can't seem to get the right answer. Does anyone have any suggestions on how this can be done? You can ignore the invoice\_items and albums tables as I don't believe they are necessary for this issue.

(The invoices table has a 'Total' column but it is not visible in the image here)

https://preview.redd.it/egtzud7b8jq51.png?width=544&amp;format=png&amp;auto=webp&amp;s=1359cc856f96ccbeb04eec68121da585db295e9e",learnSQL,SQL Multiple Join,1.0,https://www.reddit.com/r/learnSQL/comments/j3f26l/sql_multiple_join/
64,Q26239951,1601612132,j3nwu4,0,1, ,learnSQL,"SQL JOINS, Subquery and CTE Explained with Business Use Cases",1.0,https://www.youtube.com/watch?v=P8hxoMQw7ig
65,pm_90,1601637145,j3sm2t,17,1,"HI everyone, 

Just looking for some advice as to what might be causing a SQL query to return results so slowly?

For background, the SQL database is on Azure (200 DTUs, 18% filled). It's filled with data from two nursing homes. 

To filter the data down to times a call has been made for help from client to nurse is using a where clause of 'where STATUS IS NOT NULL'. I have created a view for this and this can take between 10-15 minutes to return a result however if I add a parameter to just return results of Top 1000 for nursing home A - it will return in approx 8 seconds. The same query with nursing home B will take 10-15 minutes - so the issue would seem to be with nursing home B. 

I don't believe there to be any differences between the two systems relaying the data back to the database. 

Is there something you would recommend doing to find the cause of the delay?

This is a test project so problems were expected but is this a common issue with Azure? We could return 100,000 rows from a view or query from our local SQL database - so I am just looking for a few ideas to understand why I might have encountered these issues. 

Thank you  😃",learnSQL,What would cause a SQL query to be so slow returning results?,1.0,https://www.reddit.com/r/learnSQL/comments/j3sm2t/what_would_cause_a_sql_query_to_be_so_slow/
66,Gregdevogo,1601649157,j3vjzz,0,1, ,learnSQL,How To Develop Your Custom Autocorrect Implementation with Manticore [A Step by Step Guide],1.0,https://hackernoon.com/how-to-develop-your-custom-autocorrect-implementation-with-manticore-a-step-by-step-guide-n3f238bq
0,Sysnomid,1596456434,i2vuxh,0,1,"""SELECT \* FROM r/learnSQL""

[https://devguildweb.xyz](https://devguildweb.xyz/)

Hello!, We are The Developers Guild, a friendly discord community offering free help and chat about SQL and, other programming languages.

We want to help people navigate the SQL ecosystem.

We want more SQL users to join our ranks, and get beginners the help that they need!

[https://discord.gg/xqUN8KY](https://discord.gg/xqUN8KY)

&gt;Discord Community: Script Review, Paired Programming, Collab, and Live Instruction for API Engineers!  
A community of student and professional developers. Join us for free instruction, paired programming, code/project review, collaboration, and more. Looking for exposure to new concepts? Engage in peer review on your projects? Want to shout to the world that your API is online and ready for use? Looking for help getting through your latest assignment or project? If you can ask a good question you're like to find a good answer here! If you're more on the expert side and you're so inclined you can engage in the Feinberg method of learning, where you reinforce what you do know and spot weaknesses in your own studies, by teaching a few code-along courses or just share your latest project. Regardless of your skill level though we are eager to have individuals from the software development sphere to collaborate and converse with. To teach and be taught. In short: We'd love to have you. Come on in!  
[https://discord.gg/xqUN8KY](https://discord.gg/xqUN8KY)",learnSQL,"Need Help Learning SQL?, Check out our community, https://devguildweb.xyz",1.0,https://www.reddit.com/r/learnSQL/comments/i2vuxh/need_help_learning_sql_check_out_our_community/
1,RocoDeNiro,1596475105,i314tx,0,1,"Hello,

I am using SQL Server 2018. I have a table with 4 columns. Team Member Name, Date, Week, Logged In Time. To store the Logged In time does this need to be in seconds or can this be stored as Time? I tried googling this and found ways to leave it as hh:mm: ss if there is a start column and end column. I am looking to get a output of my Team Member, where week equals whatever week, and their login times are summed up. To show 40 hours or however long they were logged in for the week but not showing a date like 1/1/00 8:00 am. I am sure this has been asked and I have googled it but can't seem to find a correct answer.

Ex:

Tim, 8/2/2020,31,6:00:00

Tim, 8/3/2020,31,7:30:00

Bruce, 8/2/2020,31.8:00:00

Results:

Tim - 13:30:00

Bruce - 8:00:00

&amp;#x200B;

Thank you",learnSQL,Does duration need to be in Int(seconds) or Time datatype,1.0,https://www.reddit.com/r/learnSQL/comments/i314tx/does_duration_need_to_be_in_intseconds_or_time/
2,fpuen,1596478197,i325q7,0,1,"I'd like to move away from typing commands and start using script files more. I found this on SO:

    psql -U username -d myDataBase -a -f myInsertFile
    
    # If the database is remote, use the same command with host
    psql -h host -U username -d myDataBase -a -f myInsertFile

I assume the path after the -f flag can be relative or absolute. 

Passwords have always confused me a bit. I think if I use the user `postgres` I will be prompted for my OS user's password (in Lubuntu) is that correct?

And if the user is someone else, will the CLI prompt me for a password, or auto-fail without adding a special flag (I believe it's `-W` to request the password prompt).",learnSQL,"psql, help running script files",1.0,https://www.reddit.com/r/learnSQL/comments/i325q7/psql_help_running_script_files/
3,programmingeye,1596487573,i35811,0,1, ,learnSQL,83. ALTER TABLE Drop Column in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=nNlhiKjA-uM&amp;feature=share
4,BitterApple69,1596491553,i36h4t,0,1, ,learnSQL,sqlzoo window lag problem #8 getting wrong dates but correct peak cases,1.0,/r/learnprogramming/comments/i36g1e/sqlzoo_window_lag_problem_8_getting_wrong_dates/
5,Historical_Plantain,1596521094,i3dyfw,12,1, ,learnSQL,Suppose if I have the SQL query 'SELECT * FROM tab1 INNER JOIN tab2 LEFT JOIN tab3' am I correct to assume that the result obtained from the inner join of tab1 and tab2 will then be used to left join with tab3?,1.0,https://www.reddit.com/r/learnSQL/comments/i3dyfw/suppose_if_i_have_the_sql_query_select_from_tab1/
6,programmingeye,1596576973,i3sdfm,0,1, ,learnSQL,84. ALTER TABLE Modify Column in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://youtu.be/nOOLIeiZiTE
7,programmingeye,1596671107,i4goof,0,1, ,learnSQL,85. ALTER TABLE Rename Column in SQL (Hindi / Urdu) | 2020 | #Programmin...,1.0,https://www.youtube.com/watch?v=vTCox5sn4ZU&amp;feature=share
8,SeekerBoo,1596698333,i4n747,0,1," Good day, Is possible to setup SQL Replication with two ALwaysOn cluster? one is the Publisher(maybe Distributor too) and the other is the Subscriber? I wonder how to setup subscriber if the node is in a AlwaysOn Cluster, should I register the both node as subscriber or is it possible tru AG Listener?",learnSQL,SQL Replication Subscriber with AlwaysON,1.0,https://www.reddit.com/r/learnSQL/comments/i4n747/sql_replication_subscriber_with_alwayson/
9,1Triskaidekaphobia3,1596728295,i4u0d0,5,1, ,learnSQL,How to pivot historical records to display changes in a row view? To show old versus new value on a given date. See image,1.0,https://i.redd.it/6541598pief51.png
10,AugustinIV,1596759641,i53nbg,1,1,I have a years worth of data separated into weeks with the format YYYY-MM-DD. How can I organize it so I can view my data by the month instead or just a way so it is organized by month?,learnSQL,Trying to group weeks into months,1.0,https://www.reddit.com/r/learnSQL/comments/i53nbg/trying_to_group_weeks_into_months/
11,javatpoints,1596762148,i54a9s,0,1, ,learnSQL,Joining Three or More Tables in SQL - javatpoint,1.0,https://www.javatpoint.com/joining-three-or-more-tables-in-sql
12,programmingeye,1596819694,i5hjkp,0,1, ,learnSQL,86. Add Constraint in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=5Bc8Swr71UE&amp;feature=share
13,DecodeAnalytics,1596828490,i5kbmc,0,1,[https://youtu.be/qaFOp0CO8xM](https://youtu.be/qaFOp0CO8xM),learnSQL,Install SQL Server Developer Edition,1.0,https://www.reddit.com/r/learnSQL/comments/i5kbmc/install_sql_server_developer_edition/
14,tmsng,1596913167,i64nje,7,1,"Hi guys, just curious, what problems you faced when you started learning SQL, when you work on your first SQL project, and when you first work on job that need SQL?",learnSQL,Problems while learning SQL ?,1.0,https://www.reddit.com/r/learnSQL/comments/i64nje/problems_while_learning_sql/
15,fpuen,1597061792,i73qi5,3,1,"1. I think the WHERE clause goes last? seems unintuitive which is why I'd like confirmation on that point
2. The other unintuitive part is, all of the columns being selected are not on the original table. They are all on the joined table. Do I need to prefix `campaign.` to all the column names? Or is that only needed when there is a name collision (both tables have the same column name)?

PS: the `$1::text` is a node-postgres specific interpolation pattern.

    `SELECT name, number, status
    FROM app_user
    
    LEFT JOIN campaign
    ON app_user.id = campaign.app_user_id
    
    WHERE app_user.id = $1::text
    `;

Here is my table structure:

    CREATE TABLE IF NOT EXISTS ""app_user"" (
      ""id"" SERIAL primary key,
      ""user_name"" VARCHAR(50) unique not null
      ""pass_hash"" VARCHAR(50) not null
    );
    
    CREATE TABLE IF NOT EXISTS ""campaign"" (
      ""id"" SERIAL primary key,
      ""name"" VARCHAR(100),
      ""status"" VARCHAR(30),
      ""number"" VARCHAR(11)
      ""app_user_id"" INTEGER REFERENCES ""app_user"" (id) on delete cascade
    );",learnSQL,Syntax verification for a simple left join,1.0,https://www.reddit.com/r/learnSQL/comments/i73qi5/syntax_verification_for_a_simple_left_join/
16,programmingeye,1597084352,i7ak1p,0,1, ,learnSQL,88. Change Column with Constraint in SQL (Hindi / Urdu) | 2020 | #Progra...,1.0,https://www.youtube.com/watch?v=5d3ibUVeLiU&amp;feature=share
17,thevred9,1597085828,i7b1qs,0,1,Does anyone know of a tool that can parse a complex sql and diagrammatically represent it? SQL Server management studio has something similar but would like to know if there’s a database agnostic tool that can do that?,learnSQL,SQL Visualizer,1.0,https://www.reddit.com/r/learnSQL/comments/i7b1qs/sql_visualizer/
18,technologycrowds,1597129417,i7n30y,0,1, ,learnSQL,SQL Table Size: How to Get Database tables size in sql server,1.0,https://www.technologycrowds.com/2016/06/how-to-get-database-tables-size-in-sql-server.html
19,programmingeye,1597169783,i7wx3p,0,1, ,learnSQL,89. Truncate Table in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=mNSGXdG5lwg&amp;feature=share
20,awditthis,1597198740,i85dfi,4,1,"Very new to SQL Server and have just been following the WiseOwl tutorial on Youtube of writing basic queries.

I've started dabbling with my own queries just to use some of the things I've picked up.

The column I've created to show box office Net Profit/Loss isn't ordering correctly. Rather than showing the films with the greatest losses first as I've intended, the results show something like this:

Net Profit/Loss
($8,040,354.00)
($61,583,254.00)
($6,549,798.00)
($51,868,170.00)
($485,483.00)
($37,995,841.00)
($37,371,735.00)
($34,369,221.00)
($33,326,758.00)
($26,112,097.00)
($23,700,000.00)
($228,264.00)
($18,871,445.00)
($15,756,875.00)
($14,654,131.00)
($13,327,187.00)
($10,221,401.00)
($1,780,720.00)
$95,907,920.00
$93,400,000.00
$915,659,812.00
$90,600,000.00
$90,213,377.00
$9,330,000.00
$89,246,220.00
$86,237,688.00
$857,100,000.00

My intent is for the movie with the biggest loss to appear first. So it's odd that it's piping up a small negative number, then gets into the positives. I see what's going on (I think) in that it's looking at the first digit and ordering based on that. So -8 is &lt; -6, but in actuality -8m is &gt; -60m. And then when you get to the positives 95 &gt; 93, but 95m is &lt; 915m.

When I take the FORMAT off, it sorts correctly. I'd like to be able to format this as is for visualization sake. 


SELECT
	d.DirectorName,
	f.FilmName,
	f.FilmDirectorID,
	f.FilmSynopsis,
	FORMAT(CAST(f.FilmBoxOfficeDollars-f.FilmBudgetDollars AS INT),'C') AS [Net Profit/Loss]
	

FROM tblFilm as f
	INNER JOIN tblDirector as d ON d.DirectorID=f.FilmDirectorID

ORDER BY
	[Net Profit/Loss] ASC",learnSQL,Ordering Currency Issue in SSMS,1.0,https://www.reddit.com/r/learnSQL/comments/i85dfi/ordering_currency_issue_in_ssms/
21,awditthis,1597285388,i8rkc2,1,1,"I'm trying to get this query to create separate columns for a general ledger. What I'd like to be able to do is get the Date Time and Place into their own separate columns.

When I run the code below I get the subsequent output.

Code: 

    SELECT 
	    SUBSTRING(description1,17,50) AS 'DateTime &amp; Place',
	    SUM(CONVERT(DECIMAL(20,2),Amount)) AS 'Amount'

    FROM
	    Register

    WHERE 
	    description1 like '% DEBIT %'
		

    GROUP BY
	    description1

    ORDER BY Amount

Output:

    Date Time &amp; Place                                   Amount
    05/04 18:43   Transaction ABC 123 	-1598.00
    07/18 08:13   Transaction ABCXYZ 456	-699.00
    02/20 13:51   Transaction ABCXYZ 789   -539.10


I've been able to add in a  CASE statement to trim down to just the date.

Current code with CASE statement:

    SELECT 
	    SUBSTRING(description1,17,
		    CASE CHARINDEX(' ',description1)
			    WHEN ' '
				    THEN LEN(description1)
			    ELSE CHARINDEX(' ',description1) + 1 
		    END) AS 'Date',
	    SUM(CONVERT(DECIMAL(20,2),Amount)) AS 'Amount'

    FROM
	    Register

    WHERE 
	    description1 like '% DEBIT %'
		

    GROUP BY
	    description1

    ORDER BY Amount

Output:
    Date         Amount
    05/04 	   -1598.00
    07/18 	    -699.00
    02/20 	    -539.10


Ideally, I'd be able to add something to create an output like this:

    Date      Time      Place                                  Amount
    05/04     18:43    Transaction ABC 123 	       -1598.00
    07/18     08:13    Transaction ABCXYZ 456     -699.00
    02/20     13:51    Transaction ABCXYZ 789     -539.10


Not really sure where to go from here. My intuition tells me I need to go deeper with the CASE statement?",learnSQL,Split a String On First Two Spaces in Column,1.0,https://www.reddit.com/r/learnSQL/comments/i8rkc2/split_a_string_on_first_two_spaces_in_column/
22,programmingeye,1597341062,i94mz9,0,1, ,learnSQL,90. Show Columns in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=9GiCSk4VO_Q&amp;feature=share
23,chezyduck94,1597417634,i9nmoo,0,1,"I'm hoping you can help with this seemingly simple issue!
Trying to install a report server onto my PC, connecting to either a 2019/2017 server (I've tried both). But when creating the server via the report server configuration I always get this error- https://imgur.com/a/fTUeyav 

Ive googled it, tried all their solutions with no success, has anyone else seen this issue and how do I get around it?

Thanking you!",learnSQL,SQL Report Server Issue,1.0,https://www.reddit.com/r/learnSQL/comments/i9nmoo/sql_report_server_issue/
24,javascript_dev,1597437880,i9txbm,1,1,"If I were to describe my ONE : MANY relationships as a pyramid

1. `app_user` is on top.
2. An app\_user can have many `campaign` s
3. A campaign can have many `phone_call` s

I currenty envision this table structure:

    CREATE TABLE IF NOT EXISTS ""app_user"" (
      ""id"" SERIAL primary key,
      ""user_name"" VARCHAR(50) unique not null,
      ""password_hash"" VARCHAR(50) not null,
      ""voipms_user_email"" VARCHAR(50)
    );
    
    CREATE TABLE IF NOT EXISTS ""campaign"" (
      ""id"" SERIAL primary key,
      ""name"" VARCHAR(100),
      ""status"" VARCHAR(30),
      ""number"" VARCHAR(11) not null,
      ""app_user_id"" INTEGER REFERENCES ""app_user"" (id) on delete cascade
    );
    
    -- callId, source num, destination, time, userId (fk)
    CREATE TABLE IF NOT EXISTS ""phone_call"" (
      ""uniqueId"" INTEGER not null primary key,
      ""destination"" VARCHAR(11) not null REFERENCES ""campaign"" (number) on delete cascade,
      ""callerID"" VARCHAR(11),
      ""description"" VARCHAR(80),
      ""account"" VARCHAR(10),
      ""disposition"" VARCHAR(20),
      ""seconds"" SMALLINT,
      ""app_user_id"" INTEGER REFERENCES ""appuser"" (id) on delete cascade
    )

Notice the two foreign keys in the `phone_call` table. Do you guys think I should keep, or drop the direct fk relation to table `app_user`?

* This might result in simpler join queries at some point
* I don't think there is a current need for this direct relationship

If it's a middling decision I'm curious what factors you would consider.",learnSQL,"2 foreign key relationships, or just one?",1.0,https://www.reddit.com/r/learnSQL/comments/i9txbm/2_foreign_key_relationships_or_just_one/
25,McCloogs,1597443764,i9vp89,2,1,"I am trying to use a get variable to filter a table based on the value of a certain column. I don't have any problems when I set the value that I want to filter on, but cannot figure out why it won't work when I try to get that value from a get variable.

Basically, why does this work:

`$query = ""SELECT * FROM \`Data20\` WHERE Conf = 'SunSt'""`

When this doesn't work:

`$conf = isset($_GET['conf'])  ? $_GET['conf']: 'SunSt';`

`$query = ""SELECT * FROM \`Data20\` WHERE Conf = @conf""`",learnSQL,Help with get variable and filtering,1.0,https://www.reddit.com/r/learnSQL/comments/i9vp89/help_with_get_variable_and_filtering/
26,mohammedadnant,1597456971,i9z6nt,0,1, ,learnSQL,Best Use of Recursive CTE in SQL,1.0,https://youtu.be/wv_qKTLR5qA
27,programmingeye,1597511877,iabaku,0,1, ,learnSQL,91. Show Create Database in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=83rlvZ5eoNQ&amp;feature=share
28,distraughthoughts,1597632501,ib60qr,0,1,"Hello,

If you are interested in learning SQL or have knowledge and wish to review SQL with others, I’ve created the following SQL discord channels.

Please feel free to join the community. 😊 

https://discord.gg/Buceuh",learnSQL,Learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ib60qr/learning_sql/
29,BillBeaux,1597681384,ibha4p,0,1, ,learnSQL,Level up your SQL with advanced SQL templates (sample DB included),1.0,https://popsql.com/sql-templates?utm_source=reddit&amp;utm_medium=social&amp;utm_term=r-learnsql&amp;utm_campaign=sql-templates
30,programmingeye,1597687754,ibjevb,0,1, ,learnSQL,92. Show Create Table in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=bRlfn_opdu0&amp;feature=share
31,DecodeAnalytics,1597777706,ic7gh2,12,1,"For those of you just starting out with SQL. I have a free course that can help you gain a little momentum. 

 [https://store.decodeanalytics.net/free-sql-course](https://store.decodeanalytics.net/free-sql-course)",learnSQL,Free SQL Course,1.0,https://www.reddit.com/r/learnSQL/comments/ic7gh2/free_sql_course/
32,programmingeye,1597786369,ica8xs,0,1, ,learnSQL,93. Update Statement in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=82TbiSoRw8E&amp;feature=share
33,PlethoraOfFuckery,1597846041,icoa3t,0,1, ,learnSQL,Introduction to SQL Server Statistics,1.0,http://jebbr.com/2020/08/19/introduction-to-sql-server-statistics/
34,ApyrSlayv,1597854618,icqzo3,2,1,Hi everyone. I recently started learning SQL on codecademy and was interested which IDE should I use. I've heard about Oracle and Sybase but can't figure out which one would be the best option.,learnSQL,New to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/icqzo3/new_to_sql/
35,Unclematttt,1597881366,iczhx4,1,1,"Hello!  This one is a doozy... at least for me.  I am new to SQL (we run sql server 2016) and I know what I want, but I have no idea how to make it happen.  I poked around google and stackoverflow, and it *seems* like I am wanting to use a 'for xml' statement, since STRING\_AGG isn't a viable option.

I have an existing query with multiple joins that returns results, but what I am trying to do is concatenate one of the columns to avoid introducing a 'many to one' type of result.  Here is a stripped down query as it stands now:

&amp;#x200B;

select top(25000)

[mm.Id](https://mm.Id) as Id,

mpa.bool as MessageBool,

ga.address as EmailAddress

from messages.dbo.messagedata mm

inner join messages.dbo.users mpa

on [mm.Id](https://mm.Id) = [mpa.Id](https://mpa.Id)

inner join messages.dbo.globalemail ga

on [ga.Id](https://gea.Id) = [mpa.Id](https://mpa.Id)

where mm.Id&gt;= 10

order by [mm.Id](https://mm.Id) asc;

 The query returns results, but the problem is that I want the top 25,000 results, and since there can be many email addresses per ID, i am running into an issue where needed data may be cut off due to the top 25,000 modifier.  Due to the way I am using this data, that bit cannot change, I need distinct IDs with any associated email addresses listed as a concatenated string separated by commas, an array... it really doesn't matter, I am parsing out the data afterword.

To recap, here is something like what I get now:

\+--ID--|--MessageBool--|--EmailAddress--+

\+---1--|--True----------------|--test@user.com-+

\+---1--|--True----------------|-test\_2@user.com-+ ... etc

&amp;#x200B;

What I am trying to accomplish:

\+--ID--|--MessageBool--|--EmailAddress--+

\+---1--|--True----------------|--test@user.com, test\_2@user.com-+

&amp;#x200B;

Hopefully this makes sense.  I have tried to use the 'for xml' syntax to create an xml object that can be inserted into that column, but all of the examples I am finding are lacking the need for the joins that I have in place.  ANY help getting this solved is very much appreciated- thanks for stopping by and checking this out!",learnSQL,Struggling with 'for xml' syntax as it applies to my select statement,1.0,https://www.reddit.com/r/learnSQL/comments/iczhx4/struggling_with_for_xml_syntax_as_it_applies_to/
36,sunshao1031,1597947824,idfrr6,0,1,"Hello, I am trying to find the mean absolute error without using sklearn. Here is my code:

    import pandas as pd
    
    def mae(target, predictions):
        error = 0
        for i in range(target.shape[0]):
            error += abs(target - predictions)
        return error / target.shape[0]
    
    target = pd.Series([-0.5, 2.1, 1.5, 0.3])
    predictions = pd.Series([-0.6, 1.7, 1.6, 0.2])
    
    print(mae(target, predictions))

For some reason, when I run the code, it will give each of the 4 values instead of the 1 answer. Any help would be appreciated",learnSQL,Writing a function to find mean absolute error,1.0,https://www.reddit.com/r/learnSQL/comments/idfrr6/writing_a_function_to_find_mean_absolute_error/
37,programmingeye,1597950395,idglt2,0,1, ,learnSQL,94. Update Statement without Where Clause in SQL (Hindi Urdu) | 2020 | #...,1.0,https://www.youtube.com/watch?v=y7O2ajsXKlk&amp;feature=share
38,programmingeye,1598039706,ie3zeb,0,1, ,learnSQL,95. Case Statement in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=3kuiJccYYa0&amp;feature=share
39,TheRealJiozx,1598093191,iegd7j,3,1,"Hi can someone tell me if it’s possible to make SELECT DISTINCT shuffle the distinct value(s) if two or more rows only have one of the same column values? So instead of always inserting or selecting the same row, it selects a random one all the time?",learnSQL,Select distinct (shuffle?),1.0,https://www.reddit.com/r/learnSQL/comments/iegd7j/select_distinct_shuffle/
40,distraughthoughts,1598154309,iewhox,0,1,"Hello,

If you are interested in learning SQL or have knowledge and wish to review SQL with others, I’ve created the following SQL discord channels.

Please feel free to join the community. 😊 

https://discord.gg/Xr593UW",learnSQL,Learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/iewhox/learning_sql/
41,programmingeye,1598174687,if0b65,0,1, ,learnSQL,96. Update with Case Statement in SQL (Hindi / Urdu 2020) | 2020 | #Prog...,1.0,https://www.youtube.com/watch?v=g8NV5VAVBVs&amp;feature=share
42,sdaiv,1598345847,ig8h1e,1,1,"Hi All, I have the following query: 

**SELECT** RECORD\_CONTENT:audio\_language::**STRING AS** audio\_lang,  
RECORD\_CONTENT:subtitle\_language::**STRING AS** sub\_lang,  
RECORD\_CONTENT:platform::**STRING AS** platform,  
RECORD\_CONTENT:business\_model::**STRING AS** business\_model,  
 *SUM*(RECORD\_CONTENT:main\_duration::**INT**/1000/60) **AS** main\_content\_minutes  
**FROM** KAFKA  
**WHERE** *DATE\_TRUNC*(**'day'**,KAFKA.UTIL.UDF\_UNIX\_TO\_TIMESTAMP(RECORD\_CONTENT:proxy\_time)) **BETWEEN  '2020-07-01' and '2020-07-31'**  
**GROUP BY** 1, 2, 3, 4, 5;  


I also want to add the date as a column and group by it, any tips on how to include it in my query?",learnSQL,Adding timestamp converted from text into group by statement,1.0,https://www.reddit.com/r/learnSQL/comments/ig8h1e/adding_timestamp_converted_from_text_into_group/
43,programmingeye,1598378037,igh9tt,0,1, ,learnSQL,97. Update Date in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=INKcvJ3r8gg&amp;feature=share
44,zero_kay,1598428729,iguswz,1,1, ,learnSQL,If you are looking for a free SQL on-your-pace course.,1.0,https://www.w3schools.in/sql/intro/
45,GlitteringClient6,1598556124,ihrkpy,0,1,"I’m sorry to be putting out yet another one of these posts but in a post Covid world I’ve finally decided it’s time to look outside of my current career field.

My work history is in libraries, particularly the back end, resource management side of things.   I have a masters in Library information sciences and a bachelors in English and history. 

I spent a great deal of time between March and now teaching myself SQL and have come to understand (I think) my work in libraries is a form of database management but utilizing the GUI side of database management.  Most of what I have done as a cataloging and e resources Library technician is inserting, updating and deleting materials (books, dvds, ebooks) from the the library’s database management software (in libraries it is called an ILS or integrates library software). In fact the current software I use, Polaris is SQL based and has sql functionality built into the gui but I am not authoritative to utilize it. I have done some analytics of usage of online database subscriptions to make budget cut suggestions 

My question would be first, are there companies out there that would consider manipulating databases with a graphic user interface as opposed to sql or other languages as  valid experience?  

My second question,  I know a few months of SQL learning from Udemy and other sources is likely not enough for me to seek similar jobs (I believe what I’d be looking for in terms of similar work is a lower end database engineer position?)  what else might be useful to beefing up my resume?  I took a python course in my undergrad days and am working to bump up that skillset and it is a bit rusty.",learnSQL,Library database management career change,1.0,https://www.reddit.com/r/learnSQL/comments/ihrkpy/library_database_management_career_change/
46,dancingroo,1598565781,ihum1k,4,1, ,learnSQL,Is this book from 2009 still good to learn from? Or has SQL changed significantly enough in 10+ years?,1.0,https://i.redd.it/wy73flx9bmj51.jpg
47,JudgeDreadnought,1598746014,ij350d,32,1,"I'll be taking a class in about a month, and I wanna get a good head start. But I am completely new, I've never coded anything in my life. I don't even know what to download to start playing around with and practicing with SQL. I went to ""mySQL"" and quickly got overwhelmed. I'm really just looking for something I can practice typing very simple commands in. Any tips or links to walkthroughs would be super helpful.",learnSQL,Where should I start?,1.0,https://www.reddit.com/r/learnSQL/comments/ij350d/where_should_i_start/
48,SQLmax,1598873311,ijw8l0,10,1,"To the SQL beginners,

Want to try a free course, that isn't just another free course?

I’m very excited to release my SQL course for beginners “SQL for real-world data analysis” on Udemy. 

I’d be stoked to hear your feedback, and hope it helps you on your journey to a fulfilling data career.

&amp;#x200B;

**How to sign up**

1. Follow this link and watch the promo to check that the course is right for you: [https://www.udemy.com/course/sql-for-real-world-data-analysis/?referralCode=B1619CE91415B0D2C586](https://www.udemy.com/course/sql-for-real-world-data-analysis/?referralCode=B1619CE91415B0D2C586) 
2. Request access **within the next 3 days** (Thurs Eastern US Time) and I’ll approve asap (allow for time difference with Aus!)
3. Dive in!

&amp;#x200B;

**Best features (quick read)**

* In plain English, with business context and fun analogies to explain the otherwise dry syntax.
* Unique database, using a fictional bank relational database with incredibly rich transaction data to keep the course interesting and relevant.
* Focuses deep on the absolute basics, to get you the strong foundations required for a data career.
* Doesn’t cost money! If you sign up now while it’s free, you have lifetime free access, even as the course grows and becomes paid.

&amp;#x200B;

**Why another SQL course? (slightly longer read)**

My SQL learning experience was not ideal. I took probably a year longer than necessary to master the SQL for data analytics. Even though I was practicing everyday on the job, I was slow to understand new concepts and struggled to remember new syntax. 

Now as a full-time data analytics and insights manager, I have the hindsight to know it should have been much easier.

The main ingredients missing for me were structure and context. So I’ve taken what was lacking in my learning experience and build a course around it. Specifically, here’s why my course stands out:

* **Structured**
   * We learn what you need for on the job data analysis using SQL, no more less.
   * The topics are covered in an order that makes sense and helps you build on past learning.
   * You understand why each lesson is important, where it sits in the grand scheme of SQL.
* **In context**
   * SQL shouldn’t have to be dry or boring, so I have used realistic business problems and analogies.
   * You’ll be playing the role of a data analyst at the largest fictional company in Australia, the Royal Bank of Australia, solving problems to drive sales, improve marketing reach, and manage customers.
   * Knowing why you’re learning the syntax, you’ll learn faster.
* **Hands on/practical**
   * You’ll practice writing SQL in every single lesson.

We are going to have fun too, investigating cryptocurrency trading among customers, and even learning about Australian animals!

&amp;#x200B;

**Note on the short version**

This is a short version of the course, that I have posted while building the rest of the course.

It focuses on setting up and then the basics of handling data, especially filtering. Obviously you’ll need to complement this course with others for a full picture of SQL. But it’ll give you a good 2nd perspective. Plus, as more lessons come out, and the course becomes paid, you’ll have lifetime free access.

&amp;#x200B;

Don't hesitate to get in touch via Reddit direct message with questions.

Cheers, Max",learnSQL,Free exciting new SQL course for Beginners (link active for 3 days),1.0,https://www.reddit.com/r/learnSQL/comments/ijw8l0/free_exciting_new_sql_course_for_beginners_link/
0,KeeperB5,1593802103,hkolrn,1,2,"Hello everyone.

I need to store user data in an MS SQL '19 database. I know very basic SQL query syntax, but the more advanced stuff is currently beyond me. Yet the problem I am facing is fairly basic one.

Data is a mix of single and multi-value fields.

From what I have gathered so far, I should create a separate table for multi-value fields and use joins to put the data together.

The part I am a bit stumped on, is that how do hide implementation details from clients so that they wouldn't need to know complex SQL statements and break every time schema is modified?

Apparently I can create views, as described [here](https://docs.microsoft.com/en-us/sql/relational-databases/views/views?view=sql-server-ver15). And it would seem views have some support for [modifications](https://docs.microsoft.com/en-us/sql/relational-databases/views/modify-data-through-a-view?view=sql-server-ver15). However, the latter article is worded in a way that would indicate modifications in scenario where you'd need to add, remove or update values in another table wouldn't work?

I could also word my question in following manner: How should I administer a database that needs to store a mix of single- and multi-values in a manner that use of said database would be as easy as possible for multiple clients without use of a middleware? And how do I ensure I can over time expand the db schema without breaking clients? Are views the answer, or part of the answer?

Thank you.",learnSQL,To view or not to view?,0.76,https://www.reddit.com/r/learnSQL/comments/hkolrn/to_view_or_not_to_view/
1,FollowerOfEcho,1593954719,hlmf22,6,1,"What form do things have in an SQL server? Are they files that have some qualities, like books in a bookshelf? Are they all arranged in a table like excel? Is the database just a thicc file? Programming is intimidating and I don’t know what do to with those questions. Help...",learnSQL,Beginner question,1.0,https://www.reddit.com/r/learnSQL/comments/hlmf22/beginner_question/
2,Quick-Purple9633,1593983182,hlu8es,0,1,"A community of student and professional developers. Join us for free instruction, paired programming, collaboration, and more. Looking for exposure to new concepts? Engage in peer review on your projects? Looking for help getting through your latest assignment or project? If you can ask a good question you're like to find a good answer here!

Engage in the Feinberg method of learning, where you reinforce what you do know and spot weaknesses in your own studies, by teaching a few code-along courses or just share your latest project.

**In short:** We'd love to have you. Come on in!

[https://discord.gg/5vphZ5s](https://discord.gg/5vphZ5s)",learnSQL,Discord Community: Live Instruction and Paired Programming,0.6,https://www.reddit.com/r/learnSQL/comments/hlu8es/discord_community_live_instruction_and_paired/
3,Clearly2020,1594076589,hmiopn,6,1,"I am doing the Udacity data science with python course. They seem to just go from 0 - 1000 with subqueries with no real explanation or how to next them.This is the biggest example they gave for the learning section of it.

`SELECT * FROM (SELECT DATE_TRUNC('day',occurred_at) AS day, channel, COUNT(*) as events`

`FROM web_events`

`GROUP BY 1,2 ORDER BY 3 DESC) sub;`

Then it jumps to a quiz asking for 3 or more subqueries feeding each other. The first one I did it with just 1 query, when i looked a the answer it was 1 query with 2 subqueries.

It is really frustrating working on the next set of question because it was not explained at the point of just giving up on this course.

&amp;#x200B;

    SELECT a.name 
    FROM orders o 
    JOIN accounts a 
    ON a.id = o.account_id 
    GROUP BY 1 
    HAVING SUM(o.total) &gt; (SELECT total                    
                    FROM (SELECT a.name act_name, SUM(o.standard_qty) tot_std, SUM(o.total) total                          
                    FROM accounts a                          
                    JOIN orders o                         
                    ON o.account_id = a.id 
                    GROUP BY 1 
                    ORDER BY 2 DESC LIMIT 1) sub);

I dont understand the parenthesizes at all. Especially the one in front of Select in HAVING SUM row, and the next one in font of the next select.",learnSQL,Looking for help with understanding subquery.,1.0,https://www.reddit.com/r/learnSQL/comments/hmiopn/looking_for_help_with_understanding_subquery/
4,[deleted],1594121540,hmsuk1,0,1,[deleted],learnSQL,Databases and SQL Cheat Sheet for Interviews,1.0,https://www.reddit.com/r/learnSQL/comments/hmsuk1/databases_and_sql_cheat_sheet_for_interviews/
5,Melanie786,1594163921,hn5jal,0,1,"Hello! I wanted to get better at learning SQL so I decided to make a very simplified version of a job search tool. 

I created tables as below: 

Jobs table:

|*Job\_ID*|*Job\_Name*|
|:-|:-|
|0|Programmer|
|1|Analyst|
|2|Designer|

Skills table: 

&amp;#x200B;

|*Skill\_ID*|*Skill\_Name*|
|:-|:-|
|0|SQL|
|1|Mac|
|2|Java|
|3|Python|

&amp;#x200B;

Job\_Skills table (keeps track of which jobs require which skills) : 

|*ID*|*Job\_ID*|*Skill\_ID*|
|:-|:-|:-|
|0|0|2|
|1|0|3|
|2|1|1|
|3|1|3|
|4|2|2|

Candidates table: 

&amp;#x200B;

|Candidate\_ID|Candidate\_Name|
|:-|:-|
|0|Mary|
|1|Bob|
|2|Sam|
|3|Millie|
|||

And finally a Resume\_Skills table, which maps candidates to which skills they possess: 

&amp;#x200B;

|Resume\_Skill\_ID|Skill\_ID|Cand\_ID|
|:-|:-|:-|
|0|2|0|
|1|3|0|
|2|1|1|

&amp;#x200B;

I'm trying to get a query that will allow me to find the jobs that require skills that a candidate has. For example, if I run the query on candidate 0, then I should get all the Job\_IDs of the jobs that require a background in Java and Python (which should be 0 and 1 for Programmer and Designer)

This is the query I have (I thought it would do the above): 

`SELECT DISTINCT Jobs.Job_ID FROM Jobs, Job_Skills, Skills, Resume_Skills` 

`WHERE Jobs.Job_ID = Job_Skills.Job_ID` 

`AND Job_Skills.Skill_ID = Resume_Skills.Skill_ID` 

`AND Resume_Skills.Cand_ID = 0`

However, I get 0, 1, and 2 for the resulting Job\_ID's. 

I'm not sure what I'm doing wrong, and I thought it made sense, so I'd appreciate some guidance!!",learnSQL,Filtering data from multiple tables,1.0,https://www.reddit.com/r/learnSQL/comments/hn5jal/filtering_data_from_multiple_tables/
6,nickson777,1594223092,hnjdpz,3,2,"hello there! I am interested how to run SQL commands without installing the SQL server? more specifically, I'm interested how to do this in the portable way. I would prefer if instructions are given for MySQL version 8.
thanks in advance.",learnSQL,portable option of running SQL,1.0,https://www.reddit.com/r/learnSQL/comments/hnjdpz/portable_option_of_running_sql/
7,marmotwhisperer20,1594229113,hnl9ei,3,1,"Hi all,

I am on a WIndows Machine running Postgresql and trying to wrap my head around the security provisions of postgresql, how to mitigate any downfalls, and what the trade-offs are for automating a workflow. I am new to SQL and security in general, so forgive me is this is obvious.

Basic workflow is to pull in contact info daily from a third party site, clean it, and incorporate it into our database. Currently, we are using Python to pull in the data from the internet, drop it into data folders which Postgresql uses.

I would like to do this in an as automated way as possible, but am worried about security. We have set up the sql script files in a batch file to pull in the data scraped by Python, are using a .pgpass file, and Windows Task scheduler.

What security precautions should I be taking? Should I not use a .pgpass file and instead have the user submit a password every time?

I have read that default postgresql doesn't allow remote access, which is good. Were someone to hack our local machine, how easy would it be to move the data off of this machine and use it elsewhere? Are their precautions I can take to prevent this?

Thanks for all of your help!",learnSQL,Local DB Security vs Automation?,1.0,https://www.reddit.com/r/learnSQL/comments/hnl9ei/local_db_security_vs_automation/
8,De_Noir,1594303990,ho3rxp,6,3,"Hi all,

I have currently setup my code so far to get the following output:

|ID|Code|CCY|
|:-|:-|:-|
|1|111|USD|
|1|112|EUR|
|2|111|USD|
|2|112|USD|
|2|113|GBP|
|6|111|EUR|
|6|112|EUR|

What I would want to get out of this table is the following:

|ID|Code|CCY|
|:-|:-|:-|
|1|112|EUR|
|2|111|USD|
|6|111|EUR|

Thus the conditions are the following:

1. each ID may exist only once
2. the ID that exists should contain the Code with the lowest value EUR account
3. if the ID has no EUR Code, then simply choose the lowest code with any currency 

Now in other programming languages, I would resolve these conditions with looping. But I have no idea how I would approach this issue within SQL. I guess I would clear condition 1 with the command word ""distinct"", but I have only a slight idea how I would approach the other two. 

My first idea is that I would create two tables, which I would finally combine using ""union"". In the first table I would filter for EUR and the lowest code and in the second I would filter for everything that is not EUR, is the lowest code and all the IDs that were already contained within the first table.

Any advice or easier ways to do this, as to what I describe above?",learnSQL,"In a list where a certain ID repeats multiple times, get only one ID per every unique ID, where certain conditions hold",1.0,https://www.reddit.com/r/learnSQL/comments/ho3rxp/in_a_list_where_a_certain_id_repeats_multiple/
9,Adeptdeveloper1,1594324632,hoa2m5,2,1,"This is coming late, but I thought someone may benefit from this entirely free [simulation exams](https://www.udemy.com/course/mta-98-364-practice-exam-database-fundamentals-2020/?referralCode=AA67DA28F9A39A06EAD2) on udemy for Microsoft database fundamentals exam.

&amp;#x200B;

Click on this [coupon](https://www.udemy.com/course/mta-98-364-practice-exam-database-fundamentals-2020/?couponCode=FREEJULY3DAYS) link for a free enrollment today only.",learnSQL,Preparing for MTA 98-364 Exam? Enroll for free now!,1.0,https://www.reddit.com/r/learnSQL/comments/hoa2m5/preparing_for_mta_98364_exam_enroll_for_free_now/
10,retuls,1594328590,hoba42,7,1,"`SELECT * FROM people WHERE country = 'USA' AND name LIKE '%steve%';`

Why this query showing results of all countries instead of USA only?",learnSQL,This MySQL query is not working as expected,1.0,https://www.reddit.com/r/learnSQL/comments/hoba42/this_mysql_query_is_not_working_as_expected/
11,RGUploaders,1594380283,hon7sx,9,1,"hey, if anyone is free, please help me, i have 1 hour and 30 minutes to go, 10 tasks",learnSQL,Need help in sql query,1.0,https://www.reddit.com/r/learnSQL/comments/hon7sx/need_help_in_sql_query/
12,Difference_Warm,1594449338,hp5f9p,5,1,Are there any online courses available free/paid that can allow us to learn SQL for Grad students?,learnSQL,Learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/hp5f9p/learning_sql/
13,Difference_Warm,1594451637,hp5u7x,1,1,Are there any SQL books u recommend. I am working on SQL Queries for the Mere Mortals.,learnSQL,SQL Books,1.0,https://www.reddit.com/r/learnSQL/comments/hp5u7x/sql_books/
14,FollowerOfEcho,1594464797,hp83fo,2,1,"Hello! I have an sql project where I’m trying to catalogue every word in a document, however there are words that appear more than one time, is there any way to make sure that the words are catalogued only once? :) 
Hope y’all are doing well, it’s a crazy world.",learnSQL,Sql database for words,1.0,https://www.reddit.com/r/learnSQL/comments/hp83fo/sql_database_for_words/
15,staceguit,1594497473,hpgjwa,2,1,"So I am taking a SQL class on [Lynda.com](https://Lynda.com).

I followed along with the lessons and then I've made my own tables. I'm constantly quizzing myself with my own tables to see if I understand the concepts.

I've learned how to insert values into a table. 

One thing I don't understand is if you look at my code for item 6, why is there a syntax error near 'United' when it wasn't an issue before? The 6 is a primary key and the rest of the values are text values. 

I've tried closing out of SQLiteStudio and coming back to it but it is still giving me the error. What else can I do to troubleshoot? 

Thank you in advance!",learnSQL,Syntax error?,1.0,https://www.reddit.com/r/learnSQL/comments/hpgjwa/syntax_error/
16,Wondering7891,1594563254,hpv15j,11,2,"Good morning!
I am very new to SQL and currently taking a course in the language. I have to use W3Schools to write SQL code to answer the questions below and I am absolutely stumped and I am hoping some of you may be able to help write the necessary code to obtain the answers.

Link to W3 Schools Datasets: https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all

Questions:
Question 6: Which country had the most orders in 1996?
Question 7: Which supplier generated the most revenue in 1997?
Question 8: Which is the most common shipper?
Question 9: Which city had the most orders delivered to it?
Question 10: List the employees with no orders

PLEASE NOTE: This is only the 2nd week of the course so all we have been “taught” are basic commands, manipulations, queries, aggregate functions, and joins thus the codes should be very basic. I accomplished the first half of the questions fine but I am stuck in how to combine joins with aggregate functions which are the types of code needed to answer these questions.

The best code I’ve come up with for Question 6 is this:
SELECT COUNT(*), Orders.CustomerID, Customers.Country
FROM Orders
JOIN Customers
ON Orders.CustomerID = Customers.CustomerID
WHERE Orders.OrderDate LIKE '%1996%'
GROUP BY Customers.Country;

But that is not giving the correct answer to the question thus it is not the right code. As for Q8, although it seems like a straight forward code:
SELECT ShipperID, COUNT (*)
FROM Orders
GROUP BY ShipperID;

It is not, I have to join the shipper data with I believe the Orders Data and then count so I get the Shipper Name rather than the ShipperID.

I need to provide both, the code and the answer to the question for the assignment, the code being the most important part. Any help anyone can provide will be truly appreciated.",learnSQL,HELP Wanted - Writing SQL Code to Answer Qs Using W3 Schools,1.0,https://www.reddit.com/r/learnSQL/comments/hpv15j/help_wanted_writing_sql_code_to_answer_qs_using/
17,Adeptdeveloper1,1594596680,hq4haa,0,1,[removed],learnSQL,Database fundamentals free simulation ... Only 9 hours left,1.0,https://www.reddit.com/r/learnSQL/comments/hq4haa/database_fundamentals_free_simulation_only_9/
19,DickInAToaster,1594730943,hr0w1t,3,5,"I have been learning SQL and have found SQL Bolt to be great. I have also utilized the codecademy class the covers much the same topics. 

I think I have a decent grasp of these concepts. What is there to learn next? Or is it that there is less to learn and more complex queries to put together? Any guidance on how to deepen my knowledge or to advance my skills would be appreciated, but as I mentioned I am at a loss as how to continue. Thanks.",learnSQL,Where do I go next?,1.0,https://www.reddit.com/r/learnSQL/comments/hr0w1t/where_do_i_go_next/
20,eddyb66,1594744199,hr4p02,2,1,"I've done this in the past and I'm completely drawing a blank.  I have a number of records that need to be updated by a stored proc.

example of the main query

Select sys\_id from solar.profile where status = x

This will pull thousands of records I need to run the stored proc against each individual record from this output.

The stored proc is already created it and we use it to run updates 1 at a time it requires 3 variables to run, 2 of which can be static but the 3rd requires the unique ID (sys\_id).

Would I run this as a for next with the execute of the stored proc?

\-- Edit

Just recalled that I think I should be able to do this with a Cursor.",learnSQL,Executing a Stored Procedure for multiple records,1.0,https://www.reddit.com/r/learnSQL/comments/hr4p02/executing_a_stored_procedure_for_multiple_records/
21,Brock_Alee,1594767083,hrbwuc,2,4,"Is anyone familiar with this book? It was loaned to me and I've started working through it, but I'm having trouble. It's telling me to go to https://127.0.0.:8080/apex (the administration homepage for oracle), but this does not appear to be a functional page. Any help would be much appreciated.",learnSQL,Teach yourself SQL in 24 hours,0.84,https://www.reddit.com/r/learnSQL/comments/hrbwuc/teach_yourself_sql_in_24_hours/
22,_Royalty_,1594795225,hriniy,1,1,"I am in a strange position in my career where I have ~4 months remaining in my current role and have been given an opportunity to spend that time training. I am trying to determine the order in which I approach the following topics:

- ETL (Likely SSIS)
- Power BI
- Tableau

I am considering it in that order, and I also have the desire to learn SAS, but resources to do so are more difficult to obtain than the above. Any feedback is appreciated, but I'm trying to become as marketable as possible within this small frame of time.

EDIT: I should add that most, if not all, BI postings in my area request Power BI as a qualification so I may even prioritize that before ETL and other warehousing concepts, but I feel that may also be a stronger foundation.",learnSQL,Which concept/tool to learn next?,1.0,https://www.reddit.com/r/learnSQL/comments/hriniy/which_concepttool_to_learn_next/
23,smartchin77,1594818531,hrn8ns,8,2,I came across [this](https://www.udemy.com/course/the-ultimate-mysql-bootcamp-go-from-sql-beginner-to-expert/) course on Udemy. Does it cover basic SQL concepts? ,learnSQL,Is this SQL course good for beginners?,1.0,https://www.reddit.com/r/learnSQL/comments/hrn8ns/is_this_sql_course_good_for_beginners/
24,pm_90,1594899264,hs7zx5,0,1,"Hi everyone, 

I am using SQL Server Management Studio and I am currently trying to build a new table based off a view and a tabled I have and I am not sure an Inner Join does what I am looking for, although I could be wrong. 

I have a view that shows me a specific department's submitted hours from their timesheets. The columns I want from it are employee\_id, department, week\_number, total. The view is called 'it\_timesheets\_signoff'. I have a table called approved\_timesheets that contains approximately 70 columns for different areas of the business but essentially what I want to do is use the information from the view to fill some of the columns in the table. Below are the four columns I need to marry up



|*View ('it\_timesheets\_signoff')*|*Table(approved\_timesheets)*|
|:-|:-|
|employee\_id|Employee No|
|week\_number| Period No |
|department|Department|
| Total |Total|

I've tried to design a view for it visually

&amp;#x200B;

https://preview.redd.it/6o7js604g7b51.png?width=1137&amp;format=png&amp;auto=webp&amp;s=c93e19ec6e4d88bee8a2c10833e93845a7ff0291

But I am not getting anything in the results. 

As I am fairly new to SQL, this query is a bit beyond what I have done so far. 

The reason I am doing this is once I have the table filled with the four columns, I will build a CRUD app to allow team managers complete the rest of the timesheets. 

If there is a better way to do this then I am happy to learn and any help or advice given would be appreciated",learnSQL,Help with creating table (in SSMS),1.0,https://www.reddit.com/r/learnSQL/comments/hs7zx5/help_with_creating_table_in_ssms/
25,cosmicspaceracer,1594928582,hsgs55,5,1,I have basic knowledge of SQL (have used PROC SQL in SAS and SQL in Python and have taken a SQL essentials training on LinkedIn learning). I have a coding/technical interview for a job next week and am hoping to do some more training and learning before then. Any suggestions on what to learn/where to learn/what to do next?,learnSQL,Where to learn/go next,1.0,https://www.reddit.com/r/learnSQL/comments/hsgs55/where_to_learngo_next/
26,kellyanneconartist,1594935470,hsizbd,4,1,"I have three table: One with total sales, sales details , and menu items. I want to calculate the items with the most sales (total sold is in the sales details table) for each item. First, I know that I need to join the tables. Where do I go from there?  What content should I review to solve this problem? 

&amp;#x200B;

Items

|itemID(I think this is primary)|
|:-|
|itemName|
|price|

&amp;#x200B;

sale

|ID (primary)|
|:-|
|empid(foreign? I think)|
|oDate|
|timeIn|
|section|

sales detail 

|orderID(foreign?)|
|:-|
|menuID(foreign?) |
|quantity |",learnSQL,What area in SQL does it sound like I need to review based on my problem?,1.0,https://www.reddit.com/r/learnSQL/comments/hsizbd/what_area_in_sql_does_it_sound_like_i_need_to/
27,_Royalty_,1594940238,hskcl6,0,1,"I am fairly comfortable in writing T-SQL and I understand *some* of the principles and tools surrounding SSIS/RS/AS but I want a complete education so that I can pass the 70-767/768 certification exams.

I have a Pluralsight subscription and many courses available to me via Udemy, but I am contemplating enrolling in a more comprehensive (and expensive) course from some site like Edureka.

Topics I wish to learn:

- SSIS
- SSRS
- SSAS
- Data Warehousing
- Triggers/Stored Procedures/Functions/etc

I am wondering if anyone could offer some insight as to which path may be the most efficient or which topics I should include.",learnSQL,SQL Server BI Courses &amp; Certification 70-767/768,1.0,https://www.reddit.com/r/learnSQL/comments/hskcl6/sql_server_bi_courses_certification_70767768/
28,Adeptdeveloper1,1594985563,hsu2wm,0,1,"[https://www.udemy.com/course/mta-98-364-practice-exam-database-fundamentals-2020/?couponCode=5DAYSMTA](https://www.udemy.com/course/mta-98-364-practice-exam-database-fundamentals-2020/?couponCode=5DAYSMTA)

&amp;#x200B;

Use the link above to enroll in the simulation test that will make you fully prepared to take the database foundations exam.",learnSQL,Pass MTA 98-364 without a doubt,1.0,https://www.reddit.com/r/learnSQL/comments/hsu2wm/pass_mta_98364_without_a_doubt/
29,kellyanneconartist,1594991344,hsve55,3,1," Here is the scheme [https://imgur.com/a/Bw8GUOE](https://imgur.com/a/Bw8GUOE)

I am trying to return the total sold by item, but it's only returning the sales for one item 

&amp;#x200B;

SELECT i.item\_name, i.item\_price, SUM(od.total\_sold )  FROM item AS i

JOIN order\_detail AS od ON i.item\_id=od.order\_id

JOIN order AS o ON o.order=od.orderid GROUP BY od.total\_sold DESC 

&amp;#x200B;

I am thinking that there is something wrong with my joins, but I cannot figure out what that could be. What should I correct?",learnSQL,Does anyone know why my join is returning funky results?,1.0,https://www.reddit.com/r/learnSQL/comments/hsve55/does_anyone_know_why_my_join_is_returning_funky/
30,staceguit,1595012737,ht1pw6,5,1,"So I am creating a table:

CREATE TABLE personschars ( ""ID""INTEGER NOT NULL PRIMARY KEY, ""NAME""TEXT, ""DOB""TEXT, ""HAIR""TEXT, ""EYES""TEXT, ""HEIGHT""INTEGER, ""WEIGHTLBS""INTEGER, ""SEX""TEXT, ""RACE""TEXT, ""BUILD""TEXT );

And let's say I am going to insert values:

INSERT INTO personschars VALUES ( ' FirstName LastName', 'February 3, 1998', 'Light Brown', 'Green', '65', '100', 'Female', 'White', NULL);

Why am I still getting the error "" table has 10 columns but only 9 values were supplied""? The tutorial on [Lynda.com](https://Lynda.com) says that if I establish a primary key, it will generate the id values for me. 

I've also written the CREATE TABLE code without NOT NULL so that it just reads: 

CREATE TABLE personschars ( ""ID""INTEGER PRIMARY KEY, ""NAME""TEXT, ""DOB""TEXT, ""HAIR""TEXT, ""EYES""TEXT, ""HEIGHT""INTEGER, ""WEIGHTLBS""INTEGER, ""SEX""TEXT, ""RACE""TEXT, ""BUILD""TEXT );

But when I try to insert values, I still get the error.

And just for troubleshooting purposes I also tried the code with single quotes...not that this should matter, but just testing to see what works and what doesn't. Still got the error with the values. 

Any ideas? 

Thanks in advance! 

&amp;#x200B;

PS I am a beginner. Just been learning on my own for three weeks.",learnSQL,"Question on Primary Key, generating error",1.0,https://www.reddit.com/r/learnSQL/comments/ht1pw6/question_on_primary_key_generating_error/
31,NovateI,1595052561,htbubh,0,1,"Keep getting `Incorrect syntax near 'identity'. Expecting '.', ID, or QUOTED_ID` when I try and perform any operation with this `db.Identity` table. For example trying to do an `INNER JOIN`:

    SELECT Employment.personID, Employment.startDate, Employment.endDate
    FROM dsb.db.Employment AS Employment
    INNER JOIN dsb.db.CustomEmployment AS CustomEmployment ON Employment.personID=CustomEmployment.personID
    INNER JOIN dsb.db.CampusAttribute AS CampusAttribute ON CampusAttribute.attributeID=CustomEmployment.attributeID
    INNER JOIN dsb.db.Identity AS Identity ON Identity.personID=Employment.personID

Despite knowing `personID` is a foreign key for `db.Identity`. I cant even do `SELECT * FROM dsb.db.Identity` without getting the same error.

&amp;#x200B;

Any ideas why this is?",learnSQL,"[MySQL] Trying to SELECT or INNER JOIN specific table throws syntax error ""Expecting '.', ID, or QUOTED_ID""",1.0,https://www.reddit.com/r/learnSQL/comments/htbubh/mysql_trying_to_select_or_inner_join_specific/
32,[deleted],1595254940,hum3o2,9,7,[deleted],learnSQL,Help! I have an interview next week that will involve “a basic 15 minute SQL test”. Any ideas where best I could learn to ace this?,0.82,https://www.reddit.com/r/learnSQL/comments/hum3o2/help_i_have_an_interview_next_week_that_will/
33,xformation,1595265803,hupefy,16,1,7. Write a query that returns one column called Name and contains the last name of the employee with NationalIDNumber 112457891,learnSQL,Can anyone explain what this means or solve this with Adventureworks please.,0.67,https://www.reddit.com/r/learnSQL/comments/hupefy/can_anyone_explain_what_this_means_or_solve_this/
34,_Royalty_,1595267723,huq154,4,12,"My biggest gripe with sites like Udemy and Pluralsight is that the instructors seldom offer context for when these concepts can be most efficiently implemented.

Are there books, websites, etc that focus primarily on how to effectively and efficiently solve real world problems? I understand what these things are and how to create/manage them, but not necessarily when one would be more useful than another.

This applies to most SQL education, in my experience, I just wanted to highlight these topics as they're a little farther along the track so to speak.",learnSQL,"Applying concepts like Cursors, CTEs, temp tables and more?",0.94,https://www.reddit.com/r/learnSQL/comments/huq154/applying_concepts_like_cursors_ctes_temp_tables/
35,PlethoraOfFuckery,1595275911,husqim,0,0, ,learnSQL,Learn SQL in 7 Minutes,0.4,https://jebbr.com/2020/07/20/learn-sql-in-7-minutes/
36,LandOnMyFeet,1595342523,hv8iiv,10,7,"I have MySQL database running on Linux Mint 19.2 Tina. Validated MySQL is running and working creating one empty database called ""pets"".

Can you recommend a resource to grab some SQL lessons or sample databases to work those lessons in MySQL on Linux?",learnSQL,mysql database lessons,1.0,https://www.reddit.com/r/learnSQL/comments/hv8iiv/mysql_database_lessons/
37,looking_for_drama,1595504956,hwe94l,10,14,"What is the best place to start? Do you have any recommendations for good courses, resources and YouTube channels? Thank you",learnSQL,Data analyst interested in learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/hwe94l/data_analyst_interested_in_learning_sql/
38,[deleted],1595532765,hwmcbc,0,1,[deleted],learnSQL,Need some help with sql query,1.0,https://www.reddit.com/r/learnSQL/comments/hwmcbc/need_some_help_with_sql_query/
39,TheFreshJew,1595535100,hwn3oy,3,0,"Need to pull the records for each unique aid with the highest ccount value, what that username is.

I have the current query below outputting all the pairs and counts, I want to reduce this to only the highlighted records

&amp;#x200B;

select username, aid, count(aid) as ccount from ""slf-infosec-analytics-log"".""crowdstrike"" where year like '2020' and month like '6' and day like '6' and username not like '' and event\_simplename like 'UserLogon' GROUP BY aid, username ORDER BY aid, ccount desc

https://preview.redd.it/zyyomla4znc51.png?width=1244&amp;format=png&amp;auto=webp&amp;s=753480cdc4a5aaa7d26be20bd45cb7cfe84c65c9",learnSQL,Selecting rows based on max value for each distinct aid,0.5,https://www.reddit.com/r/learnSQL/comments/hwn3oy/selecting_rows_based_on_max_value_for_each/
40,alivebutawkward,1595611406,hx5xex,2,1,"I was searching for some examples/solution for my question.  I came to this \[[link](http://www.java2s.com/example/oracle-book/group-by-cube-rollup-null-values-and-grouping-function.html)\] where it is 90% what I am working on.  However, one thing I need to add is how to show the nulls in the positions?  All the job position should be listed. How do I show that row with 0 in the headcount column?  Is this doable?  Thanks.

&amp;#x200B;

|DEPTNO |JOB |HEADCOUNT|
|:-|:-|:-|
|1|ADMIN|1|
|1|MANAGER|2|
|1|DIRECTOR|1|
|1|SALESREP|1|
|1|TRAINER|\[empty\]|
|1|total|5|
|2|ADMIN|\[empty\]|
|2|MANAGER|1|
|2|DIRECTOR|\[empty\]|
|2|SALESREP|\[empty\]|
|2|TRAINER|4|
|2|total|5|
|etc...|etc...|etc...|

I appreciate any pointers.  Thank you very much.",learnSQL,[ORACLE] is it possible to GROUP BY ROLLUP showing a row of nulls in count?,1.0,https://www.reddit.com/r/learnSQL/comments/hx5xex/oracle_is_it_possible_to_group_by_rollup_showing/
41,aplawson7707,1595621190,hx8zzm,4,2,"Still new to SQL, so please bear with me if I'm a little hard to understand:

I have a query (using MySql within [redash.io](https://redash.io)) which returns several fields. Everything is working great, but, if possible, I'd like to build a function of sorts into the query to save me a step in the process down the line.

This is a list of contractors and which schools they contract with. Some of the schools have 'nicknames' or aliases in our internal system (School-A is actually ""school\_central"" in our system.) Internally, this is a non-issue because we all know the aliases. This particular report, however, is being shared externally and the aliases are going to require translation. I can do this in a spreadsheet program with a formula no problem (something like =IF(A2 = ""school\_central"",""School-A"") etc...) but it's an extra step I'd like to build right into the query. I can pull down the report and just send it off if I don't have to open and manipulate the spreadsheet or, even better, automate the query to report without much maintenance.

Is there a way to do this from within MySQL or is spreadsheet manipulation as good as it's going to get?",learnSQL,How to assign an alias to a returned value with MySql,1.0,https://www.reddit.com/r/learnSQL/comments/hx8zzm/how_to_assign_an_alias_to_a_returned_value_with/
42,sunshao1031,1595622546,hx9f0j,2,3,"Hello! I have the following problem:  Write a query to find the number of products heavier than 5 oz (weight) for each store (name\_store) for the date '2019-06-03'. Save the result as name\_cnt, and the date (converted to the necessary type) as update\_date.Print the date, store name, and the number of products only for stores that have less than 20 products.Don't forget to convert the product weight to the *real* type and select only products whose weights are measured in ounces (units = 'oz'). 

**Hint:** Convert date\_upd to the *date* type and weight to *real*. Indicate the constraint condition COUNT(name) &lt; 20 in the HAVING block. Group the data by update\_date and  name\_store. Add conditions for date and weight in the WHERE block according to the task. 

Here is my code:  [https://pastebin.com/XpD6FuU6](https://pastebin.com/XpD6FuU6) 

&amp;#x200B;

Any help would be appreciated!",learnSQL,SQL Query Help,0.81,https://www.reddit.com/r/learnSQL/comments/hx9f0j/sql_query_help/
43,LeastFavoriteLife,1595623608,hx9r3i,22,1,"I have 2 tables remittance and draft. I'm trying to get the difference between ll_remittance and draft_amount. The query works fine for the loans that are in both tables. However, its missing the loans that are only in one of the tables. How can I include those in my query results?

Table Schema:

CREATE TABLE remittance (loan_no int, inv_loan_no int, ll_remittance numeric); 
 
CREATE TABLE draft (fm_loan_number int, draft_amount numeric);   
 
INSERT INTO  remittance(loan_no, inv_loan_no, ll_remittance) 
 
VALUES       (111,111,100.00),(222,222,200.00),(333,333,300.00),(444,444,400.00);  
 
INSERT INTO  draft(fm_loan_number, draft_amount) 
 
VALUES       (222,250.00),(333,350.00),(444,450.00),(555,550.00);


Query:

SELECT remittance.loan_no, remittance.inv_loan_no, 
            remittance.ll_remittance,
           draft.fm_loan_number, draft.draft_amount, 
           (remittance.ll_remittance) - (draft.draft_amount) AS 
 difference
	   
FROM    remittance FULL JOIN draft
 
ON      remittance.inv_loan_no = draft.fm_loan_number
 
WHERE  (remittance.ll_remittance) - (draft.draft_amount)&lt;&gt; 0.00;
Thank you,",learnSQL,Query excluding NULL results,1.0,https://www.reddit.com/r/learnSQL/comments/hx9r3i/query_excluding_null_results/
44,jasonXsiu0410,1595662237,hxisph,9,1,"By what I mean sometimes they are used together in the select statement is like 

Select ...

from table\_name 

Order by ...

Group by....",learnSQL,What is the difference between GroupBy and OrderBy? Why are there sometimes be used together in the select statement?,1.0,https://www.reddit.com/r/learnSQL/comments/hxisph/what_is_the_difference_between_groupby_and/
45,Legendary__Beaver,1595689892,hxo9jq,0,1, ,learnSQL,?,1.0,/r/SQL/comments/hxmje1/link_for_an_assessment_test_sql_server_and_tsql/
46,programmingeye,1595694888,hxpmra,0,1, ,learnSQL,75. SELECT AS in SQL (Hindi Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=3x5h-3fUcqo&amp;feature=share
47,blasterkid1,1595719053,hxwbvg,2,1,"Hey guys, so I’m an absolute noob who decided to take his first dive into the sql world. I have a chromebook with Linux and visual studio code installed but that’s it. Is there anything else I need to install to set up the basic SQL environment on my chromebook? Thanks in advance.",learnSQL,SQL Chromebook set up,1.0,https://www.reddit.com/r/learnSQL/comments/hxwbvg/sql_chromebook_set_up/
48,luciancahil,1595727523,hxyd4b,4,1,"I've gotten SQL to work on popsql and on some Java programs, but they all rely on localhost. How do websites that rely on SQL generally connect to their databases?",learnSQL,SQL on a website,1.0,https://www.reddit.com/r/learnSQL/comments/hxyd4b/sql_on_a_website/
49,g9rky,1595732438,hxzh02,1,1,Has anyone met this problem before? It’s already been lasting for a whole week. Every morning I can clearly remember my brain executes a lot of SQL during the dream and the last line is always to UPDATE me to awake.,learnSQL,Dream filled with SQL,1.0,https://www.reddit.com/r/learnSQL/comments/hxzh02/dream_filled_with_sql/
50,programmingeye,1595788642,hyc3yt,0,1, ,learnSQL,76. Arithmetic Operators in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=YFG_0zpL-vE&amp;feature=share
51,H_Logan,1595813953,hyj671,1,1,"Hey Reddit,

I'm working on a Business Activity Query for work, and I need to do a specific calculation that worked around 20 years ago in Vantage Report Builder. The problem is that SQL doesn't like what they did back then, so a lot of things need to be changed — this is just one problem at the very beginning.

Here's the run-down:

I work in a machine shop, and they have jobs that contain part numbers. If a customer reorders a part that has been used before, the part number is included under a new job number. My query needs to compare the job/part numbers for each part and figure out which rows in the database are the first appearances (ie. I'm searching for which jobs are ""new"").

Also, our BAQ Designer doesn't allow normal SQL, so I have to set up each field using a GUI. If you provide code to help out, just know that our ERP system doesn't allow `SELECT`, `FROM`, or even `DECLARE`.

This is what we've tried so far:

    /* This SQL isn't typed, it just represents the fields I wrote in the GUI */
    
    [Calc_IsNewJob]
IIF(Jobs.JobNum = Jobs1.JobNum
        AND ROW_NUMBER() OVER (
            PARTITION BY Jobs.JobNum ORDER BY Jobs1.JobNum
        ) = 1, 1, 0)
    
    [Calc_TotalNewJobs]
    COUNT(
        CASE WHEN Calc_IsNewJob = 1
            THEN 1
        ELSE 0
        END
    )

My intention is to get a field that just totals the number of ""first"" rows in the result set, but as you know... `Windowed Functions cannot be used in the context of another windowed function or aggregate.`

Is there an alternate way to accomplish what I'm trying to do? I'm fairly new to SQL and SQL Server, so this is all relatively confusing to me.

Any help you can provide would be greatly appreciated, thanks!",learnSQL,Error: Windowed Functions cannot be used in the context of another windowed function of aggregate — Need an alternative solution.,1.0,https://www.reddit.com/r/learnSQL/comments/hyj671/error_windowed_functions_cannot_be_used_in_the/
52,koikoioi,1595834143,hynkbm,3,1,"Hi! Has anyone taken the MTA 98-364 certification exam? Just wanted to hear about the difficulty level and how advanced it is. I know that it's pretty basic but it does cost $100+ just to take it so I want to make sure I can prepare as much as possible.

I have been learning SQL for a bit on my own for fun but wanted to have a formal certification to show for future job opportunties. 

Any advice or insight would be great! :)",learnSQL,Microsoft Technology Associate (98-364) - SQL Difficulty level?,1.0,https://www.reddit.com/r/learnSQL/comments/hynkbm/microsoft_technology_associate_98364_sql/
53,sdaiv,1595846879,hyq1jn,5,1,"I would like to identify if there are any IDs from table A, that are not in table B. Is this the right query? 

&amp;#x200B;

SELECT DISTINCT ""TableA"".""ID""

FROM ""TableA""

LEFT JOIN ""TableB"" 

ON ""TableA"".""ID"" = ""TableB"".""ID""",learnSQL,SQL Join Help,1.0,https://www.reddit.com/r/learnSQL/comments/hyq1jn/sql_join_help/
54,algodaily,1595936577,hzd6hx,0,1, ,learnSQL,A Beginner's Reference to SQL vs. NoSQL,1.0,https://algodaily.com/lessons/a-beginners-reference-to-sql-vs-nosql
55,MrsHoose6,1595943297,hzer0k,4,1,"Hello - I'm trying to add to a query rules around dates my company has for a sabbatical program.  We would like to run a query that shows when employees would be eligible for the program.  However, there are company rules around this.  

- After 8th year (based on their service date)
- 2 years after acquisition date (if applicable)
- 2 years after the end of last sabbatical (if applicable)
- Eligible for sabbatical every 5 years after 8th anniversary

I believe we need to use the DateAdd and DateDiff but I'm not sure how to add these rules in.  Can someone help?",learnSQL,SQL Query Help - Dates,1.0,https://www.reddit.com/r/learnSQL/comments/hzer0k/sql_query_help_dates/
56,programmingeye,1595952997,hzhjn6,0,1, ,learnSQL,78. SELECT DISTINCT in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=h_4cNfJxhEE&amp;feature=share
57,jonrhythmic,1595967467,hzm4p2,0,1,"I'm learning SQL and have an assignement where I have to create a `Stored Procedure` with a custom searchable string that returns the result of the search string from multiple tables in a database. Datebase A has a `FOREIGN KEY` to Database C, and Database B has a `FOREIGN KEY` to Database A. I have to take into account that there could be items in the to-be searchable tables in all three databases that has fields that doesn't exist in Database B and could return as NULL.  
  
So far I have this code:  
    CREATE PROCEDURE ArticleLookup @ID nvarchar(255), @SearchStr nvarchar(MAX) 
    AS	
    SELECT * 
    FROM E_Enterprise e, A_Article a 
    WHERE E_ID = @ID 
    	AND A_ArticleID = @SearchStr 
    	AND A_Description = @SearchStr
    	AND A_ArticleID IS NULL
    	AND A_Description IS NULL
    GO;  
  
I'm very new to Microsoft SQL studio, so I'm having some problems with performing an `EXEC` to test the current ouput. The databases I'm querying is stored on an online server, so where do I put my query in the project to have it actually execute on the databases?  
  
Any help or pointers would be greatly appreciated. Thank you for taking the time to read this!",learnSQL,Help with Stored Procedure with customizable search string,1.0,https://www.reddit.com/r/learnSQL/comments/hzm4p2/help_with_stored_procedure_with_customizable/
58,HappyAvocadoh,1595972874,hzntx1,0,1," Find current month rank v/s previous month rank for each product based on sales. 

So I created a dummy table lets say sales (salesid, productid, salesdate, salesamt) and inserted a few values to check the query.

Here is my query - SELECT PRODUCTID, SALESDATE, RANK() OVER(PARTITION BY TO\_DATE(SALESDATE,'YYYY-MM-DD') ORDER BY SALESAMT DESC) AS CURRENTRANK, ADD\_MONTHS(TO\_DATE(SALESDATE,'YYYY-MM-DD'),-1), RANK() OVER (PARTITION BY ADD\_MONTHS(TO\_DATE(SALESDATE,'YYYY-MM-DD'),-1) ORDER BY SALESAMT DESC) AS PREVIOUSRANK FROM SALES;

How do I put a check on the previous date to see if it exists in the data or not?  
 

https://preview.redd.it/ccqw38uy4od51.png?width=687&amp;format=png&amp;auto=webp&amp;s=0c70d21ff410b9d7ce5978592f60813c5a3a917c",learnSQL,Trying to solve an interview question found in leetcode - stuck! Need Help,1.0,https://www.reddit.com/r/learnSQL/comments/hzntx1/trying_to_solve_an_interview_question_found_in/
59,qldooks,1596013340,hzxe4h,8,1,"Hello, I have an excel file for a project with over 200 columns. Some in question format, some with numbers etc. Now data cleaning isn’t really the question here as I think I can deal with that. What I’m curious about is how do we start putting all that information into tables? Let’s say I’m using a MySQL database.",learnSQL,How to transform a big excel file into multiple tables for SQL database?,1.0,https://www.reddit.com/r/learnSQL/comments/hzxe4h/how_to_transform_a_big_excel_file_into_multiple/
60,jonrhythmic,1596029705,i00sqm,1,1,"I'm trying to make a `Stored Procedure` for searching through a test database and list some dummy values as output where I can specify the company name and a custom searchable string.  
`CREATE PROCEDURE sp_Lookup 
(
	@Company nvarchar(255) = NULL, 
	@Searches nvarchar(MAX) = NULL
)
AS
	BEGIN
		SET NOCOUNT OFF;

		SELECT A_ID, A_Desc
		FROM E_Company, A_Article, B_Balance
		WHERE E_Company = @Company
			AND (A_ID IS NULL OR @Searches LIKE '%' + @Searches + '%')
			AND (A_Desc IS NULL OR @Searches LIKE '%' + @Searches + '%')
		ORDER BY E_Company DESC
	END
GO`

With this I want to return the value of `A_ID` and `A_Desc` found in both `A_Article` and `B_Balance` that contain either a specific value or NULL and display only the `E_Company`, `A_ID` and `A_Desc`, however my query outputs every column in the table.  
  
I also tried removeing the `IS NULL` from the `WHERE` clause, but this gives an errormessage that the @Searches value expects NOT, or NULL.  
Can anybody point out what I'm missing, or why this doesn't print out only column `E_Company`, `A_ID` and `A_Desc`?  
  
Thanks in advance!",learnSQL,[SQL] Help implementing a customizable search string in a Stored Procedure,1.0,https://www.reddit.com/r/learnSQL/comments/i00sqm/sql_help_implementing_a_customizable_search/
61,programmingeye,1596044643,i04znl,0,1, ,learnSQL,79. ALTER TABLE in SQL (Hindi / Urdu) | 2020 | #ProgrammingEye,1.0,https://www.youtube.com/watch?v=Cg9ZnJo5mtI&amp;feature=share
62,cardrig,1596132675,i0r0a5,0,1,"Hi. I need help understanding whether my query has relevant performance issues.   
Tables:   
\- RecipeIngredient that stores \[id,  recipe\_id, ingredient\_id\].  
\- IngredientDiets that stores diet restrictions \[id, ingredient\_id, diet\_id\] (ex: pork- vegan)   
I want to obtain recipes that satisfy ingredients and diets (if one ingredient has a restriction for a diet  that recipe is excluded) , so I'm doing as follows: 

SELECT r1.recipe\_id  
FROM RecipeIngredient r1  
WHERE r1.ingredient\_id IN (1,2,3,4,5,6,7,8,9,10)  
AND NOT EXISTS (SELECT 1 FROM RecipeIngredient r2 LEFT JOIN Ingredient\_diets d ON r2.ingredient\_id = d.ingredient\_id WHERE r2.recipe\_id = r1.recipe\_id AND d.diet\_id IN (1,2,3))

I'll have lots of queries similar to this one, so I want you to point me out some possible problems. 

Thanks.",learnSQL,Understanding correlated subquery efficiency,1.0,https://www.reddit.com/r/learnSQL/comments/i0r0a5/understanding_correlated_subquery_efficiency/
63,programmingeye,1596209803,i19lqr,0,1, ,learnSQL,80. ALTER TABLE ADD Column with Constraints in SQL (Hindi / Urdu) | 2020...,1.0,https://www.youtube.com/watch?v=4k4NoNqJ7ak&amp;feature=share
64,B_Huij,1596211198,i1a0nh,2,1,"I am trying to write a query that looks at two tables. Table A is a list of customers, each having a unique ID. Table B is a list of notes that have been taken in a separate system that is linked back to our customer database. For every unique customer ID in Table A, there can be numerous note entries in Table B. The entries in Table B are date/time stamped. I am trying to pull every customer in Table A that meets certain criteria, with a few columns from Table A, *and a final column which is the most recent note text for that customer from Table B.*

This is my first time trying to use nested queries in ""the real world,"" and I'm struggling. Most recently, I'm getting an error in the subquery that ""column n.\_customer\_id must appear in the GROUP BY clause or be used in an aggregate function."" Which is confusing, because I'm not using a GROUP BY clause.

Here's what I have so far:

    SELECT
    c.customer_id,
    c.customer_name,
    c.customer_approval_date,
    c.customer_address,
    x.notes
    FROM
    TableA c
    INNER JOIN (
    	SELECT
    	n.customer_id,
    	MAX(n.created_date),
    	n.notes
    	FROM
    	TableB n
            GROUP BY
            n.customer_id) AS x
    ON x.customer_id = c.customer_id
    WHERE
    [a bunch of filters on Table A that aren't giving me trouble]
    ;

Any help here? A little lost on what to try next. Conceptually I think I'm trying to use the subquery join to join my Table A to a modified version of Table B that only shows 1 line per unique customer, with the most recent note on that line.",learnSQL,Struggling with a nested query to help choose the most recent from a table that has multiple rows per index value (PostgreSQL),1.0,https://www.reddit.com/r/learnSQL/comments/i1a0nh/struggling_with_a_nested_query_to_help_choose_the/
65,FriendOfHobbits,1596250911,i1l2yq,0,1,"Can someone tell me if this is the most efficient way to write this PIVOT query?

I know this query works in SQL Server, but im new, and it seems like it could be written better.

I'm trying to pivot by year, total oscar wins, for the top 3 countries with the most oscar wins. So itll be years running down, and the top 3 countries across the top. (thanks ahead of time hopefully)

&amp;#x200B;

&amp;#x200B;

USE Movies

&amp;#x200B;

SELECT RelYear, ISNULL(""United States"",0) AS US, ISNULL(""New Zealand"",0) AS NZ, ISNULL(""United Kingdom"",0) AS UK

FROM

(SELECT [C.Country](https://C.Country), YEAR(F.ReleaseDate) AS RelYear, F.OscarWins AS Oscars

FROM [dbo.Film](https://dbo.Film) AS F

	INNER JOIN [dbo.Country](https://dbo.Country) AS C

	ON C.CountryID = F.CountryID

WHERE F.CountryID IN

(SELECT TOP(3) F.CountryID

FROM [dbo.Film](https://dbo.Film) AS F

GROUP BY F.CountryID

ORDER BY SUM(F.OscarWins) DESC)

AND OscarWins &gt; 0) AS DD

	PIVOT(SUM(Oscars) FOR Country IN (""United States"", ""New Zealand"", ""United Kingdom"")) AS P

&amp;#x200B;

ORDER BY RelYear DESC",learnSQL,pivot help,1.0,https://www.reddit.com/r/learnSQL/comments/i1l2yq/pivot_help/
66,programmingeye,1596303428,i1w4i7,0,1, ,learnSQL,81. ALTER TABLE ADD Multiple Columns in SQL (Hindi / Urdu) | 2020 | #Pro...,1.0,https://www.youtube.com/watch?v=W__u2HX8MBo&amp;feature=share
67,code5code,1596324100,i21zvz,0,1, ,learnSQL,"ElectroCRUD 2 - Now Support SQLite (in beta, limited support) | Open Source",1.0,https://garrylachman.github.io/ElectroCRUD/
68,programmingeye,1596383922,i2ed4p,0,1, ,learnSQL,82. ALTER TABLE ADD Column with Position in SQL (Hindi / Urdu) | 2020 | ...,1.0,https://www.youtube.com/watch?v=BrO96MHXAiA&amp;feature=share
69,sunshao1031,1596392461,i2gu22,0,1,"Hello, I have the following task:

 Retrieve information on weather and the names of goods purchased for every day (including days when there were no purchases). Sort the data in descending order by date and print the first 30 rows.Print the date (date), air temperature (temp), precipitation (rain), and product name (name).Retrieve:

* date from the weather table
* temp from weather
* rain from weather
* name from products

Using the LEFT JOIN method, join transactions

to the weather table on the date field. Then join the products table to transactions on the id\_product field.

**Hint**Convert the date to the correct data type using the CAST function. Sort the data in descending order using ORDER BYwith the argument DESC. Limit the number of rows to be printed with the LIMIT command. 

I am not sure when I should use CAST for date and if I have to CAST everytime I want to use the casted date.

Here is my code:  [https://pastebin.com/4cprt0nD](https://pastebin.com/4cprt0nD)",learnSQL,when to use cast date type in this code,1.0,https://www.reddit.com/r/learnSQL/comments/i2gu22/when_to_use_cast_date_type_in_this_code/
70,bigchungusmode96,1596419323,i2ocuf,3,1,"I have:

table T1 with the fields: name and ID

&amp;#x200B;

|Table 1|Name|ID|
|:-|:-|:-|
||Nicolas|1|
||Samantha|0|
||Jonathan|2|

 table T2 with fields: ID and nickname.

&amp;#x200B;

|Table 2|Nickname|ID|
|:-|:-|:-|
||Sam|0|
||Nick|1|
||John|2|

and finally table 3 with fields:ID, bank\_ID, and amount

&amp;#x200B;

|Table 3|ID|Bank ID|Amount|
|:-|:-|:-|:-|
||0|100|200|
||2|100|15|
||1|101|150|
||1|102|5000|
||0|102|54|
||1|103|23|
||2|103|35|

My goal is to return a table with the first column having the name of each person, second column each person's nickname, and third column having the person's average bank account balance. 

Would this be the best query to do it or should I use alias for the multiple table joins?

`SELECT`[`T1.Name`](https://t1.name/)`, T2.Nickname, AVG(T3.Amount) as average_amount`

`FROM Table1 T1`

`LEFT JOIN Table2 T2 ON`[`T2.ID`](https://t1.id/) `=` [`T1.ID`](https://T1.ID)

`LEFT JOIN Table3 T3 ON`

[`T1.ID`](https://T1.ID) `= T3.ID`

`GROUP BY(T3.ID)`",learnSQL,[Q] How to best format query for multiple/sequential tables,1.0,https://www.reddit.com/r/learnSQL/comments/i2ocuf/q_how_to_best_format_query_for_multiplesequential/
0,atomicBeaver22,1591212777,gw0u1f,13,2,"I have a database containing electro-mechanical readings from 4 different turbines. 

My query needs to find rows with NULL values and pull out that whole row into a different database, regardless of how many NULL values it contains. Most of my rows have multiple NULL values per row. 

I wrote a query that filters out rows per data turbine name and it can only filter data containing only one non-NULL value. 

SELECT \[Wind\_turbine\_name\]

,\[Date\_time\]

,\[Ba\_avg\]

,\[Rt\_avg\]

,\[DCs\_avg\]

,\[Cm\_avg\]

FROM \[Turbines\_data\].\[dbo\].\[la\_haute\_borne\_data\_merged\]

WHERE (\[Wind\_turbine\_name\]='R80711' AND \[Ba\_avg\] IS NOT NULL) OR 

(\[Wind\_turbine\_name\]='R80711' AND \[Rt\_avg\] IS NOT NULL) OR

(\[Wind\_turbine\_name\]='R80711' AND \[DCs\_avg\] IS NOT NULL) OR 

(\[Wind\_turbine\_name\]='R80711' AND \[Cm\_avg\] IS NOT NULL) OR  

The problem with this query is that it only works with rows containing only one NULL value and there are rows with three to five NULLs

Could someone tell me what function can I use to filter out rows with any number of NULL values? 

I need to be able to output the complete row with the 32 columns. 

Thanks everyone!",learnSQL,Can anyone help me creating a query that will filter out all NULL values?,1.0,https://www.reddit.com/r/learnSQL/comments/gw0u1f/can_anyone_help_me_creating_a_query_that_will/
1,ranchduboiss,1591245845,gwaf5u,0,1, ,learnSQL,I need help using substring function,1.0,/r/PostgreSQL/comments/gw8wea/need_help_with_substring_function/
2,pm_90,1591277371,gwhgfl,3,1,"Hi everyone, 

I have been asked to make sense of data from a call bell system and slowly getting a shape on it. 

&amp;#x200B;

https://preview.redd.it/jfs2bh7v8w251.png?width=1698&amp;format=png&amp;auto=webp&amp;s=33e96a027d3224de470c87546d44c00d523f1505

Above is a working SELECT query for the data. What I am trying to do is count the number of 'CALL' events per room per day '. The sample of data I received is 48 hours so I have put in condition of 

    AND [DATE] = '2020-06-01'

 just to get daily totals for now. 

I am trying to get a table that looks something like the following 

&amp;#x200B;

|Originator|\# of CALLS|
|:-|:-|
|Room 23|8|
|Room 48|4|

So far, I have this query and result - 

&amp;#x200B;

https://preview.redd.it/h8idniw0aw251.png?width=1698&amp;format=png&amp;auto=webp&amp;s=9be114890626c1bcba52584ce6121e1a7179be83

I think I am fairly close and I think UNION ALL is the wrong way to go about this but not sure how to get the result.  I am also not sure how to loop through all the different rooms under \[ORIGINATOR\] column. Any advice would be amazing!

Thank you  🤓",learnSQL,SQL Query - Count And Creating New Table With Results,1.0,https://www.reddit.com/r/learnSQL/comments/gwhgfl/sql_query_count_and_creating_new_table_with/
3,leogodin217,1591282136,gwiv67,11,4,"Hey Everyone,
I'm working on a website with comprehensive learning journeys for various topics. Is anyone interested in learning SQL within the context of related technologies? For instance, my BI journey, covers Excel, SQL, data modeling, Power BI and databases. The journey for being a data analyst includes Excel, SQL, basic data modeling, Tableau, Python and statistics. 

We're still in development and testing, and I'd love to get feedback from new learners and experienced people. 

The idea is you learn increasingly complex skills and complete real-world projects on the way. This way you not only learn SQL, but how to apply it in real environments so you can get a better job. 

Everything is free (will be ad supported). 

If anyone is interested, send me a PM and I'll provide a signup key. If you are only interested in SQL, that's fine. You can just do the SQL parts. (Though, they include data modeling and some data warehousing techniques as well)",learnSQL,Anyone interested in a comprehensive learning resource?,1.0,https://www.reddit.com/r/learnSQL/comments/gwiv67/anyone_interested_in_a_comprehensive_learning/
4,puckheadclown24,1591405003,gxh3pg,10,1,"Hi community,

I am going through learnsql.com’s advanced course and came across an example where they join 2 tables based on CHARINDEX(column1,column2)= 0. 

Would any of you know what happens in the background? 

It’s clear to me when I join based on one column equaling another how the join occurs, however I’m not clear how a join occurs here.

Is it as simple as look at the first value in column1, and join it whenever the value in column2 doesn’t contain it? Then go to the next row in column 1 and again compare to all values in column2?",learnSQL,CHARINDEX() used in INNER JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/gxh3pg/charindex_used_in_inner_join/
5,10630,1591519806,gy8s0h,4,1,"&amp;#x200B;

[Why this query wouldnt work? It seemed like a legit code to me](https://preview.redd.it/0wryrymqbg351.png?width=187&amp;format=png&amp;auto=webp&amp;s=08a5722c27d141f6886fcbdbe689b4f86bcedf34)",learnSQL,Can anybody clarify the difference between WHERE and HAVING keywords please?,1.0,https://www.reddit.com/r/learnSQL/comments/gy8s0h/can_anybody_clarify_the_difference_between_where/
6,LandOnMyFeet,1591532267,gybbj5,1,1,Is there a good resource for downloading a free version of Microsoft SQL Server for Linux to be used in training oneself in SQL?,learnSQL,Free SQL Server for Linux?,1.0,https://www.reddit.com/r/learnSQL/comments/gybbj5/free_sql_server_for_linux/
7,alp3n,1591617660,gyy0kf,2,6,"Hi guys,

Could you help me with finding a solution to my query problem? I am stuck with it already for a week so I decided to try to ask for help and learn something.

Right now I have a table without ""search feature"".

    SELECT
        r.rId,
        r.rName,
        r.rPrice,
        b.capacity
    FROM
        room r,
    (SELECT roomId, SUM(bCapacity) as capacity FROM bed group by roomId) as b
    WHERE r.rId = b.roomId;

This is the result:

https://preview.redd.it/60hhmexzdo351.png?width=626&amp;format=png&amp;auto=webp&amp;s=df1b30a06bcadcae6a4f268f65e292155397c84a

I want to show all rooms in the table that are not taken withing CHECK-IN and CHECK-OUT dates.

I have :

2 inputs:   
\- Check-In date  
\- Check-Out date  
3 tables:  
\-room (I take id, name, price),  
\-bed (I sum capacity of beds in the given room),   
\-booking (here I want to check if certain roomId is taken)

  
And now I have a query that checks if any room is booked within a certain range.  
And if the dates collide it returns me the table from booking with roomId.

    SELECT
        roomId,
        bCheckIn,
        bCheckOut
    FROM booking
    WHERE (bCheckOut &gt; ? AND bCheckIn &lt;= ?) AND bStatus = 'Upcoming' OR 'Archived';

First ? is Check-In date and second ? is Check-Out date inputs  
Here I pass the above dates and returns rooms which are taken in the range of that date.  
This is the result:  


https://preview.redd.it/i7el5zvkeo351.png?width=514&amp;format=png&amp;auto=webp&amp;s=3e8700f58cf97e3cfd83d46282b730d804c2d0bc

Is it possible to combine those two queries so I will get only one table with first query data, but excluding those taken rooms?",learnSQL,Subquery to check date availability,1.0,https://www.reddit.com/r/learnSQL/comments/gyy0kf/subquery_to_check_date_availability/
8,osdir202,1591640553,gz4r65,2,5,"Have columns ""user\_id"", ""chat\_room"", and ""chat"". So we can have multiple chat rooms and everytime a user makes a chat like ""hi"" then a row gets inserted into the table with user's id, the room in which they said ""hi"" in, and ""hi"" as the chat. My question is, how can i make a table that has the # of unique users in each chat room who made at least 1 chat? So far, my idea is to naturally group by chat\_room and use the count(\*) function but I'm not too sure how to prevent overcounting since doing that will include multiple chats made by a particular user. Any help greatly appreciated here :)",learnSQL,Is SQL capable of doing this?,0.79,https://www.reddit.com/r/learnSQL/comments/gz4r65/is_sql_capable_of_doing_this/
9,shakethemdreads,1591652368,gz8uub,5,1,"I have the following three tables:

**Orders:**

Order\_ID

Customer\_ID

Order\_Date

Product\_ID

**Products:**

Product\_ID

Product\_name

Product\_category

Product\_price

**Customer:**

Customer\_ID

Customer\_Name

Customer\_Address

I need to know how to query the tables above in **PostgreSQL** so that I can answer the following questions:

1) Get the list of products which have not had any sale in the last 90 days.

2) Get the list of customer names who purchased at least once in 'Books' category in July'19.

3) Get names of customers who ordered more than 10 products between Apr'19 and June'19.

Any help is much appreciated.",learnSQL,Can someone help me with these PostgreSQL questions?,0.67,https://www.reddit.com/r/learnSQL/comments/gz8uub/can_someone_help_me_with_these_postgresql/
10,Randomcdn2,1591701570,gzl6bv,2,5,"I'm taking SQL Essential training on linkedin learning and only on chapter 3 using SQLiteStudio 3.2.1. The instructor is using a mac where I have windows but it is often selecting multiple querys in his example to run them all and its driving me crazy that I cant figure out how do to that.

For example right now he has the following in 5 rows and he will select all of them so they are highlighted the light blue.

DROP TABLE IF EXISTS test;

CREATE TABLE test ( a TEXT, b TEXT, c TEXT );

INSERT INTO test VALUES ( 'one', 'two', 'three');

INSERT INTO test VALUES ( 'two', 'three', 'four');

INSERT INTO test VALUES ( 'three', 'four', 'five');

SELECT * FROM test;


I assume is a keyboard shortcut but I cant find it. Google search brings up answer on combing multiple query's so Im not sure Im using the right wording to describe the action.",learnSQL,How to select multiple query with SQLiteStudio,0.86,https://www.reddit.com/r/learnSQL/comments/gzl6bv/how_to_select_multiple_query_with_sqlitestudio/
11,Alex_Chepill,1591702090,gzlat4,5,3,"`SELECT co.code_oper, co.addr_oper;`

`FROM car_oper co;`

`WHERE MONTH(co.date_oper) IN (6, 7, 8);`

`AND (SELECT cr.rout_name, COUNT(cm.code_oper);`

`FROM car_move cm, car_oper co;`

`WHERE (cm.telnumber NOT LIKE '063%';`

`OR cm.telnumber NOT LIKE '093%');`

`AND MONTH(cm.date_call) IN (3, 4, 5);`

`GROUP BY cr.rout_name);`",learnSQL,"I work in VFP and get here ""invalid use of subquery"". Can you help me?",0.72,https://www.reddit.com/r/learnSQL/comments/gzlat4/i_work_in_vfp_and_get_here_invalid_use_of/
12,osdir202,1591747611,gzzotj,8,4,"Have a bunch of rows with column 'dateTime' that for example looks like this: 2020-06-09 01:36:52.000. How can i group by hourly intervals? and exlusively, i.e - day 1's 9 pm is gonna be a different group from day 2's 9 pm even though they are both 9 pm. Thank you all!",learnSQL,How do you group by hour?,0.84,https://www.reddit.com/r/learnSQL/comments/gzzotj/how_do_you_group_by_hour/
13,pm_90,1591804454,h0dpjg,0,1," 

Hi everyone,

In a project I'm currently working on, I have a form I'm trying to send to a SQL server that's causing me issues. When I hit submit, I end up with a pyodbc.ProgrammingError (42000)

[Here is the route for the form](https://preview.redd.it/q4pmhsq2u3451.png?width=1121&amp;format=png&amp;auto=webp&amp;s=f663f4a03e2cfffb296e5c99b5b4a42c305cd7ed)

&amp;#x200B;

[Here is the error message](https://preview.redd.it/xdav1no4u3451.png?width=1744&amp;format=png&amp;auto=webp&amp;s=6fb59e1c33891d02c68dafcaa46e4280637eafa2)

I don't know how all the form fields are invalid data types 🙈 The id and name for each input type match up. Here is part of that form.

&amp;#x200B;

https://preview.redd.it/k06fvgp9u3451.png?width=1914&amp;format=png&amp;auto=webp&amp;s=dcb8561f55554df00951448d33dd56c361cac403

I've triple checked the order of the different column headers in the insert query and that all seems to be ok. Happy to share more info if needed.

Any advice would be great, thank you!",learnSQL,Insert Query For Form,0.67,https://www.reddit.com/r/learnSQL/comments/h0dpjg/insert_query_for_form/
14,abaxter13131,1591805117,h0dxhh,0,2,"I am looking to make some adjustments to my resume to get a Data Analyst job. Do any of you have an outline or some guidelines that you follow? I know I could just Google it, but they seem so generic. Was looking for something that would catch an employers eye.",learnSQL,Resume Ouline Help!!,0.67,https://www.reddit.com/r/learnSQL/comments/h0dxhh/resume_ouline_help/
15,AugustinIV,1591820845,h0jf3e,4,2,"I have data from a survey. The survey has 5 different answers such as very good,good, average, poor, and very poor. Is there a way for SQL to count how many results a certain answer was given? For example, I want to see how many times ""very good"" was answered.",learnSQL,How do I show how often a certain answer appears?,1.0,https://www.reddit.com/r/learnSQL/comments/h0jf3e/how_do_i_show_how_often_a_certain_answer_appears/
16,xFasterGun,1591865203,h0vfh9,1,5,"Hey guys, I'm getting a headache over here trying to come up with the correct way to go about populating an existing column in a new table with an empty column- based on criteria in columns from existing table. Any help would be much appreciated! The questions look like this:

Cat\_Subcat is an empty column on another table. I am trying to pull information from the products table which is already populated.

  

1. If Products.Category = “Furniture” and Products.SubCateory = “Bookcases” then Cat\_SubCat= “FB1”
2. Once the new column has been completely populated, drop the Category and SubCategory columns from the Products table
3. Now Alter the Products table and create a new relationship between the Products table and CatSubCat tables based upon the Cat\_SubCat column.",learnSQL,SQL Homework Help!,0.86,https://www.reddit.com/r/learnSQL/comments/h0vfh9/sql_homework_help/
17,[deleted],1591911048,h76zh1,1,3,[deleted],learnSQL,SQL Bolt Problem Help,1.0,https://www.reddit.com/r/learnSQL/comments/h76zh1/sql_bolt_problem_help/
18,data-j,1592178481,h94llt,6,2," 

Last  week I had a post “Interested in connecting with Data job recruiters”  and a post about looking for a junior to mid-level SQL data analyst.   Included in the search would also be finding  a non-profit organization as well to begin the data analyst journey  with. I have heard that this is a great way to gain some experience  while helping at the same time.   

Does anyone have suggestions on the best way to find a non-profit to approach do data support for? 

Is there a common type of problem or pain point non-profits have, that data support could help with?  

I  do have experience both in my current role and the one prior with ""work  from home"" / remote, and have experience using GoToMeeting, RingCentral, Teams Meeting, Slack, Skype and Zoom. 

Started learning Oracle &amp; PostgreSQL about 2 years ago. 

PowerBI including DAX about 2 years ago. 

Python and R language 4-5 years ago. 

And, I am currently working on an advanced exercise for DAX. 

Ultimately,  I want to work in a remote arrangement, but it doesn't have to be in  this first position and I am willing to relocate to anywhere. I am  currently in the SF bay area. 

If there is a better sub/r for this question, please let me know. Thanks in advance!",learnSQL,Non-profit data support,1.0,https://www.reddit.com/r/learnSQL/comments/h94llt/nonprofit_data_support/
19,Elliot9874,1592188378,h979xe,8,2,"I have a few columns that I need to perform some logic to set a flag.

For example

&amp;#x200B;

If column A has a date of TODAY then set the flag as 'Y'

&amp;#x200B;

If column A does not have a date of TODAY then move to column B

&amp;#x200B;

If column B has a date of TODAY then set the flag as 'Y'

&amp;#x200B;

.. and so on

&amp;#x200B;

I couldn't finds way to do nested else IF statements",learnSQL,Nested IF Case Statement,1.0,https://www.reddit.com/r/learnSQL/comments/h979xe/nested_if_case_statement/
20,c46tn_,1592266606,h9sdpm,8,1,Pretty much title. Thanks in advance.,learnSQL,My workplace has offered to pay for some courses for me to learn SQL. Any recommendations?,1.0,https://www.reddit.com/r/learnSQL/comments/h9sdpm/my_workplace_has_offered_to_pay_for_some_courses/
21,mymar101,1592270740,h9tkqt,1,1,"I want to keep track of how many times a week a table item changes, and also keep track of the days and times of day it changes. I want to see if there's a pattern to it, or if it's just random like it feels. I also want a record of it in my database. How would I set this up?  Would this be a separate table, with a one to many relationship so I could add more than one date change, and just count the number of dates in the database? I've only ever set up simple one table databases on my own.",learnSQL,How is the best way of keeping count every time an item changes?,1.0,https://www.reddit.com/r/learnSQL/comments/h9tkqt/how_is_the_best_way_of_keeping_count_every_time/
22,amazeguy,1592294561,h9zika,5,1, ,learnSQL,I have a users table in Postgres. How do I let them update their nickname only once?,1.0,https://i.redd.it/53i1jyrmb8551.png
23,[deleted],1592316487,ha4otx,2,1,[deleted],learnSQL,How do I get the country where count(country) is max?,1.0,https://www.reddit.com/r/learnSQL/comments/ha4otx/how_do_i_get_the_country_where_countcountry_is_max/
24,B_Huij,1592319318,ha5je1,1,4,"I have a query that pulls several columns, each row representing a customer record. The key column is a unique customer ID #, with others including customer name, address, phone, etc. Most of my fields in the query come from Table A.

Two of the columns in Table A are the employee ID of the sales rep who set the appointment, and the employee ID of the sales rep who closed the appointment. There is another table, Table B, that contains the employee names and IDs, so I have currently left joined the ""appointment setter ID"" from Table A to ""Employee ID"" from Table B, and am pulling ""Employee Name"" from Table B so I have the setter name in my final output instead of the setter's employee ID.

Ideally I'd like to have a column for Closer Name as well, but I'm not sure how to do that. If I add a second ""Employee Name"" column, it just assumes I'm getting the employee name that corresponds to the setter's ID.

Right now I'm just pulling the closer's employee ID as-is from Table A, pulling the entire Table B in a second query on another tab in my Excel workbook, and using a VLOOKUP to get the Closer Name into my final output table. But it would be much neater if I could figure out a way to avoid that workaround and just get what I actually want in the query. How would I go about this?",learnSQL,I need two different fields from Table A in my query that both join to the same field in Table B?,1.0,https://www.reddit.com/r/learnSQL/comments/ha5je1/i_need_two_different_fields_from_table_a_in_my/
25,McThakken,1592390694,haotgm,3,1,"I have this schema in **MySQL**:

    CREATE TABLE Arzt (
    	Id INT NOT NULL PRIMARY KEY,
    	Fachgebiet VARCHAR(25) NOT NULL,
    	Vorname VARCHAR(25) NOT NULL,
    	Nachname VARCHAR(25) NOT NULL
    );
    
    CREATE TABLE Patient (
    	Vorname VARCHAR(25) NOT NULL,
    	Nachname VARCHAR(25) NOT NULL,
    	Patientennummer INT AUTO_INCREMENT PRIMARY KEY ,
        Geburtstag TIMESTAMP NOT NULL
    );
    
    CREATE TABLE Zimmer (
    	Zimmernummer INT NOT NULL PRIMARY KEY,
    	Betten INT NOT NULL
    );
    
    CREATE TABLE Station (
    	Stationsnummer INT NOT NULL PRIMARY KEY,
    	Stationsname VARCHAR(40) NOT NULL
    );
    
    CREATE TABLE behandelt (
    	Id INT NOT NULL,
    	Patientennummer INT,
    	CONSTRAINT pk_behandelt PRIMARY KEY(Id, Patientennummer),
    	CONSTRAINT fk_behandelt_arzt_id FOREIGN KEY (Id) REFERENCES Arzt(Id) ON DELETE CASCADE,
    	CONSTRAINT fk_behandelt_patient_patientennummer FOREIGN KEY (Patientennummer) REFERENCES Patient(Patientennummer) ON DELETE SET NULL
    );
    
    CREATE TABLE liegt_in (
    	Patientennummer INT,
    	Zimmernummer INT,
    	CONSTRAINT pk_liegtin PRIMARY KEY(Patientennummer, Zimmernummer),
    	CONSTRAINT fk_liegtin_patient_patientennummer FOREIGN KEY (Patientennummer) REFERENCES Patient(Patientennummer) ON DELETE SET NULL,
    	CONSTRAINT fk_liegtin_zimmer_zimmernummer FOREIGN KEY (Zimmernummer) REFERENCES Zimmer(Zimmernummer) ON DELETE CASCADE
    );
    
    CREATE TABLE liegt_auf (
    	Zimmernummer INT NOT NULL,
    	Stationsnummer INT NOT NULL,
    	CONSTRAINT pk_liegtauf PRIMARY KEY (Zimmernummer, Stationsnummer),
    	CONSTRAINT fk_liegtauf_zimmer_zimmernummer FOREIGN KEY (Zimmernummer) REFERENCES Zimmer(Zimmernummer) ON DELETE CASCADE,
    	CONSTRAINT fk_liegtauf_station_stationsnummer FOREIGN KEY (Stationsnummer) REFERENCES Station(Stationsnummer) ON DELETE CASCADE
    );
    
    CREATE TABLE arbeitet_auf (
    	Id INT NOT NULL,
    	Stationsnummer INT NOT NULL,
    	CONSTRAINT pk_arbeitetauf PRIMARY KEY(Id, Stationsnummer),
    	CONSTRAINT fk_arbeitetauf_station_stationsnummer FOREIGN KEY (Stationsnummer) REFERENCES Station(Stationsnummer),
    	CONSTRAINT fk_arbeitetauf_arzt_id FOREIGN KEY (Id) REFERENCES Arzt(Id)
    );

Now when I add a few sample data:

    INSERT INTO arzt(Id,Fachgebiet,Vorname,Nachname) VALUES (1, ""Chirurgie"", ""Christopher"", ""Turk"");
    INSERT INTO station(Stationsnummer,Stationsname) VALUES (7,""Chirurgie"");
    INSERT INTO zimmer(Zimmernummer,Betten) VALUES (4,3), (6,2);
    INSERT INTO patient(Vorname,Nachname,Geburtstag) VALUES (""Max"",""Mustermann"",""1996-01-16""), (""Peter"",""Lustig"",""1997-02-17""), (""Harry"",""Potter"",""1998-03-18"");
    INSERT INTO behandelt(Id,Patientennummer) VALUES (1,1), (1,3);
    INSERT INTO liegt_in(Patientennummer,Zimmernummer) VALUES (1,4), (2,6), (3,4);
    INSERT INTO liegt_auf(Zimmernummer,Stationsnummer) VALUES (4,7), (6,7);
    INSERT INTO arbeitet_auf(Id,Stationsnummer) VALUES (1,7);

And want to delete the table 'patient' with:

    DROP TABLE patient

&amp;#x200B;

SQL Fiddle gives me the error: 

    Cannot add foreign key constraint 

&amp;#x200B;

I think it is because I have to change a constraint but I can't find where. From what I can see is that I already added SET NULL to every Foreign Key where table 'patient' is affected.

Could someone help me out please? :)",learnSQL,How to DROP TABLE without errors?,1.0,https://www.reddit.com/r/learnSQL/comments/haotgm/how_to_drop_table_without_errors/
26,neologizmas,1592565521,hbywl2,4,1,"I have a database that records messages and their timestamps. Currently to build a graph I iterate 00-24 hours and do a query to the database with LIKE hour. This works, but I think that doing 24 queries is not the best way to do this task, especially with a constantly growing database. 

I am wondering if there is a way to make this into one query: is there a way to somehow return a table by hour and sum of messages directly?",learnSQL,SQL/SQLite occurence counting by hour,1.0,https://www.reddit.com/r/learnSQL/comments/hbywl2/sqlsqlite_occurence_counting_by_hour/
27,Subduction,1592596762,hc7msz,6,1,Thanks!,learnSQL,"Using SQLite I have a datetime field im my table, but the date in my data is formatted with a literal dividing the date and the time, like ""2020-06-19T17:50:00-00:00"" It seemed to save properly in the INSERT operation. Is this a valid datetime format or is it doing something weird?",1.0,https://www.reddit.com/r/learnSQL/comments/hc7msz/using_sqlite_i_have_a_datetime_field_im_my_table/
28,biggbrother23,1592655358,hclcwn,2,1, ,learnSQL,SQL training courses online for beginners to advanced learners,1.0,https://google.com/amp/s/onlinecoursesgalore.com/sql-training-courses-online/amp/
29,Dennisdamenace01,1592674354,hcq8t2,1,1,"Just learnt SQL, would like to know some free resources I could learn MYSQL",learnSQL,Next Steps,1.0,https://www.reddit.com/r/learnSQL/comments/hcq8t2/next_steps/
30,dropestein,1592761803,hdb5mi,4,1,"Hi everyone!

This is so weird. I'm just starting with this and I got stuck with maybe the most basic things of all: when I do a query with WHERE, I got no results with one column in particular that I added recently.

I'm using MySQL (MariaDB)

Look:

`SELECT * FROM trescom_db.profesionales;` :

    +----+-------------------------------+--------+---------------+
    | id | cargo                         | sueldo | area          |
    +----+-------------------------------+--------+---------------+
    |  1 | 'Director Marketing'          |   2500 | 'Cuentas'     |
    |  2 | 'Asistente Marketing'         |    700 | 'Cuentas'     |
    |  3 | 'Diseño Gráfico'              |   2000 | 'Diseño'      |
    |  4 | 'Producción Gráfica'          |    700 | 'Diseño'      |
    |  5 | 'Content Management'          |    700 | 'Contenidos'  |
    |  6 | 'Community Management'        |    700 | 'Contenidos'  |
    |  7 | 'Social Media Management'     |   1200 | 'Contenidos'  |
    |  8 | 'Administración ADS'          |    900 | 'Cuentas'     |
    |  9 | 'Fotografía'                  |   1200 | 'Diseño'      |
    | 10 | 'Producción Web'              |    900 | 'Diseño'      |
    | 11 | 'Animación digital'           |   1200 | 'Audiovisual' |
    | 12 | 'Dirección Audiovisual'       |   2500 | 'Audiovisual' |
    | 13 | 'Producción Audiovisual'      |    900 | 'Audiovisual' |
    | 14 | 'Postproducción Audiovisual'  |    900 | 'Audiovisual' |
    | 15 | 'Redacción Creativa'          |    800 | 'Contenidos'  |
    | 16 | 'Periodista'                  |   1500 | 'Contenidos'  |
    | 17 | 'Coordinación BTL'            |    900 | 'Cuentas'     |
    +----+-------------------------------+--------+---------------+

`SELECT * FROM trescom_db.profesionales WHERE area='Cuentas';` :

    Empty set (0.001 sec)

What makes me curious is if the fact that I added the ""area"" column after creating and filling the table with the first 3 columns ha something to do with it. Because when I use WHERE with any other column, it works just fine. Look:

`SELECT * FROM trescom_db.profesionales WHERE sueldo=900;` :

    +----+-------------------------------+--------+---------------+
    | id | cargo                         | sueldo | area          |
    +----+-------------------------------+--------+---------------+
    |  8 | 'Administración ADS'          |    900 | 'Cuentas'     |
    | 10 | 'Producción Web'              |    900 | 'Diseño'      |
    | 13 | 'Producción Audiovisual'      |    900 | 'Audiovisual' |
    | 14 | 'Postproducción Audiovisual'  |    900 | 'Audiovisual' |
    | 17 | 'Coordinación BTL'            |    900 | 'Cuentas'     |
    +----+-------------------------------+--------+---------------+

So, maybe... should I do something in particular to ""update"" the database maybe?

And other thing: is here the adecuate place to post this kind of very very very begginer questions?

Thanks in advance!",learnSQL,Noob Question: no results when using WHERE in a specific column,1.0,https://www.reddit.com/r/learnSQL/comments/hdb5mi/noob_question_no_results_when_using_where_in_a/
31,voneuler,1592764954,hdc2qt,7,1,"Hello, I'm making a database for a dashboard where me and my friends can track our videogaming habits. I've made a [relational schema](https://imgur.com/0wot79c) and put in some dummy data and everything works fine.

However, when I'm populating the session table and subsequently the plays_in table, how do I know which session.Session_ID the newly created session will have? Is this something I have to solve when writing the back end software or is there some way of nesting table creation so that the plays_in.Session_ID automatically references the session.Session_ID of the newly created session?",learnSQL,Help with junction table creation.,1.0,https://www.reddit.com/r/learnSQL/comments/hdc2qt/help_with_junction_table_creation/
32,will_yyc,1592803438,hdm0dh,11,1,"I'm building a real estate website and I'm using scrapy to get data from multiple sites and saving them in a mysql database.  


I'm having some problems managing the database. The websites are being scrapped daily, and I need to update the database daily with the new listings and remove the houses that were sold.  
I'm doing this manually by merging the new and old databases on mysql.  


Is there a better way to automatize the process?  
I can't save the scrapped data directly to the live database because something can go wrong and mess up the entire website.",learnSQL,How to Manage Mysql Database With Scrapped Data,1.0,https://www.reddit.com/r/learnSQL/comments/hdm0dh/how_to_manage_mysql_database_with_scrapped_data/
33,minhtuele,1592822338,hdq06s,6,1,"Hello everyone,


I’m going through a record of the Stanford Introduction to Databases course on YouTube as they’ve stopped their enrollment for the moment. I’ve been encountering a few instances of a subquery construct of which I’m not entirely sure how they work.


First example occurs in this video https://youtu.be/8OCAxk1Rybg?t=321


Second example is here https://youtu.be/428B57dOxcE?t=1380


In both instances, the subquery refers to an attribute/ column with multiples values. My question is, in such constructs, how exactly does SQL tell which A1.cName or College.cName is referred to, when there are multiples of them? My apology if the question is unclear as English is not my first language and coding is not my current expertise.",learnSQL,Question on how Wheres in subqueries work,1.0,https://www.reddit.com/r/learnSQL/comments/hdq06s/question_on_how_wheres_in_subqueries_work/
34,Lil_Cato,1592832686,hdsdwh,0,1," 

Hi everybody,

I created a stack overflow question for this issue as well but i figured reddit might be faster.

So I'm building an ORM class in ruby using the sqlite3 gem

I'm working on a save method that inserts a new record with the instances attributes as values

&amp;#x200B;

my insert statement is :

INSERT INTO #{table\_name\_for\_insert} (#{col\_names\_for\_insert}) VALUES (#{values\_for\_insert});

&amp;#x200B;

table\_name\_for\_insert returns ""students""

col\_names\_for\_insert returns ""name, grade""

values\_for\_insert returns ""'Sam', '11'""

&amp;#x200B;

end result being:

INSERT INTO students (name, grade) VALUES ('Sam', '11')

&amp;#x200B;

the save method adds the record as desired however the resulting record has additional columns

    [{      
        ""id"" =&gt; 1,
        ""name"" =&gt; ""Sam"",
        ""grade =&gt; 11,
         0 =&gt; 1,
         1 =&gt; ""Sam"",
         2 =&gt; 11 
    }] 

I expected the first three rows however, I don't know where the last three came from.",learnSQL,Unknown Columns in Table,1.0,https://www.reddit.com/r/learnSQL/comments/hdsdwh/unknown_columns_in_table/
35,[deleted],1592856480,hdzr00,0,1,[deleted],learnSQL,Boolean Operators Question,1.0,https://www.reddit.com/r/learnSQL/comments/hdzr00/boolean_operators_question/
36,Mordred_X,1592856745,hdzty8,1,2,"Sorry if it's a stupid question, I'm kinda exhausted.

Are  these equivalent?

yellow or red and (blue or purple)

(yellow or red) and (blue or purple)

If so, is there a text, or rule about it?

PS: After asking this, I googled  ""boolean operator order of precedence"" but I am still deciphering the answers",learnSQL,Simple Boolean Operator Question,1.0,https://www.reddit.com/r/learnSQL/comments/hdzty8/simple_boolean_operator_question/
37,LooseLie66,1592885545,he7ptv,2,1,"This is a very simple question, I apologize, but whenever you search up online how SELECT is returning some data from database, but I also see SELECT being used for arithmetic operators, but I do not see how SELECT returns any data from datatable in this case if you do something like ""SELECT 1 + 1;"" Does this mean SELECT is a very broad term and has many uses? Are there more than just these two uses?",learnSQL,What does the SELECT clause do in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/he7ptv/what_does_the_select_clause_do_in_sql/
38,bubbabubbly,1592886490,he7xip,2,1,"I am a bit confused on how does this clause work exactly. I feel like we can use without it, which means I am not totally understanding its purpose. Do we have to use an aggregate function with it to get any meaningful use or to make it work?",learnSQL,Confusion on GROUP BY statement and its use,1.0,https://www.reddit.com/r/learnSQL/comments/he7xip/confusion_on_group_by_statement_and_its_use/
39,drqwerty12,1592923221,hefslv,4,2,"Hello all! Really appreciate your help. I have a table like this

&amp;#x200B;

|name|rsvp|
|:-|:-|
|jane|yes|
|tom|no|
|alex|yes|
|jane |no|

How can I remove all occurrences of Jane from the table where her rsvp is conflicting like this?",learnSQL,Super noob question: Duplicate rows,1.0,https://www.reddit.com/r/learnSQL/comments/hefslv/super_noob_question_duplicate_rows/
40,ThrashUntillDeath,1593033354,hf9o5d,0,1,Is there a way to have automatic autocomplete for Beekeeper Studio? It's kind of a pain to hit Ctl+space every time.,learnSQL,Does Beekeeper Studio have automatic autocomplete?,1.0,https://www.reddit.com/r/learnSQL/comments/hf9o5d/does_beekeeper_studio_have_automatic_autocomplete/
41,Vidyakant,1593157436,hg3bzu,0,1, ,learnSQL,Identifying blocking and locking Currently executing Queries with Waits In SQL Server,1.0,https://tutorialspoint4all.com/identifying-blocking-and-locking-currently-executing-queries-with-waits-in-sql-server/
42,Scutterbum,1593182826,hg8xcu,2,1,"I am doing some customer analysis using the query taken from the RFM tutorial [here](http://www.silota.com/docs/recipes/sql-recency-frequency-monetary-rfm-customer-analysis.html)

This is the query:

    select customer_id, rfm_recency, rfm_frequency, rfm_monetary
    
    from 
        (
            select customer_id,
    		  ntile(4) over (order by last_order_date) as rfm_recency,
    		  ntile(4) over (order by count_order) as rfm_frequency,
    		  ntile(4) over (order by sum_amount) as rfm_monetary
    
    
        from 
    
            (
               select customer_id,
                   max(local_date) as last_order_date,
                   count(*) as count_order,
                   sum(amount) as sum_amount
               from transaction
               group by customer_id) as T
    
            ) as P

However I'm getting the error: 

    You have an error in your SQL syntax near '(order by last_order_date) as rfm_recency,

I have messed with that line 100 times now trying to fix it and can't figure it out. If I take those `ntile`   
 lines out, it works. So it's probably something to do with `ntile` but I have no idea exactly what is wrong with it.  

Can anybody here spot where I'm going wrong?",learnSQL,Syntax error... can't figure out where I'm going wrong.,1.0,https://www.reddit.com/r/learnSQL/comments/hg8xcu/syntax_error_cant_figure_out_where_im_going_wrong/
43,portation,1593210298,hghi8n,2,1,I've been doing a little project to learn SQL. I've taken my friends books from goodreads and categorized them and put them in a SQL database. I want to set up a simple website that lets him search the database intuitively. What languages/things do I need to look up and learn to do this?,learnSQL,Host SQL database on a website,1.0,https://www.reddit.com/r/learnSQL/comments/hghi8n/host_sql_database_on_a_website/
44,MajarAAA,1593278737,hgxkaq,0,3, ,learnSQL,Database Disk Space Calculator,0.72,https://piprogramming.org/articles/Database-Disk-Space-Calculator-0000000006.html
45,PortanJeterson,1593314149,hh7b5b,2,1,"Whenever I try creating an SQL file, I get this error. https://docs.google.com/document/d/1lytAJWNC38HVp8UkKOfdasZIIYKyCpO381AA_bO1IU8/edit?usp=sharing",learnSQL,Can't create file,1.0,https://www.reddit.com/r/learnSQL/comments/hh7b5b/cant_create_file/
46,ashhwathama,1593319943,hh8l67,2,3, ,learnSQL,"I am writing two tables for a family tree , in second table I want to relate father son relationship, is it possible to have two foregin keys in the same coulmn showing two sons of a guy",1.0,https://www.reddit.com/r/learnSQL/comments/hh8l67/i_am_writing_two_tables_for_a_family_tree_in/
47,amazeguy,1593328394,hha6mu,6,1,"* Very common schema on my end in PostgreSQL 
* users (user\_id int primary key, email varchar unique, password varchar unique..)
* I have a page where user can update their email
* User selects update, verification link is sent to user s new email
* For security reasons a notice sent to old email
* User confirms new email
* Then the database updates old email to new
* How do I make my database schema handle this?",learnSQL,How to design your schema to let the user update their email address?,1.0,https://www.reddit.com/r/learnSQL/comments/hha6mu/how_to_design_your_schema_to_let_the_user_update/
48,yogibjorn,1593354581,hhfb3a,4,1,"I am constructing a simple database that contains 3 tables tbl_user, tbl_video and tbl_selection. The user can choose several videos from the tbl_video list. The selection is stored in tbl_selection.

```
tbl_user
	id_user
	name
	link
	
tbl_video
	id_video
	title
	category
	storage
	link

tbl_selection
	id_selection
	id_user
	id_video
```

Can this database be reduced to 2 tables tbl_user and tbl_video.?",learnSQL,Can this database be reduced to 2 tables?,1.0,https://www.reddit.com/r/learnSQL/comments/hhfb3a/can_this_database_be_reduced_to_2_tables/
49,numnumriri,1593409784,hhub75,2,1,"I have been reading existing code from some body and I see them making an alias for the datatable like this:

SELECT \* FROM demo d WHERE [d.](https://d.car/)num = 5

To me, I see no use of those when I can get the same result doing:

SELECT \* FROM demo WHERE num = 5

Maybe I am misunderstanding this term or concept of column referencing, not even sure if this is what it is called. Any advice would be welcome.",learnSQL,What is Column referencing and the use of it in SQL (specifically PostgresSQL)?,1.0,https://www.reddit.com/r/learnSQL/comments/hhub75/what_is_column_referencing_and_the_use_of_it_in/
50,CancelDeath,1593455669,hi5nqn,0,1,"Hello. I'm new to SQL / Oracle. I'm working on a small database project. The idea is that I'm going to make a database, put a bunch of data in it, and write queries that can be executed by a non-developer who only has a very basic understanding of SQL. For this database to be functional, it needs to be updated with data from time to time. 

QUESTION: What's a good way to update the database if the primary person using it doesn't know programming? 

I know that you can obviously just do something like:


    INSERT INTO x_parent (
        first_name,
        height,
        last_name,
        parent_id,
        dob,
        spouse_name,
        title
    ) VALUES (
        'Rose',
        5.4,
        'McGowan',
        100,
        TO_DATE('1969-04-20', 'YYYY-MM-DD'),
        'Jack',
        'mom'
    );

but that seems like it will lead to errors and really inconvenient for a non-programmer. I know I can also insert an entire CSV file, that the non-programmer can update ahead of time. But as far as i know, this will lead to duplicate entries for all the existing data and i'll need to have the person execute code that deletes all the duplicates. Is there a better way to do this? 

Can I write a package procedure that will only update the database with new data? How do other people do this? 

I know, these are really really basic questions. But I want to learn by doing this project and I've only taken a course on the actual SQL language. I'm only now discovering that SQL developer has the option to create packages and call functions that you define in those packages. Which is super cool. So now i'm wondering if i should create a convenient function like ""mypackage.updateOnlyNewData (from an excel sheet?????)"" that the non-programmer can use. Or am I reinventing the wheel? Does SQL developer have some super easy solution for this? In other words, how do people in the real world update databases without creating an entire UI for non-programmers?",learnSQL,What's the best way to make updates to an Oracle databasee (using SQL Developer) that would be user-friendly for a non-programmer?,1.0,https://www.reddit.com/r/learnSQL/comments/hi5nqn/whats_the_best_way_to_make_updates_to_an_oracle/
51,Skidmarkjoe,1593700075,hjy00o,9,1, ,learnSQL,Left Outer Exclusive Self Join,1.0,/r/SQL/comments/hjxhpy/left_outer_exclusive_self_join/
52,gandhiN,1593777403,hkhrtd,0,1,Collection of the best [SQL Database tutorials](https://blog.coursesity.com/best-sql-database-courses?utm_source=reddit&amp;utm_medium=social&amp;utm_campaign=redditPost&amp;utm_term=best-sql) and courses to learn and analyze datasets in your free time,learnSQL,Best way to learn SQL Database courses &amp; Online Tutorials to Learn Database courses for beginners to advanced level,1.0,https://www.reddit.com/r/learnSQL/comments/hkhrtd/best_way_to_learn_sql_database_courses_online/
0,JabbaTheFrog,1588579058,gd7dh4,7,1," 

Currently getting an error on my school project and I can't manage to solve it.

The question is, ""Create a new table called JunJulEvents, with all the data of the events which occur in June and Juli, The table exists out of eventnaam( eventname), evenementdatum(date of the event) and deelnemende auto's(Number of participating cars).

I have to get my info from another table which allready exsists and I am able to get that information, however, the count I am ussing doesn't work and it doesn't give me back the information I need. This is what I currently have.

`CREATE TABLE JunJulEvenementen (`

`EvenementNaam varchar(50),`

`EvenementDatum date,`

`AantalAutos int,`

`);`

`insert into JunJulEvenementen (EvenementNaam,EvenementDatum,AantalAutos)`

`select evenementnaam,evenementdatum, COUNT(autonr)`

`from evenementen e`

`join deelnemers d on d.evenementnr = e.evenementnr`

`where MONTH(evenementdatum)=6 or MONTH(evenementdatum)=7`",learnSQL,Column is invalid because it is not contained in either an aggregate function or the group by clause.,1.0,https://www.reddit.com/r/learnSQL/comments/gd7dh4/column_is_invalid_because_it_is_not_contained_in/
1,fluffycatsinabox,1588703898,ge3e58,5,2,"Hi all,

How do you folks like to handle storing categorical variables? For example, if I have a column where I only expect between two or four values, let's say {""BUY"", ""SELL"", and ""HOLD""}. I feel like I can do better than just leaving them as text or varchar in a table (I'm using MSSQL). 

The suggestion I've found at a few different places was to have those values be foreign keys into a lookup table. Would it be worth having to join to the lookup table whenever I want those string values? Also, would I have all of my categorical variables, across several columns, have keys pointing to this table? 

I basically want what would be an enum in C or C++, but a quick Google search tells me that MySQL enums can be quite clunky and slow, and I don't believe MSSQL has enums.

Anyway, just wondering if anyone has any ideas that I should look into before proceeding with the lookup table idea.

Thanks!",learnSQL,How do you store categorical variables?,1.0,https://www.reddit.com/r/learnSQL/comments/ge3e58/how_do_you_store_categorical_variables/
2,embar5,1588709171,ge4zws,3,1,"If not, what circumstances would require, or encourage using psql?

I started with psql, my assumption was it would be the most transferable and flexible. I find it hard to remember the precise CLI syntax for everything (I'm not a DBA admin, just a full stack dev). Now I am looking for reasons to just use pgAdmin4 unless psql is needed.",learnSQL,Is it fine to prefer pgAdmin4 at work?,1.0,https://www.reddit.com/r/learnSQL/comments/ge4zws/is_it_fine_to_prefer_pgadmin4_at_work/
3,DankDumps,1588742519,gedypu,0,1,"Hello! 

I'm currently building a reddit-esque clone and, let's say for example we're on a specific post. A post will have votes, it will also have comments, which will have votes as well. I was wondering if it'd be better to split my query into multiple queries or not. One query to contain everything: the post itself, its votes, the comments and their votes. or: one query to for post and votes, another for comments and votes.

To simplify,

POST (id, name)

USER (id, name)

VOTEPOST(post\_id, user\_id, vote)

&amp;#x200B;

Will one query that returns everything, in a scenario where there are MANY votes for a Post and MANY comments with MANY votes for those comments, be very slow with the joins?

Another question I have is, is it normal or inefficient for the result set to return repeating data? E.g each row will contain the same post, the post votes, and then where it differs is the comments?

Thank you!",learnSQL,One Query vs Multiple,1.0,https://www.reddit.com/r/learnSQL/comments/gedypu/one_query_vs_multiple/
4,OutOfMyDepthSendHelp,1588755523,gegevt,1,1," Hi There,

Fairly new to SQL as am more of a business owner than an IT owner, but want to learn as it comes in handy for my role.

In the code below my Doc\_ID may be occur more than once, is there a way to concatenate the CharName based on the Doc\_ID?

The only reference i can find is FORXML but cannot seem to get the ideal format.

Ideally i would have the CharName concatenated like ' Value 1 | Value 2""

`/****** Script for Selecting documents that use Gent Codes Characteristics  ******/`  
`SELECT [doc_characteristics].[ID]`  
      `,[doc_characteristics].[Doc_Id]`  
      `,[doc_characteristics].[Char_Id]`  
    `,[Characteristics].[FullPath] as Filter`  
    `,[Characteristics].CharName`  
    `,[Project_Docs].Project_Id`  
    `,Projects.ProjectName`  
 `FROM [WebCenter4_0].[webcenter].[doc_characteristics]`  
 `inner join [WebCenter4_0].[webcenter].[Characteristics] on [WebCenter4_0].[webcenter].[Characteristics].[id] = [WebCenter4_0].[webcenter].[doc_characteristics].[Char_Id]`  
 `inner join [WebCenter4_0].[webcenter].[Project_Docs] on [WebCenter4_0].[webcenter].[Project_Docs].Doc_Id = [WebCenter4_0].[webcenter].[doc_characteristics].Doc_Id`  
 `inner join [WebCenter4_0].[webcenter].[Projects] on [WebCenter4_0].[webcenter].[Projects].[Id] =[WebCenter4_0].[webcenter].[Project_Docs].[Project_Id]`  
`Where [Characteristics].[FullPath] like '%00002_0000000060%' and doc_characteristics.Deleted = '0' and ProjectName like 'bel0%'`",learnSQL,Concatenating Values with the same ID reference,1.0,https://www.reddit.com/r/learnSQL/comments/gegevt/concatenating_values_with_the_same_id_reference/
5,Blanco04,1588757628,gegtap,13,1,"I just wanted to know if theres any online practising platform for SQL.
I have tried Hackerrank but somehow it just doesn't seem to that good to me.
Is there any other platform where lots of practising questions are available.
Thanks",learnSQL,Online platform for practising SQL,1.0,https://www.reddit.com/r/learnSQL/comments/gegtap/online_platform_for_practising_sql/
6,MovingThrowaway1337,1588775940,gel7pa,11,1,"Here are some tables for examples:

&amp;#x200B;

|Michael|S1|10|
|:-|:-|:-|
|Michael|S1|8|
|Michael|S2|6|
|Jim|S1|7|
|Dwight|S1|10|
|Andy|S1|9|
|Andy|S2|6|
|Andy|S2|8|
|Andy|S3|10|

So basically, each person did a survey (S1, S2 or S3). Then they got a rating on that survey. I need to be able to find the average for each survey by person. (For example, the average for S1 for Michael would be 9) and also find out how many 10's each person received in the survey. 

Appreciate any help that I can get here. I'm a little lost and feel like I have bits and pieces but not the full picture.",learnSQL,Need help building this query,1.0,https://www.reddit.com/r/learnSQL/comments/gel7pa/need_help_building_this_query/
7,ThenBanana,1588786379,geohtv,8,1,"Hi all,

Thanks for having me in this community. I have this usecase, as shown [here](https://i.imgur.com/jOrZ8up.png).

I know table 1 is not the most efficient regarding DB, but that is  the format I am required to do it.

So far, I have written a left join for each column, making the query quite heavy. Is there a better way? 

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/bdvbf5v2k6x41.png?width=684&amp;format=png&amp;auto=webp&amp;s=adde79caff40812c5695a19528593dc4cf01c0dd",learnSQL,Converting a long table to a wide table,1.0,https://www.reddit.com/r/learnSQL/comments/geohtv/converting_a_long_table_to_a_wide_table/
8,ThenBanana,1588787853,geoyhb,0,1,"Hi all,

I tried this with the first value function today, no luck. I am trying to get the first result for each test and each subject, and only the first result..

&amp;#x200B;

&amp;#x200B;

https://preview.redd.it/ji2dnoufo6x41.png?width=886&amp;format=png&amp;auto=webp&amp;s=5e4c4f7894bbd1f43504e4919284393fe753b675

&amp;#x200B;

What's your take?",learnSQL,Microsoft sql server analytic functions,1.0,https://www.reddit.com/r/learnSQL/comments/geoyhb/microsoft_sql_server_analytic_functions/
9,300camels,1588788796,gep9ll,6,1,"Hey everyone, 

I’m taking the Udemy Complete SQL boot camp course, which uses PostGreSQL and PGAdmin. I just completed the installation steps:

1. Downloaded PostGreSQL 10(because my Mac isn’t updated and I’m running El Capitan)

2. Downloaded the most recent PGAdmin version (4)

3. The Udemy course provides a database(.tar file) that the course will be using - followed the steps to “restore” the database successfully 

The last step of the installation was just running a simple query (SELECT * FROM film; - film presumably one of the tables in the database we restored)

Not I’m getting an error that the relation does not exist. Searched the Udemy course for hours and tons of people asked this same question but have not been able to find a response to it 

Any suggestions/ideas? Maybe I should download an older version of PGAdmin since both my OS and PostGreSQL versions are older?",learnSQL,PostGreSQL/PGAdmin: Relation does not exist,1.0,https://www.reddit.com/r/learnSQL/comments/gep9ll/postgresqlpgadmin_relation_does_not_exist/
10,Mr_Hockatt,1588873951,gfbhhx,2,1,"So I have an assignment where I have to use CAST and Convert functions. The thing is when I use them, the output does correspond to the expected one but not the ('size'?) of the field.

[Here](https://imgur.com/a/j5IybwP) an image of what my output looks vs the expected one.

You can see my column results in a NVARCHAR(90) but the expected is NVARCHAR(160). Any idea of why does that happen or how to solve it?",learnSQL,CAST and CONVERT Problem,1.0,https://www.reddit.com/r/learnSQL/comments/gfbhhx/cast_and_convert_problem/
11,eneas2,1588879801,gfddhf,3,1,"Hey guys, may this is a silly question...
Well, recently I started to learn SQL, my idea is to convert one excel database I have to SQL . The excel databese has a lot of sheets and hyperlinks that jumps among sheets. So, my question is: do you know a way to convert those sheets to SQL tables, without losing the links? or do I have to create it in SQL from the start,by my own using foreign keys?
I hope it is not second option haha.

Thanks",learnSQL,Excel sheets to SQL tables,1.0,https://www.reddit.com/r/learnSQL/comments/gfddhf/excel_sheets_to_sql_tables/
12,Alex_Chepill,1588952439,gfvg0v,8,1," `SELECT DISTINCT cm.Rout_code, cr.Rout_name`

`FROM car_move cm, car_rout cr, car_oper co`

`WHERE (cm.Telnumber IN (‘050%’, ‘066%’, ‘095%’, ‘099%’)) AND ((DOW(cm.Date_take)&lt;&gt;3 OR DOW(cm.Date_take)&lt;&gt;4) AND MONTH(cm.Date_take)=8) AND (DATE()-co.Date_oper&gt;=11688)`

VFP gives me an empty table.",learnSQL,Can somebody tell me what's wrong with this code?,1.0,https://www.reddit.com/r/learnSQL/comments/gfvg0v/can_somebody_tell_me_whats_wrong_with_this_code/
13,scotchinmyblank,1589058102,ggnm0v,6,1,"See title above. I am trying to understand how CASE statements resolve when in an ORDER BY statement.

To set the context, suppose there is a table that describes orders(PK is OrderID), a table that describes products(PK is ProductID), and a mapping table called ""OrderDetails"" that indicates what products were part of what order(WITH FKs OrderID and ProductID).

Now, I'm trying to wrap my head around how ORDER BY statements work on the OrderDetails table when using a CASE statement.  For example, here are three different queries and I don't know how they resolve and can't find much documentation  on the subject.

    --example 1:
    SELECT od.*
    FROM OrderDetails od
    ORDER BY 
        CASE 
            WHEN od.Quantity &gt;= 60 THEN od.OrderID
        END ASC,
        CASE 
            WHEN od.Quantity &lt; 60 THEN od.ProductID
        END DESC
    
    --example 2:
    SELECT od.*
    FROM OrderDetails od
    ORDER BY 
        CASE 
            WHEN od.Quantity &gt;= 60 THEN od.OrderID
            ELSE od.ProductID
        END ASC
    
    --example 3:
    SELECT od.*
    FROM OrderDetails od
    ORDER BY 
        CASE 
            WHEN od.Quantity &gt;= 60 THEN 1
            ELSE 2
        END ASC
    

Now, for example 3, I think that the items that have od.Quantity &gt;= 60 return first in the list(but unordered compared other items that resolve to 1) and items marked 2 follow after the the ones marked 1(again, unordered relative to each other thing valued at 2).  However, beyond that, I'm having a tough time seeing a pattern.  Can anyone help me out?",learnSQL,Can someone explain how CASE statements within ORDER BY statements work?,1.0,https://www.reddit.com/r/learnSQL/comments/ggnm0v/can_someone_explain_how_case_statements_within/
14,JabbaTheFrog,1589121347,gh2kte,6,1,"I'm not able to also see the NULL values in my current script, what do I have to add in order to also see the NULL values? 

&amp;#x200B;

`SELECT l.*, count (*) as 'Autos in bezit'`

`FROM autos a`

`join leden l on a.lidnr = l.lidnr`

`GROUP BY l.lidnr, l.adres, l.lidnaam, l.soort, l.adres, l.plaats`

`order by [Autos in bezit] desc, plaats`",learnSQL,How to show the NULL values aswell?,1.0,https://www.reddit.com/r/learnSQL/comments/gh2kte/how_to_show_the_null_values_aswell/
15,Zuelizab,1589152194,ghbshq,6,1,"      select 
    
        pa.LName,
       
        
    -- -------------------------- --
    
         max(plD0150.ProcDate),
        pcD0150.ProcCode,
        pcD0150.AbbrDesc,
      
        max(plD0120.ProcDate),
        pcD0120.ProcCode,
        pcD0120.AbbrDesc,
    
        max(plD0140.ProcDate),
        pcD0140.ProcCode,
        pcD0140.AbbrDesc,
    
        max(plD0210.ProcDate),
        pcD0210.ProcCode,
        pcD0210.AbbrDesc,
    
    -- -------------------------- --
    
    
        FROM appointment ap 
        
        INNER JOIN patient pa on ap.patnum = pa.patnum 
        AND date(ap.aptdatetime) = curdate() -2 
       
    
    -- -------------------------- --
    
     
        LEFT JOIN procedurelog plD0150 ON ap.patnum = plD0150.patnum   
        AND plD0150.ProcStatus = 2
        AND plD0150.codeNum = 3 
        LEFT JOIN procedurecode pcD0150 on plD0150.CodeNum=pcD0150.CodeNum
        
        LEFT JOIN procedurelog plD0120 ON ap.patnum = plD0120.patnum   
        AND plD0120.ProcStatus = 2
        AND plD0120.codeNum = 1 
        LEFT JOIN procedurecode pcD0120 on plD0120.CodeNum=pcD0120.CodeNum
        
        LEFT JOIN procedurelog plD0140 ON ap.patnum = plD0140.patnum   
        AND plD0140.ProcStatus = 2
        AND plD0140.codeNum = 2
        LEFT JOIN procedurecode pcD0140 on plD0140.CodeNum=pcD0140.CodeNum
        
        LEFT JOIN procedurelog plD0210 ON ap.patnum = plD0210.patnum   
        AND plD0210.ProcStatus = 2
        AND plD0210.codeNum = 7 
        LEFT JOIN procedurecode pcD0210 on plD0210.CodeNum=pcD0210.CodeNum
      
      
    -- -------------------------- --
        
        GROUP BY ap.AptNum
      
    
    

This code seems to be very inefficient. Essentially I am ""Selecting"" the ProcDate, ProcCode, AbbrDesc from the database where the only difference is the codeNum.

**Is there a better way to do this where I don't have to make procedurelog aliases  (differ based on codeNum).** In my actual query, I have about 10 aliases and there query is taking several minutes to run.",learnSQL,How can I make this code run more efficiently?,1.0,https://www.reddit.com/r/learnSQL/comments/ghbshq/how_can_i_make_this_code_run_more_efficiently/
16,dirtydenier,1589204945,ghnuyv,3,1,"As above. Let's say I have a string 'folder1\\folder2\\folder3' and I'd like to count how many times a backslash occurs in that string. Is that possible?

Thank you in advance for your help.",learnSQL,Can I count backslashes '\' instances in a string?,1.0,https://www.reddit.com/r/learnSQL/comments/ghnuyv/can_i_count_backslashes_instances_in_a_string/
17,PascalsBadger,1589247949,gi1hoh,2,1,"I have one column of data in an excel file. I can I get it into a SQL table using python. Every example I am finding, has the data being entered manually into python. The length of the list will vary.",learnSQL,Excel into a SQL table,1.0,https://www.reddit.com/r/learnSQL/comments/gi1hoh/excel_into_a_sql_table/
18,jjohaann,1589332142,gios2s,2,1, ,learnSQL,What does the ALL operator do? Eli5 please,1.0,https://www.reddit.com/r/learnSQL/comments/gios2s/what_does_the_all_operator_do_eli5_please/
19,Laurence-Lin,1589335198,gipm31,1,1,"As title, if I have an data with timestamp type column f1, f2, and for f1 timstamp type is : 

MM/DD/YYYY, 

while the other f2 have timestamp type:

DD/MM/YYYY, 

How could I set up the configuration of TIMESTAMP type when I create the table in database? I'm currently loading data into IBM DB",learnSQL,How to set up TIMESTAMP configurations if my table contains 2 different kind of timestamp?,1.0,https://www.reddit.com/r/learnSQL/comments/gipm31/how_to_set_up_timestamp_configurations_if_my/
20,cmstrump,1589363895,giw2ut,0,1,"The following tutorial shows how to aggregate search metrics at scale by individual words within a search query using a data warehouse and SQL queries: [How To Find Google Ads Negative Keywords At Scale](https://blog.panoply.io/google-ads-negative-keyword-analysis)

Negative keywords lists automation can help better target ads by ensuring that Google will not display your ads for searches for the negatively-targeted terms. There is some limited visibility for this within the Google Ads Overview dashboard but the limitation of Google Ads report is that there are no metrics associated with the search term.",learnSQL,Using SQL and Data Warehouse for Aggregating Search Metrics of Negative Keywords in Google Ads - Tutorial,1.0,https://www.reddit.com/r/learnSQL/comments/giw2ut/using_sql_and_data_warehouse_for_aggregating/
21,andrewcooke,1589381248,gj0fq6,2,1, ,learnSQL,Example SQL (and Python SQLAlchemy ORM) Recursive Select,1.0,https://github.com/andrewcooke/choochoo/blob/dev/py/tests/test_recursion.py
22,a-p-o-c,1589527864,gk4mg9,2,1,"Good day,

I'm trying to understand SQL *lol* 

I need a new trigger and I was wondering if this is correct syntax? 

    CREATE TRIGGER tr_group_ad AFTER INSERT ON ""group""
        BEGIN
            INSERT INTO domainlist_by_group
            SELECT domainlist.id AS domainlist_id, new_group.group_id
            FROM (SELECT domainlist.id FROM domainlist JOIN domainlist_by_group ON domainlist_by_group.domainlist_id = domainlist.id WHERE group_id = 0 and domainlist.enabled = 1) AS domainlist
            LEFT JOIN SELECT ""group"".id AS group_id FROM ""group"" WHERE ""group"".id NOT IN (SELECT group_id FROM domainlist_by_group)) AS new_group;
    
            INSERT INTO adlist_by_group
            SELECT adlist.id AS adlist_id, new_group.group_id
            FROM (SELECT adlist.id FROM adlist JOIN adlist_by_group ON adlist_by_group.adlist_id = adlist.id WHERE group_id = 0 and adlist.enabled = 1) AS adlist
            LEFT JOIN (SELECT ""group"".id AS group_id FROM ""group"" WHERE ""group"".id NOT IN (SELECT group_id FROM adlist_by_group)) AS new_group;
        END;

I'm going to implement this into:

    .timeout 30000
    
    ATTACH DATABASE '/etc/pihole/gravity.db' AS OLD;
    
    BEGIN TRANSACTION;
    
    DROP TRIGGER tr_domainlist_add;
    DROP TRIGGER tr_client_add;
    DROP TRIGGER tr_adlist_add;
    
    INSERT OR REPLACE INTO ""group"" SELECT * FROM OLD.""group"";
    INSERT OR REPLACE INTO domain_audit SELECT * FROM OLD.domain_audit;
    
    INSERT OR REPLACE INTO domainlist SELECT * FROM OLD.domainlist;
    INSERT OR REPLACE INTO domainlist_by_group SELECT * FROM OLD.domainlist_by_group;
    
    INSERT OR REPLACE INTO adlist SELECT * FROM OLD.adlist;
    INSERT OR REPLACE INTO adlist_by_group SELECT * FROM OLD.adlist_by_group;
    
    INSERT OR REPLACE INTO info SELECT * FROM OLD.info;
    
    INSERT OR REPLACE INTO client SELECT * FROM OLD.client;
    INSERT OR REPLACE INTO client_by_group SELECT * FROM OLD.client_by_group;
    
    
    CREATE TRIGGER tr_domainlist_add AFTER INSERT ON domainlist
        BEGIN
          INSERT INTO domainlist_by_group (domainlist_id, group_id) VALUES (NEW.id, 0);
          INSERT INTO domainlist_by_group (domainlist_id, group_id) VALUES (NEW.id, 1);
          INSERT INTO domainlist_by_group (domainlist_id, group_id) VALUES (NEW.id, 2);
        END;
    
    CREATE TRIGGER tr_client_add AFTER INSERT ON client
        BEGIN
          INSERT INTO client_by_group (client_id, group_id) VALUES (NEW.id, 0);
        END;
    
    CREATE TRIGGER tr_adlist_add AFTER INSERT ON adlist
        BEGIN
          INSERT INTO adlist_by_group (adlist_id, group_id) VALUES (NEW.id, 0);
        END;
    
    
    COMMIT;",learnSQL,"Create Ttrigger xxx After Insert On ""xxx"" insert into etc.",1.0,https://www.reddit.com/r/learnSQL/comments/gk4mg9/create_ttrigger_xxx_after_insert_on_xxx_insert/
23,AlanMoney,1589547880,gk8qsm,3,1, ,learnSQL,What's wrong with my inner join? CountryId should better letter not #,1.0,https://i.redd.it/kxo4z4iegxy41.png
24,new_user19,1589572777,gkgbuk,2,1,"if request.method == ""POST"":  
selected = request.form\['options'\]  
searched = request.form.get(""search"")  
**results = db.execute(""SELECT \* FROM books WHERE :selected = :searched"", {""selected"": selected, ""searched"": searched}).fetchall()**

&amp;#x200B;

Can anyone tell me if what's in bold is valid? If you need more info let me know

I checked the variables and they are fine so I am left to assume something is not right in the bolded line",learnSQL,"Am I able to use a placeholder for the column name when using ""WHERE""? I don't know if that's why my code is not working (Please Help!)",1.0,https://www.reddit.com/r/learnSQL/comments/gkgbuk/am_i_able_to_use_a_placeholder_for_the_column/
25,kp361998,1589638461,gkvb6i,21,1, ,learnSQL,Trying to install sql and I get this. What credentials do I use?,1.0,https://i.redd.it/ysv86pzpx4z41.png
26,kp361998,1589645814,gkxakk,8,1, ,learnSQL,What do now?,1.0,https://i.redd.it/wk6n8uakj5z41.png
27,new_user19,1589691041,gl9hce,3,1,"I am recieving the following:

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.SyntaxError) syntax error at or near ""user"" LINE 1: INSERT INTO reviews (isbn, user, rating, review) VALUES ('08...

\[SQL: INSERT INTO reviews (isbn, user, rating, review) VALUES (%(isbn)s, %(user)s, %(rating)s, %(review)s)\] \[parameters: {'isbn': '080213825X', 'user': 'Henry', 'rating': '1', 'review': 'Great Read!'}\]

I can see that my information is translating properly but I am still getting a syntax error?",learnSQL,Can Someone Explain???,1.0,https://www.reddit.com/r/learnSQL/comments/gl9hce/can_someone_explain/
28,diptangsu,1589742256,gll6i4,4,1,"I have a table in a Postgres DB containing places and their corresponding latitude and longitude values. 
```
Places (id, name, lat, lng)  # primary-key(id)
```
I will get an input of a pair of latitudes and longitudes forming a rectangle.
```
{
  ""long_ne"": 12.34, 
  ""lat_ne"": 34.45, 
  ""long_sw"": 15.34, 
  ""lat_sw"": 35.56
}
```
I want to get all the rows that _fall_ inside the rectangle.

The rows can't be sorted based on their lat-lng values as that will cause trouble while inserting new values.

What would be the best way to go about solving this to optimize queries to get the result?",learnSQL,How do i get a list of all the latitudes and longitudes from a database within a specific area?,1.0,https://www.reddit.com/r/learnSQL/comments/gll6i4/how_do_i_get_a_list_of_all_the_latitudes_and/
29,AlanMoney,1589820440,gm5388,2,1, ,learnSQL,How do I rename a column?,1.0,https://i.redd.it/0l3cy4osyjz41.png
30,gagejustins,1589824330,gm6ds3,1,1, ,learnSQL,"SQL for the rest of us: a complete, practical beginner's guide to SQL and being a useful data literate teammate",1.0,https://technically.dev/posts/sql-for-the-rest-of-us.html
31,mwspencer75,1589826757,gm76r1,2,1,"Hello,

I was going over the Island Problem in a SQL workbook, but I cannot understand the first step. The query looks like this:

CREATE TABLE dbo.T1
(
	col1 INT NOT NULL
		CONSTRAINT PK_T1 PRIMARY KEY
);

INSERT INTO dbo.T1(col1)
	VALUES(2), (3), (11), (12), (13), (27), (33), (34), (35), (42)


SELECT col1,
	(SELECT MIN(B.col1)
	 FROM dbo.T1 AS B
	 WHERE B.col1 &gt;= A.col1) as grp
		AND NOT EXISTS
			(SELECT * 
			 FROM dbo.T1 AS C			
			 WHERE C.col1 = B.col1 + 1)) AS grp
FROM dbo.T1 AS A


The ouput should like something like this:

Col1      grp
--------------
2           3
3           3
11        13   
12        13
13        13
...        ...


I don't understand how the NOT EXIST Statement is able to find the last value of each group.  Can some please explain how this query works and how I should be reading it to understand what is happening?  Thank you!",learnSQL,The Island Problem Subquery,1.0,https://www.reddit.com/r/learnSQL/comments/gm76r1/the_island_problem_subquery/
32,AlanMoney,1589851305,gmet00,2,1, ,learnSQL,"I have Group Expression Error, Please Help me.",1.0,https://i.redd.it/nxqsvfsiimz41.png
33,Mariota2020,1589855791,gmfzgs,1,1,"Hello, I'm very new to SQL and I'm working through a tutorial on just the basics for SQL Server Mgmt Studio. This is going to be a really, really, really stupid question, but when I go to make a new database, it asks for a server name when I'm just trying to use this pseudo-type data set. I have no idea what the program means by requesting this?",learnSQL,"Huge roadblock, please help",1.0,https://www.reddit.com/r/learnSQL/comments/gmfzgs/huge_roadblock_please_help/
34,climbing-rocks,1589877333,gmkowq,3,1,"I want to select from my table specific columns for year at the moment they are called year\_2001, year\_2002 ect my code looks like this  
`select`   
`year_2002 as 2002,`   
`year_2003 as 2003,`  
`year_2004 as 2004`   
`from my_table`

this returns the error "" ERROR:  syntax error at or near ""2002"" "" is this because alias may not be integers? I am using pgadmin",learnSQL,"Alias Name, syntax error",1.0,https://www.reddit.com/r/learnSQL/comments/gmkowq/alias_name_syntax_error/
35,tsuid1,1589991340,gneaw1,7,1, ,learnSQL,How do I close the properties table on Pgadmin?,1.0,https://i.redd.it/3hb7avxy2yz41.png
36,cryptofanatic96,1589998024,gngger,5,1,"Hi, I have a vendor partner table in the following format and I'm trying to create another row in the table to link Vendor A to Vendor C (since B is connected to both A and C, then A and C are also partners). I'm playing with join (not sure if this is the right approach) but i can't figure the solution. any advice guys? TIA!

**current format:**

|Vendor 1|Vendor 2|
|:-|:-|
|A|B|
|B|C|

**desired format:**

&amp;#x200B;

|Vendor 1|Vendor 2|
|:-|:-|
|A|B|
|B|C|
|A|C|",learnSQL,linking partners question,1.0,https://www.reddit.com/r/learnSQL/comments/gngger/linking_partners_question/
37,[deleted],1590072154,gny38z,0,1,[deleted],learnSQL,"count messages by person per channel, stuck with nesting",1.0,https://www.reddit.com/r/learnSQL/comments/gny38z/count_messages_by_person_per_channel_stuck_with/
38,OutOfMyDepthSendHelp,1590141358,goggtl,5,1,"Hi Guys,

Fairly new to SQL (Due to do a beginners training course the start of next month) I have the below but it seems a really inefficient way to do it and i believe i am doing it very wrong. I ahve looked at Pivot tables but cannot seem to wrap my head around it.

Where i have UF13 and UF14 i would have to do this for around 24 variations. Essentially i am trying to take specific row data and give it it's own column as for my purpose i need it all in one row. In the other table \[design\_user\_fields\] this is broken into 24 rows per file \[designname\]

    FROM [ArtiosCADdb].[programmer].[design]
    inner join [ArtiosCADdb].[programmer].[resource_table] on [ArtiosCADdb].[programmer].[resource_table].[resourceid] = [ArtiosCADdb].[programmer].[design].[designResource]
      left outer join [ArtiosCADdb].[programmer].[project_printitem] on [ArtiosCADdb].[programmer].[project_printitem].[designname] = [ArtiosCADdb].[programmer].[design].[designName]
      left outer join [ArtiosCADdb].[programmer].[design_user_fields] as UF13 on UF13.[designName] = [ArtiosCADdb].[programmer].[design].[designName] and UF13.fieldid = '13'
      left outer join [ArtiosCADdb].[programmer].[design_user_fields] as UF14 on UF14.[designName] = [ArtiosCADdb].[programmer].[design].[designName] and UF14.fieldid = '14'
      where [design].designRevisionDate &gt;= Convert(datetime, '2018-01-01' ) and [design].designCustomer is NOT NULL

Below is what i have in the \[design\_user\_fields\] table:

&amp;#x200B;

|DesignName|FieldID|Value|
|:-|:-|:-|
|123.txt|13|Value|
|123.txt|14|Value|

&amp;#x200B;

Below is what i am trying to get:

|DesignName|UF13|UF14|
|:-|:-|:-|
|123.txt|Value|Value|
|ABC.txt|Value|Value|

&amp;#x200B;

I have quite a lot of columns hence why i have only extracted the one area if full code is needed let me know.",learnSQL,Rows to Columns issue.,1.0,https://www.reddit.com/r/learnSQL/comments/goggtl/rows_to_columns_issue/
39,lize786,1590336880,gpsd8e,2,1,Hi! I’m a novice and need to learn SQL pretty well. Is there a legit course that I can enroll online that can teach me? Also is there one from Microsoft that teaches you and then you can get a certification? 🤔,learnSQL,Microsoft sql cert,1.0,https://www.reddit.com/r/learnSQL/comments/gpsd8e/microsoft_sql_cert/
40,JoshBurnsTech,1590347448,gpvejp,1,1, ,learnSQL,How to Install SQL Server 2019 (Step-By-Step Tutorial),1.0,https://www.youtube.com/watch?v=kL0TADsB5kc
41,snip3r77,1590648648,gs172o,6,1,"I think I may have approx 2 weeks since it's a referral.

I'm quite ok with the basics but I think I need more revisions on WINDOW, DATES and self joins.

How do I go about this?

p/s : I think the problem is that I don't require to use SQL daily . Anyone can kindly advise?

Thanks",learnSQL,How to prep SQL for interview?,1.0,https://www.reddit.com/r/learnSQL/comments/gs172o/how_to_prep_sql_for_interview/
42,puckheadclown24,1590680283,gs8ib2,5,1,"Hi community,

I'm going through a SQL tutorial and was wondering if someone could help me with the intuition behind using the ""union all"" operator in a recursive CTE.

This is the code I've got:

    WITH Counter(PreviousValue) AS (
      SELECT
        1
      UNION ALL
      SELECT
        PreviousValue + 1
      FROM Counter
      WHERE PreviousValue &lt; 10
    )
    
    SELECT
      *
    FROM Counter;

My question is as follows: Union All doesn't remove duplicates. The goal of this query is to get the numbers 1 through 10. In the first iteration the result we get is just the number 1. In the 2nd iteration, we're supposed to get 2 rows, with values 1,2 respectively. If I'm doing union all on those two tables, wouldn't I get 3 rows with values 1,1,2 respectively? 

Thanks!",learnSQL,UNION ALL - Recursive CTE Question,1.0,https://www.reddit.com/r/learnSQL/comments/gs8ib2/union_all_recursive_cte_question/
43,vennom118,1590724551,gslhps,4,1,"Hello everyone!  This is my first post here so I'm going out on a limb.  I have taken 2 analytics courses thus far in my MS analytics degree and I find an awesome opportunity to apply what I've learned to a real life problem.  My fiance works as a claims analyst for an insurance company and was given the task of condensing thousands of points of organized data.  Something she has been doing manually for hours and hours a day and Im positive a few nifty lines of code would be able to save her many more hours of tedious work.

I have access to SAS studio and I'm trying to do it using Proc SQL but I am far from proficient.

Essentially this is what I need to do: 
Group by / deduplicate payee name
listagg(Accident State), listagg(Responsibility Code), sum(Expense Paid), listagg(expense category), listagg(expense description)
where listagg means we want to aggregate all those values with comma delimiter

Proc SQL as far as I know does not have a listagg function but there are other ways to get around it, potentially using DATA and SAS.  I also know of GROUP_CONCAT, and STUFF but I dont think Proc SQL has those abilities either.

Essentially, each line was entered individually by dozens of employees over the course of years.  Payee names are repeated many many times in some cases but need to be condensed into one, however, other columns need to be aggregated.  For example XX company (payee name) may repeat 50 times, but each ""responsibility code"" is different.  So when the payee name is condensed, we need to keep each ""responsibility code"" separated by commas in a separate column, along with the other categories listed above.  As for ""expense paid"" instead of aggregating or delimiting with commas, we need to sum.  

Is there a way to do this in Proc SQL or SAS.  Is there another free SQL program that will be easier to use for this task?  I only have experience in SAS studio.  

Lines I've tried with no success just for shits and giggles are:

SELECT 'Payee Name'n, 
       STUFF( (SELECT ',' + CAST('Responsibility Code'n AS varchar) FROM WORK.IMPORT1 t1 WHERE t1.'Payee Name'n = t2.'Payee Name'n FOR XML PATH('')), 1 ,1, '') AS ResponsibilityCodes
FROM WORK.IMPORT1 t2
GROUP BY t2.'Payee Name'n;

Getting 2 Syntax Errors (I think the first is referring to AS and im not sure why)

As well as:

PROC 
data want(rename=(product='CH Responsibility Code'n));
 do until(last.'Payee Name'n);
 set WORK.IMPORT1;
 by 'Payee Name'n;
 length product $50.;
  product =catx(',','CH Responsibility Code'n, product);
 end;
drop 'CH Responsibility Code'n;
run;

Getting 5 syntax errors and likely not even worth going into.

I wouldnt ask anyone to write the code for me but I would love it if someone could help put me on the right track, perhaps with an example.  My Google Fu is failing me and I really want to help but im out of my depth.

Thanks for any help you can offer!",learnSQL,Help with Proc SQL listagg type function,1.0,https://www.reddit.com/r/learnSQL/comments/gslhps/help_with_proc_sql_listagg_type_function/
44,snip3r77,1590728060,gsmazx,5,1,"I googled but unable to find good questions and answers exercise for this particular database.

I managed to install Northwind, pagila on my local PostGres server.

Please advise.

Thanks a lot.",learnSQL,exercise on sample database like Northwind,1.0,https://www.reddit.com/r/learnSQL/comments/gsmazx/exercise_on_sample_database_like_northwind/
45,B24321,1590824148,gtaaqy,0,1,"I have a series of data

(CountryName, ReportDate, CaseCount)

What I want to do is find the days that have passed between when CaseCount was equal to 1 to when the CaseCount was 100. I'm not really sure about how to do that, I thought about doing ReportDate - ReportDate, but I don't actually think that works.

Anyone have any experience with doing this?",learnSQL,Query to find Elapsed Days (SQLite),1.0,https://www.reddit.com/r/learnSQL/comments/gtaaqy/query_to_find_elapsed_days_sqlite/
46,Humblelicious,1590866244,gtjyse,3,1,"Are there any good resources for mid-advanced SQL practice interview for tech companies like Amazon, etc?",learnSQL,Looking for SQL practice questions for interview (Mid-Advanced level),1.0,https://www.reddit.com/r/learnSQL/comments/gtjyse/looking_for_sql_practice_questions_for_interview/
47,rogeralbornoz,1590910636,gturq6,0,1, ,learnSQL,Top 60 SQL INTERVIEW Questions and ANSWERS | how to crack SQL interview In only 20 Minutes,1.0,https://youtu.be/kqxzLaX20HE
50,[deleted],1590977365,gubyim,1,1,[deleted],learnSQL,Are you into music while coding?,1.0,https://www.reddit.com/r/learnSQL/comments/gubyim/are_you_into_music_while_coding/
51,jpcog,1591057303,guwmfn,3,1,"With the below query my issue is as in the title

    SELECT (F_FIRST|| ' ' || F_LAST) as name, COUNT(STUDENT.F_ID) as students
    FROM FACULTY, STUDENT 
    GROUP BY F_FIRST, F_LAST, STUDENT.F_ID
    HAVING COUNT(STUDENT.F_ID) = (
        SELECT MAX(mycount)
        FROM(
            SELECT COUNT(STUDENT.F_ID) mycount
            FROM STUDENT, FACULTY
            WHERE STUDENT.F_ID = FACULTY.F_ID
            GROUP BY STUDENT.F_ID));

So as per title if I have 2 tables:

Student:

    Name        Lecturer ID
    dave        1
    john        1
    cameron     2

Lecturer:

    Name     Lecturer ID
    Steve    1
    Rose     2

Would print

    Lecturer Name    Number of students
    Steve                2    
    Rose                 2

Can someone please point out where I have gone wrong.",learnSQL,Trying to print the lecturer with the most students but it just prints all the lecturers with the same amount of students.,1.0,https://www.reddit.com/r/learnSQL/comments/guwmfn/trying_to_print_the_lecturer_with_the_most/
52,atomicBeaver22,1591111898,gv9ekx,1,1,"Hello everyone, This is a very basic question, but I have been clicking aimlessly for the past hour and a half. I have created several queries by now, and I just can't find them listed in my database. I am new to SQL, and I am using Microsoft SQL Server Management Studio. I remember from a coworker's database a section in the project tree where there will be a list of all my queries created within my database in use. Does anyone know where this folder in the project tree might be located?",learnSQL,How to list my queries in Microsoft SQL,1.0,https://www.reddit.com/r/learnSQL/comments/gv9ekx/how_to_list_my_queries_in_microsoft_sql/
53,asmackabees,1591145224,gvjry5,5,1,"I am currently learning on the job and I want to know if there is an easier way to find all the relationships for the tables. 

The problem: I have about 40 tables in this new DB

* How do I extract only FK's and PK's so I can link them together?
   * Right now I am manually looking for the ID's and making the connections manually
* Is this possible if the fields are named differently?
   * Ex. table a [animal.id](https://animal.id) = table b [mammal.id](https://mammal.id)",learnSQL,Easy Way to Find FK and PK in new database,1.0,https://www.reddit.com/r/learnSQL/comments/gvjry5/easy_way_to_find_fk_and_pk_in_new_database/
54,seljor,1591170882,gvpm8u,2,1,"How do I store just the year in a Date? I made a stored procedure and when I just inputted the year it was truncated to 0000-00-00.  The only date I care about is the year so should I store the year as a varchar?

    CREATE DEFINER=`root`@`%` PROCEDURE `create_publisher`(IN publisherName VARCHAR(40), IN publisherCity VARCHAR(40), IN dateFounded DATE)
    BEGIN
    	IF NOT EXISTS (select publisher_name, publisher_city from publishers where publisher_name = publisherName AND publisher_city = publisherCity) THEN
    		insert into publishers (publisher_name, publisher_city, date_founded) values (publisherName, publisherCity, dateFounded);
    	END IF;
    END",learnSQL,How to Store Just the Year in a Table,1.0,https://www.reddit.com/r/learnSQL/comments/gvpm8u/how_to_store_just_the_year_in_a_table/
0,jarreed0,1585943473,fuf5z9,0,2, ,learnSQL,Python and SQLite Tutorial,1.0,https://youtu.be/COfSeLoFNH8
1,Alejandrozq,1586013014,fuv9f2,1,1,"hello people,

first of all sorry for the bad speech, english is not my native language.

im doing some work with some mates for the university with sql, the problem is we are starting in the language and we dont know how to do this:

we have this table

CREATE TABLE employee(

id NUMBER(8) PRIMARY KEY,

name VARCHAR(20) NOT NULL,

valuechain VARCHAR(14)

);

and we have this data as example

id      name            valuechain

43     Angelina      10;5;3;1;1

61     Rihanna        5;2

(please ignore the names)

we need to return the name of every employee with the respective sum of all values on valuechain and 0 if it is null, there are a maximum of 5 values on valuechain, the numbers go between 0 and 99 including both numbers. we suspect it can be done with something like this

SELECT substr(valuechain,1, instr(valuechain, "";"")-1) FROM employee;

an option could be just do the same command 4 times but we dont know how to add the last number if exists so what can we do here?

please make the answers as simple as posible, we are noobs on this and the teacher knows it

&amp;#x200B;

thanks for your time!",learnSQL,Need help with a substring,1.0,https://www.reddit.com/r/learnSQL/comments/fuv9f2/need_help_with_a_substring/
2,WhiteHockeyTape11,1586056018,fv6t16,3,1,I have a schema and some questions that I need to turn into queries. Is anyone able to help me out?,learnSQL,Need SQL Help,1.0,https://www.reddit.com/r/learnSQL/comments/fv6t16/need_sql_help/
3,Aboydy,1586087861,fvcp8p,0,1,"Hi all,

First of all, apologies for the title, as I'm very new to SQL, I wasn't completely sure what the proper title of the title should be :)

I have two tables, containing geographical information. E.g.

Table 1

geoid | city\_name

1      |  New York

1    | New York

2    | Baltimore

Table 2

geoid | city\_name

1    | New York Manhattan

1    | Boston

1    | New York

34   | Los Angeles

'geoid' is specific for a certain city. In the example, geoid of 1,  would be for New York.  But there are some errors in the data. So in Table 2, there is a geoid 1 connected with Boston, which is wrong.   Also, city name of New York Manhattan should be considered correct,  i.e. the same as New York.

My task is to compare Table B with Table A, and make an extra column  in Table B which would indicate if a proper geoid is connected to the  proper city name (1 if it is, 0 if it is not).  One of the problems is  that I do not have a list of what proper city names are (i.e. although  the city names in Table B are compared to Table A, there is no guarantee  that all entries in Table A have the correct city name).  In the team,  we have agreed that we would determine this by counting occurrences of  all city names connected with a geoid, take the two shortest ones, and  then choose the most occurring one as correct. E.g, we see that for geoid 1, New York occurs 3 times, New York  Manhattan 1 time, and Boston 1 time. We would then take New York and Boston (because they are the shortest),  and conclude that New York is the correct one, because it occurs 3  times, and Boston only once.

From there, it would be a simple check to see for each entry with geoid 1, to see if it contains 'New York' in its city\_name.

Since I come from Python, and am new to SQL, I know how to do this  via a Python script. I would use Python to create a third SQL table,  with proper geoid to city\_name mapping, and than use that table to  inspect the other two.

However, my team would much prefer if I did this in a single SQL  query. I would really appreciate any suggestions of how to do this.

Many thanks in advance and please let me know if I can provide any more details.",learnSQL,Ad hoc tokenization in MySQL queries,1.0,https://www.reddit.com/r/learnSQL/comments/fvcp8p/ad_hoc_tokenization_in_mysql_queries/
4,kgultekinn,1586090907,fvd9xp,7,1,hey everyone. I've been learning SQL myself since 2 weeks. I'm looking for smt like a game or simulation where I can exercise my knowledge through real-like cases. does anyone know something like this?,learnSQL,Any SQL Simulation for Learners?,1.0,https://www.reddit.com/r/learnSQL/comments/fvd9xp/any_sql_simulation_for_learners/
5,TicklesMcFancy,1586097366,fvel69,2,1,"I'm looking to focus on the syntax behind doing all this stuff because I want to have it all happen behind the scenes of a GUI I'm working on. I'm having a hard time with adding constraints to my tables and I've tried a lot of variations of syntax with nothing but errors. I'm using SQLite and I'll be using the syntax for SQLite3 (if that matters) from a Python script I'm working on. 

Here's some of the stuff I've tried: 

    ALTER table
    ALTER COLUMN column_name 
    ADD DEFAULT '0.00';
    
    ALTER table
    ADD CONSTRAINT &lt;- I wasn't able to figure out what to put after this, but I tried a few things. 
    DEFAULT '0.00' FOR column_name

I would like to be able to add a default value for a field. I would also like to be able to update that default value if I so choose to. I tried to use the DB Browser GUI to see if the log would have an answer but it did not give me the results I was looking for.",learnSQL,Having a hard time with syntax,1.0,https://www.reddit.com/r/learnSQL/comments/fvel69/having_a_hard_time_with_syntax/
6,Stugora,1586117590,fvkg88,0,1," **Stugora** is an upcoming app that allows students to trade in a marketplace and find course and study groups, clubs and more! We are currently in development.

See [https://stugora.com/](https://stugora.com/) for more information &amp; Discord invite.",learnSQL,"Stugora - An upcoming app for students to trade in a marketplace, and find course and study groups, clubs and more!",1.0,https://www.reddit.com/r/learnSQL/comments/fvkg88/stugora_an_upcoming_app_for_students_to_trade_in/
7,KevnBlack,1586196644,fw3qz6,7,2,"I have a *moviegenres* table composed of movie titles and genres like the following.

|*title*|*name*|
|:-|:-|
|Avatar|Action|
|Avatar|Adventure|
|Avatar|Fantasy|
|Avatar|Science Fiction|
|Pirates of the Caribbean: At World's End|Adventure|
|Pirates of the Caribbean: At World's End|Fantasy|
|Pirates of the Caribbean: At World's End|Action|
|...|...|

How would I return just the movies that have both the genres 'Fantasy' AND 'Science Fiction'? Performing a query with a WHERE clause like ""WHERE name='Fantasy' AND name='Science Fiction'"" doesn't return anything because they are in separate rows.",learnSQL,[MySQL] Using AND to return certain values for one column,1.0,https://www.reddit.com/r/learnSQL/comments/fw3qz6/mysql_using_and_to_return_certain_values_for_one/
8,Unlistedg,1586208446,fw7ewk,1,1, ,learnSQL,Can I get the same result by not including ‘MATH’?,1.0,https://i.redd.it/sqz3x1ukm9r41.jpg
9,bingbogger,1586214724,fw972a,1,1,"Hi everyone I've been using SQL Server recently and I am still very new to it all. So far I have made a program that is sending data about user performance on a certain device to my database The first table I have is an auto-increment user ID table, then a table about device information and finally a table that will store the results about the user performance on the program. 

Basically I was hoping someone would be able to point me in the right direction of viewing this data so that I could view what device User 1 had and how they performed for example. Many thanks!",learnSQL,Help with viewing data,1.0,https://www.reddit.com/r/learnSQL/comments/fw972a/help_with_viewing_data/
10,RoyButReal,1586232735,fwdsre,2,1,"I have a table (lets call it Animal) that looks something like this:

|Date|Animal|Count|
|:-|:-|:-|
|3/20|Dog|30|
|3/20|Cat|30|
|3/20|Mouse|60|
|3/21|Dog|30|
|3/21|Cat|20|
|3/21|Mouse|10|
|3/22|Dog|40|
|3/22|Cat|40|
|3/22|Mouse|20|

And I want to convert the counts to a percentage of the days total, so the resulting table would look like this:

&amp;#x200B;

|Date|Animal|Percentage|
|:-|:-|:-|
|3/20|Dog|25%|
|3/20|Cat|25%|
|3/20|Mouse|50%|
|3/21|Dog|50%|
|3/21|Cat|33.3%|
|3/21|Mouse|16.7%|
|3/22|Dog|40%|
|3/22|Cat|40%|
|3/22|Mouse|20%|

Can anyone suggest the best way to go about doing this?",learnSQL,How to sum convert count values to percentage and group by date?,1.0,https://www.reddit.com/r/learnSQL/comments/fwdsre/how_to_sum_convert_count_values_to_percentage_and/
11,puckheadclown24,1586283231,fwphul,0,1,"Hi community,

I have a SP that I would like to override yesterday's data in the table it generates. 

I think overall the process is good in terms of the script, but in the end I have the following piece of code:

    EXEC sp_rename 'online_offline', 'online_offline_old'
    EXEC sp_rename 'online_offline_new', 'online_offline'
    DROP TABLE 'online_offline_old'

The issue is I never actually created the first ever instance of the ""online\_offline"" table, so SQL has no way of knowing what table to drop.

I use the following in my earlier:

    SELECT TOP 0 *
    INTO cs.online_offline_new
    FROM cs.online_offline with(nolock)

I'm essentially trying to import the schema from ""online\_offline"" to ""online\_offline\_new"". Do I need to first create the ""online\_offline"" table outside of the SP once, then run the SP every day?

I'm using someone else's code for SP and am a SQL beginner, so this question might be dumb :)",learnSQL,Stored Procedure - Overriding Yesterday's Data,1.0,https://www.reddit.com/r/learnSQL/comments/fwphul/stored_procedure_overriding_yesterdays_data/
12,wetlikeimboook,1586341577,fx43mg,5,1,Does anyone have any YouTube tutorials or links that are free to help me freshen up my SQL during this quarantine?,learnSQL,Best free sql software to learn or YouTube videos?,1.0,https://www.reddit.com/r/learnSQL/comments/fx43mg/best_free_sql_software_to_learn_or_youtube_videos/
13,alex20850,1586360289,fx8nho,6,1,"    I need to create a summary table with only the unique REGIONs and summary POP_2010 fields.  How to do?
    
    STATE		CHAR(20)
    POP_2010	NUMBER(20)
    REGION		CHAR(9)
    DIVISION	CHAR(4)
    
    ALABAMA             	4779736	SOUTH    	ESC 
    ALASKA              	710231	WEST     	PAC 
    ARIZONA             	6392017	WEST     	MTN 
    ARKANSAS            	2915918	SOUTH    	WSC",learnSQL,How to create summary table?,1.0,https://www.reddit.com/r/learnSQL/comments/fx8nho/how_to_create_summary_table/
14,gindeli05,1586382992,fxfsoe,2,1,"Any help? This is my code

select * 
       from (
          select a.grade,s.FirstName,c.courseName, row_number() over(partition by a.StudentCourseID order by grade desc) as rn
           from assignments a, StudentCourses sc, Students s, Courses c
           where a.StudentcourseID = sc.StudentcourseID
           and s.StudentID = sc.StudentID
           and c.CourseID = sc.CourseID
       ) s
       where rn &lt; 6",learnSQL,"How do I write sql to show the student’s name, subject name and their mark for each student’s best course, if only the top five assignments are counted from each course they took and also If the student has completed less than five assignments assume a mark of zero for the missing assignments.",1.0,https://www.reddit.com/r/learnSQL/comments/fxfsoe/how_do_i_write_sql_to_show_the_students_name/
15,groversarthak29,1586391913,fxi9ea,0,1,"I have 2 tables reviews and orders. I need to make a functionality where I can only update reviews after I purchase a product using DDL command in SQL.

Please help",learnSQL,How to Update reviews only after I make a purchase using SQL DDL command,1.0,https://www.reddit.com/r/learnSQL/comments/fxi9ea/how_to_update_reviews_only_after_i_make_a/
16,OneLargeToe,1586401438,fxkmz3,8,2,"I have just started learning SQL this week for a class. Right now I am following along with Corey Schafers videos on YouTube. I am using postgres and PSequel. Although I am following the videos, I am getting absolutely no output or table structure after running the query. My code looks like this: 

&amp;#x200B;

https://preview.redd.it/1bmpacd7kpr41.png?width=1598&amp;format=png&amp;auto=webp&amp;s=88660000fd524c78fdda10ae2e3c4f182c22a1e2

Do I possibly have PSequel or postgres set up incorrectly? Any help is appreciated. Thank you!",learnSQL,Following video to a T. Still no output from my database,1.0,https://www.reddit.com/r/learnSQL/comments/fxkmz3/following_video_to_a_t_still_no_output_from_my/
17,Xassan,1586451996,fxw7z8,4,1,"I've been learning SQL on SQL Zoo this week and I've hit a bit of a head scratcher.

The problem in question is problem 13 on:  [https://sqlzoo.net/wiki/The\_JOIN\_operation](https://sqlzoo.net/wiki/The_JOIN_operation) 

So I originally tried to solve it using the query:

  

&gt;SELECT mdate, team1, CASE WHEN teamid=team1 THEN count(teamid) ELSE 0 END score1, team2, CASE WHEN teamid=team2 THEN count(teamid) ELSE 0 END score2  
FROM game  
LEFT JOIN goal  
ON game.id = goal.matchid  
GROUP BY mdate, matchid, team1, team2

Only this didn't work and instead assigns all of the goals from a game to one team.

I looked at the answers and it turns out the solution is:

&gt;  SELECT mdate, team1, SUM(CASE WHEN teamid=team1 THEN 1 ELSE 0 END) score1, team2, SUM(CASE WHEN teamid=team2 THEN 1 ELSE 0 END) score2  
FROM game   
LEFT JOIN goal  
ON matchid = id   
GROUP BY mdate,matchid,team1,team2

Is someone able to explain why my query doesn't distribute the goals correctly so I can avoid making the same mistake again in the future.

Thanks.",learnSQL,SQL Zoo Problem,1.0,https://www.reddit.com/r/learnSQL/comments/fxw7z8/sql_zoo_problem/
18,[deleted],1586455919,fxxfw0,0,1,[deleted],learnSQL,TSQL - Select rows containing the largest value?,1.0,https://www.reddit.com/r/learnSQL/comments/fxxfw0/tsql_select_rows_containing_the_largest_value/
19,sqlservthrow,1586526701,fyg6al,5,1,"Hi, I have made a program that will test user performance based on what device is they are using. There are currently two tables so far. The first table will get the height and width of the users screen, the type of the device they are using (e.g. iPhone) and what hand they are using and a primary key called DeviceID. The second table features fields such as where they have pressed, the time taken and the primary key which is ResultID  and a foreign key that references the DeviceID from the first table. 

Basically at the moment I am struggling to find a way to be able to send the DeviceID key to the second table so that I will be able to identify the properties of what device will give each result and would appreciate any kind of help, many thanks!",learnSQL,Help with sending a primary key from table to another (SQL Server),1.0,https://www.reddit.com/r/learnSQL/comments/fyg6al/help_with_sending_a_primary_key_from_table_to/
20,rainman2395,1586582286,fyx3ip,5,1,"Hi. I started SQL a month ago and I have a problem with more than one query at the sane time. For example I have a Products table which includes ProductName and Price columns. 
I want that query in ProductName starts with letters '[""a"" , ""b"" , ""c"" ] %' and Average price of the items of start with that letters. I tried that and did not work:

SELECT * FROM Products
WHERE ProductName LIKE '[""a"" , ""b"" , ""c"" ] %' AND (SELECT AVG(Price) WHERE Products)

Where do I did wrong? 
Thanks for help",learnSQL,Combining 2 things with AND,1.0,https://www.reddit.com/r/learnSQL/comments/fyx3ip/combining_2_things_with_and/
21,Cryopier,1586620378,fz81td,2,1,"&amp;#x200B;

https://preview.redd.it/p68bbb0xm7s41.png?width=719&amp;format=png&amp;auto=webp&amp;s=26b8ac88e7af7a15f2bbada1376bc80f149b084d

Every resource I've found seems to list the syntax suggestion as some kind of pseudocode that just seems more complicated to me.  I'm really struggling.  I need solutions that I can reverse engineer to get this syntax down.

How would you structure the queries in the following two examples?

A SQL statement using a subquery and a quantified comparison predicate that returns the names of the partners whose authorized expense amount is greater than or equal to the partner whose ID is 102.

and

A SQL statement using two subqueries to list the event name that has the same theme code as event ID 100 and is being hosted at the venue with ID 220.

Thanks a million, in advance.",learnSQL,Having issues with the syntax of multiple subqueries and quantified comparison predicates in Oracle Apex,1.0,https://www.reddit.com/r/learnSQL/comments/fz81td/having_issues_with_the_syntax_of_multiple/
22,NoDistractionz,1586634451,fzgj1x,3,3,"Hi all,

  
I am looking to practice my skillset in the operations landscape. Specifically where you are tracking tickets and managing ticket backlogs, comparing how operations specialists are managing their tickets, etc. 

&amp;#x200B;

Does anyone have an idea of where I could practice this, or know where I can import data to practice with?

&amp;#x200B;

Let me know if y'all have any questions, and thanks in advance!",learnSQL,Where can I access operations data to practice with?,1.0,https://www.reddit.com/r/learnSQL/comments/fzgj1x/where_can_i_access_operations_data_to_practice/
23,[deleted],1586659306,fzoiva,0,1,[deleted],learnSQL,New to SQL &amp; Postman..Question,1.0,https://www.reddit.com/r/learnSQL/comments/fzoiva/new_to_sql_postmanquestion/
24,TrueSoneZ,1586707395,fzzalr,3,5,"Hey guys, I just started learning SQL in uni recently and ran into a problem that I just cant't seem to solve with my assignment.

There are 3 tables -[People, Food and Consumption](https://imgur.com/a/TjsbRcR). Food and consumption table are related via a food.id key.

What I am trying to do at the moment is create a list of all food, along with the total amount of times that food has been consumed and the total fat consumed.

So far my query looks like this:

SELECT f.food\_id, f.name, count(\*) AS amount\_consumed

FROM food f, consumption c

WHERE f.food\_id = c.food\_id

GROUP BY f.food\_id, f.name

This gives me a list with all the food and the amount of people that have consumed a particular food, however it does not tell me the total consumption amount (E.G It tells me 4 people has eaten a particular food but it does not tell me how many time has been eaten, 1 person could've eaten the food 100 times).

How can I write my query that fits all of my criterias?",learnSQL,Help needed for a SQL newbie,1.0,https://www.reddit.com/r/learnSQL/comments/fzzalr/help_needed_for_a_sql_newbie/
25,Retrofyre,1586727560,g05e7v,0,1, ,learnSQL,Right Table Column in a LEFT JOIN Statement,1.0,https://i.redd.it/dpvn9vq4igs41.png
26,[deleted],1586731189,g06fhi,0,1,[deleted],learnSQL,Okay Beginners question: Which SQL softwares do I download from MYSQL to start learning for myself?,1.0,https://www.reddit.com/r/learnSQL/comments/g06fhi/okay_beginners_question_which_sql_softwares_do_i/
27,Fish_in_a_tank,1586751945,g0buio,2,7,"I've been adding SQL to my skill set by practicing with PostgreSQL.  My other work, I post to a demo folder on Github.  What's the best way to show off the code I've written so far in SQL?",learnSQL,Where to demo my code?,1.0,https://www.reddit.com/r/learnSQL/comments/g0buio/where_to_demo_my_code/
28,BrianAndHisTrains,1586786390,g0jgxv,2,1,"SQLServer: This is from the HackerRank problem here:  [https://www.hackerrank.com/challenges/what-type-of-triangle/problem](https://www.hackerrank.com/challenges/what-type-of-triangle/problem)

My strategy is to first figure out the high, mid, and low values. From there, the actual solution isn't too bad. I have the highest and lowest parts done, but how would I pick out the middle value? Query to far:

&amp;#x200B;

    SELECT A, B, C, 
        (SELECT Max(v) FROM (VALUES (A), (B), (C)) AS value(v)) as HIGHEST,
        (SELECT Min(v) FROM (VALUES (A), (B), (C)) AS value(v)) as LOWEST,
    
    FROM TRIANGLES
    ...

*No direct solutions*, please. A topic or a link to documentation would be ideal! Thanks so much.",learnSQL,Middle of three values?,1.0,https://www.reddit.com/r/learnSQL/comments/g0jgxv/middle_of_three_values/
29,snip3r77,1586833896,g0xqg2,1,3,"for example I want to

a/b AS ratio

sometimes i can a/b directly

and sometimes I need to cast a as numeric

1) is there a way to check?

&amp;#x200B;

2) if say i need to query say

ratio \*1000 AS ratio\_1000

can I use ratio directly or I need to

a/b \* 1000 as ratio\_1000

thanks",learnSQL,how do we know that we need to cast as numeric,1.0,https://www.reddit.com/r/learnSQL/comments/g0xqg2/how_do_we_know_that_we_need_to_cast_as_numeric/
30,Don-g9,1586862176,g13il1,2,3,"I have two tables:

`Table Person`

| ID_PERSON | NAME | AGE | ID_JOB | ID_WEARHOUSE |
| --------- | ---- | --- | ------ | ------------ |

`Table Job`

| ID_JOB | NAME |
| ------ | ---- |

So far what I'm trying is this:

```
Select * from 
(Select NAME, count(NAME) as TOTAL_PEOPLE from Job inner join PERSON on
JOB.ID_JOB = Person.ID_PERSON group by NAME)
where TOTAL_PEOPLE &gt;= 5 order by TOTAL_PEOPLE desc;
```


What is the query to get the job NAME and total of people working on this job, for the case when at least 5 people are woking in the same job, order by DESC ?",learnSQL,"Noob query, Help...",1.0,https://www.reddit.com/r/learnSQL/comments/g13il1/noob_query_help/
31,[deleted],1586874019,g16d1b,2,1,[deleted],learnSQL,Syntax error that I cannot find,1.0,https://www.reddit.com/r/learnSQL/comments/g16d1b/syntax_error_that_i_cannot_find/
32,Hellkyte,1586880034,g186yl,2,3,"So for a given container there is the first time it is opened (open defined by date1).  When it is opened a series of items are created, and they are completed by date2.

I need to know the last date2 that an item was completed on the first date1 that a container was opened.

I think I know how to do this with multiple queries and some ugly joins, but there has to be a more elegant way of handling it.

Any thoughts?",learnSQL,Find the last date2 from a group defined by the first date1 (nesting groupbys),1.0,https://www.reddit.com/r/learnSQL/comments/g186yl/find_the_last_date2_from_a_group_defined_by_the/
33,[deleted],1587072430,g2o228,0,1,[deleted],learnSQL,Need Help with join query,1.0,https://www.reddit.com/r/learnSQL/comments/g2o228/need_help_with_join_query/
34,Hyperionx13,1587082487,g2r4b5,0,0,"i know how to get the rows, i know how to create the stored procedure, and i know how to make a message, but  i am a little stumped on the how to count with in a message. and how to put it all together, any help?

&amp;#x200B;

Write a script that creates and calls a stored procedure named lowProductStock. This stored procedure should declare a variable and set it to the count of all the rows in the products table with units in stock under 30. Then, the stored procedure should display a result set that displays the variable in a message such as: 5 products have an inventory level below 30.",learnSQL,help with a stored procedure and showing a message,1.0,https://www.reddit.com/r/learnSQL/comments/g2r4b5/help_with_a_stored_procedure_and_showing_a_message/
35,Character-Comb,1587091819,g2tjx4,5,3, ,learnSQL,Why do LIKE clauses have a percent sign?,1.0,https://www.reddit.com/r/learnSQL/comments/g2tjx4/why_do_like_clauses_have_a_percent_sign/
36,_zenon21,1587165014,g3cr98,1,1,"I'm writing an cooking recommendation app. I want to store ""Items"" (think lettuce, tomatoes, pepper) with a sub type of ""Pantry items""--the kind of dry goods you can keep on hand for a while. Because some other relationships in my database rely on distinguishing from `items` (generally) and pantry items (specifically), I think it would be better to keep them in separate tables. `pantry_items`' primary key is a foreign key to `items`. This is a pretty standard recommendation that I've seen for how to implement an ISA relationship, BUT it's a real pain to insert a lot of data at once.

For any item I want to insert, it seems like maybe I would have to run:

`INSERT INTO items (item_name) VALUES`  
`('Onion'),`  
`('Cumin'),`  
`('Coriander');` 

Then get the id of each (item\_id auto increments) and run a separate statement:

`INSERT INTO pantry_items (pantry_item_id, item_category, is_essential)`  
`(1, dry_good, TRUE),`  
`(2, spice, TRUE),`  
`(3, spice, TRUE);`

Is there any better way to handle this? A transaction? A rule? For 3-4 items it's not so bad, but for a few hundred, I could see this being very annoying. 

[An excerpt from the schema](https://preview.redd.it/a00x7to9cgt41.png?width=1218&amp;format=png&amp;auto=webp&amp;s=86ae260636deb48fcfbe3e7dfe6a1a6e4cc0fb1d)",learnSQL,Inserting records when you have an ISA relationship,1.0,https://www.reddit.com/r/learnSQL/comments/g3cr98/inserting_records_when_you_have_an_isa/
37,Hyperionx13,1587171757,g3ekys,1,1, ,learnSQL,help with Error Code: 1056. Can't group on 'GROUPING function',1.0,https://i.redd.it/68utnmmv6ht41.png
38,abaxter13131,1587230195,g3r4sp,6,3,"I am just starting out using SQL and trying to figure everything out. Here is the start to my code: 

    SELECT Count(DL_Service_ID) AS Individual_cnt, COMPLETED_DATE 
    FROM DAILY_LOG_DATA
    WHERE DL_Service_ID = '8219'
    AND COMPLETED_DATE BETWEEN '2020-04-05' AND '2020-04-11
    GROUP BY DL_Service_ID, COMPLETED_DATE

What I am trying to accomplish is counting the number of services (8369 and 8219) from the column DL_service_ID from the dates 2020-04-05 and 2020-04-11(COMPLETED_DATE). I would like to show the results in separate columns (Individual_cnt) which is 8219 and (Group_cnt) which is 8369. The dates are shown like this: 2020-04-07 11:14:19 in the COMPLETED_DATE column, not sure if that changes anything, but I think this is my issue. The error below is what I am getting.

SQL Error [1861] [S1000]: [Oracle][ODBC][Ora]ORA-01861: literal does not match format string

I am using Oracle12c with DBeaver",learnSQL,How to show counts in separate columns in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/g3r4sp/how_to_show_counts_in_separate_columns_in_sql/
39,Sanchez94,1587242248,g3ukvq,2,4,"I am currently enrolled in an SQL course and due to the virus, the course became fully online. I know part of the learning process is learning on your own, but I can't help feeling like I'm missing something without an in-person instructor. I’m left with mindlessly reading the text and if I’m being honest I end up just skipping to the assignments because it’s so boring. I feel like a thought process would be helpful. So I did some research and I’ve come up with this:

1. What is the query asking of you?
   1. Break up the sentence
2. Understand the relationship between tables.
   1. You need an ER diagram (p/f key relationships)
3. Break up the query into smaller do-able queries
   1. Each phrase will be its own separate query.
4. Combine multiple tables with a Join.

So my main two questions are:

1. Is this a valid approach to writing queries?
2. How do you know which joins to use?

Any help would be greatly appreciated, thank you",learnSQL,What are the steps to executing a query?,1.0,https://www.reddit.com/r/learnSQL/comments/g3ukvq/what_are_the_steps_to_executing_a_query/
40,Stripes013,1587250461,g3wtqi,2,2,"I want have a proven certification and eventually want to move into BI Development from a Data Analyst and wanted to take one of the Microsoft Certifications. However, [some of them are retiring](https://www.microsoft.com/en-us/learning/retired-certifications.aspx) and wanted to know if they would be worth taking still or if I should find a more up to date test, or if I should be taking an exam to begin with. For context, I wanted to do SQL 2016 BI Development. Thanks.",learnSQL,Worth taking Microsoft Certification Exams even though they are retiring?,1.0,https://www.reddit.com/r/learnSQL/comments/g3wtqi/worth_taking_microsoft_certification_exams_even/
41,jpcog,1587269668,g41cwo,8,1,"So my code for creating the 2 tables is this 

    create table Invoice (
    InvoiceNumber int primary key,
    LeaseNumber int foreign key references RentLeaseAgreement(LeaseNumber) not null,
    StudentID int foreign key references Student(ID) not null,
    Semester int not null,
    PaymentDue date not null,
    DatePaid date not null,
    PaymentMethod varchar(50) not null,
    PaymentReminder date);
    
    create table RentLeaseAgreement (
    LeaseNumber int primary key,
    StudentID int foreign key references Student(ID) not null,
    FlatPlaceNumber int foreign key references FlatRoom(FlatPlaceNumber),
    HallPlaceNumber int foreign key references HallRoom(HallPlaceNumber),
    StudioUnitNumber int foreign key references StudioUnit(StudioUnitNumber),
    RentalPeriod int not null,
    Address varchar(50) not null,
    MoveInDate date not null,
    MoveOutDate date);

and the error I get is 

    
    Error starting at line : 1 in command -
    create table Invoice (
    InvoiceNumber int primary key,
    LeaseNumber int foreign key references RentLeaseAgreement(LeaseNumber) not null,
    StudentID int foreign key references Student(ID) not null,
    Semester int not null,
    PaymentDue date not null,
    DatePaid date not null,
    PaymentMethod varchar(50) not null,
    PaymentReminder date)
    Error report -
    ORA-00907: missing right parenthesis
    00907. 00000 -  ""missing right parenthesis""
    *Cause:    
    *Action:
    
    Error starting at line : 11 in command -
    create table RentLeaseAgreement (
    LeaseNumber int primary key,
    StudentID int foreign key references Student(ID) not null,
    FlatPlaceNumber int foreign key references FlatRoom(FlatPlaceNumber),
    HallPlaceNumber int foreign key references HallRoom(HallPlaceNumber),
    StudioUnitNumber int foreign key references StudioUnit(StudioUnitNumber),
    RentalPeriod int not null,
    Address varchar(50) not null,
    MoveInDate date not null,
    MoveOutDate date)
    Error report -
    ORA-00907: missing right parenthesis
    00907. 00000 -  ""missing right parenthesis""
    *Cause:    
    *Action:

&amp;#x200B;

I cannot see any missing parenthesis and I have already made 10 other tables that are very similar with no issues so I am not sure what is going wrong here.",learnSQL,Missing right parenthesis error but nothing is missing,1.0,https://www.reddit.com/r/learnSQL/comments/g41cwo/missing_right_parenthesis_error_but_nothing_is/
42,aworriedindividual,1587326967,g4egui,4,1,"Hi all,
I have an important interview tomorrow for a big company and I just came across a point which says that knowledge of SQL is required. My role doesn’t require expert knowledge on this. Basic to intermediate knowledge is more than sufficient.
I do not have any experience with SQL prior to this and don’t know where can I start for this. 

Can any of you guide me as to what source I should refer in order to go through this interview. If I go through this phone screening round, I might have time to learn the basics in coming weeks.

As no other companies are hiring currently, I want to make the most of This situation. 

TIA",learnSQL,Interview tomorrow. Want to learn basic SQL,1.0,https://www.reddit.com/r/learnSQL/comments/g4egui/interview_tomorrow_want_to_learn_basic_sql/
43,smohajer,1587330770,g4fk9g,0,1,"I have created a resource for **advanced** database systems interview questions. It is a Medium article. I tried to keep the focus on **ADVANCED.** I feel it became a good educational resource overall. So, I decided to share it here as well. I think it is useful. The link is [here](https://medium.com/@smohajer85/my-pick-for-top-48-advanced-database-system-interview-questions-deb7b30968ca).",learnSQL,Advanced database systems,1.0,https://www.reddit.com/r/learnSQL/comments/g4fk9g/advanced_database_systems/
44,seljor,1587339191,g4hw7w,0,1,"Hello, how do you take a primary key from one table and have it fill into the value of a foreign key in another table? And how would you do this for 1000+ entries?",learnSQL,Mass fill in a colum,1.0,https://www.reddit.com/r/learnSQL/comments/g4hw7w/mass_fill_in_a_colum/
45,snip3r77,1587348057,g4k5iu,6,1,"Why do we need `c` for this query?   
Is it like `AS c` ?

Thanks

     SELECT
  id,
  final_price 
FROM (
  SELECT
    id,
    final_price,
    AVG(final_price) OVER() AS avg_final_price
  FROM auction) c 
WHERE final_price &gt; avg_final_price",learnSQL,subquery,1.0,https://www.reddit.com/r/learnSQL/comments/g4k5iu/subquery/
46,javatpoints,1587380499,g4qqos,0,1, ,learnSQL,Top 50 Commonly Asked SQL Interview Questions for Fresher and Experienced,1.0,https://www.javatpoint.com/sql-interview-questions
47,Pervert_Spongebob,1587438789,g57hw3,0,1,"&amp;#x200B;

New to SQL. I selected the average heart rate of every type of exercise in the exercise\_logs column. I only wanted to pick those that are above the total average of heart\_rate \[Average of all values in heart\_rate\].

[exercise\_logs](https://preview.redd.it/4wcuge2z73u41.png?width=480&amp;format=png&amp;auto=webp&amp;s=f8c87255c3b5031cb0d76cc3a2c3d77bac4da07e)

&amp;#x200B;

I used:

    SELECT type, AVG(heart_rate) AS avg_heart_rate FROM exercise_logs GROUP BY type HAVING avg_heart_rate &gt; AVG(heart_rate);

But I think

    HAVING avg_heart_rate &gt; AVG(heart_rate)

resulted in the error. Is there a solution for this?",learnSQL,How do I select the rows where the average of every values after group by is greater than the total average of all values in the colunm?,1.0,https://www.reddit.com/r/learnSQL/comments/g57hw3/how_do_i_select_the_rows_where_the_average_of/
48,ODoodle91,1587469315,g5dopz,4,1,"Hey all,

I was wondering whether there's a convention for which type of join to use for non-nullable foreign keys.

Suppose I have a Book table. Every Book has a many-to-one relationship with an Author and every book must have an Author. Each Book has a one-to-one relationship with an Owner, but a Book might not have an Owner yet if it hasn't been purchased.

If I wanted a full view of all my books, I would use an OUTER JOIN on the Owner table because the OwnerId is nullable and an INNER JOIN would filter out any books which don't yet have Owners.

Which kind of join should I use on the Author table though? Author isn't nullable so either JOIN will return the same results. But is there a convention that's typically used for the sake of readability?",learnSQL,Join convention for non-nullable foreign keys,1.0,https://www.reddit.com/r/learnSQL/comments/g5dopz/join_convention_for_nonnullable_foreign_keys/
49,distorted_table,1587561184,g60vee,3,1,I have to extract the rows with the max amount from a table and then from that subset i have to extract the rows with latest date based on some group..i tried googling but didn't understand,learnSQL,How to extract a row with max column value,1.0,https://www.reddit.com/r/learnSQL/comments/g60vee/how_to_extract_a_row_with_max_column_value/
50,DrixlRey,1587581974,g67319,3,3,"So I'm just a generalist IT Analyst work with Windows Servers, PowerShell scripting etc. I applied for a job for a Systems Analyst job that required a bit of SQL but turns out it was very heavy SQL.

I practiced everything on SQLbolt.com and had a pretty good grasp on all the exercises. Although it helped me they asked me questions like, draw a dimensional model you would use to produce the requested dashboard, then write an SQL query.

Being someone that can only do the basics, I didn't know how to craft a model like that. It said it wanted students enrolled by year, school name, course name, and class period. I'm thinking they wanted to show my ""Data Warehousing"" understanding, which I do not have.

I am quite interested in learning to become an entry level DBA that can generate some reports. Where do I start? Since I'm going for the MCSA/MCSE which one should I take?",learnSQL,"Just got off an interview to be a Database Analyst, it appeared to be entry level but basics didn't cut it, where to learn the fundamentals beyond SQLbolt?",1.0,https://www.reddit.com/r/learnSQL/comments/g67319/just_got_off_an_interview_to_be_a_database/
51,Veranscoto,1587611190,g6f5y7,3,1,"I ran a merge query to update some totals on a table; it ran successfully, but when I go to look at the table, no data appears to have been set.  What'd I do wrong?

My merge query originally had the update set values with [s.total](https://s.total) = [t.total](https://t.total) etc etc, but that gave me an error of:

`The multi-part identifier ""s.total_qty_received"" could not be bound.`

Merge query:

    MERGE INTO dbo.PO_HEADER_TEST t
       USING (select po_header_id, sum(qty_ordered) as total_qty_ordered,
    sum(qty_received) as total_qty_received,
    sum(qty_cancelled) as total_qty_cancelled,
    sum(qty_open) as total_qty_open,
    sum(amt_ordered) as total_amt_ordered,
    sum(amt_received) as total_amt_received,
    sum(amt_open) as total_amt_open
    from dbo.PO_DETAIL_TEST
    GROUP BY po_header_id) as s
       ON (t.po_header_id = s.po_header_id)
       WHEN MATCHED THEN UPDATE SET total_qty_received=t.total_qty_received, total_qty_cancelled=t.total_qty_cancelled, 
    total_qty_open=t.total_qty_open, total_amt_ordered=t.total_amt_ordered, total_amt_received=t.total_amt_received, 
    total_amt_open=t.total_amt_open;",learnSQL,Merge didn't do anything?,1.0,https://www.reddit.com/r/learnSQL/comments/g6f5y7/merge_didnt_do_anything/
52,broDaLASIF,1587624463,g6hvoy,0,1,"I have a masters in health science but we did not learn anything about data or informatics.  Since I wdon'tant to work in a hospital, I plan to self learn the skills needed for a career in healthcare informatics.  I am starting with learning SQL and am doing the microsoft course.  I wish I could have done the stanford course but it seems to not exist anymore on their site.    


I was just looking for some guidance to make sure I am on the right path.  To be honest learning SQL is pretty boring, I know that when I am applying the knowlege in a real world setting it will be more interesting.    


Am I on the right path? Should I be learning Python or getting some kind of certificate? Thanks.",learnSQL,"Doing the microsoft SQL course, not sure if I am on the right path.",1.0,https://www.reddit.com/r/learnSQL/comments/g6hvoy/doing_the_microsoft_sql_course_not_sure_if_i_am/
53,HiddenNegev,1587626526,g6i9j7,3,1,"Hello!  


In my work I sometimes review other peoples' SQL queries. I've noticed two in particular always group by all columns (i.e. if there at 15 columns they will group by 1,2,3,..,14,15) with no aggregate statements. I'm not sure why they do this, does it fill the same function as a distinct select?",learnSQL,Grouping by all dimensions,1.0,https://www.reddit.com/r/learnSQL/comments/g6i9j7/grouping_by_all_dimensions/
54,Maxiride,1587651372,g6new1,2,1,"Basic MWE (for what's worth is Postgres syntax):

    CREATE TABLE IF NOT EXISTS playground
    (
        id    SERIAL PRIMARY KEY,
        value VARCHAR
    );
    
    CREATE TABLE IF NOT EXISTS games
    (
        id            SERIAL PRIMARY KEY,
        name          VARCHAR,
        playground_id INT,
        FOREIGN KEY (playground_id) REFERENCES playground (id)
    );
    
    
    INSERT INTO playground (value)
    VALUES ('something');
    
    INSERT INTO games (name, playground_id)
    VALUES ('game name', 1)

The following two queries give the same exact result, the first one uses a FROM with multiple tables, the second one uses a JOIN, what's the deal in using one or the other structure?

    -- games.id specified to distinguish id from games or id from playground.
    SELECT games.id, name, playground_id, value
    FROM games,
         playground
    WHERE playground_id = 1;
    
    SELECT games.id, name, playground_id, value
    FROM games
             JOIN playground p ON games.playground_id = p.id
    where playground_id = 1

I often need to substitute actual values in place of their foreign key IDs and I was taught to use JOINs, however I find easier to write and understand the first example with a FROM with multiple tables.

This discovery questioned my knowledge of SQL, and now I can't understand when and **why** I should use a JOIN rather than a FROM with multiple tables.

I think I am learning something new here, when in the below query the playground table has more than one row this gets duplicated as put in line with unrelated data from the first table.

    SELECT games.id, name, playground_id, value 
    FROM games, playground
    WHERE playground_id = 1;

But I am guessing the mechanics and I'd like to learn them instead.

&amp;#x200B;

**EDIT**

    SELECT * from playground;
    -----
    id	value
    1	something
    2	something 2
    
    
    
    SELECT * from games;
    ------
    id	name	playground_id
    1	game name	1
    
    
    -- this result is wrong
    SELECT games.id, name, playground_id, value
    FROM games,
         playground
    WHERE playground_id = 1;
    ----
    id	name	playground_id	value
    1	game name	1	something
    1	game name	1	something 2",learnSQL,Performance\Safety in using FROM on multiple tables vs JOIN?,1.0,https://www.reddit.com/r/learnSQL/comments/g6new1/performancesafety_in_using_from_on_multiple/
55,OxKing033,1587654984,g6oh42,14,1,"Hi everyone,

I have an SQL query's  purpose is to return items who are specifically aren't under a head location by a particular manufacturer. 

&amp;#x200B;

`select nvl(head_location.title, 'NO HEAD LOCATION'), manufacturer.name,` `item_details.full_name, item_details.description_number, item_details.discount_id`

`from Item item`

`inner join ITEM_DETAILS item_details on item.description_number = item_details.description_number`

`inner join LOCATION location on item.location_id = location.id`

`LEFT JOIN LOCATION head_location on location.head_location_id = head_location.id`

`INNER JOIN MANUFACTURER_PROFILE manufacturer_profile on item.item_id = manufacturer_profile.item_id`

`INNER JOIN MANUFACTURER_INFO manufacturer_info on manufacturer_profile.manufacturer_profile_id = manufacturer_info.manufacturer_profile_id`

`INNER JOIN MANUFACTURER manufacturer on manufacturer_info.manufacturer_id = manufacturer_id`

`where head_location.id is null`

 

I got back around 80 records but it takes 4 seconds

  
here is an example of three records, all columns here  are string:

&amp;#x200B;

TITLE|NAME|FULL\_NAME|DESCRIPTION\_NUMBER|DISCOUNT\_ID  
\------------------------------------------------------------------------------------------------------------------------------

NO HEAD LOCATION|Hasbro|Teddy Ruxpin|123456789| (null)

NO HEAD LOCATION|Playmates|Twister|987654321| (null)

NO HEAD LOCATION|Hasbro|Teddy Ruxpin|110033441| (null)

&amp;#x200B;

&amp;#x200B;

I noticed that if I only have these three columns in the select statement

`select nvl(head_location.title, 'NO HEAD LOCATION'), manufacturer_name, item_details.description_number`

&amp;#x200B;

The speed goes down  to 0.1 seconds for some reason

&amp;#x200B;

Was there potentially a way to speed up the performance but also having similar functionality to is null and also to keep the other two columns?

The only index there was MANUFACTURER while the rest i was unable to as its a database that's in production.",learnSQL,left joined query where is null slow performance,1.0,https://www.reddit.com/r/learnSQL/comments/g6oh42/left_joined_query_where_is_null_slow_performance/
56,De_Noir,1587717960,g74x16,2,1,"Dear all,

I have the following code:

    DECLARE @StartDate as datetime;
    DECLARE @EndDate as datetime;
    Set @StartDate = '2010/01/01 00:00:00.000'
    Set @EndDate = '2019/12/31 23:59:59.999'

Now how would I express another variable that should be '2018/12/31 23:59:59.999', or rather declared logically should be exactly one year less than EndDate?",learnSQL,"When declaring variables, how would I say ""1 year less""?",1.0,https://www.reddit.com/r/learnSQL/comments/g74x16/when_declaring_variables_how_would_i_say_1_year/
57,Manymanky,1587744789,g7b6hc,2,1, ,learnSQL,"Hello i Dont know if anyone can help me , but im having issue whit the variable line (1356) and (1362) the all point of the subquerrys is to do the of the line 1343 because if i just do it in the normal query there will be a group bys error",1.0,https://i.redd.it/hpis5fhwisu41.png
58,nanotzu,1587759661,g7fthy,5,1,"Can anyone please tell me whats wrong? I am working on an assignment using a healthcare database and my problem is the doctors name is appearing in the receptionist column when i initiate the query. I would like to return all the doctors names associated with the receptionist names.  In short, its duplicating the doctors lastname and firstname into the receptionist columns and it's not displaying any of the receptionist names.

SELECT

patients.lastname,

patients.firstname,

appointments.appointment\_date,

appointments.appointment\_reason,

employees.lastname AS 'doctorslastname',

employees.firstname AS 'doctorsfirstname',

doctors.medical\_specialty,

employees.lastname AS 'receptionistlastname',

employees.firstname AS 'receptionistfirstname'

FROM patients

INNER JOIN appointments ON patients.patient\_id = appointments.patient\_id

INNER JOIN doctors ON appointments.doctor\_id = doctors.employeeid

INNER JOIN receptionist ON appointments.receptionist\_id = receptionist.employeeid

INNER JOIN employees ON doctors.employeeid = employees.employeeid

INNER JOIN employees AS employee ON receptionist.employeeid = employee.employeeid;",learnSQL,Query Help,1.0,https://www.reddit.com/r/learnSQL/comments/g7fthy/query_help/
59,snip3r77,1587783605,g7m953,7,1,"    SELECT *
    FROM book_review br 
    RIGHT JOIN book b
    ON b.id = br.book_id
    WHERE br.review IS NULL;
    
    
    SELECT *
    FROM book b
    LEFT JOIN book_review br 
    ON b.id = br.book_id
    WHERE br.review IS NULL;

Just checking are they the same?",learnSQL,left and right join,1.0,https://www.reddit.com/r/learnSQL/comments/g7m953/left_and_right_join/
60,LandOnMyFeet,1587828179,g7v876,1,1,"What’s the best way to bring yourself back up to speed in SQL?

I did some SQL 15 years ago and want to get back into it.

I want to know just enough to get employed then work from there.

Any thoughts on job titles to search for?",learnSQL,Bringing self uptight speed,1.0,https://www.reddit.com/r/learnSQL/comments/g7v876/bringing_self_uptight_speed/
61,Hellr0x,1587833419,g7wqut,2,2,"Hello,

As a personal project, I want to build a personal library app and want to use a multiple relations database. Here is a link: [https://i.imgur.com/DMViB2b.jpg](https://i.imgur.com/DMViB2b.jpg)

I have minimum experience of properly designing databases (several small DB's for practice) and would greatly appreciate if you can give me some tips and feedback where and how to improve it",learnSQL,Help me design my first database,1.0,https://www.reddit.com/r/learnSQL/comments/g7wqut/help_me_design_my_first_database/
62,hapicapi,1587860447,g84j2j,2,1,"Hello - I am trying to create a stored procedure. I am very new to SQL. I tried looking for examples, but I can't figure out why this is not working:

CREATE PROCEDURE scheduledcrew  
@.date date  
AS BEGIN  
SELECT crew.crewnum, crewname, description  
FROM crew  
INNER JOIN schedule  
ON crew.crewnum = schedule.crewnum  
WHERE scheduled.workdate = @.date  
END  
/

I am guessing to call the procedure:

EXEC scheduledcrew @.date = '10-MAY-2020';

This would be procedure to pull everyone scheduled on any given date. Can anyone tell me if something looks incorrect that I am missing? Thank you for your help!",learnSQL,Stored Procedure Review...,1.0,https://www.reddit.com/r/learnSQL/comments/g84j2j/stored_procedure_review/
63,DrBjHardick,1587870921,g872vh,1,1, ,learnSQL,i am once again asking for your help,1.0,https://i.redd.it/mfsv2d7yx2v41.png
64,snip3r77,1587873593,g87oot,0,1,"Hi

Is there a way to use count\_1 and count\_ 2 for calculation at last line instead of copy and pasting? Thanks

    SELECT 
    DISTINCT(amount_worth),
    COUNT(id) OVER ( PARTITION BY  amount_worth) AS count_1,
    COUNT(id) OVER () AS count_2,
    &lt;here&gt; ROUND((CAST(COUNT(id) OVER ( PARTITION BY  amount_worth) AS numeric)/COUNT(id) OVER ())*100,0) as percentage
    FROM giftcard;",learnSQL,use of alias for calculation,1.0,https://www.reddit.com/r/learnSQL/comments/g87oot/use_of_alias_for_calculation/
65,Laurence-Lin,1587894964,g8brtp,2,1,"I'm new to database and SQL, I'm currently learning database and SQL to deal with big data. 

I used google cloud platform for start, and is taking the Coursera online course for data science. However, I'm afraid using cloud service as the start may restrict my understanding of database and SQL command. 

For example, I could just press a button and create a table automatically. I'm afraid this might be too convenient, that I may lack some knowledge about SQL.

I would like to ask, how does everyone manage with there database and querying? Does everyone use cloud service like gcp or IBM cloud, or create database on PC?

&amp;#x200B;

Thanks for any advice!",learnSQL,"As a data scientist, what is the most frequent way to manage database?",1.0,https://www.reddit.com/r/learnSQL/comments/g8brtp/as_a_data_scientist_what_is_the_most_frequent_way/
66,mpk3,1587929450,g8kqrq,3,1,I am building a database of tweets where I have thousands of tweets and I was hoping to have a table in the database that essentially will be a bunch of summary statistics of certain users. I remember when I first learned SQL there was a way to do this but I am drawing a blank. Suggestions on what I should be looking for ?,learnSQL,Dynamic Table Question,1.0,https://www.reddit.com/r/learnSQL/comments/g8kqrq/dynamic_table_question/
67,smohajer,1587937998,g8nbyx,2,1, ,learnSQL,My pick for top 48 advanced database system interview questions,1.0,https://medium.com/@smohajer85/my-pick-for-top-48-advanced-database-system-interview-questions-deb7b30968ca
68,carlcarlsonscars,1588024467,g9actm,0,1,"Hello r/learnSQL!

I hope you are doing good!  I had a quick question about how to create a schema for a project I am working on.  I am a relatively new developer and am working on the quintessential ""To-do"" app.  I'm going to get a bit ambitious and add a bit more to it and make it a Personal Project Management App that I can use in personal life and also professional life.

It may help to describe how I envision my app.  Basically you start off with your Goal and then you create Milestones, Tasks, and Sub-tasks.  Within tasks and subtasks you can attach resources to them.  Resources like articles, links, videos, photos, text files any thing really that is a resource that can help you to complete your tasks.  These tasks and subtasks should be searchable on their own in case you have a future project that as the same task.  You could just copy it over to the new project; and it also brings along the resources.

Lastly there is a journal that you can use that you just jot notes, thoughts, ideas etc that is related to your project.  You can view this journal as a whole singular journal or by per project.

Now implementing this in MongoDB seems simpler to me as I can wrap my brain around the idea of not having a rigid structure and adding tasks and nested subtasks to my hearts delight.  Having resources (objects) linked to them seems it may be easier with a NoSQL DB.  But I would like to learn more about SQL as it is an industry standard.  So how would I accomplish something like this using SQL?

I keep thinking that I have to limit the amount of tasks and sub-tasks, but if I don't use them all in a project then there are lots of empty null fields that would seem to be a waste or I have to limit myself to how large I can go with tasks.  How would I store the objects too for the resource part?  I guess my bottom-line question is how to I make my database flexible to have, say a project with 5 tasks and also a project that grows to like 50 tasks with out wasting space?  I am not sure if that makes sense but I hope you all can point me in the correct direction to wrap my thinking around this.

Thank you in advance!",learnSQL,How would I create this schema? (deets inside),1.0,https://www.reddit.com/r/learnSQL/comments/g9actm/how_would_i_create_this_schema_deets_inside/
69,usermanetakenagaim,1588028665,g9bky7,13,3,I just started working as business analyst. Any free website that has challenges on writing sql quires. I know of leetcode.com and codechef.com any other website that anyone can recommend?,learnSQL,Free website to learn sql,1.0,https://www.reddit.com/r/learnSQL/comments/g9bky7/free_website_to_learn_sql/
70,BotR13,1588039947,g9elcb,0,1,"So I am working on extracting data from my database using queries but I am having trouble. In many cases I need to reference data within a cell of a table to be used to search. How do I do that without preemptively knowing the data?  

So for example I need to get all the employees first and last name and the first and last name of their supervisor. In my database each employee has a SSN and a supervisor SSN. How can I extract the supervisors SSN in each case to then search for each individuals supervisors and then union the results to search for each one?

I am sure this is super simple but Google is not being very helpful.",learnSQL,Noob question about extracting data Oracle APEX,1.0,https://www.reddit.com/r/learnSQL/comments/g9elcb/noob_question_about_extracting_data_oracle_apex/
71,scaled2good,1588044338,g9foki,6,1,"I'm starting to work at a new company as an intern next week and I need to know SQL, I have very basic knowledge of queries and SQL so I started watching this youtube tutorial and it seems very good. 

The issue is Idk if its good for me to know this much SQL (the amount learnt in the tutorial) or is this too simple? This is the video: [https://www.youtube.com/watch?v=7S\_tz1z\_5bA](https://www.youtube.com/watch?v=7S_tz1z_5bA)

Can someone please tell me if I need to do something harder to be prepared for my internship or is this sufficient for pre-work preparation?",learnSQL,Learning SQL ?,1.0,https://www.reddit.com/r/learnSQL/comments/g9foki/learning_sql/
72,AdigeWottah,1588065569,g9k0s4,0,1,"Hi, the goal is to increase the balance of the cash register by the total price everytime a new sale is made.

    CREATE OR REPLACE TRIGGER sold_trigger
        AFTER 
        INSERT
        ON sale
        FOR EACH ROW
    BEGIN
        UPDATE cash_register
        SET balance = balance + (SELECT total_price from INSERTED)
        WHERE id = (SELECT cash_register_id from INSERTED)
    END;

I get the error message ""Error(5,4): PLS-00103: Encountered the symbol ""end-of-file"" when expecting one of the following:     ( begin case declare end exception exit for goto if loop mod    null pragma raise return select update while with    &lt;an identifier&gt; &lt;a double-quoted delimited-identifier&gt;    &lt;a bind variable&gt; &lt;&lt; continue close current delete fetch lock    insert open rollback savepoint set sql execute commit forall    merge pipe purge json_exists json_value json_query    json_object json_array """,learnSQL,"Trying to create a simple trigger, error message not terribly helpful",1.0,https://www.reddit.com/r/learnSQL/comments/g9k0s4/trying_to_create_a_simple_trigger_error_message/
73,ntr12345,1588126560,ga0wsg,3,1,"Hello and thank you for reading my post. I am practicing my newly learned skill and have run into a problem that I can;'t seem to find the answer to online. 

My goal is to organize my bank data for the year 2019 to have 12 rows for each month with four columns; month, total\_income, total\_spent, total remaining.  

I tried calling DISTINCT on the TO\_CHAR function in my select statement this didn't seem to change anything or did  it and I am just to new to notice? Thanks in advance!",learnSQL,Troubles with SUM - I think or maybe a sub query is needed?,1.0,https://www.reddit.com/r/learnSQL/comments/ga0wsg/troubles_with_sum_i_think_or_maybe_a_sub_query_is/
74,Optimesh,1588155847,ga6xy2,6,1,"It would be great to have a local environment where I could upload dummy data from CSVs and run queries against that. How should I go about it though?

Appreciate your insights :)",learnSQL,How can I set up a local environment on my mac to practice SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/ga6xy2/how_can_i_set_up_a_local_environment_on_my_mac_to/
75,ntr12345,1588201569,gajyjy,8,1,"Hi there again, I would like to change the condition of the total\_spent column so it pull data greater than 0 -- \[amount\_closed &lt; 0\] -- I feel stumped on how to go about this. Anyone have a suggestion?   

&amp;#x200B;

https://preview.redd.it/97o1vs3d8uv41.png?width=1151&amp;format=png&amp;auto=webp&amp;s=b44ad6e329a7689b691b2fa91dc92aeb3ebcaec3

Kind regards",learnSQL,How to change the condition on the second column,1.0,https://www.reddit.com/r/learnSQL/comments/gajyjy/how_to_change_the_condition_on_the_second_column/
76,thumbsdrivesmecrazy,1588224664,gapr5s,0,1,"This tutorial walks through entire process of MySQL replication into Panoply data warehouse (based on AWS Redshift) to visualize that data in Tableau: [MySQL Replication For Analytics And Visualization: A Panoply Tutorial](https://blog.panoply.io/mysql-replication-for-analytics-and-visualization)

* Creating a Panoply data warehouse account, creating an online MySQL database
* Creating a MySQL table and filling it with dummy data
* Installing and using a local IDE for using MySQL
* Configuring the JDBC drivers for MySQL and Redshift
* Connecting MySQL to Panoply
* Create your first job to load data from MySQL to Panoply
* Querying data in the Redshift from the Panoply workbench and from the Local workbench
* Connect Panoply Redshift to Tableau and create basic dashboard
* Check the data on the source and on Redshift and on Tableau.",learnSQL,MySQL Replication For Analytics And Visualization - Tutorial,1.0,https://www.reddit.com/r/learnSQL/comments/gapr5s/mysql_replication_for_analytics_and_visualization/
77,snip3r77,1588272389,gb1mvm,4,1,"Abit confused which table to use as per `highlight`   


Select 1st or 2nd table? Can anyone explain? Thanks

&amp;#x200B;

https://preview.redd.it/ii9b2lrm30w41.png?width=1754&amp;format=png&amp;auto=webp&amp;s=43f1e297a538e856bf937c19e335f63305008b67",learnSQL,self joins,1.0,https://www.reddit.com/r/learnSQL/comments/gb1mvm/self_joins/
78,smashingdumplings,1588286077,gb5xw2,1,1,"For part of my project I wanted to interview someone who has experience with selecting SQL or NoSQL for their project and what made them chose one over the other. I've done research and see plenty of articles about scaling in NoSQL vs SQL but I think it would add a lot to my final project if I could talk to a few people and understand what hurdles they were trying to overcome and why they decided what they did.  


I'd really appreciate it! even if its a few sentences on why.  


  
Thanks!",learnSQL,Need real life examples of why to chose SQL over NoSQL and vice versa,1.0,https://www.reddit.com/r/learnSQL/comments/gb5xw2/need_real_life_examples_of_why_to_chose_sql_over/
79,ntr12345,1588300164,gb9trd,9,1,"I am trying to add a column that calculates the difference between sum\_positive and sum\_negative. 

&amp;#x200B;

&amp;#x200B;

SELECT TO\_CHAR(date\_of\_transaction,'MONTH') AS the\_month

	, SUM(CASE WHEN amount\_charged &gt; 0 

THEN amount\_charged

ELSE 0 END)  				AS sum\_postitive

	, SUM(CASE WHEN amount\_charged &lt; 0

THEN amount\_charged

ELSE 0 END)				AS sum\_negative

	, SUM(CASE WHEN amount\_charged &lt; 0

THEN amount\_charged &gt; 0 - amount\_charged &lt; 0

ELSE  0 END) 

	FROM budget\_2019

WHERE date\_of\_transaction &lt; '01-01-2020'

GROUP BY the\_month",learnSQL,"ERROR: syntax error at or near ""&lt;"" LINE 9: THEN amount_charged &gt; 0 - amount_charged &lt; 0 ^ SQL state: 42601 Character: 334",1.0,https://www.reddit.com/r/learnSQL/comments/gb9trd/error_syntax_error_at_or_near_line_9_then_amount/
80,puzzle-game,1588307108,gbbi3u,0,1,"I'm going through [this tutorial](https://www.postgresqltutorial.com/postgresql-self-join/) and ran the query as instructed there

    SELECT
        e.first_name || ' ' || e.last_name employee,
        m .first_name || ' ' || m .last_name manager
    FROM
        employee e
    LEFT JOIN employee m ON m .employee_id = e.manager_id
    ORDER BY
        manager;

but my output is not what they're showing it should be. For some reason [I'm getting](https://imgur.com/m5r0zHR)

    ""Anna Reeves""	""Anna Reeves""
    ""Ava Christensen""""Ava Christensen""
    ""Hassan Conner""	""Hassan Conner""
    ""Kelsie Hays""	""Kelsie Hays""
    ""Salley Lester""	""Salley Lester""
    ""Sau Norman""	""Sau Norman""
    ""Tory Goff""	""Tory Goff""
    ""Windy Hays""	""Windy Hays""

I think this tutorial is kinda old and I'm wondering if of the info is out of date? Can someone please tell me if that's the case or what I'm missing? Thank you.",learnSQL,Self Join not working as expected,1.0,https://www.reddit.com/r/learnSQL/comments/gbbi3u/self_join_not_working_as_expected/
81,kingzamzon,1588319540,gbdyvb,7,1,"How can I improve my SQL skills.
I am currently working on an accounting app and I need to get result for cash flow, balance sheet 
I want to take my SQL skull from beginner to expert",learnSQL,Need Help: SQL for accounting,1.0,https://www.reddit.com/r/learnSQL/comments/gbdyvb/need_help_sql_for_accounting/
82,TLofti,1588346216,gbjz7u,5,1,"Hello, total newbie here, I am primary  software support, and one of the softwares that I support uses a large sql database and they have a few custom queries (or reports)  that I have to manually run at the first of the month.   I want to automate this so that I don't have to manually run the report each month.  Currently I have to go in and adjust the month for the query to run.  So each month I have to adjust the day and month to the current date.  

the current code is this....

where PA\_Date&gt;='2020-03-01' and PA\_Date&lt;'2020-04-01'    

So if I understand this, PA\_date is the collum we are pulling the dates from , and we are pulling data that is greater then or equal to March 1st 2020, to April 1st 2020.  

I need to find code that will get the current date and then generate the last months( and only last months data.  

I have found this code but since I am running it on the 1st it is not pulling the first day of the month, it pulls from 2020-03-02 to 2020-04-01.  

where PA\_Date between DATEADD(MONTH, -1, GETDATE()) AND GETDATE() --restricting date range down to the past 1 months",learnSQL,"sql query to get to get last months data, so I can automate the report",1.0,https://www.reddit.com/r/learnSQL/comments/gbjz7u/sql_query_to_get_to_get_last_months_data_so_i_can/
83,snip3r77,1588386500,gbyc79,0,1,"*Question : For the third most expensive procedure ever, show the following information: doctor\_id, name, procedure\_date and price.*

So do I get the 3rd most expensive procedure and list all of then or ?

The Hint is I use rank at inner and filter rank at outer. Thanks

https://preview.redd.it/ko997h8ni9w41.png?width=897&amp;format=png&amp;auto=webp&amp;s=002dc1f52b001e79ad357827581c35d2cc5168ba

dbases

there about 7 procedure

https://preview.redd.it/qm2mw7c6i9w41.png?width=922&amp;format=png&amp;auto=webp&amp;s=e7474f0a2bd0231e84bda1d33b3f8d8b4b2b6669

&amp;#x200B;

https://preview.redd.it/k8yurt28i9w41.png?width=895&amp;format=png&amp;auto=webp&amp;s=93c2be846b39ed763f44563532370061ea28631e",learnSQL,window + CTE,1.0,https://www.reddit.com/r/learnSQL/comments/gbyc79/window_cte/
84,snip3r77,1588393571,gc0bos,7,1,"I managed to solve this but I have some questions.

If one is doing ROW or RANGE, there is no need to use PARTITION BY and you just need to ORDER BY?

Also, sometime when you do WINDOW you can also GROUP BY at the end but it's not so intuitive, hence I will use CTE but I think the GROUP BY might be more convenient, can you guys help to explain?

Thanks.

https://preview.redd.it/v7431pds3aw41.png?width=1430&amp;format=png&amp;auto=webp&amp;s=95a0d30cf22bdb4823a15b7782cb851bd1a77ea1",learnSQL,"window, order by",1.0,https://www.reddit.com/r/learnSQL/comments/gc0bos/window_order_by/
85,Gilby221,1588447639,gcc9ku,0,1,"Hi everyone, I'm just starting to learn sql as well as python and hopefully integrate both of them during a project sooner rather than later. But, first I'm learning how to copy a table that I've created into a directory. I'm rather new to Mac in general and I don't know what that means. For now I want to just learn how to save it onto my desktop if that's possible. I don't know the correct syntax or correct way of thinking on how to accomplish this. Any help would be appreciated.

below is the code I created

    create table char_data_types (
    	varchar_column varchar(10),
    	char_column char(10),
    	text_column text
    );
    
    insert into char_data_types
    values
    	('abc','abc','abc'),
    	('defghi','defghi','defghi');
    copy char_data_types to '( Directory pathway goes here')\typetest.txt'
    With (format csv, header, Delimiter '|');",learnSQL,Copying to a directory,1.0,https://www.reddit.com/r/learnSQL/comments/gcc9ku/copying_to_a_directory/
86,Kucieris,1588539832,gcy7dd,3,1,"Does this look right?
Bcs whenever I add .ht($video['video']). the video wont play anymore. Playback error from yt.
But when i dont add .ht($video['video']). everything is okey...
Im new in this btw :)
Thx for ur help.


IF($video['videosource'] == ""youtube"") echo '&lt;iframe width=""400"" height=""250""  style=""border:1px solid grey"" src=""http://www.youtube.com/embed/'.ht($video['video']).' frameborder=""0"" allow=""accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"" allowfullscreen&gt;&lt;/iframe&gt;';",learnSQL,Need help with SQL?!,1.0,https://www.reddit.com/r/learnSQL/comments/gcy7dd/need_help_with_sql/
0,De_Noir,1583338914,fdfdxj,0,1,"I currently have the following table:

name

name",learnSQL,How to sum the number of all duplicate values in a column,1.0,https://www.reddit.com/r/learnSQL/comments/fdfdxj/how_to_sum_the_number_of_all_duplicate_values_in/
1,Shilpa_Opencodez,1583402493,fdt3y8,0,1, ,learnSQL,SQL From Beginning : Tutorial#11 – Views,1.0,https://www.opencodez.com/software-testing/sql-for-qa-tutorial11-views.htm
2,De_Noir,1583409770,fdu915,15,1,"**Example 1:**

    Select Column1 from Table1 Where Count(Column1)&gt;0

**Example 2:**

    Select Column1 - Column2 from Table1 Where Count(???)&gt;0

What is the ??? to exclude all results that are less than 1.",learnSQL,How do you reference a column that is the result of a mathematical operation,1.0,https://www.reddit.com/r/learnSQL/comments/fdu915/how_do_you_reference_a_column_that_is_the_result/
3,pjdonovan,1583438776,fe14u5,0,1,"I have an idea that would help my research and potentially help others too.  I'd like to take deeds, the names associated with them, and the legal description as best as possible.  The legal descriptions are basically boxes, fwiw. 

I'd like to use google earth to put those deeds on a map, preferably with some time reference (month/year situation)  


Is this the kind of thing that I could use sql for?",learnSQL,Can I use sql to map out deeds on google earth?,1.0,https://www.reddit.com/r/learnSQL/comments/fe14u5/can_i_use_sql_to_map_out_deeds_on_google_earth/
4,CoqeCas3,1583456100,fe5ezy,1,1,"K, so I'm building a personal finance app.. just because.. would like opinions from pro database managers:

A quick break-down of the basic idea behind my tables:

    CREATE TABLE Accounts (
        _id INT(11) NOT NULL UNSIGNED AUTO_INCREMENT,
        description VARCHAR(128) NOT NULL,
        balance DECIMAL(7,2) NOT NULL,
        type ENUM('cash', 'checkings', 'savings', 'credit', 'loan'),
        PRIMARY KEY(_id)
    );
    
    CREATE TABLE Entities (
        _id INT(11) NOT NULL UNSIGNED AUTO_INCREMENT,
        description VARCHAR(128),
        PRIMARY KEY(_id)
    )

Where accounts refer to your money, entities refer to, you know, McDonald's, one's job, Mobil gas station, etc. -- just whoever you pay or pays you.

    CREATE TABLE Transactions (
        _id INT(11) NOT NULL UNSIGNED AUTO_INCREMENT,
        type BIT(1) NOT NULL, // 0 = debit(expense), 1 = credit(income)
        account_id INT(11),
        entity_id INT(11),
        amount DECIMAL(7,2) NOT NULL,
        date DATE,
        PRIMARY KEY(_id),
        FOREIGN KEY(account_id) REFERENCES Accounts(_id),
        FOREIGN KEY(entity_id) REFERENCES Entities(_id)
    )

The foreign keys on this table are the problem. With this setup transactions can't explicitly occur account to account, i.e. like balance transfers.

I've deduced two possible solutions, and my question is which do you think is better:

So an inter-account transaction, in reality, is a debit transaction from one account and a simultaneous credit transaction to another right? So just have two transaction rows then with a dummy entry that refers to the account that is it's 'entity'.

But, to indicate that these two entries are *linked*, **is it better to add a column to the Transactions table -- call it \`linked\_id\` or something...?**

OR

**Have a separate table -- call it \`InterAccount\_Transactions\` -- with a \`link\_id\` and a \`transaction\_id\` for a M2M relationship?**

The thing I don't like about the former is that in my mind, it's like, maybe 10% of the transactions the are going to be linked -- i.e. like, 9/10 transaction entries are going to have a \`NULL\` value in that column.

I feel like that's wasted space, no? I personally feel it's better to have every column *mean* something for *every* entry, as much as possible anyway.. isn't that the whole idea behind normalization?

The problem with the latter? The queries are a *helluva* lot more complicated... Manageable, in this instance, but complicated...

What are the commune's thoughts?",learnSQL,Extra column or separate table?,1.0,https://www.reddit.com/r/learnSQL/comments/fe5ezy/extra_column_or_separate_table/
5,Tang5424,1583537255,fembba,28,1, ,learnSQL,Stuck on Homework (On the brink of tears),1.0,https://i.redd.it/k5p8xqrhz4l41.png
6,stratious,1583597012,fex2mb,8,1,"Hello. I took a DBMS class a year ago as an elective and while it was a great intro to DBMS and SQL, I obviously couldn't learn all there was to know about SQL. I was wondering what online resources you would recommend to someone looking to continue learning about SQL and its applications?",learnSQL,Resources to Strengthen SQL skills?,1.0,https://www.reddit.com/r/learnSQL/comments/fex2mb/resources_to_strengthen_sql_skills/
7,klivessss,1583604632,feywqn,3,1,"Im super new to SQL database programming, and was wondering if anyone here can help me figure out why it outputs "" Cannot perform alter on 'tblLogin' because it is an incompatible object type. "" on query. Sorry if this is the wrong sub

`AlTER PROC tblLogin`  
`Email varchar(50),`  
`Username varchar(50),`  
`Password varchar(50)`  
`AS`  
 `INSERT INTO tblUser(Email, Username, Password)`  
 `VALUES (@Email,@Username,@Password)`",learnSQL,Help: Cannot perform alter on 'tblLogin' because it is an incompatible object type.,1.0,https://www.reddit.com/r/learnSQL/comments/feywqn/help_cannot_perform_alter_on_tbllogin_because_it/
8,ludgatezzie,1583690901,ffgd1l,5,1, ,learnSQL,Are there any good online courses for people who doesnt have any background in SQL but want to start learning? TIA,1.0,https://www.reddit.com/r/learnSQL/comments/ffgd1l/are_there_any_good_online_courses_for_people_who/
9,djboutiangunk,1583708631,ffkx1d,7,1,"I want to practice my SQL skills on some datasets, However, I don’t actually want to download an entire dataset on to my computer. Are there any servers, I can connect to, and then use the sample databases within those to practice? I have looked online, and I am only seeing options to actually download the datasets, and schema code...

Thanks!",learnSQL,Finding databases to practice SQL with...,1.0,https://www.reddit.com/r/learnSQL/comments/ffkx1d/finding_databases_to_practice_sql_with/
10,DecentFortune,1583767144,ffw7px,2,1,"Is it possible to output COUNT of all Records, while performing a GROUP BY at the same time? 

I'm thinking of doing so, as I will need the maximum of a Group",learnSQL,"Selecting COUNT of all records, combined with a GROUP BY",1.0,https://www.reddit.com/r/learnSQL/comments/ffw7px/selecting_count_of_all_records_combined_with_a/
11,coreygriffin,1583788385,fg1zfj,5,1,"Hello!

As the title says. I'm using MySQL and running a basic query to pull a roster of employees with relevant data such as location, job title, etc. The query logic is simple, and looks something like this:

SELECT  
emp.name,

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

There isn't any sort of update, creation, or any other relevant date to use here to track when this data was last updated.

I thought it would be possible to add in that column in the output, but I run into errors. I know that SQL is going to try to find that column in the table and of course it doesn't exist, but every effort I've tried to \*add\* that in the output returns an error. Is this possible?

If I simply input `SELECT DATE_FORMAT(NOW(), '%Y-%m-%d') AS datestr;` I will get the today's date as a string, but combining this with the rest of the query, returns an error. I thought maybe if I had my original query in a separate CTE and added in the NOW function it's own CTE would solve the problem, but it seems like that's a no-go as well.",learnSQL,Adding Today's Date as a string to query output,1.0,https://www.reddit.com/r/learnSQL/comments/fg1zfj/adding_todays_date_as_a_string_to_query_output/
12,rafmon5616,1583802952,fg5p5k,2,1,"Hi there!

 I am new to SQL and was recommended by a friend to use reddit for help! I have been given the task of making SQL statements from these questions. Any help is appreciated! 

https://preview.redd.it/2b3eh2kjxql41.jpg?width=1064&amp;format=pjpg&amp;auto=webp&amp;s=ab300060bae9aec180f524d36cd4fc61145c8e29",learnSQL,SQL Statements- Visual Studio,1.0,https://www.reddit.com/r/learnSQL/comments/fg5p5k/sql_statements_visual_studio/
13,Tid_23,1583876243,fgll4z,4,1,"I've been spinning my wheels for hours on this and can't come up with a solution.  Any help would be appreciated.

I have two tables, Issue and Parent.  

Issue - IssueID is the PK, Multiple IssueID's can have the same parent.

|IssueID|Parent|
|:-|:-|
|541946|2516|
|541946|2517|
|541946|3436|
|541946|3969|
|558403|2517|
|558403|3433|
|574122|2517|
|574122|3436|

Parent - ParentID is PK, Name and Value are not necessarily unique

|ParentID|Name|Value|
|:-|:-|:-|
|2516|Denali|3063047680|
|2517|Logan|4890465880|
|3436|Elias|9717135248|
|3969|Steele|NULL|
|3433|Blackburn|6694911005|

&amp;#x200B;

What I need is to find, for each IssueID, the ParentID that corresponds to the MAX(Value) of all ParentID's associated with that IssueID.

Expected Results:

|IssueID|ParentID|Value|
|:-|:-|:-|
|541946|3436|9717135248|
|558403|3433|6694911005|
|574122|3436|9717135248|

&amp;#x200B;

I've tried subqueries, partition by, etc.  I feel like this should be simpler than I'm making it out to be but I can't come up with a solution that works.  Everything I try results in the IssueID/ParentID level of detail as if I weren't trying to aggregate the results at all. 

Any help would be appreciated!",learnSQL,Help with Query,1.0,https://www.reddit.com/r/learnSQL/comments/fgll4z/help_with_query/
14,Ms7070,1583928564,fgw4fk,8,1,"I’m poking around in my corporate database and I see tables with names like “a11.product” or “a15.fiscal_week”.  This doesn’t seem very readable (especially as I found an instance where the “a##” portion of a table changed. 

Is this a best practice or part of modelling principles? Or how do I interpret what this means?

Thanks!",learnSQL,Why are tables named like this?,1.0,https://www.reddit.com/r/learnSQL/comments/fgw4fk/why_are_tables_named_like_this/
15,BrainTheory,1583974463,fh7uyz,3,1,"Here is my query that works for mySQL 8.0:

    WITH cte AS ( 
        SELECT t.*, ROW_NUMBER() OVER (ORDER BY p.timestamp ASC) AS rownum
        FROM timecard t 
        LEFT JOIN punch p ON t.punchIn = p.uuid
        WHERE p.archived IS NULL
    ), current1 (
        SELECT rownum
        FROM cte
        WHERE cte.uuid = :timeCardUuid
    )
    SELECT cte.*
    FROM cte, current1
    WHERE ABS(cte.rownum - current1.rownum) &lt;= 1
    ORDER BY cte.rownum;

I understand that the WITH clause and the ROW\_NUMBER function is not supported in version 5.6 so I need workarounds for those.

I heave read about sub-queries and VIEW tables.  I thought the easiest way to do it was through sub-queries but I am not well versed enough in SQL because I have been spoiled by Doctrine ORM (PHP). I did not want to create a view because i have not found information that says my ORM supports querying it. I was trying to store the results of the queries in the WITH in variables but I just cant figure it out.

And no I cant just update mySQL. My hosting provider is garbage and I cant switch just yet.",learnSQL,I wrote a query for mySQL 8.0 but NEED it to work on the 5.6 version.,1.0,https://www.reddit.com/r/learnSQL/comments/fh7uyz/i_wrote_a_query_for_mysql_80_but_need_it_to_work/
16,Lennon_McMange,1584013542,fhf1u8,2,1,"Hello, I am very new to SQL so this may be an easy question for everyone else but I am trying to make an SQL statment that will find the person that has worked at a business the longest (the date they joined and the date they left are the only fields regarding this) then show their employeeid and name.

The employeeid and employeename is in a employee table and the dates are in job table.

If this isnt enough information please let me know and I will be willing to sent images of tables or anything needed.

Thanks in advanced.",learnSQL,Help please,1.0,https://www.reddit.com/r/learnSQL/comments/fhf1u8/help_please/
17,14f61a0255,1584015585,fhfg64,0,1, ,learnSQL,By using stored procedure how to get the output could please help me,1.0,https://i.redd.it/0q2c9qe2i8m41.jpg
18,mkwlsk,1584022833,fhh1vv,6,1,"Hi,

Let's say I have two tables in:

`Person (id, name)`  
`Data (id, type, value, person_id)`

Assuming there are 2 types of Data what's the best way to select data, so that i have results like this (numbers are count of value of type):

&amp;#x200B;

|Person.name|Type1|Type2|
|:-|:-|:-|
|Person1|123|456|
|Person2|789|654|

DMBS is MS SQL Server.",learnSQL,Beginner's question,1.0,https://www.reddit.com/r/learnSQL/comments/fhh1vv/beginners_question/
19,victcdva,1584032224,fhjiax,0,1,[removed],learnSQL,Get users total from users table,1.0,https://www.reddit.com/r/learnSQL/comments/fhjiax/get_users_total_from_users_table/
20,LentilMilkshake,1584138635,fi862m,4,1,"Hello, I am having trouble with a query.

I have a table of Members, and different member belong to a different club.

I'd like to take the aggregate COUNT of one kind of member, and display it next to the aggregate COUNT of another member in one row.

So far I have the following,

**SELECT** COUNT(C1.club), COUNT(C2.club)  
**FROM** (**SELECT** club **FROM** Member **WHERE** club = 'Type1') C1, (**SELECT** Club **FROM** Member **WHERE** club = 'Type2')  C2; 

But my result gives me two huge numbers that are identical instead of the correct count. I was hoping for some guidance",learnSQL,Querying and combining two tables,1.0,https://www.reddit.com/r/learnSQL/comments/fi862m/querying_and_combining_two_tables/
21,mkrasienko,1584213389,finrsy,2,1,"Hello everybody,

Have any of you taken/passed the 1Z0-071 certification? What resources did you use to study or practice? I will be using Steve O'Hearn's  OCA Oracle Database SQL Exam Guide and the recommended in it Total Tester practice questions. 

I'm also considering Kalhed Alkhudari's course on udemy, but not sure if it's worth it. 

I use sql everyday at work but nothing very advanced, simple joins and some updates and so on. However I heard that the exam doesn't reflect everyday use but is designed to, so to speak trick you, hence my concern about preparing for it.   

Any advice for taking the exam?",learnSQL,"Resources, advice and any tips or tricks for the Oracle 1Z0-071 certification?",1.0,https://www.reddit.com/r/learnSQL/comments/finrsy/resources_advice_and_any_tips_or_tricks_for_the/
22,wubry,1584248431,fiw8a1,0,1,"Hi,

I currently built a web scrape that stores data in an object that contains a creates an object that contains a location (string), date (int), and dataframe (3 columns with varying rows depending on the URL scraped).

How can I store my object into an efficient table structure for my database? My biggest question is is there a way for a unique combination of location and date to refer to a table?

For example, LA | 3/15 | (dataframe)",learnSQL,Setting up the right table structure,1.0,https://www.reddit.com/r/learnSQL/comments/fiw8a1/setting_up_the_right_table_structure/
23,Shilpa_Opencodez,1584337748,fjg0p8,0,1, ,learnSQL,SQL From Beginning: Tutorial#12 - Stored Procedure,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial11-stored-procedure.htm
24,Polvss,1584371563,fjmhew,2,1,"Hi, im new to SQL

I made a table, but i want one of the rows to only accept three values.

The row is called Tipo\_via and the values i want it to accept are 'Calle' 'Plaza' and 'Avenida'

This was my unsuccesful attempt:

Tipo\_via varchar(50) check(Tipo\_via = 'Calle' or 'Plaza' or 'Avenida')",learnSQL,Create a row that only allowes three values.,1.0,https://www.reddit.com/r/learnSQL/comments/fjmhew/create_a_row_that_only_allowes_three_values/
25,LentilMilkshake,1584375149,fjnfzd,2,1,"I have a table with three columns, let's call it movies.

Movies(city, genre, #screenings) where each city has a number of screenings of some genre of movie.

I want to write a query that **finds for each city the genre with the highest number of screenings,** and duplicates if there is a tie, listing (movie, genre, #screenings)

So far I have.

\--------------------------------------------------------

**SELECT** city, genre, **MAX**(#screenings)

**FROM** Movies

**GROUP** BY city, genre

\-------------------------------------------------------

But this just returns the original table. 

Note: I'm using DB2",learnSQL,"Beginner aggregate question: finding a tuple with maximum value in one column, total three columns",1.0,https://www.reddit.com/r/learnSQL/comments/fjnfzd/beginner_aggregate_question_finding_a_tuple_with/
26,JanBaskTraining,1584452241,fk5ds5,4,1,Learning comes at different paces to different people. It is usually marked by interest and reason.  [Read More](https://medium.com/@satya.prakash/how-much-time-is-needed-to-learn-sql-a6f9098064af),learnSQL,How Much Time is Needed to Learn SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/fk5ds5/how_much_time_is_needed_to_learn_sql/
27,LentilMilkshake,1584474884,fkbume,0,1,"I'm struggling with how to implement the following query. I was hoping for some guidance on a strategy or keywords/tools I can use to write the query.

Say I have a table of **VHS Tape orders**, of the following form

\------------------------------------------------------------------

**VHS\_Orders**(VHS\_Weight, VHS\_Price)

And a corresponding **Shipping price** table,

**Shipping**(Shipping\_weight, Shipping\_price)

\------------------------------------------------------------------

For each tuple in **orders**, I want to add the price of **shipping** from the **shipping table** such that if the weight of the VHS order is higher or equal to a **weight component** in the **shipping table,** that price should be added.

So I would want to produce a new relation NewOrders(VHS\_weight, VHS\_Price + Shipping\_price)

For example, if I had a VHS order with weight 6200, I would add $11.00 dollars to the price of that order for shipping.

I tried a conjunctive WHERE clause where I checked in a range of **VHS\_weight** and **VHS\_weight** \- 500, but the range of shipping weights isn't exactly uniform.  Also I was wondering if I could get some guidance on how to handle the case where shipping is free (under 750 weight) basically adding 0.

Basically I had something like this

SELECT V.weight, V.price + S.cost

FROM **VHS\_order as V,** **Shipping as S**

WHERE V.weight &gt;= **S**.weight

AND V.weight - 500 &lt; **S**.weight

\------------------------------------------------------------------

The values in **shipping** respectively have

(7000, 13.50),

(6500, 12.00),

(6000, 11.00),

(5500,  10.00),

(5000,  9.00),

(4500,  8.50),

(4000,  6.50),

(3500,  5.00),

(3010,  4.75),

(1500,  4.00),

(1000,  3.00),

(750,  2.00)

\---------------------------------------------------------------------------------------------------------------------------

NOTE: Im using DB2

Sorry this post is a big mess lol",learnSQL,Adding appropriate value component from one table to another table,1.0,https://www.reddit.com/r/learnSQL/comments/fkbume/adding_appropriate_value_component_from_one_table/
28,deniz_sen,1584482979,fke5qu,4,1,"Hey folks, Id like to return the most successful or in other words the most commonly occurring genre for each year in the Oscar nominations.

The Oscar table looks as followed:

    o_id        year        genre       a_id      
    ----------  ----------  ----------  ----------
    1           2016        Action      1001      
    2           2016        Action      1002      
    3           2016        Romance     1015      
    4           2017        Action      1014      
    5           2017        Romance     1006      
    6           2017        Romance     1003      
    7           2018        Fantasy     1011      
    8           2019        Fantasy     111       
    9           2019        Action      1009      
    10          2019        Fantasy     1001      
    11          2020        Action      1015      
    12          2020        Romance     1005      
    13          2020        Fantasy     1001      
    14          2020        Action      1014      
    15          2020        Action      1009  

I have  manage to do something as shown below, but the query I use leaves out a portion of information (e.g. the count for every genre is not listed for each year). The genre romance wins the Oscar once in 2016 but only the two occurrences of Action are listed in 2016. 

Ideally, I would like to return the count of all genres per year. So far I am only able to obtain one specific genre per year and its count in that year.

    select  year, genre, count(distinct genre) from Oscar group by year;
    year        genre       count(distinct genre)
    ----------  ----------  ---------------------
    2016        Action      2                    
    2017        Action      2                    
    2018        Fantasy     1                    
    2019        Fantasy     2                    
    2020        Action      3",learnSQL,How to return most commonly occurring category ?,1.0,https://www.reddit.com/r/learnSQL/comments/fke5qu/how_to_return_most_commonly_occurring_category/
29,SaltAssault,1584542884,fkqnui,8,1," I have a task where I'm supposed to do something like this:

    SELECT A.x, A.y, A.z
    FROM A, B
    WHERE A.x=B.q

However, I'm also supposed to retrieve how many A.x=B.q matches there are, and, after that, retrieve only the most common row from the result-set. 

The solution should also be really simple, e.g. using AVG(), COUNT(), MIN(), MAX(), nestled select statements, or something similarly basic.

If anyone could give me a hand in this it would be greatly appreciated.",learnSQL,How do I retrieve the most common row from a table?,1.0,https://www.reddit.com/r/learnSQL/comments/fkqnui/how_do_i_retrieve_the_most_common_row_from_a_table/
30,De_Noir,1584546077,fkrj9z,1,1,"Dear all,

I am in a situation where I would like to apply conditions to individual columns that I am selecting. What is the correct syntax for this?

To give some context. Lets say I have 100 individuals, each individual has 5 bank accounts and each bank account receives between 1 - 31 bank statements per month (individuals, bank accounts and bank statements are all their own tables and are connected via left joins).

Now what I want to see is:
A - how many bank statements have arrived for that bank account (here I would have to simply check if the bank statement arrived in a certain time-frame)
B - how many bank statements were opened by the owner (here I would have to check the time frame AND if the tag ""opened"" is active.

Obviously I cant write a global WHERE condition as I would be excluding A or B.",learnSQL,Is there a way to apply conditions to individual columns,1.0,https://www.reddit.com/r/learnSQL/comments/fkrj9z/is_there_a_way_to_apply_conditions_to_individual/
31,Reckless42,1584559725,fkvhrx,5,1,"I've been chasing this issue for a couple of days and just do not understand exactly what is happening.

Here's the query...  


SELECT SUM(Detail.\[Quantity\]) AS SumQuanity						 

,SUM(Detail.\[Qty Good\]) AS SumQtyGood			 	 

,SUM(Detail.\[Rej\]) AS SumQtyRej					 

,SUM(Detail.\[Scrap\]) AS SumQtyScrap				

&amp;#x200B;

FROM \[DetailInquiry\] AS Detail

  

\--LEFT JOIN \[Reasons\] AS Reason 

\--	ON Detail.WorkNumber = Reason.WorkNumber 

\--		AND Detail.SalesNumber = Reason.SalesNumber

\--		AND Detail.LoadId = Reason.LoadId

&amp;#x200B;

\--LEFT JOIN \[ProductionInquiry\] AS ProductionInquiry

\--	ON Detail.LoadID = ProductionInquiry.LoadId

&amp;#x200B;

WHERE Detail.\[WorkNumber\] IS NOT NULL

	AND  Detail.\[LoadDate\] &gt; '2018-12-31'

	AND Detail.\[LoadDate\] &lt; '2020-01-01'  


Notice the joins are commented out.  Why and I joining and not using any data from the joins?  Well, this is a simplified query as an example that shows the issue.  My real query gathers Detail.Quanity, Detail.QuanityGood, Detail.Rej, and DetailScrap, Reason.Description, ProductionInquiry.Code.

&amp;#x200B;

When I run the sum query above without the joins, I get the data I'm expecting.  When I add in the joins, all my sums are TOTALLY different values.

&amp;#x200B;

I just don't understand why.  Hoping someone out there can clear the air.  Please.",learnSQL,Getting different sums when adding in LEFT JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/fkvhrx/getting_different_sums_when_adding_in_left_join/
32,gg1n,1584570221,fkyi6o,2,1,"I made a subquerry and got this result. My goal is to group by date and make 2 new collums: search\_run/login(358/967) and search\_autocomplete/login(424/967) and so on by date.    
Seems like very common problem and i want to know the most effective way to do that?",learnSQL,MySQL question,1.0,https://www.reddit.com/r/learnSQL/comments/fkyi6o/mysql_question/
33,gg1n,1584570580,fkylrx,13,1,"I made a subquerry and got this result. My goal is to group by date and make 2 new collums: search\_run/login and search\_autocomplete/login both by total for each date (358/967 and 424/967 for frist row).Seems like very common problem and i want to know the most effective way to do that? To be clear my current code:

`SELECT *`

`FROM () sub`

https://preview.redd.it/n368ujtwbin41.png?width=438&amp;format=png&amp;auto=webp&amp;s=3dd5252dfbca23a1a7386f269a279e83a8b984d5",learnSQL,SQL Question,1.0,https://www.reddit.com/r/learnSQL/comments/fkylrx/sql_question/
34,Romolus02,1584706127,fltygn,4,1,"I've started learning SQL only recently, so this is a very beginner level question. 
So basically I have a database with the names and salaries of employees (ename and sal). And the goal is to list the 4 lowest salaries like this:

SELECT TOP 4 ename, sal
FROM emp
ORDER BY sal;

And that gives the 4 lowest salaries, but I don't understand why. Shouldn't TOP command give the 4 highest salaries? And what if I have to list the 4 highest salaries? Can I reverse the TOP command somehow?",learnSQL,How to reverse the TOP command?,1.0,https://www.reddit.com/r/learnSQL/comments/fltygn/how_to_reverse_the_top_command/
35,w3develops,1584727898,flzpur,0,1, ,learnSQL,Let's freelance while we're in quarantine!,1.0,https://youtu.be/by8YnMNlyOY
36,jpark799,1584732653,fm1497,0,1,"I'm trying to run a MySQL Stored Procedure in a migration script but it doesn't seem to be working. What's frustrating is it works in MySQL workbench but not when I put it in a script. We have a bunch of other things working just fine in the scripts (tables being created and having data inserted) but the stored procedure is giving me problems. 

&amp;#x200B;

We're currently in the process of building a new version of our application and have switched to MySQL from MSSQL. The table names have changed but my job right now is to basically translate from MSSQL to MySQL. Listing both queries below. I feel like this task shouldn't be difficult but I've been struggling for over 2 days on this. 

&amp;#x200B;

Thank you.

**MySQL Query (That's not working):** 

    DELIMITER $$
    CREATE PROCEDURE `FactorLoadDataStoredProcedure`
    (
    IN factorId int
    ) 
    BEGIN 
    WITH `load` AS  
    (  
    	SELECT   	l.OrderId    
    				,l.OrderLoadSeq    
    				,l.CarrierBillRef AS InvoiceNumber  
                    ,c.CarrierName 
                    ,c.MC
                    ,c.DOT
                    ,IFNULL(Invoiced.InvoicedTotal, 0) AS Charges
                    ,IFNULL(EFS.EFSTOTAL, 0) AS Advances
                    ,IFNULL(Payments.PaidTotal, 0) AS Payments
                    ,CheckNumber
                    ,CheckDate
                    ,CASE 
    					WHEN l.LoadStatus = ""Paid"" THEN ""Recently Paid""
                        WHEN l.LoadStatus = ""Billed"" THEN ""Processed""
                        ELSE ""In Transit""
                        END AS `Status`
    	FROM Loads l 
    	LEFT JOIN Carriers c ON c.Id = l.CarrierId
    	LEFT JOIN FactoringCompanies fc ON fc.Id = c.FactorId
        LEFT JOIN 
    		(
            SELECT 
    			ROUND(SUM(Rate * Quantity), 2) AS EFSTotal
                ,LoadId
                FROM LoadLineItems
                WHERE ItemType = ""Payment"" AND ItemDescription LIKE ""%EFS%""
                GROUP BY LoadId
    		) AS EFS ON EFS.LoadId = l.Id
        LEFT JOIN 
    		(
            SELECT 
    			ROUND(SUM(Rate * Quantity), 2) AS InvoicedTotal
                ,LoadId
    		FROM LoadLineItems
    		WHERE ItemType != ""Payment"" 
            GROUP BY LoadId
            ) AS Invoiced ON Invoiced.LoadId = l.Id
    	LEFT JOIN
    		(
            SELECT 
    			ROUND(SUM(Rate * Quantity), 2) AS PaidTotal
                ,LoadId
    		FROM LoadLineItems
            WHERE `ItemType` = ""Payment"" AND `ItemDescription` NOT LIKE ""%EFS%""
            GROUP BY LoadId
            ) AS Payments ON Payments.LoadId = l.Id
    	LEFT JOIN 
    		(
            SELECT
    			CheckNumber
                ,CreatedDate As CheckDate
                ,LoadId
    			FROM LoadLineItems
    			WHERE `ItemDescription` LIKE ""%AG Pay%"" OR `ItemDescription` LIKE ""%Complete%"" 
    		) AS `Check` ON `Check`.LoadId = l.Id
            WHERE c.FactorId = factorId
            AND OrderId &gt;= 70000
            AND (
            CheckDate IS NULL
            OR DATEDIFF(NOW(), CheckDate) &lt;= 7
            )
    ) 
    	SELECT 		OrderId   
    				,OrderLoadSeq   
    				,InvoiceNumber 
                    ,CarrierName
                    ,MC
                    ,DOT
                    ,Charges
                    ,Advances
                    ,Payments
                    ,CheckNumber
                    ,CheckDate
                    ,`Status`
    	FROM `load`
        ORDER BY CarrierName, OrderId;
    	END;
    DELIMITER;

MSSQL Query: 

    /****** Object:  StoredProcedure [dbo].[spFactorLoadData]    Script Date: 3/20/2020 3:30:27 PM ******/
    SET ANSI_NULLS ON
    GO
    
    SET QUOTED_IDENTIFIER ON
    GO
    
    CREATE PROCEDURE [dbo].[spFactorLoadData]
    (
    	@factorId int
    )
    AS
    BEGIN
    
    WITH loads AS
    (
    	SELECT   l.OrderId
    			,l.OrderLoadSeq
    			,l.CarrierBillRef AS InvoiceNumber
    			,c.[Name] AS CarrierName
    			,c.MC
    			,c.DOT
    			,ISNULL(Invoiced.InvoicedTotal, 0) AS Charges
    			,ISNULL(EFS.EFSTotal, 0) AS Advances
    			,ISNULL(Payments.PaidTotal, 0) AS Payments
    			,CheckNumber
    			,CheckDate
    			,(SELECT CASE 
    							WHEN l.[Status] = 'Paid' THEN 'Recently Paid'
    							WHEN l.[Status] = 'Billed' THEN 'Processed'
    							ELSE 'In Transit'
    							END AS [Status]) AS [Status]
    	FROM dbo.[Load] l
    	LEFT JOIN dbo.[Carrier] c ON c.Id = l.CarrierId
    	LEFT JOIN dbo.[FactoringCompany] fc ON fc.Id = c.FactoringCompanyId
    	LEFT JOIN
    		(
    		SELECT 
    			ROUND(SUM([Rate] * [Quantity]), 2) AS [EFSTotal], [LoadId]
    			FROM [LoadLineItem]
    			WHERE [Type] = 'Payment'
    			AND [Description] LIKE '%EFS%'
    			GROUP BY [LoadId]
    		) AS [EFS] ON [EFS].[LoadId] = l.[Id]
    	LEFT JOIN
    		(
    		SELECT 
    			ROUND(SUM([Rate] * [Quantity]), 2) AS [InvoicedTotal], [LoadId]
    			FROM [LoadLineItem]
    			WHERE [Type] != 'Payment'
    			GROUP BY [LoadId]
    		) AS [Invoiced] ON [Invoiced].[LoadId] = l.[Id]
    	LEFT JOIN
    		(
    		SELECT 
    			ROUND(SUM([Rate] * [Quantity]), 2) AS [PaidTotal], [LoadId]
    			FROM [LoadLineItem]
    			WHERE [Type] = 'Payment'
    			AND [Description] NOT LIKE '%EFS%'
    			GROUP BY [LoadId]
    		) AS [Payments] ON [Payments].[LoadId] = l.[Id]
    	LEFT JOIN 
    		(
    		SELECT
    			CheckNumber, CreatedDate AS CheckDate, LoadId
    			FROM [LoadLineItem]
    			WHERE [Description] LIKE '%AG Pay%' OR [Description] LIKE '%Complete%'
    		) AS [Check] ON [Check].LoadId = l.[Id]
    	WHERE c.FactoringCompanyId = @factorId
    	AND OrderId &gt;= 700000
    	AND(
    	CheckDate IS NULL
    	OR DATEDIFF(day, CheckDate, GETDATE()) &lt;= 7
    	)
    )
    
    SELECT   OrderId
    		,OrderLoadSeq
    		,InvoiceNumber
    		,CarrierName
    		,MC
    		,DOT
    		,Charges
    		,Advances
    		,Payments
    		,CheckNumber
    		,CheckDate
    		,[Status]
    FROM loads
    ORDER BY CarrierName, OrderId
    
    END
    GO",learnSQL,Can't run MySQL Stored Procedure in migration script,1.0,https://www.reddit.com/r/learnSQL/comments/fm1497/cant_run_mysql_stored_procedure_in_migration/
37,nduval,1584769394,fma7ze,19,1,"Pretty darn new to SQL here.  I feel like in trying to think of a way to do this, I am over complicating it in my head.  Looking for some advice.

&amp;#x200B;

I have a table with many customers, which each have a unique ID.  They can each have many data types which also have their own unique IDs.  If a customer has 100 data types, they will have 100 records which represent each one.  Maybe something like:

&amp;#x200B;

CustomerID|TypeID

customer1  | type1

customer1  | type2

customer1  | type3

customer2  | type1

customer2  | type3

customer2  | type4

customer3  | type5

&amp;#x200B;

What I want to get, is every customer that only has typeX, and no other.  

&amp;#x200B;

Hopefully this made sense!  Thanks for any help.",learnSQL,Need some assistance with probably some really basic stuff. Find all customers that have only a specific kind of record.,1.0,https://www.reddit.com/r/learnSQL/comments/fma7ze/need_some_assistance_with_probably_some_really/
38,Chompinapple,1584837612,fmqlo9,2,1,"Hello Everyone,  
I am trying to write a query and have hit a roadblock. Here is my current query (below) and I want to narrow down the results even further so that it lists the one beer(IPA) in each state with the highest ABV, along with the brewery name. It probably needs me to create a derived table but I can't seem to figure it out. Thanks in advance.

https://preview.redd.it/i9w9a17kb4o41.png?width=2169&amp;format=png&amp;auto=webp&amp;s=ec3eb57ad67a76fdbddbd49b9befbee10d928c18",learnSQL,Very new to SQL. Any help would be appreciated,1.0,https://www.reddit.com/r/learnSQL/comments/fmqlo9/very_new_to_sql_any_help_would_be_appreciated/
39,weirdheadcrab,1584846771,fmsvti,1,1,"We have to develop a DB in class as a group project. I find it weird because we are mixing zoo related operations with revenue related operations Here is the prompt for my project:

To store information about animals, workers, attractions, giftshops, customers’ details including purchases, earnings at the zoo. Conside rall aspects of a zoo when designing this database.

 

Here is what we came up with: https://imgur.com/a/x4XKfvz

 

Some of the attributes need fixing. I am not worried about them just yet. What I am concerned with is the proper entities and relationships to properly reflect a zoo. My team decided to include a dining service entity, gift shop entity, and admissions entity. Having stared at this ERD awhile, I don't think this a good schema at all. I feel like having a dining service entity and a gift shop entity is redundant. Why not just have one shops entity and include a Shop_Type attribute instead? So, that's what I did. I also tried to redesign the product/transaction part of it as well. I am not done but before moving on, I want to make sure the entities make sense. Please take a look. If I am on the right track in the redesign, how do I connect visitor, admissions and transactions? Do I even need admissions? Should I even are about it? Thanks for your time.

Redesign: https://imgur.com/a/L2ZAO9m",learnSQL,Is my team's database schema on the right track?,1.0,https://www.reddit.com/r/learnSQL/comments/fmsvti/is_my_teams_database_schema_on_the_right_track/
40,skellious,1584881638,fmzi3g,1,1,"HI all.

as above, I would like to know how to set up peer-to-peer SQL databases. I am having trouble finding tutorials that dont relate to paid solutions. I imagine this must exist in a free database too though? It's not especially new technology as I understand it.

I appreciate any help, advice and links you can offer.",learnSQL,Looking for a tutorial on Peer to Peer Replication in a free database management solution,1.0,https://www.reddit.com/r/learnSQL/comments/fmzi3g/looking_for_a_tutorial_on_peer_to_peer/
41,halptehPA,1584906510,fn5v2u,2,1, ,learnSQL,Anyone know how to fix this display glitch in SSMS?,1.0,https://i.redd.it/hq2d0of63ao41.png
42,Radiant-toad,1584927311,fnbjf2,3,1,"Hey there, I'm trying to create a schema like this [https://imgur.com/BwLMk4r](https://imgur.com/BwLMk4r) .   
I have already created the tables but I don't know how to add the foreign key columns to the my\_contacts table and to have those keys properly align with the correct row.

  
I've tried,

INSERT INTO my\_contacts (prof\_id)

SELECT profession.prof\_id

FROM profession

	INNER JOIN

	my\_contacts

ON profession.profession = my\_contacts.profession;  


but this appends the foreign key data to new rows in the my\_contacts table.",learnSQL,Need help with how to add foreign key data to an existing table,1.0,https://www.reddit.com/r/learnSQL/comments/fnbjf2/need_help_with_how_to_add_foreign_key_data_to_an/
43,Shilpa_Opencodez,1584942848,fnex54,0,1, ,learnSQL,SQL From Beginning: Tutorial#13 – Stored Functions,1.0,https://www.opencodez.com/software-testing/sql-for-qa-tutorial13-stored-functions.htm
44,itbloggy,1585054396,fo4m00,0,1, ,learnSQL,Properties of relation inrdbms,1.0,http://itbloggy.com/properties-of-relation-in-rdbms.html
45,agcty,1585133038,foo7bv,4,1,"Hi! One of the best things you can do during quarantine is learning a new framework, programming language or something entirely different.

But doing these courses feels kinda lonely and often you just stop doing them so I thought I’d create a site where you can find buddies to do the same course with (frankly this quarantine is becoming really boring).

The idea is that you talk regularly about your progress and problems you're facing so you can learn and grow together.

If you’re interested, take a look at [Cuddy](https://cuddy.app) and sign up for the newsletter!

If enough people sign up I’ll be happy to implement the whole thing this week.

Also if you've got questions or feature ideas please do let me know in the comments! :)

**Let's destroy this virus together and take it as an opportunity to get better at what we love!**",learnSQL,Find a course buddy during quarantine!,1.0,https://www.reddit.com/r/learnSQL/comments/foo7bv/find_a_course_buddy_during_quarantine/
46,IWannaGrowMyBiz,1585150239,fos8i1,0,1,"Hey guys!

In this though times I wanted to share with you a free resource which should help you spend your days more productively: https://thenerd-academy.com/. I guess it's a time much better spent than Netflix &amp; IG ;) 

Hope you enjoy it &amp; let me know what you think!

Adam",learnSQL,"FREE Course ""SQL For Marketing &amp; Growth Professionals""",1.0,https://www.reddit.com/r/learnSQL/comments/fos8i1/free_course_sql_for_marketing_growth_professionals/
47,aeiou_84,1585164789,fowk3g,5,1,"Here is the current query 

SELECT [2010].[Sector (Cmp/WL)], [2010].Period, [2010].Year, Count([2010].[Member ID]) AS [CountOfMember ID] FROM 2010 GROUP BY [2010].[Sector (Cmp/WL)], [2010].Period, [2010].Year;

I would like to modify it to only count distinct member IDs. I tried this

SELECT [2010].[Sector (Cmp / WL)], [2010].Period, [2010].Year, Count(DISTINCT[2010].[Member ID]) AS [CountOfMember ID] FROM 2010 GROUP BY [2010].[Sector (Cmp / WL)], [2010].Period, [2010].Year;

but it is throwing an error--any help?",learnSQL,Distinct Count?,1.0,https://www.reddit.com/r/learnSQL/comments/fowk3g/distinct_count/
48,Shilpa_Opencodez,1585199979,fp5uj7,0,1, [https://www.opencodez.com/software-testing/sql-for-qa-tutorial14-triggers.htm](https://www.opencodez.com/software-testing/sql-for-qa-tutorial14-triggers.htm),learnSQL,SQL From Beginning: Tutorial#14 – Triggers,1.0,https://www.reddit.com/r/learnSQL/comments/fp5uj7/sql_from_beginning_tutorial14_triggers/
49,_goldholz,1585220281,fp9kjf,6,1,"Hi i dont get the Problem with that the error is : ""The multi-part identifier ""PersonenArchivID.PersonenArchivID"" could not be bound."" I dont know how to fix it

this is the code: 

    Create table PersonenArchiv(
    PersonenArchivID int primary key)
    
    Merge PersonenArchiv
    using  personen
    on PersonenArchivID.PersonenArchivID = Personen.PersonenID
    when matched then update
    set PersonenArchiv.Name = Personen.Name,
    PersonenArchiv.Vorname = Personen.Vorname,
    PersonenArchiv.AnredeID = Personen.AnredeID,
    PersonenArchiv.SchulabschlussID = PERsonen.SchulabschlussID,
    PersonenArchiv.Geburtsdatum = Personen.Geburtsdatum
    output $action;

if you need more info please say so. PersonenID is a int and primary key of Personen",learnSQL,I could need some help,1.0,https://www.reddit.com/r/learnSQL/comments/fp9kjf/i_could_need_some_help/
50,razorchick12,1585229277,fpbhc8,6,1,"I have a list of 500 origin-destination pairs, 45 unique destinations



I have another list of 200 origin-destination pairs. 14 unique destinations.




What kind of join would I use to get all the information from the first list but only the destinations from the second as a filter.



I have been staring at my little joins Venn diagram for like 15 minutes and idk why this is confusing me so much.



Thank you!",learnSQL,Idk why my brain isn’t working someone help me please!,1.0,https://www.reddit.com/r/learnSQL/comments/fpbhc8/idk_why_my_brain_isnt_working_someone_help_me/
51,haberdasher42,1585235639,fpd6h8,2,1,"So this feels like a stupid question, but lets say I'm looking to aggregate:

SELECT City, StoreType (eg. B&amp;M, mall kiosk), Sum(Sales) AS SumofSales, (Sales/Target) As PercTarget

WHERE State = ""New York""

GROUP BY City, StoreType

It's not possible to get a Sum(Sales) or (Sales/Target) for the State also right? Like a Grand Total row? There's no ANSI function for that? I have to subquery that?  If I aggregate the results of this query to find the States ""PercTarget"" I'm going to get an inaccurate number (obvs). 

I mostly use postgres and T-SQL.",learnSQL,Aggregates,1.0,https://www.reddit.com/r/learnSQL/comments/fpd6h8/aggregates/
52,De_Noir,1585235895,fpd94z,12,1,"Here is my code:

    select
    bank.hmy,
    owner.ucode
    from bank
    left join owner on owner.hmy = bank.hmy
    group by bank.hmy,owner.ucode

If I run this I get

|bank.hmy|owner.ucode||
|:-|:-|:-|
|55555|xzt||
|55555|mzt||
|66666|tzt||
|66666|mtz||

What would I need to change to get only

|55555|xzt||
|:-|:-|:-|
|66666|tzt||

Thus I want to get only one bank.hmy entry with one owner.ucode, where I dont care which owner.ucode it is.",learnSQL,"If each entry has multiple sub entries, how can I get only one sub entry per entry?",1.0,https://www.reddit.com/r/learnSQL/comments/fpd94z/if_each_entry_has_multiple_sub_entries_how_can_i/
53,SerHiroProtaganist,1585238573,fpe1jn,2,1,"Hi,

I work in accounting and am able to query our company database with SQL statements through an excel add in.  Is it possible to restrict the WHERE clause for certain columns returned?

&amp;#x200B;

So for example say i have a statement that queries a table:

SELECT account, actuals, budget, forecast FROM table

WHERE period BETWEEN 201901 AND 201912

&amp;#x200B;

The problem i have is because in accounting we accrue costs on reversing journals, there are always negative figures in the latest period that skew the figures.  so if say we have actuals to the period 201909, when i run the query above i get the full year budget and forecast, which is what i want, but my actuals will also include negatives in 201910.

&amp;#x200B;

So i want a way to bring in period 201901 - 201912 for budget and forecast, but only 201901 - 201909 for the actuals column.  Is there a way to do this please?

&amp;#x200B;

Thanks in advance.",learnSQL,Restricting Values Returned,1.0,https://www.reddit.com/r/learnSQL/comments/fpe1jn/restricting_values_returned/
54,ForgotMyUserName15,1585273278,fpo92g,1,1,"I have some data that I’ve currently be storing as a single table but there’s one indicator that I when I queue I always select a single value from at a time. 

I alway index on this column, but does it ever make sense to split a table like this?

I have several tables like this. The ones I think would like be best candidates for splitting up are a set of tables I update all data with single indicator as batch therefore dropping all rows with said indicator before inserting the new rows.",learnSQL,When to split single table into multiple?,1.0,https://www.reddit.com/r/learnSQL/comments/fpo92g/when_to_split_single_table_into_multiple/
55,perhapsjackals,1585275510,fpotjq,3,1,"I have been struggling with problem #5 of SQLZOO's [""Window functions""](https://sqlzoo.net/wiki/Window_functions) tutorial. The tutorial uses the table ""ge,"" which includes general election results in the UK for 2015 and 2017. ""ge"" includes the fields yr, firstName, lastName, constituency, party, and votes. Problem #5 asks the learner to show the parties that won for each Edinburgh constituency in 2017. Earlier on, the tutorial notes that Edinburgh constituencies are numbered S14000021 to S14000026. Below is the query I wrote:

SELECT constituency, party  
FROM ge x  
WHERE constituency BETWEEN 'S14000021' AND 'S14000026'  
AND yr = 2017  
AND votes &gt; ALL  
(SELECT votes FROM ge y  
WHERE y.constituency = x.constituency  
AND y.party != x.party)  
GROUP BY constituency

My result is mostly correct, but omits constituencies S14000021 and S14000026. I wondered at first if BETWEEN might not be inclusive, but toying with that didn't solve the problem. Can anyone help me figure this out?",learnSQL,SQLZOO Window functions,1.0,https://www.reddit.com/r/learnSQL/comments/fpotjq/sqlzoo_window_functions/
56,onredditcuzwhynot,1585278344,fppi25,1,1,"Hi I am learning backend development and decided to build a project on making the Activity Planner from WebMD an app and need some help writing the schema of the database. 

I have posted the detailed question here: [https://dba.stackexchange.com/questions/262764/how-to-design-the-database-schema-for-this-activity-planner](https://dba.stackexchange.com/questions/262764/how-to-design-the-database-schema-for-this-activity-planner)

on stackexchange, and any help would be appriciated.",learnSQL,Need some help on how to design the database schema for this activity planner,1.0,https://www.reddit.com/r/learnSQL/comments/fppi25/need_some_help_on_how_to_design_the_database/
57,PacktStaff,1585291510,fps9sz,0,1,"From their email..

*We want to offer everyone some free content, as our way of helping you to keep your skills up to date in these difficult times. Today we are making all of our interactive workshops completely free until the end of May.*

*Add any workshop on courses.packtpub.com to your cart and use the code PACKTFREE to unlock access. Filled with videos, quizzes and step-by-step instruction, they are the ideal replacement for instructor-led training and a great way to learn a new programming language or brush up on your data science skills.*

SQL Course: [https://courses.packtpub.com/courses/sql](https://courses.packtpub.com/courses/sql)

All Courses: [https://courses.packtpub.com/pages/free](https://courses.packtpub.com/pages/free)

Checkout Code: PACKTFREE",learnSQL,Packt have made their SQL workshop free (and all other workshops),1.0,https://www.reddit.com/r/learnSQL/comments/fps9sz/packt_have_made_their_sql_workshop_free_and_all/
58,rd916,1585325008,fpzjh0,0,1,"A trigger I built a few months ago that logs each change in a production server was accidentally deleted.  I have tried to rebuild it, but can not get the same results as before.  

the goal is to have in the change log table: 

timestamp,

old row value (example:  xxx ; xxxx ; xxxx ; xxxx) ,

new row value (example:  xxx ; xxxx ; xxxx ; xxxx) ,

user (susername)

&amp;#x200B;

Right now, the trigger is inserting a 1 into the two middle columns instead of the old row.

&amp;#x200B;

The trigger is constructed like this:

ALTER TRIGGER ""dbo"".""new""

  on ""dbo"".""xref\_advertiser""

  AFTER DELETE, INSERT, UPDATE

  as 

begin

declare u/old_row_value varchar(1000) 

declare u/new_row_value varchar(1000)

declare u/time_now datetime

&amp;#x200B;

&amp;#x200B;

select u/old_row_value = (select coalesce(i.platform\_id,' ; ', i.platform\_adv\_id, ' ; ', i.advertiser\_id,' ; ', i.data\_lake\_region) from deleted  i)

select u/new_row_value = (select coalesce(d.platform\_id,' ; ', d.platform\_adv\_id, ' ; ', d.advertiser\_id,' ; ', d.data\_lake\_region) from inserted d)

select u/time_now = current\_timestamp

&amp;#x200B;

insert into dbo.log\_xref\_advertiser 

values (@time\_now, u/new_row_value, u/old_row_value, suser\_name())

  

  UPDATE dbo.xref\_advertiser

  SET update\_user = SUSER\_SNAME() ,

  update\_ts = GETDATE()

  FROM Inserted i

  WHERE dbo.xref\_advertiser.advertiser\_id = i.advertiser\_id

&amp;#x200B;

end;",learnSQL,Change log Trigger,1.0,https://www.reddit.com/r/learnSQL/comments/fpzjh0/change_log_trigger/
59,thefirecatcher,1585330427,fq1e35,8,1,"Hello,

I have started to learn mySQL, with no prior programming knowledge. I'm about to start joins tomorrow. My current work has no scope of using SQL.

I am looking for websites, where I can take up any questions/challenges and solve them to showcase my skills to recruiters as well as use for my practice.

P.S : I'm not looking for sample database to download and work. I'm looking for a place online where I can showcase skills I have acquired.",learnSQL,Websites for Hands-on experience /Practise,1.0,https://www.reddit.com/r/learnSQL/comments/fq1e35/websites_for_handson_experience_practise/
60,[deleted],1585330546,fq1fkd,0,1,[deleted],learnSQL,Websites for practise/Handson (Newbie),1.0,https://www.reddit.com/r/learnSQL/comments/fq1fkd/websites_for_practisehandson_newbie/
61,angieangelita,1585349536,fq7t8h,1,1,How do you rank something from a table? I have to rank the heights of the players in a table and I am given the height and the feet.,learnSQL,"Finding the rank of a player in sql, function",1.0,https://www.reddit.com/r/learnSQL/comments/fq7t8h/finding_the_rank_of_a_player_in_sql_function/
62,smohajer,1585380264,fqfj6n,0,1,"I created an educational article for interview questions about advanced database systems. The focus is on the word **advanced** here. There are a lot of resources for beginners, but I could not find a good one for intermediate- to advanced-level users. So, I decided to create one. 

I post the link of my Medium article here. I appreciate if you read it and give me your feedback about how I can improve it. If you find it helpful, I am still interested in your comments. Please share them with me; it helps my future writing and content development. 

The link to my Medium article is here: [https://link.medium.com/EVRx0zFX64](https://link.medium.com/EVRx0zFX64)",learnSQL,Top 48 advanced database systems interview questions,1.0,https://www.reddit.com/r/learnSQL/comments/fqfj6n/top_48_advanced_database_systems_interview/
63,wooojc,1585442773,fqwgs5,0,2,"I am sure there are similar people out there looking for help/resources/a place to ask silly questions/ find study buddies, etc in this field! Let's help each other out...here is the link: [https://discord.gg/aUawNPm](https://discord.gg/aUawNPm)

It would also be awesome if experienced Data Engineers joined and helped us out.

Disclaimer:

1. I am not a Data Engineer; just pushing this cause along to get into this field myself.
2. This is my first discord server - bare with me while I figure things out.",learnSQL,I created a discord server specifically for those starting out or interested in the field of Data Engineering!,1.0,https://www.reddit.com/r/learnSQL/comments/fqwgs5/i_created_a_discord_server_specifically_for_those/
64,Harbltron,1585445359,fqx5oh,0,1,"Hi people, I'm working on a grocery delivery app during quarantine. It's been a while since I worked with SQL, so I hope you can lend me a hand.

I've got a schema that I want to run on application startup, dropping the old db if it exists, creating a fresh one and then populating it with my seeds.sql.

Is this possible without installing Spring? Everything I can find on the subject involves it.",learnSQL,Initialize schema on startup?,1.0,https://www.reddit.com/r/learnSQL/comments/fqx5oh/initialize_schema_on_startup/
65,Cryopier,1585498324,fr8abr,5,1,"I am having trouble figuring out where the errors are.  Any guidance or reference would be appreciated.  This module has been the most difficult for me, so far, and the syntax just seems otherworldly compared to everything else up until now.

Link to design:   https://imgur.com/tnEYCGR 

/\*

Write a query that will show the average cost of the DJ's on Demand events. Round to two decimal places.  Write a query to a list of all the DJ's on Demand CD titles that have “a” as the second letter in the title.

\*/

SELECT CAST(AVG(cost) AS DECIMAL(10,2)) from D\_EVENTS;

&amp;#x200B;

SELECT \* from D\_CDS WHERE TITLE like '\_a%';

/\*

Write a query to display the number of months between the event\_date of EVENT\_ID 105 and today’s date in the DJ's on Demand database. Round to the nearest month.

\*/

SELECT Month from D\_EVENTS WHERE Month between ( SELECT MONTH(CURRENT\_TIMESTAMP)) as Month AND (SELECT MONTH(EVENT\_DATE)AS Month FROM D\_EVENTS WHERE ID=105);

/\*

Write a query that will display the DJ's on Demand CD titles for CD\_NUMBER 90 and 91 in UPPERCASE in a column aliased as “DJs on Demand Collections.”

\*/

SELECT UPPER(TITLE) AS DJs on Demand Collection FROM D\_CDS WHERE CD\_NUMBER IN (90,91);

/\*

Write a query to create usernames for the DJ's on Demand partners. The usernames will be the lowercase last name + the lowercase first letter in the first name. Alias the column as ""user\_name."" For example, Mary Smythers would be smythersm.

\*/

SELECT LOWER(LAST\_NAME) + LOWER(SUBSTRING(FIRST\_NAME, 1,1)) AS USER\_NAME FROM D\_PARTNERS;

/\*

Write a query that will show the total cost of the DJ's on Demand events.

\*/

SELECT SUM(COST) FROM D\_EVENTS;

/\*

Using a DECODE and the DJ's on Demand D\_SONGS table, create a query that replaces the 2-minute songs with “shortest” and the 10-minute songs with “longest”. Label the output column.

\*/

UPDATE D\_SONGS

SET DURATION='SHORTEST'

WHERE DURATION ='2-minute songs';

&amp;#x200B;

UPDATE D\_SONGS

SET DURATION='LARGEST'

WHERE DURATION ='10-minute songs';

/\*

For all null values in the specialty column in the DJ's on Demand d\_partners table, write a query to substitute “No Specialty.” Show the first name and specialty columns only.

\*/

SELECT FIRST\_NAME , ISNULL(SPECIALTY, 'No Speciality') AS Result FROM D\_PARTNER;

/\*

Write a query that will format the DJ's on Demand d\_packages columns, low-range and high-range package costs, in the format $2500.00.

\*/

SELECT '$' + CONVERT(varchar(12), LOW\_RANGE, 1) AS LOW\_RANGE, '$' + CONVERT(varchar(12), HIGH\_RANGE, 1) AS HIGH\_RANGE FROM D\_PACKAGE;",learnSQL,Need help with this script (Homework assignment),1.0,https://www.reddit.com/r/learnSQL/comments/fr8abr/need_help_with_this_script_homework_assignment/
66,smohajer,1585509956,frbkxv,2,1,"Hey guys, I have created a resource for **advanced** database systems interview questions. It is free. It is a Medium article. Just give it a shot -&gt; [here](https://link.medium.com/EVRx0zFX64)

The focus is on **ADVANCED** :)",learnSQL,Advanced database systems,1.0,https://www.reddit.com/r/learnSQL/comments/frbkxv/advanced_database_systems/
67,leogodin217,1585517750,frdtph,0,3, ,learnSQL,An Intuitive Look at SQL Joins,1.0,https://youtu.be/CaHs3ZP1PR8
68,redtail1982,1585600235,frym5z,2,1,"    select teamname from league 
    where teamid in 
    (select leaugename from Leagues   
    where teamname like 'B%'); 

The error I get shows that there is more than one row returned

To clarify the team name is in table1, league name is in table2. They both have teamid in their tables",learnSQL,Help,1.0,https://www.reddit.com/r/learnSQL/comments/frym5z/help/
69,TheHappyBusman,1585645978,fs9q3v,6,1,"I'm designing a table as an MSP and am having to enter in multiple email addresses for each of our sites [like this](https://i.imgur.com/8ukTS2I.png).

I'd much rather if there was an array type I could use - recipients = 'joe@site.com', 'mary@site.com' etc. Is that possible?

I presume that I'm going to be told to create a table of contacts and then link individual entries to each site. I'm just worried about ensuring that the data is linked properly later so would prefer to keep the contacts within the site table.",learnSQL,"Is there a data type of ""array""?",1.0,https://www.reddit.com/r/learnSQL/comments/fs9q3v/is_there_a_data_type_of_array/
70,cnvoaeas,1585683063,fsjih6,0,2, ,learnSQL,How to use manual SQL Injection to penetrate a database,1.0,https://www.education-ecosystem.com/cybersecschool/RJXnE-how-to-use-manual-sql-injection-to-penetrate-a-database/LpQyW-intro1-3/
71,butter-jesus,1585697258,fsnx0l,4,1,"I know of SQLZoo and that seems like a great place to look but I was wondering if there was any other place that has these sorts of problems that you can practice online with an interpreter, then get feedback on your queries?

&amp;#x200B;

Thanks in advance!",learnSQL,"Where to find places to practice subquery joins and window functions, online?",1.0,https://www.reddit.com/r/learnSQL/comments/fsnx0l/where_to_find_places_to_practice_subquery_joins/
72,slick_57,1585754940,ft1vpj,12,1,"So I am new to SQL, and my book is requiring to build an SQL statement after practicing only one statement. The question is asking to Join the Orders and Customer tables based on CustomerID. I have tried several different statements, and cannot seem to understand the concepts. 

    SELECT OrderID, CustomerID, CustomerName, OrderDate FROM Orders JOIN Orders on Orders.CustomerID = Customers.CustomerID",learnSQL,Help with JOINS,1.0,https://www.reddit.com/r/learnSQL/comments/ft1vpj/help_with_joins/
73,maxliebe99,1585782565,ftauz6,6,1,"Hi,

This may have been answered already, but I have just started learning Access/SQL and could not find the solution on the Internet, so posting it here.

I have a table which has multiple records pertaining to same customers. Trouble is, there are lots of spelling mistakes in customers' names, for example John appears as Jonh, Jnoh, John and Jnoh due to typing errors. Moreover, the names are not in English either and their length is variable too, some customer names are very long containing Private Limited and Pvt Ltd etc in the names.

I want to know if there is a quick way to correct these spelling mistakes as I have thousands of records in the table and can't do it manually. 

Please help!",learnSQL,Customers Names Spelling Errors,1.0,https://www.reddit.com/r/learnSQL/comments/ftauz6/customers_names_spelling_errors/
74,thefirecatcher,1585797821,ftezmh,2,1,"I'm learning about sub queries and have below doubt. Topic being discussed is using sub queries in FROM.

I have two tables 1. Product and 2. Laptop. The columns list is as below.

**Product** (maker varchar (10) NOT NULL ,  
model varchar (50) NOT NULL ,  
type varchar (50) NOT NULL )

**Laptop** (	code int NOT NULL ,  
model varchar (50) NOT NULL ,  
speed smallint NOT NULL ,  
ram smallint NOT NULL ,  
hd real NOT NULL ,  
price decimal(12,2) NULL ,  
screen tinyint NOT NULL )

Now while discussing sub queries, an example is shown to find the maker, the type, and the processor's speed of the laptops with speed above 600 MGz.

I wrote the query as 

SELECT Product.maker,Product.type,Laptop.model,Laptop.speed  
FROM Laptop INNER JOIN Product ON   
Product.model=Laptop.model WHERE speed &gt; 600

Which gave the correct output. Whereas in the example it is solved as  


SELECT prod.maker, lap.\*  
FROM (SELECT 'Laptop' AS type, model, speed  
FROM Laptop  
WHERE speed &gt; 600) AS lap INNER JOIN  
(SELECT maker, model FROM Product) AS prod ON lap.model = prod.model;

It is not making any sense to me why it is written using sub-query. Is it to teach example? Or is there any advantage in writing so?",learnSQL,Normal query Vs writing it as sub query,1.0,https://www.reddit.com/r/learnSQL/comments/ftezmh/normal_query_vs_writing_it_as_sub_query/
75,Aveneon,1585832043,ftltks,3,1,"I have previously worked with PostgreSQL and MySQL. Whenever I have to organize all the data into tables I find it to be very difficult to know where to stop.

An example would be the user table. How much data should I store for one user in the user table, and how much should be moved aside into a different table?

I would love a book, or a resource that can help me hone my database organizing skills. I hope someone here might have just that.",learnSQL,Any books on how to organize a relational database?,1.0,https://www.reddit.com/r/learnSQL/comments/ftltks/any_books_on_how_to_organize_a_relational_database/
76,Chuksndu,1585842874,ftorgc,0,1,"&amp;#x200B;

https://preview.redd.it/8u9gpla6ffq41.png?width=1802&amp;format=png&amp;auto=webp&amp;s=f58ff4a1375bf4c2ab028b608d04cfdc032888c7

[Hey guys. I'm working on a homework and I'm not quite sure if I got the database right based on the requirements that our teacher have set. I was just wondering if some one could help me and see if I have done it correctly](https://preview.redd.it/h3s64sx2ffq41.png?width=846&amp;format=png&amp;auto=webp&amp;s=c7685156497fa8a78ee5a91e4be9760f81d99846)",learnSQL,Homework,1.0,https://www.reddit.com/r/learnSQL/comments/ftorgc/homework/
77,makaroni4,1585940995,fueexi,2,2,"Hi everyone, my name is Anatoli, I'm the author of [SQL Habit](https://www.sqlhabit.com/) 👋  


I've very happy to announce that I just launched the SQL Habit Blog with the first article: [How to detect recurring payments with SQL](https://www.sqlhabit.com/blog/posts/how-to-detect-recurring-payments-with-sql). It's a follow-along tutorial that covers pretty much every aspect of SQL.   


It's inspired by a real life situation – me analyzing my bank statement for subscriptions I forgot to cancel 🙈, I hope it'll be useful for you as well.   


In case of any question ping me here or in the comment section under the post! Enjoy! 🍻  


P.S. If you're interested to learn more about Data Analytics with SQL – there's a [50% #stayhome discount on SQL Habit](https://www.sqlhabit.com/pricing). Stay healthy! 🙌",learnSQL,Tutorial: How to detect recurring payments with SQL,1.0,https://www.reddit.com/r/learnSQL/comments/fueexi/tutorial_how_to_detect_recurring_payments_with_sql/
0,Shilpa_Opencodez,1580708355,ey28fp,0,1, ,learnSQL,SQL From Brginning: Tutorial#5 – DELETE Statement,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial5-delete-statement.htm
1,mypirateapp,1580732715,ey6ewz,1,1,"* Newbie here, I am trying to maintain an aggregate count of likes and dislikes on comments and have 3 tables
* **comments** (comments\_id, post\_id, user\_id, parent\_comment\_id, comment\_text, created\_at, updated\_at)
* **comment\_votes**(comment\_id, user\_id, vote)
* **comment\_votes\_aggregate**(comment\_id, likes, dislikes)
* The comment votes table contains 1 row for each user liking or disliking a comment
* For example (1, 1, true) would mean comment\_id 1 with user\_id 1 liked the comment
* (1, 2, false) means user\_id 2 disliked the post
* Each time a row is added to comment\_votes I want to maintain a total number of likes and dislikes in the comment\_votes\_aggregate table
* For the above case, the comment\_votes\_aggregate table would have (1,1,1) meaning comment\_id 1 has 1 like and 1 dislike
*  I wrote a trigger to do this [HERE](https://pastebin.com/V8jD83Ke)
* Could anyone kindly tell me if this is CONCURRENCY safe, I mean does this run in a transaction and be updated reliably?
* Thank you for your help in advance
* DB = postgresql",learnSQL,Maintain aggregate count of likes and dislikes on comments,1.0,https://www.reddit.com/r/learnSQL/comments/ey6ewz/maintain_aggregate_count_of_likes_and_dislikes_on/
2,SzechuanSaucelord,1580771930,eyg2ne,2,1,"Basically I currently have a table full of market rates and another table full of transactions. I am using left join to join both tables using dates, but there are certain weekend or holiday dates where market rates aren't updated since its not a business day. For those joins, my current left join just produces a NULL for those records, but I would like to pull the next date for those dates where there isn't a match. How would I go about doing this? 

&amp;#x200B;

    SELECT GN.Col1, histbase.Col2, histlp.Col3
    FROM WORK.GNOTECALC GN
    LEFT JOIN WORK.FTPHISTORY2 histbase ON GN.'Base Start'n = histbase.Date 
    OR 
    LEFT JOIN WORK.FTPHISTORY2 histlp ON GN.'Assumed Spread Start'n = histlp.Date;

So as you can see, for the first join is Base Start is Christmas Day and [histbase.Date](https://histbase.Date) only has workdays, the record will appear as NULL for histbase.Col2. How can I get SQL to check for the exact join first, but if there isn't an available date to join on from both tables then attempt a more approximate join? I was thinking of using CASE statements within the JOIN statement but not sure how I would approach this.",learnSQL,How do I join on an approximate date or next best date?,1.0,https://www.reddit.com/r/learnSQL/comments/eyg2ne/how_do_i_join_on_an_approximate_date_or_next_best/
3,Kinglens311,1580772869,eygbhg,0,1, ,learnSQL,How do I join on an approximate date or next best date?,1.0,https://www.reddit.com/r/learnSQL/comments/eyg2ne/how_do_i_join_on_an_approximate_date_or_next_best/?utm_source=ifttt
4,LeastFavoriteLife,1580792166,eykqa6,2,1,"Brand new SQL learner here. So I have a table with columns  ‘exception date’ for each ‘loan no’ and I would like to write a query where I only pull the records where the ‘exception date’ is anything prior to 2 days from today’s date, excluding weekends
So far I’ve tried 

SELECT loan no, exception date FROM table
WHERE exception date &lt; DATE()-2 ;

But that didn’t work. I’d much appreciate if someone can help me out here. Thank you.",learnSQL,Date before two days,1.0,https://www.reddit.com/r/learnSQL/comments/eykqa6/date_before_two_days/
5,creamypuff95,1580830748,eyrth4,6,1,"Hi. I'm trying to save several json that contains a list of objects and each of those objects is another json into a data structure that is easier for me to compare the data. I thought about excel before, but it turned out rather hard. Is SQL a better tool for doing this work? Thanks",learnSQL,Is SQL the tools to save a table of tables?,1.0,https://www.reddit.com/r/learnSQL/comments/eyrth4/is_sql_the_tools_to_save_a_table_of_tables/
6,Don-g9,1580836355,eyta7e,0,1,"I have a column (`colA`) that has 2 values separated by pipe. Now i need to create another column (`colB`) to place the value on the right of the pipe and replace the current value of `colA` with the value on the left of the pipe. I tried to do this with an update:

&amp;#x200B;

    Update my_table set colA = ""valA"" where colA = ""valA|valB""

&amp;#x200B;

But it's not working :/

&amp;#x200B;

**Note**: I'm using Oracle SQL",learnSQL,How do i update a column based on that same column?,1.0,https://www.reddit.com/r/learnSQL/comments/eyta7e/how_do_i_update_a_column_based_on_that_same_column/
7,Dark_Ghost10,1580889448,ez64ae,2,1,"I got a logging unit that pushes comma seperated variables to a Gmail address, is there a way to automatically make a csv file of that data and push it to a MySQL server",learnSQL,How I push data from Gmail to a MySQL server?,1.0,https://www.reddit.com/r/learnSQL/comments/ez64ae/how_i_push_data_from_gmail_to_a_mysql_server/
8,wheezetheju1ce,1580948653,ezjj2i,4,1,"Recently got a job where I'm working with Oracle PeopleSoft and having to formulate some queries. I know some basic SQL from prior jobs but have a lot of room to improve.

&amp;#x200B;

Any help/feedback is greatly appreciated!

&amp;#x200B;

 I'm wondering if the below two queries would achieve the same results. Why, or why not?

Using subquery:

`SELECT A.EMPLID`

  `FROM PS_ITEM_SF A`

  `WHERE ( A.ITEM_TERM = '2202'`

`AND A.ITEM_TYPE = '100000020002'`

`AND A.ITEM_EFFECTIVE_DT &gt; TO_DATE('2020-01-19','YYYY-MM-DD')`

`AND A.EMPLID IN (SELECT B.EMPLID`

  `FROM PS_ITEM_SF B`

  `WHERE A.ITEM_TYPE = '500000030002'`

`AND A.ITEM_TERM = '2202'))`

&amp;#x200B;

Using IN:

`SELECT A.EMPLID`

  `FROM PS_ITEM_SF A`

  `WHERE ( A.ITEM_TERM = '2202'`

`AND A.ITEM_TYPE IN ('500000030002','100000020002')`

`AND A.ITEM_EFFECTIVE_DT &gt; TO_DATE('2020-01-19','YYYY-MM-DD'))`",learnSQL,Oracle: Are these queries achieving the same results?,1.0,https://www.reddit.com/r/learnSQL/comments/ezjj2i/oracle_are_these_queries_achieving_the_same/
9,bcoin_jake,1580988606,ezr2od,3,1, ,learnSQL,Need some help on a basic SQL assessment for school. Any help is appreciated!,1.0,https://i.imgur.com/RuYccb7.jpg
10,Worglorglestein,1580989738,ezr8st,2,1,"So first, a bit of background/rant:

I have a general understanding of SQL, but it was never my focus. I do some programming in C++/Qt, troubleshoot hardware/software, etc. This was my first experience with database administration. It was definitely interesting getting this sort of hands-on practice, and some important general-practices were driven home to a much greater degree. 

Anyway...

There was a small db on a dated computer, so I thought I'd swap the hard drive into a faster computer. I've swapped drives before (who hasn't), it isn't that big of a deal. HOWEVER THIS TIME, without going into the details, the partition's journal/map got deleted and I hadn't created a backup of the information. So technically I still had the data (or so I prayed), but it was no longer mapped. After spending the next 48 hrs scanning the partition to recover files and I did get the DB back, but didn't get any system product keys; I had an access DB file with no access program.

I've since managed to export the DB into excel and then Open Office Base, and (I think) have all the backend DB stuff working correctly. But now I'm having trouble getting the forms to work.

Simple things like organizing results based on one category, adding/deleting records, creating dropdown boxes linked to joined tables, etc. is confusing me. Does anyone have suggestions for tutorials, or just general advice on how to do these things? 

On a side note, is Open Office Base really the ideal way to have done this project? What are some of the other ways for creating open-source databases with a frontend?",learnSQL,Questions about forms,1.0,https://www.reddit.com/r/learnSQL/comments/ezr8st/questions_about_forms/
11,Shilpa_Opencodez,1581052797,f05ufo,1,1, ,learnSQL,SQL From Beginning: Tutorial#6 – ORDER BY Clause,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial6-order-clause.htm
12,KevnBlack,1581057673,f06ppi,1,1,"Apologies for the noob question, but I'm pretty brand new to SQL so I may be missing out on some topics critical to my question. I have this table of colleges where I want to calculate the overall average GPA for each college.

|*collegeName*|*major*|*minGPA*|
|:-|:-|:-|
|OSU|CS|3.8|
|PSU|Bio|3.3|
|Cornell|Chemistry|3.9|
|PSU|Psychology|3.2|
|OSU|History|3.0|
|Cornell|Math|3.7|

I eventually want to have a table like this.

|*collegeName*|*avgMinGPA*|
|:-|:-|
|Cornell|3.8|
|OSU|3.4|
|PSU|3.15|

My thought process is by doing it the brute force way, but this way doesn't work. And even if it did, it's not very practical to do this if I had hundreds of schools.

    INSERT INTO collegeStats (SELECT avg(minGPA) FROM Colleges WHERE cName = 'OSU');
    INSERT INTO collegeStats (SELECT avg(minGPA) FROM Colleges WHERE cName = 'PSU');
    ...

Is there a quicker, more elegant way of doing this in MySQL Workbench?",learnSQL,How to calculate multiple averages for multiple rows,1.0,https://www.reddit.com/r/learnSQL/comments/f06ppi/how_to_calculate_multiple_averages_for_multiple/
13,legz_cfc,1581089652,f0c286,2,1,"Hello,

I've been struggling with how to do this for a while now and I hope the subject line makes sense.

Below is a test table as a proof of concept.  The real table has a few more fields but &gt; 200 unique app names (column 2)

    sqlite&gt; .header on
    sqlite&gt; select * from poc;
    server_name|app_name|trans_timestamp
    serverA|app1|2020-01-01 10:10:10
    serverB|app2|2020-01-02 10:10:10
    serverA|app3|2020-01-03 10:10:10
    serverB|app1|2020-01-04 10:10:10
    serverA|app2|2020-01-05 10:10:10
    serverB|app3|2020-01-06 10:10:10
    serverA|app1|2020-01-07 10:10:10
    serverB|app2|2020-01-08 10:10:10
    serverA|app3|2020-01-09 10:10:10
    serverB|app1|2020-01-10 10:10:10

What I'm trying to do is determine when the last time each specific app was used.  I don't care about server\_name for this transaction

So my expected output would be:

(for app1) 2020-01-10 10:10:10

(for app2) 2020-01-08 10:10:10

(for app3) 2020-01-09 10:10:10

Any pointers?  Thanks",learnSQL,Getting latest entry from subset of a column,1.0,https://www.reddit.com/r/learnSQL/comments/f0c286/getting_latest_entry_from_subset_of_a_column/
14,AkingWL,1581115968,f0ig55,7,1,"Hi everyone,   


I'm having issues wrapping my head around how to pull data for a large subset of specific customer\_ids.   


I have a list of 500 IDs I want to pull data for but it would be a massive IN ( ) function. There must be a better way than copy and paste the list and then adding a comma between each customer\_id.   


Select   
  average\_spend  
from  
  table   
where customer\_id IN ( 1,2,3,4,5....500)  


Apologies for the beginner question, but I'm not too sure how to even google this answer.   


Thanks!",learnSQL,Noob Question - How to pull data based on a huge list of IDs,1.0,https://www.reddit.com/r/learnSQL/comments/f0ig55/noob_question_how_to_pull_data_based_on_a_huge/
15,searingjackal,1581123197,f0k1dh,6,1,"Hi Everyone

Newb here. Been searching for hours now but I can seem to find the correct answer or properly phrase my search.

I have a thousands of rows orderids that I want to put on an IN function, worst is I have to run a LIKE at the same time on the values since the column contains json.

There's no dedicated table that only has the order\_id value

Input: 

ORD12345

ORD54376

...

...

&amp;#x200B;

Table: transactions\_table

|transaction\_uuid|order\_data|created\_date|client\_name|
|:-|:-|:-|:-|
|17eb926d-a891-4a1d-96ce-e805e16b6ec8|index: '{{index()}}',guid: '{{guid()}}',order: 'Web ordermum:ORD12345\~SN05632',balance: '{{floating(1000, 4000, 2, ""$0,0.00"")}}',picture: 'http://placehold.it/32x32',age: '{{integer(20, 40)}}',|2020-01-28 23:51:16.860036 UTC|ACME INC|
|a7e268b4-d098-461b-bd25-90d06f89ca10|index: '{{index()}}',guid: '{{guid()}}',order: 'Web ordernum:ORD54376\~SN04432',balance: '{{floating(1000, 4000, 2, ""$0,0.00"")}}',picture: 'http://placehold.it/32x32',age: '{{integer(20, 40)}}',|2020-01-28 23:20:25.430969 UTC|ABC Comp|

&amp;#x200B;

Query:  Select order\_id, transaction\_uuid,client\_name from transactions\_table where  JSON\_VALUE(transactions\_table,'$.ordernum') LIKE IN ('ORD12345','ORD54376') just doesn not work specially if I have thousands of rows.

Also how do I add the order id that I am querying so that it appears under an order\_id column in the query result?

&amp;#x200B;

Desired Output:

&amp;#x200B;

|order\_id|transaction\_uuid|client\_name|
|:-|:-|:-|
|ORD12345|17eb926d-a891-4a1d-96ce-e805e16b6ec8|ACME INC|
|ORD54376|a7e268b4-d098-461b-bd25-90d06f89ca10|ABC Comp|

TIA.",learnSQL,How run Select Query with LIKE on thousands of rows,1.0,https://www.reddit.com/r/learnSQL/comments/f0k1dh/how_run_select_query_with_like_on_thousands_of/
16,Graciemckbod,1581208495,f10mni,6,1,"I'm taking an introductory SQL course and need a bit of help. How would I change an item that has a NULL value to show the string 'Unknown'?

Thank you!",learnSQL,Changing NULL values to string?,1.0,https://www.reddit.com/r/learnSQL/comments/f10mni/changing_null_values_to_string/
17,sage-idiot,1581257569,f194js,5,1,"Hi all!

I am trying to sort out my home finances using SQL so I can learn and do something useful at the same time. 

While trying to figure out dates of transactions I noticed that data type of  TRANSACTION\_DATE column is VARCHAR2. I tried to change it to date using:

ALTER TABLE longer

MODIFY TRANSACTION\_DATE date

Alas, I'm getting error ' **column to be modified must be empty to change datatype** '

Does anybody know if there's a workaround so I can change the datatype on existing column?",learnSQL,Changing existing column data type from VARCHAR2 to DATE,1.0,https://www.reddit.com/r/learnSQL/comments/f194js/changing_existing_column_data_type_from_varchar2/
18,12tree45678,1581285955,f1g01l,6,1,"I have drawn out an ERD based off a case study but I'm now struggling to answer some basic questions when practising my SQL code writing. How would I write a statement to find out which cities a certain music genre is NOT popular? (where sales are one or less)

Thank you",learnSQL,Writing SQL statement based off ERD,1.0,https://www.reddit.com/r/learnSQL/comments/f1g01l/writing_sql_statement_based_off_erd/
19,Graciemckbod,1581304766,f1k7m4,0,1,How would I write a code for a random prize draw for customers? I tried using the RANDOM() function but not sure how to make sure it only selects from the numbers available for the CustomerID's,learnSQL,Random Prize Draw code help,1.0,https://www.reddit.com/r/learnSQL/comments/f1k7m4/random_prize_draw_code_help/
20,Shilpa_Opencodez,1581330068,f1oee2,0,1, ,learnSQL,SQL From Beginning : Tutorial#7 - GROUP BY Clause,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial7-group-clause.htm
21,rsjf89,1581367258,f1wiym,1,1,"Hello,

&amp;#x200B;

I have two tables, Country (list of countries with various info and stats) and CountryLanguage (the languages those countries speak). For countries that speak multiple languages, the CountryLanguage table has a separate row for each language.

&amp;#x200B;

So when I write the below query, I get two separate rows for countries that speak English as well as another. How can I revise my query so that those countries default to one row that is 'yes'?.

&amp;#x200B;

`SELECT DISTINCT` [`Country.Name`](https://Country.Name) `AS 'Country',`

`CASE WHEN CountryLanguage.Language = 'English' THEN 'yes'`

`ELSE 'no'`

`END AS 'Speaks English'`

`FROM Country`

`INNER JOIN CountryLanguage ON Country.Code = CountryLanguage.CountryCode`

`;`

&amp;#x200B;

Bonus question: I'm always loathe to use Reddit to solve specific problems but I've exhausted all my search ideas - could I have found the answer online and if so, where would I find/how would I word it?

&amp;#x200B;

Thanks,

R",learnSQL,CASE question (with bonus Google search question!),1.0,https://www.reddit.com/r/learnSQL/comments/f1wiym/case_question_with_bonus_google_search_question/
22,niky1703,1581369346,f1x2ef,1,1,"Recently I've come across the concept of correlated subqueries, while familiarizing myself with sql, using sqlzoo. I've looked a few places already and didn't find a description of the process of what a correlated subquery does and how it does it. The closest I've come to a somewhat comprehensible explanation was this : 

*With a normal nested subquery, the inner* ***SELECT*** *query runs first and executes once, returning values to be used by the main query. A correlated subquery, however, executes once for each candidate row considered by the outer query.* 

However I still find it vague and was hoping someone on this subreddit, can put it into simple words for a beginner.",learnSQL,Having trouble understanding correlated subqueries,1.0,https://www.reddit.com/r/learnSQL/comments/f1x2ef/having_trouble_understanding_correlated_subqueries/
23,learn_and_learn,1581369929,f1x7uc,3,1,"So I'm trying to select the months with the highest precipitations (largest rainfalls and largest snowfalls). Mind you, I am working within a PROC SQL process inside SAS enterprise guide.

Here is the code I have so far however I can't seem to do much filtering on the renamed values precip\_tot\_mens\_mm and neige\_sol\_mens\_cm

    PROC SQL;
    	SELECT
    		Mois,
    		SUM(precip_tot_mm) AS precip_tot_mens_mm,
    		SUM(neige_sol_cm) AS neige_sol_mens_cm
    	FROM dataset_meteo_Q_2018
    	GROUP BY Mois;
    QUIT;

Adding *HAVING precip\_tot\_mens\_mm = MAX(precip\_tot\_mens\_mm) OR neige\_sol\_mens\_cm = MAX(neige\_sol\_mens\_cm)* at the end of my query brings up an error, as if nesting a SUM within a MAX function wasn't allowed in PROC SQl.

&amp;#x200B;

https://preview.redd.it/6vgqjhxzy5g41.png?width=331&amp;format=png&amp;auto=webp&amp;s=4dfa11a15bf380288dd8b707cf10052c98e9f092

I'm still very new to SQL so I have a tough time putting into words what I'm trying to achieve so I can look for ressources online. Can anyone please enlighten me?

EDIT : I have created a temporary table from which I managed to select only the two values I need, however it's not pretty.

&amp;#x200B;

    PROC SQL;
    	CREATE TABLE tempmeteo AS
    	SELECT
    		Mois,
    		SUM(precip_tot_mm) AS precip_tot_mens_mm,
    		SUM(neige_sol_cm) AS neige_sol_mens_cm
    	FROM dataset_meteo_Q_2018
    	GROUP BY Mois;
    
    	SELECT MAX(precip_tot_mens_mm)
    	FROM tempmeteo
    		UNION
    	SELECT MAX(neige_sol_mens_cm)
    	FROM tempmeteo;
    QUIT;

&amp;#x200B;

https://preview.redd.it/fj6cgnwf06g41.png?width=55&amp;format=png&amp;auto=webp&amp;s=dc96a07adc1706a1ee9b3c9995773828618d69f6

Edit2: I managed to solve my problem so here is my solution :

&amp;#x200B;

    PROC SQL;
    	CREATE TABLE tempmeteo AS
    	SELECT
    		Mois,
    		SUM(precip_tot_mm) AS precip_tot_mens_mm,
    		SUM(neige_sol_cm) AS neige_sol_mens_cm
    	FROM dataset_meteo_Q_2018
    	GROUP BY Mois;
    
    	SELECT Mois,precip_tot_mens_mm,neige_sol_mens_cm
    	FROM tempmeteo
    	HAVING precip_tot_mens_mm = MAX(precip_tot_mens_mm) OR neige_sol_mens_cm = MAX(neige_sol_mens_cm);
    QUIT;

&amp;#x200B;

https://preview.redd.it/c0icy7wx16g41.png?width=334&amp;format=png&amp;auto=webp&amp;s=aa740df7dfc0ad3e5d804d3df4ef594405ad1f39

However I would really like to solve this problem without having to create a table, so I'm still working on that.. I feel like a subquery could solve that problem.",learnSQL,SELECT...FROM...GROUP BY...HAVINGWorking with meteorological data.,1.0,https://www.reddit.com/r/learnSQL/comments/f1x7uc/selectfromgroup_byhavingworking_with/
24,Elliot9874,1581458401,f2fwae,1,1,"Hello,

I have 2 queries that I am trying to combine with a pivot table in sql server:

&amp;#x200B;

Query 1:

    SELECT b.answer_type, count(b.answer_type) AS [Count]
    FROM Survey_fact_full a
    INNER JOIN AnswerType_dim b ON b.answerType_dim_key = a.answerType_dim_key
    INNER JOIN Survey_dim c ON c.survey_dim_key = a.survey_dim_key--
    AND a.survey_dim_key = '12402'
    AND b.answer_type in ('FC','MC','NC','PC','SC')
    AND a.finalCount = 1
    GROUP BY b.answer_type

Result of Query 1:

&amp;#x200B;

|FC|154|
|:-|:-|
|sc|8|

Query 2:

    SELECT TOP 1 org.org_id_nbr, orgDim.org_specialty_facility_type,  convert(VARCHAR, SurDim.osi_srvy_end_dt , 23) AS [osi_srvy_end_dt], orgDim.org_name
    FROM Organizations org
    INNER JOIN Organization_dim orgDim ON orgDim.org_id_nbr = org.org_id_nbr
    INNER JOIN Survey_dim SurDim ON SurDim.org_name = orgDim.org_name
    INNER JOIN Survey_fact_full SurFull ON SurFull.Survey_dim_key = SurDim.survey_dim_key
    INNER JOIN AnswerType_dim AnsDim ON AnsDim.answerType_dim_key = SurFull.answerType_dim_key
    WHERE org.org_name = 'Test'
    AND convert(VARCHAR, SurDim.osi_srvy_end_dt , 23) = '2019-04-24'

Result of Query 2:

&amp;#x200B;

|org\_id\_nbr	|org\_specialty\_facility\_type	|osi\_srvy\_end\_dt	|org\_name|
|:-|:-|:-|:-|
|100014	|Ophthalmology	|2019-04-24|Test|

&amp;#x200B;

&amp;#x200B;

Desired Result

&amp;#x200B;

|org\_id\_nbr	|org\_specialty\_facility\_type	|osi\_srvy\_end\_dt	|org\_name|FC|SC|MC|NC|PC|Total|
|:-|:-|:-|:-|:-|:-|:-|:-|:-|:-|
|100014	|Ophthalmology	|2019-04-24|Test|154|8||||162|",learnSQL,SQL Server Pivot Table,1.0,https://www.reddit.com/r/learnSQL/comments/f2fwae/sql_server_pivot_table/
25,azirahArray,1581461825,f2gshb,3,1,"Hi, I’m in an intro to databases class at a community college and we are using Oracle Apex workspace. We were instructed to also download 18c XE but have yet to do anything with it. The instructor is awful and seems inexperienced. I really want to get some hands on work on my own. I can find tools to learn sql but want to use the software, not just things like code academy. Any good free tutorials out there for Oracle? Or any other tutorials for industry-wide software for beginners?",learnSQL,Oracle tutorials?,1.0,https://www.reddit.com/r/learnSQL/comments/f2gshb/oracle_tutorials/
26,David23483,1581609158,f3by1b,3,1, ,learnSQL,6 of the Best Niche Platforms to Learn SQL and Python,1.0,https://towardsdatascience.com/6-of-the-best-niche-platforms-to-learn-sql-and-python-f6f13808d2f5
27,linebackr6363,1581695013,f3txwk,3,1,"I have a dataframe that looks like:

id, country, population, turn

22, USA, 750, 1

23, Canada, 249, 2

36, Norway, 23, 3

&amp;#x200B;

Turn indicates that the country population is counted in that order so 1 is counted, 2 is counted then 3 is counted. I already ordered the turn column but in the problem I am trying to solve it is not ordered. If I add USA and Canada together, I get 999. The limit is 1000 so my query needs to return the name of the country that will exceed the limit, which would be Norway in this case. Any help would be appreciated.",learnSQL,Return name of country that exceeds the limit,1.0,https://www.reddit.com/r/learnSQL/comments/f3txwk/return_name_of_country_that_exceeds_the_limit/
28,Gangstarji,1581708714,f3xder,0,1,"For each user who has had some bids, list the user email, the total number of distinct sales the user has had bids on, the number of winning bids, and the total dollar amount of the wining bids. The user has a winning bid if the sale is over (i.e., the end date is in the past), the user has the highest bid and the bid amount is not less than the reserved price. The result should include users who have no winning bids. *Hint*: subqueries can be used in the from clause.

* users(email, name, pwd, city, gender)
* products(pid, descr)
* sales(sid, lister, pid, edate, descr, cond, rprice)
* bids(bid, bidder, sid, bdate, amount)
* items(sid, no, pid, descr)
* reviews(reviewer, reviewee, rating, rtext, rdate)
* previews(rid, pid, reviewer, rating, rtext, rdate)

Clarifications: The lister is represented by an email, bidder is represented by an email.

&gt;I have this so far...  
&gt;  
&gt;SELECT b.bidder, count(b.sid)  
&gt;  
&gt;FROM bids b LEFT OUTER JOIN sales s  
&gt;  
&gt;AND s.edate &lt; DATE('now')  
&gt;  
&gt;GROUP BY b.bidder;

But I have no idea how to approach the number of winning bids and the total amount of winning bids",learnSQL,Having trouble with query (SQLITE3),1.0,https://www.reddit.com/r/learnSQL/comments/f3xder/having_trouble_with_query_sqlite3/
29,terp_tap,1581709557,f3xl2w,4,1,"table{

player\_id,

medal,

event\_id}

Trying to find all the players that have won gold, silver, and bronze. So they could have won a gold at 100m and silver at 200m and then bronze at the relay. I have tried to use group by player\_id and then use having but that doesn't exactly work.",learnSQL,PSQL Question,1.0,https://www.reddit.com/r/learnSQL/comments/f3xl2w/psql_question/
30,Hyperionx13,1581798531,f4f6cf,6,1,"i am doing homework for a intro class in to  sql and i am to use diffdate to find how long a employ as been hired for. however i am getting a null response. i have attached images of my work, Please let me know what i am doing wrong.",learnSQL,Help with Diffdate,1.0,https://www.reddit.com/r/learnSQL/comments/f4f6cf/help_with_diffdate/
31,FEW_WURDS,1581859109,f4qjfq,9,1,I've never had to do anything more complex than join a few tables. I've created a few dashboards with it but its not part of my daily job.,learnSQL,"on a scale of 1-10, how could should one be with 2 years experience?",1.0,https://www.reddit.com/r/learnSQL/comments/f4qjfq/on_a_scale_of_110_how_could_should_one_be_with_2/
32,Hyperionx13,1581861812,f4r17a,9,1,"i am having a issue with inner joins, this is for homework for a intro into SQL class so it should be pretty simple. i will attach images bellow but mainly this is my query. 

select  companyname as Company, productname as Products, 

round(UnitPrice\*(1-Discount)\*Quantity) as TotalPrice

from orders

inner join order\_details on

orders.OrderID=order\_details.OrderID

inner join customers on

customers.CustomerID=orders.CustomerID

inner join products on

products.ProductID=order\_details.ProductID

&amp;#x200B;

and the issue is that i am getting a ""Error Code: 1052. Column 'UnitPrice' in field list is ambiguous""

and i cant figure out why

https://preview.redd.it/c6uocm8qlah41.png?width=1920&amp;format=png&amp;auto=webp&amp;s=500abf6ba5d6a3609d273027df21e2336f4652c3

https://preview.redd.it/hv2h1f8qlah41.png?width=1661&amp;format=png&amp;auto=webp&amp;s=3fc9014d7f322ae8d11c79cb765bdcdf705fa195

https://preview.redd.it/0x9lhp8qlah41.png?width=1920&amp;format=png&amp;auto=webp&amp;s=930a48f600db54f744a281828f50e296ca1ef3ed

https://preview.redd.it/uzylzi8qlah41.png?width=1920&amp;format=png&amp;auto=webp&amp;s=f1bd83401f626cb8628b5f80c98a0505479631a1

https://preview.redd.it/l57qzf8qlah41.png?width=1920&amp;format=png&amp;auto=webp&amp;s=783ac0f5b004ff5179b723d48a51acec9eed725e

https://preview.redd.it/wjqixi8qlah41.png?width=1920&amp;format=png&amp;auto=webp&amp;s=24546eb90f87b76f7967a1f8e72772bc54fd93c0",learnSQL,issue with inner joins,1.0,https://www.reddit.com/r/learnSQL/comments/f4r17a/issue_with_inner_joins/
33,MyRed29,1581956750,f5b6hg,0,1, ,learnSQL,SQL Server - Excellent Tutorial - YouTube,1.0,https://www.youtube.com/playlist?list=PLgQ1-BAAhgPKNS4-i-Wp4BHtMuzNCdGvq
34,CalisthenicsDude95,1581978182,f5gwf4,17,1,"Hello everyone,

I got a joined table that containts a column called target\_date. The column contains 6 values.

    2020-03-08 
2020-03-08 
2020-03-08
2020-05-08
2020-03-10
    
    When I write something like:
    
    SELECT *
FROM example
WHERE example.target_date &gt;= '2020-05-05'

I don't get the values that are higher than the 2020-05-05.  
I already tried these:

    WHERE example.target_date &gt;= 2020-05-05
WHERE date(example.target_date) &gt;= '2020-05-05'
WHERE  Date(example.target_date) &gt;= '2020-05-05'
WHERE target_date &gt;= 2020-05-05
WHERE date(target_date) &gt;= '2020-05-05'
WHERE  Date(target_date) &gt;= '2020-05-05'

I hope someone can help me...",learnSQL,Can't filter by date,1.0,https://www.reddit.com/r/learnSQL/comments/f5gwf4/cant_filter_by_date/
35,mph000,1582002500,f5mj7m,4,1,"I am stuck on some code and could use some help. I created the below table and then inserted the data into the table. When I cross check my fact\_table against the rental table, the rental\_id's and customer\_id's do not match. For example:

Fact table: rental\_id 1 = customer\_key 48

Rental table: rental\_id 1 = customer\_id 130

What did I miss that is causing this?

https://preview.redd.it/l0hu3nos7mh41.png?width=1278&amp;format=png&amp;auto=webp&amp;s=b8786327987e473dfccc17266cc5c562fed3b0ca

https://preview.redd.it/7ssttycx5mh41.png?width=968&amp;format=png&amp;auto=webp&amp;s=5472714721490e4db7bf61ff731635be6d26e706

https://preview.redd.it/k3788epz5mh41.png?width=1932&amp;format=png&amp;auto=webp&amp;s=6bd8629a3113931ab47f667d484ad30de517683a

https://preview.redd.it/d22sl6py5mh41.png?width=1320&amp;format=png&amp;auto=webp&amp;s=bf7cadfb0332140b9c18de6034c399e7967e1a6a",learnSQL,Help with finding error in code...,1.0,https://www.reddit.com/r/learnSQL/comments/f5mj7m/help_with_finding_error_in_code/
36,cnvoaeas,1582023699,f5q4hl,0,1, ,learnSQL,5 Factors that Interviewers Look For In Analytics Candidates,1.0,https://towardsdatascience.com/5-factors-that-interviewers-look-for-in-analytics-candidates-cbc032ef5f0f
37,drollerfoot7,1582028761,f5r0v9,2,1," Hello,

I need to make a WPF project with a database and the ""problem"" we have to solve is the lack of parking spots on campus. I got the idea of a project where you can or register as a driver and make a rendez-vous for carpooling or you can just be a passenger and sign up for one of those.

I have to use a database so I made this ERD but I don't know if this is correct and if this would work with my current idea (maybe I'm missing something or my relationships are wrong).

If anyone wants to verify if this is correct and maybe give some advice if this would work that would be appreciated as this projects is my whole grade for this class.

In summary: a driver can make a spot and a passenger can sign up for said spot if he wants to.

My ERD:

&amp;#x200B;

https://preview.redd.it/mqruy9l3eoh41.png?width=500&amp;format=png&amp;auto=webp&amp;s=5fbae745ca939aed75b1f4e8f3bb041d146511f2

Thanks for reading! (I'm sorry if I'm in the wrong subreddit for this but I couldn't find one related with data modelling.)",learnSQL,Is this ERD correct?,1.0,https://www.reddit.com/r/learnSQL/comments/f5r0v9/is_this_erd_correct/
38,De_Noir,1582040828,f5tppi,2,1,"Dear all,

I only started using SQL, as such I am yet familiarizing myself with the language as well as the terminology. I have recently used the following query to see how many rows each of the tables in my databank has:

    SELECT t.name, s.row_count from sys.tables t
    INNER JOIN sys.dm_db_partition_stats s
    ON t.object_id = s.object_id
    AND s.index_id IN (0,1)
    AND row_count &gt; 0
    ORDER BY row_count DESC

I can understand most of the elements, except for this one ""s.index\_id IN (0,1)"". If I run the code witout this statement I get 1471 results (mostly because a lot of the result repeat multiple times and not because new ones would be added), if I use this statement I get 686 entries, if I replace ""0, 1"" with 1 I get 478 entries and if I replace it with 0 I get 208 entries (478 + 208 = 686). 

Reading documentation on this it says ""*ID of the index. index\_id is unique only within the object.* "" and then the 1 and 0 determine if the table is a ""heap"" or ""clustered index"". Both terms dont mean anything for me, even trough I also did some reading on them (e.g. heap is a database that is apprently not sorted in any way and is very good for entering information fast).

Could somone please clarify, what this statement is actually doing and also why without this statement I get more results that are in essence the same table names repeated multiple times?",learnSQL,"What does ""AND sys.dm_db_partition_stats.index_id IN (0,1)"" do?",1.0,https://www.reddit.com/r/learnSQL/comments/f5tppi/what_does_and_sysdm_db_partition_statsindex_id_in/
39,RickyWho,1582050760,f5wbyg,4,1,"Is ""WHERE SPCG.Student# = STUDENT.Student#"" a join?

SELECT DISTINCT FNAME, LNAME, Course#
FROM STUDENT, SPCG
WHERE SPCG.Student# = STUDENT.Student# 
AND SPCG.Course#='CET1178' 
AND SPCG.GRADE IS NOT NULL;",learnSQL,Question about syntax,1.0,https://www.reddit.com/r/learnSQL/comments/f5wbyg/question_about_syntax/
40,professionalazy,1582068428,f610ya,0,1,"I'm deploying Wordpress on App Engine, and it requires an SQL database. I setup the database in Google SQL, and connected through it by cloud\_sql\_proxy. But I want a local database as well, that will be copied over before deployment after changes.

But when I do a dump from cloud proxy, I get this error:

&gt;Warning: A partial dump from a server that has GTIDs will by default include the GTIDs of all transactions, even those that changed suppressed parts of the database. If you don't want to restore GTIDs, pass --set-gtid-purged=OFF. To make a complete dump, pass --all-databases --triggers --routines --events.  
&gt;  
&gt;mysqldump: Couldn't execute 'SELECT COLUMN\_NAME,                       JSON\_EXTRACT(HISTOGRAM, '$.""number-of-buckets-specified""')                FROM information\_schema.COLUMN\_STATISTICS                WHERE SCHEMA\_NAME = 'wpdb' AND TABLE\_NAME = 'wp\_commentmeta';': Unknown table 'COLUMN\_STATISTICS' in information\_schema (1109)

Can I set this --set-gtid-purged=OFF flag safely?",learnSQL,Cannot move data to/from Google Cloud SQL and CentOS MySQL,1.0,https://www.reddit.com/r/learnSQL/comments/f610ya/cannot_move_data_tofrom_google_cloud_sql_and/
41,tofuscalp,1582175886,f6o6dv,12,1,"Hello,

Somewhat new to SQL. I have an exercise that I need to do and I can't quite get the output im looking for. I attached the table structure. 

The query wanted is : 

**""Write a query to provide the count of distinct clients, total orders, total sales, and average basket by purchase\_channel""**

Purchase channel is shown in the line\_sales table. Meaning whether the transaction was made in store or online.

This is what I have some far :

**SELECT distinct customer\_id, count(customer\_id) as count\_cust\_id, sum(total\_amt) as sum\_total\_amt, count(order\_number) over (partition by customer\_id) as count\_order\_num, avg(total\_amt) over (partition by purchase\_channel)::decimal(7,2) as avg\_basket** 

**FROM line\_sales**

**group by customer\_id, total\_amt, purchase\_channel, order\_number**

**order by customer\_id**

&amp;#x200B;

You can see the output in the attached screenshot. I am unable to get an output gives me the distinct client and average basket by purchase channel. Please help!",learnSQL,"SQL Help : write a query that returns distinct clients, total orders, total sales and avg basket by purchase_channel",1.0,https://www.reddit.com/r/learnSQL/comments/f6o6dv/sql_help_write_a_query_that_returns_distinct/
42,lucian-12,1582179114,f6osaf,0,1,"Hi, 

If you are interested in building better PostgreSQL applications, in this course you’ll find tips for tuning PostgreSQL 12 like a pro. Use the link below: 

[https://www.udemy.com/course/postgresql-high-performance-tuning-guide/?couponCode=0D63B91B8DEA92F52F91](https://www.udemy.com/course/postgresql-high-performance-tuning-guide/?couponCode=0D63B91B8DEA92F52F91)

Enjoy!",learnSQL,[FREE] PostgreSQL High-Performance Tuning Guide - available next 3 days,1.0,https://www.reddit.com/r/learnSQL/comments/f6osaf/free_postgresql_highperformance_tuning_guide/
43,Shilpa_Opencodez,1582188320,f6q9ln,0,1, ,learnSQL,SQL From Begining : Tutorial#8 – UNION Clause,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial8-union-clause.htm
44,professionalazy,1582246771,f7352e,0,1,"There is still an year to go before I can enroll in database class. But I want to build an app to store some information provided by the government.

I’m expecting a maximum of 1 million entries, about 5 thousand a week, imported from a XML file.

I chose Microsoft SQL, as that is used at my job, and would like some guidance before I start. I know C, Python and almost nothing of Swift, so I chose Python as the language.

The data is structured as: Number | Name | OwnerNumber | Type | Comment

And

OwnerNumber | Name | Address

What roadblocks might I encounter, and what tips do you have for me?",learnSQL,Noob welcoming tips,1.0,https://www.reddit.com/r/learnSQL/comments/f7352e/noob_welcoming_tips/
45,histudent1,1582278026,f78tt9,2,1," 

Hi everyone! I am not a computer science student, but I have to attend a course in which it is necessary to have some database knowledge, in particular, general and basic knowledge about these topics:

&amp;#x200B;

https://preview.redd.it/ew28azzez8i41.png?width=449&amp;format=png&amp;auto=webp&amp;s=8cab7932b1813fb206384979722d2c66ea967e94

Currently, about computer science, I only have a basic knowledge about python programming (strings, variables, defining functions, lists, dictionaries, matrices), I attended a really basic course about database (in which they explained what's theoretically a database, what are json and xml, they showed a database as a set of dictionaries and talked about SQL...) but I definitely have to refresh my memory. Do you known some basic and relatively short primer or tutorial (in other words, a good primer or tutorial to allow a beginner to learn) that can allow me to acquire general knowledge and skills about these topics?",learnSQL,Database and SQL for dummies,1.0,https://www.reddit.com/r/learnSQL/comments/f78tt9/database_and_sql_for_dummies/
46,Hyperionx13,1582424280,f83176,5,1, ,learnSQL,Need help with if(grouping),1.0,https://i.redd.it/wsnwe08a2li41.jpg
47,Ull808,1582568047,f8veht,3,1, ,learnSQL,I want to sum the totals from each order an have just one OrderID,1.0,https://i.redd.it/ilov6wskxwi41.png
48,Shilpa_Opencodez,1582612094,f960kc,0,1, ,learnSQL,SQL From Beginning : Tutorial#9 – JOIN Clause,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial9-join-clause.htm
49,Fr3nchFri38,1582775224,fa61s7,0,1,"Given 
EMPLOYEE (ID, Name, Address, PhoneNum, Position, Salary)

Write SQL to retrieve Address of Employee that name begin with C

SELECT * Employee
WHERE Name LIKE 'C';

I feel like I'm missing something in the data to get the result, but I dont know what. Any help?",learnSQL,How to write this statement? Is my statement correct?,1.0,https://www.reddit.com/r/learnSQL/comments/fa61s7/how_to_write_this_statement_is_my_statement/
50,benj_crew,1582830953,fah7cx,8,1,"Hi all,

Brand new to SQL and decided to have a little play around.

I've installed SSMS and restored an old AdventureWorks db. I've opened a few tables and a new query. I'm having this really strange issue. If I click into my query, I can still see the previously selected query. By adding new lines etc, I can get rid of the previous query. 

&amp;#x200B;

Is this a known issue. I've done a quick Google search and not found anything relevant. Presumably it's not a particular setting? Apologies if there is a better suited website/sub to post this.

&amp;#x200B;

&amp;#x200B;

https://i.redd.it/x2uct93bnij41.gif",learnSQL,Just installed SSMS - Having a weird issue viewing queries,1.0,https://www.reddit.com/r/learnSQL/comments/fah7cx/just_installed_ssms_having_a_weird_issue_viewing/
51,Hyperionx13,1582987785,fbdirm,6,1,"i need make abbreviations for contact names, they are provided as John Smith, and i want to provide a row that just say ""JS"" how can i do this?",learnSQL,help pulling only the first letters from first and last names,1.0,https://www.reddit.com/r/learnSQL/comments/fbdirm/help_pulling_only_the_first_letters_from_first/
52,Hyperionx13,1582988956,fbds4c,0,1,"I need to only return the Area codes from the phone number in the attached image, I have no idea how to. This is an intro to SQL and when I look it up online the replies are so complicated i have to be missing something.",learnSQL,formatting phone numbers to only show area codes,1.0,https://www.reddit.com/r/learnSQL/comments/fbds4c/formatting_phone_numbers_to_only_show_area_codes/
53,Hyperionx13,1583003890,fbhi1k,0,1,"I from struggling taking way to long on simple things in my SQL class to blowing through the Home Work. everyone in here is friendly and helpful and give detailed and simple answer to every question.

It has helped a ton! and my classes online so i basically have the book which is useless and my teachers notes which only show how she did similar problem which are written out by hand and are also useless because they explain nothing just are useful to copy.

you all made me enjoy SQL and not have slug through it!!

&amp;#x200B;

Thank A lot!!!!!!",learnSQL,This is an Amazing community!,1.0,https://www.reddit.com/r/learnSQL/comments/fbhi1k/this_is_an_amazing_community/
54,CoqeCas3,1583113155,fc4hd7,0,1,"So at first, I was constantly ignoring stupid \`out of memory\` errors cause of pregmatch() bs, figured out how to fix that with `pcre.jit = 0` in php.ini.

\*\*Of note, PMA was running super slowly.

Then yesterday, I go to start doing stuff with a test db I've been putting off working on, I click on it and get 

&gt;Table [dbo.xxx](https://dbo.xxx) doesn't exist in the engine.

On top of that, the table's collation was listed as 'in use'. I looked it up, pretty much found that my MySQL server is f\*ed, need to reinstall. 

Pfft, really didn't feel like doing that.. 

So I just recreated the db -- all the tables were empty anyway, was only just starting working on it, and there aren't that many tables/columns.

Then I try to create some columns in the fresh db, and you may have seen my [post from yesterday](https://www.reddit.com/r/learnSQL/comments/fbeo2g/does_anyone_see_the_description_column_in_values/).. ya, that wasn't working.

So I said f\* it. Completely uninstalled XAMPP from my computer (honestly not sure about mysql) and started from scratch.

Now, PMA is running MUCH smoother than before, recreated the db (for a third f\*in time) and I'm trying to create some stored functions and every time I go to edit it, IT STRIPS AWAY MY DAMN VARIABLES!!

So this:

    SET _myvar = _myvar + (_funcParam * .03);

Becomes this:

    SET _myvar = _myvar + ( * .03);

Not only that, but the function isn't operating correctly, spitting out random bs. Granted, could very well be an error in my logic, but with shiz being so very much on the fritz, I can't be sure anymore.

Is this an XAMPP problem, a MySQL problem, or is something up with my computer in general?

NOTE: I downloaded and am using the latest version of PMA, v5.0.1",learnSQL,Is XAMPP's PHPMyAdmin broken?,1.0,https://www.reddit.com/r/learnSQL/comments/fc4hd7/is_xampps_phpmyadmin_broken/
55,CoqeCas3,1583120420,fc61ct,9,1,"I DESPISE YOUR LANGUAGE!!!!!!!

You have gone out of your way -- OUT OF YOUR WAY -- to create a language that is so RETARDEDLY simple you have inadvertently made it INSANELY difficult for logical people to understand and learn the syntax.

(-&lt;)",learnSQL,Dear creator(s) of Stuctured Query Language,1.0,https://www.reddit.com/r/learnSQL/comments/fc61ct/dear_creators_of_stuctured_query_language/
56,Shilpa_Opencodez,1583123948,fc6qzt,0,1, ,learnSQL,SQL From Beginning: Tutorial#10 – Sub Queries,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial10-sub-queries.htm
57,Lizard_Ohama404,1583210471,fcpclf,7,1,"```
table 1
------------

table 2
-----------

table 3 many to many table 1 and table 2
-----------

table 4 many to many table 1 and table 2
-----------
```

Is it possible to create relationship `many to many` like that?",learnSQL,How to relationship many to many?,1.0,https://www.reddit.com/r/learnSQL/comments/fcpclf/how_to_relationship_many_to_many/
58,Cpt_Matt,1583254539,fcxioj,0,1,"Hi all,

I'm struggling to figure out what is happening with my SQL.

    SELECT 
	PN.PalletNumberID, 
	PN.Description, 
	COUNT(PNI.ID) AS CountofIndicias,
	COUNT(PNS.ID) AS CountofClass,
	COUNT(PNF.ID) AS CountofFormats,
	COUNT(PNC.ID) AS CountofCountries,
	PN.Disabled
	
    FROM
    ABTOOLS_PalletNumbers as PN
    FULL JOIN ABTOOLS_PN_Indicias AS PNI on PNI.PalletNumberID = PN.PalletNumberID
    FULL JOIN ABTOOLS_PN_ClassOfService AS PNS on PNS.PalletNumberID = PN.PalletNumberID
    FULL JOIN ABTOOLS_PN_Formats AS PNF on PNF.PalletNumberID = PN.PalletNumberID
    FULL JOIN ABTOOLS_PN_ISOCodes AS PNC on PNC.PalletNumberID = PN.PalletNumberID

    GROUP BY
    PN.PalletNumberID,
    PN.Description,
    PN.Disabled

This produces;
PalletNumberID | Description | CountofIndicias | CountofClass | CountofFormats | CountofCountries
:--|:--|:--|:--|:--|:--
1 | ABC | 9 | 9 | 0 | 0 | 0
2 | DEF | 14 | 14 | 0 | 0 | 0
3 | GHI | 2 | 2 | 0 | 2 | 0
4 | JKL | 2 | 2 | 0 | 0 | 0

But based on the data, what it should be displaying is;
PalletNumberID | Description | CountofIndicias | CountofClass | CountofFormats | CountofCountries
:--|:--|:--|:--|:--|:--
1 | ABC | 9 | 1 | 0 | 0 | 0
2 | DEF | 14 | 1 | 0 | 0 | 0
3 | GHI | 2 | 1 | 0 | 1 | 0
4 | JKL | 2 | 1 | 0 | 0 | 0


Any ideas why this isn't doing what I'd expect?",learnSQL,Stuck with Counts,1.0,https://www.reddit.com/r/learnSQL/comments/fcxioj/stuck_with_counts/
0,praturi,1578109874,ejr7iq,0,1, ,learnSQL,SQL Server - Table Type and Table Valued Parameter,1.0,https://sqlskull.com/2020/01/04/sql-server-user-defined-table-type-and-table-valued-parameters/
1,always_chill,1578237545,eke8ml,0,1,"Hello all! Thanks for reading

I have a PostgreSQL database which contains around 4gb of CSV data, split between around 10 tables 

I would like to build a simple web app (I am comfortable with Python) which will essentially allow users to query this data through a variety of different 'filters' which will allow interesting insights. There could be between 30-100 'filters' which I will design. 

I am uncomfortable with the mechanism that turns a user 'filter activation' into a SQL query that generates a result as I have never done this before. Would it make sense to use the following structure?:

* AWS server to store the database 
* Flask backend 
* psycopg2 module to query the database with Python scripts upon user action

My SQL queries take quite long to run in DataGrips and so I worry that the user experience will be very poor. Are there any resources I should look into to avoid pitfalls with this project? 

Thank you so much! Please let me know if there is a more appropriate place to post this..",learnSQL,How should I structure my 'database query' web app?,1.0,https://www.reddit.com/r/learnSQL/comments/eke8ml/how_should_i_structure_my_database_query_web_app/
2,praturi,1578262307,ekjv2y,0,1, ,learnSQL,SQL Server Interview Q &amp; A Quiz on - Substring () Function,1.0,https://sqlskull.com/2020/01/05/sql-server-q-a-quiz-on-substring/
3,dan3the1man1,1578264954,ekkhs7,8,1,"Hello all. I've recently started dabbling with SQL in my current position. I don't have a degree or real education in SQL but I have acquired a basic knowledge now and have really taken a liking to it. Now I'm thinking about transitioning into that for a career but wouldn't know the next step. Just looking for advice on what kind of career opportunities that would bring, pay, and how much time/money I'd need to invest in getting professionally certified/trained in order to make that leap. Thanks in advance.",learnSQL,Need Advice | Career change to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/ekkhs7/need_advice_career_change_to_sql/
4,bitsofshit,1578352545,el26k9,2,1,"is using the where clause in a case statment allowed?

&amp;#x200B;

`select count(case where school_name between 'A' AND 'M' then 'A-Z' else null end) as row`

`fROM benn.college_football_players;`

is throwing error",learnSQL,SQL legality of between in CASE stmt,1.0,https://www.reddit.com/r/learnSQL/comments/el26k9/sql_legality_of_between_in_case_stmt/
5,CalisthenicsDude95,1578386059,el8val,15,1,"Hello everyone,

after a long time I have to relearn most relational database topics. At the moment I'm creating ER models to get a better overview and to understand the normalization process better.

It would be awesome if someone can review a model for me and give me some feedback.

Should I post it here or via pm?

Cheers",learnSQL,Need a review for my relational database schema,1.0,https://www.reddit.com/r/learnSQL/comments/el8val/need_a_review_for_my_relational_database_schema/
6,praturi,1578387414,el92dw,0,1, ,learnSQL,SQL Server window function -Dense _Rank(),1.0,https://sqlskull.com/2020/01/05/2849/
7,mikejp1010,1578423433,elfvv1,8,1,"I apologize if this is something that has been answered before..

I'm looking for practice problems to improve on my sql skills. It would be great to have a basic database that I could download and be able to play around with it or perhaps have a series of questions/problems to answer using it. Does anyone have any ideas on where I can find something like this??",learnSQL,Practice Problems,1.0,https://www.reddit.com/r/learnSQL/comments/elfvv1/practice_problems/
8,TygarRawrs,1578454342,elmyep,5,1,"Not sure why I can't find this online, but my problem is the syntax for selecting a table from a selected table. 

This is my code/attempt that doesn't run:

    SELECT Salary AS SecondHighestSalary
    FROM TopTwo
    WITH TopTwo AS (SELECT * 
                    FROM Employee
                    ORDER BY Salary
                    LIMIT 2)
    ORDER BY Salary DESC
    LIMIT 1;

This is a Leetcode Question:  [https://leetcode.com/problems/second-highest-salary/](https://leetcode.com/problems/second-highest-salary/)",learnSQL,Selecting from a selected from table,1.0,https://www.reddit.com/r/learnSQL/comments/elmyep/selecting_from_a_selected_from_table/
9,Reddit-Chef,1578465147,elozpy,4,1,"    select (Count(stats_account.id)*100 / (count(case when stats_account.id in (select account_id from y.store_collection_playerdata) then 1 else 0 end)))
    FROM x.stats_account
    WHERE DATEDIFF(NOW(), stats_account.joindate) &lt;= 7
    AND DATEDIFF(NOW(), stats_account.last_login) IS NOT NULL

It's returning 100%, which is not true. I'm trying to see a % value of how many of my game's new accounts convert and purchase something. It's returning 100% which I believe is due to the case statement, however I am unsure of how to fix this.",learnSQL,Count Percentage problems for metrics,1.0,https://www.reddit.com/r/learnSQL/comments/elozpy/count_percentage_problems_for_metrics/
10,Vidyakant,1578478890,elqyca,0,1, ,learnSQL,Difference Between Checkpoint And Lazy Writer,1.0,https://tutorialspoint4all.com/difference-between-checkpoint-and-lazy-writer/
11,vincelane1994,1578492917,elt8ik,9,1,"Current SQL to pull the data from the last 2 days

  AND P.Period_Start_Date &gt;= DATEADD(day, -2, convert(date, GETDATE()))  
  AND P.Period_Start_Date &lt; convert(date, GETDATE())

So on Monday i need this to pull Thurs/Friday
Tuesday i need Fri/Mon",learnSQL,How to not pull the weekends,1.0,https://www.reddit.com/r/learnSQL/comments/elt8ik/how_to_not_pull_the_weekends/
12,praturi,1578619508,emjkag,0,1, ,learnSQL,SQL Interview Question -What will be a Query Output ?,1.0,https://v.redd.it/x8qoccj6fr941
13,Pierrlebe,1578723147,en3twp,17,1,"Hi, I am learning SQL on code academy atm.

Which learning material (book? Website?) would you recommend me to learn SQL?",learnSQL,Learn SQL as a beginner,1.0,https://www.reddit.com/r/learnSQL/comments/en3twp/learn_sql_as_a_beginner/
14,TheCapitalKing,1578779474,endw99,1,1,I've been learning sql online through a course using PG Admin for postgres sql. However my company currently uses Microsoft Sql Server management studios and Microsoft Sql server. How different are the two tools and are there any things I need to watch out for when switching between the two?,learnSQL,PG Admin compared to Microsoft Sql Server management studio,1.0,https://www.reddit.com/r/learnSQL/comments/endw99/pg_admin_compared_to_microsoft_sql_server/
15,lithium3d,1578924176,eo4hzw,5,1,"Hi,

&amp;#x200B;

I have the following query:

    INSERT INTO counting(time, counts) VALUES ((SELECT extract(hour from recorded) FROM hello_arduino GROUP BY extract(hour from recorded)),(SELECT COUNT(message) FROM hello_arduino GROUP BY extract(hour from recorded)));

But i'm getting an error that the subquery returns more than one row.. How do I sove this?",learnSQL,query question,1.0,https://www.reddit.com/r/learnSQL/comments/eo4hzw/query_question/
16,benawad,1579015718,eompo9,0,1, ,learnSQL,SQL Tutorial for Beginners,1.0,https://www.youtube.com/watch?v=tp_5c6jaNQE
17,Account4AnonymousQs,1579016173,eomtef,2,1,"I hear ""set the props"" ""find the props"" props props props.

I come from read only SQL. And Java.

I want to say they're just talking about parameters. But feel this is wrong.  But I'm having trouble finding more info. Can someone give me an eli5 and a more detailed explanation by chance?",learnSQL,Everyone keeps referring to 'props' - what does this mean,1.0,https://www.reddit.com/r/learnSQL/comments/eomtef/everyone_keeps_referring_to_props_what_does_this/
18,scotchinmyblank,1579022400,eoo8sk,3,1,"Hi all, new to the sub and in the midst of learning SQL via Udacity's SQL for Data Analysis course. However, I've hit a roadblock - I'm having a tough time solving problems that require subqueries as part of the solution.  Does anyone out there know how to solve problems that require subqueries or even be able to tell when a problem requires a subquery?  Is there a general process for such problems that provide insight as to what the solution is?  Thanks for any help you can give.",learnSQL,How to solve problems that require subqueries?,1.0,https://www.reddit.com/r/learnSQL/comments/eoo8sk/how_to_solve_problems_that_require_subqueries/
19,alexandrei64,1579022966,eoodm8,0,1,[removed],learnSQL,"Hi people. I'm currently trying to make some sense out of the following: CTEs, views and inline table-valued functions. Could you recommend some good online videos (or other resources) that helped you learn them? Thanks a lot! :)",1.0,https://www.reddit.com/r/learnSQL/comments/eoodm8/hi_people_im_currently_trying_to_make_some_sense/
20,Crossroads86,1579113636,ep6bqr,1,1,"Hi everyone.

I am trying to create a Database of Heroes. Every Hero has the classic attributes you would know from a role playing game. Health, Armor, Damage etc.

However, a Hero can have different levels and with each higher level, most of his stats would change/improve. I am unshure what the best practice would be to design this in a relational SQL Database.  
Would it be whise to create a table ""Heroes"" with a column for each of the heroes stats and a new row/data entry for each hero at his individual level. For example Warrior Level 1 would a single row, Warrior Level 2 a single row and so on?",learnSQL,How to model different levels/variants of an Entity?,1.0,https://www.reddit.com/r/learnSQL/comments/ep6bqr/how_to_model_different_levelsvariants_of_an_entity/
21,Jetsyanks88,1579128176,ep9tw1,2,1,"Hi,

&amp;#x200B;

I am trying to learn and figure out some normalization techniques and cant seem to get the linked question below,

[https://www.testdome.com/questions/sql/users-and-roles/35745?visibility=1&amp;skillId=17&amp;orderBy=Time&amp;orderByAscending=False](https://www.testdome.com/questions/sql/users-and-roles/35745?visibility=1&amp;skillId=17&amp;orderBy=Time&amp;orderByAscending=False)

&amp;#x200B;

`I have tried something like,` 

`CREATE TABLE users_roles (`

`user_id INTEGER NOT NULL,`

`role_id INTEGER NOT NULL,`

`FOREIGN KEY (user_id) REFERENCES users(id),` 

`FOREIGN KEY (role_id) REFERENCES roles(id),`

`UNIQUE (user_id, role_id)`

`);`

But doesnt seem to work, thanks for the help in advance!",learnSQL,Many to Many create table help,1.0,https://www.reddit.com/r/learnSQL/comments/ep9tw1/many_to_many_create_table_help/
22,OperationCorporation,1579197620,epmxrl,0,1,"I have a 'data' column that is of type varchar(nullable). It has a mix of strings, random characters, and numeric values.

I've tried the following below, but I keep getting the error, ""Error converting data type varchar to float."" What else do I have to do to catch the crap that ISNUMERIC() is not catching?

    CASE 
        WHEN [DATA] IS NOT NULL THEN
        	CASE 			
        	    WHEN ISNUMERIC(DATA) = 0 THEN [DATA]	
        	    WHEN CAST([DATA] AS FLOAT) &gt; 1.1 THEN 'Above Limit'
        	    WHEN CAST([DATA] AS FLOAT) &lt; 1.1 THEN 'Below Limit'
        	    ELSE 'Within Limits'
        	END
        ELSE 'No Data'",learnSQL,(SQL 2008) How can I catch all varchar values that won't cast to a float,1.0,https://www.reddit.com/r/learnSQL/comments/epmxrl/sql_2008_how_can_i_catch_all_varchar_values_that/
23,dcohen89,1579394827,eqpah1,1,1,"Hello,

I'm new to Sequel Pro and I'm trying to log in.  Everywhere I've read says to use host of ""localhost"", user of ""root"", and a password of blank.  When I try to connect, it suggests I connect via a port using 127.0.0.1.  So I do that.  Any help is appreciated, thank you!

Here's the error: Unable to connect to host 127.0.0.1, or the request timed out.

Be sure that the address is correct and that you have the necessary privileges, or try increasing the connection timeout (currently 10 seconds).

MySQL said: Authentication plugin 'caching_sha2_password' cannot be loaded: dlopen(/usr/local/lib/plugin/caching_sha2_password.so, 2): image not found",learnSQL,Sequel Pro Setup on a Mac,1.0,https://www.reddit.com/r/learnSQL/comments/eqpah1/sequel_pro_setup_on_a_mac/
24,cacoffeeni,1579498896,er8uoq,2,1,"Hello Everyone, 

I'm in college and just recently got interested in programming. Right now I starting to learn SQL since it will be beneficial (I hope) to my major (accounting) and expand from there.

That being said, my workplace (I work at my uni) gave me a wonderful opportunity to create a database to keep track of a program that is funded by the school. Stuff like student records, friends of the program, book inventory, etc are all kept on hard copies or multiple excel sheets that make it very confusing and time-consuming to update/keep track of. My main goal for this database is to be...

1. A simple database that is easy to update and simple to use for people that need to access the records or fix information (there are a lot of older workers in my office, who are more technically inept, I want to make the database really user-friendly for them and new workers)
2. Keep track of overlapping information, and making sure records are not repeated/duplicated into other sheets. 

I'm going to go with MS Access, to create my database, since I'm more familiar with the program but I am open to any advice. 

Thank you in advance for your help. 

Sincerely,

C",learnSQL,"New to SQL, would like advice!",1.0,https://www.reddit.com/r/learnSQL/comments/er8uoq/new_to_sql_would_like_advice/
25,MyRed29,1579535370,erews6,0,1,[removed],learnSQL,"SQL Server - ""IN"" and ""LIKE"" - Use and difference",1.0,https://www.reddit.com/r/learnSQL/comments/erews6/sql_server_in_and_like_use_and_difference/
26,padreteso,1579618721,ervqlk,3,1,"hi, i´m doing a work to database in oracle.

my teacher is asking to do a sum of all columns from table named ""detalhe\_fatura"" and after i need to inner join with column ""valor\_total"" from table ""fatura"". i tried severall ways but none worked,

SELECT DISTINCT (ID\_FATURA + ID\_LINHA\_FATURA + ID\_CONTRATO + ID\_SERVICO + VALOR) 

from detalhe\_fatura

inner join FATURAS on DETALHE\_FATURA.(i dont know what to put here) = faturas.VALOR\_TOTAL;

thanks",learnSQL,"need help, inner join with sum",1.0,https://www.reddit.com/r/learnSQL/comments/ervqlk/need_help_inner_join_with_sum/
27,alex20850,1579652095,es3pqv,10,1,"I have an Oracle table counties with columns: 

state\_name,county\_name,area\_sqmi. 

For each state, I want to show the state\_name, county\_name, and area\_sqmi but only for the largest county in that state.",learnSQL,How to show only the largest one in each group?,1.0,https://www.reddit.com/r/learnSQL/comments/es3pqv/how_to_show_only_the_largest_one_in_each_group/
28,philipwhalen12,1579659057,es573o,13,1,"Hey Everyone,

This summer I start my masters in Data Science. Before I start I want to brush up on SQL. Do you know of any resources to help for practice&gt;",learnSQL,SQL Help,1.0,https://www.reddit.com/r/learnSQL/comments/es573o/sql_help/
29,Shilpa_Opencodez,1579773173,esqx7g,0,1, ,learnSQL,SQL From Beginning: Tutorial#3 - INSERT INTO Statement,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial3-insert-statement.htm
30,eric_pls,1579809837,esyixl,1,1,"I'm currently working at an organization doing basic tech support work. We use MS SQL Server and internally manage massive databases. I occasionally use SQL queries to pull data, but those are typically pre-written.

I'm interested in database administration and am taking the time to teach myself the basics of SQL via some online courses and practice apps in hopes of eventually getting my foot in the door.

I was able to get my hands on an MS SQL Server 2008 Database Development Training Kit book as well as a SAMS MS SQL Server 2000 book for free today. The 2008 book is for the MCTS 70-433 exam which is obviously outdated. Will I still be able to get some valuable info from these? I'm assuming that even though they're both a bit dated, the main concepts will generally still apply.

Essentially just wondering if I'd be wasting my time reading through these two massive books. Any advice is appreciated!!",learnSQL,Useful Books,1.0,https://www.reddit.com/r/learnSQL/comments/esyixl/useful_books/
31,Elliot9874,1579812704,esz84f,9,1,"Hello,  
I'm sure I am not the first person to encounter this problem. Our front end system does a horrible job of ensuring data consistency.    
I am trying to export our phone numbers from the database in a standard format with SQL in SQL Server.  
This is my data:  
**Phn\_Number:**  
1-555-555-5555  
(555)555-5555  
(555) 555-5555  
\-555-5555555  
To make things simple, how do I strip all the spaces and remove all non-numeric numbers. So I get 5555555555.

Thank you",learnSQL,Formatting Phone Number in a Unique Format,1.0,https://www.reddit.com/r/learnSQL/comments/esz84f/formatting_phone_number_in_a_unique_format/
32,MyRed29,1579884825,etd0m5,0,1, ,learnSQL,SQL - 20 Most Found Errors and Fix with Example,1.0,https://youtu.be/wmE10vdhE_Y
33,MyRed29,1580034453,eu54e3,0,1, ,learnSQL,SQL - SQL to display even and odd rows from table,1.0,https://youtu.be/yJX3vTtAOaE
34,Stufftesting,1580087092,eugbkm,3,1,"Hello,

I create a db (SQLite) by importing a csv file into SQLiteStudio.

I am now trying to select a portion of the data, but my where clause does not seem to be working as I keep getting the total amount of rows in the db loaded.

What am I doing wrong? Thanks in advance.",learnSQL,WHERE condition not working in SQLiteStudio,1.0,https://www.reddit.com/r/learnSQL/comments/eugbkm/where_condition_not_working_in_sqlitestudio/
35,Brock_Alee,1580106816,euk5ev,8,1,"Looking very hard at doing a bootcamp that focuses on SQL, SRSS, and SSIS in order to switch careers. Are these things really worth it? Would I realistically have some good job prospects afterwards? Looking to make 80,000+.",learnSQL,Bootcamp Question,1.0,https://www.reddit.com/r/learnSQL/comments/euk5ev/bootcamp_question/
36,oranis400,1580170100,eux5qd,1,1,"Example one an owner can own multiple facilities, but a facility can only have one owner.  Concurrently, a facility can have many programs, but that program can only belong to one facility.  Can the ER model be set as owner-&gt;facility -&gt; program. and if so, should ownerID also be a foreign key for programs?",learnSQL,"Can there be a one to many, one to many relationship?",1.0,https://www.reddit.com/r/learnSQL/comments/eux5qd/can_there_be_a_one_to_many_one_to_many/
37,AGreatCompanion,1580184697,ev0c46,4,1,"\[Reference image\]([https://gyazo.com/ec98face7cd38da74f0ec9bc33e143c0](https://gyazo.com/ec98face7cd38da74f0ec9bc33e143c0))

&amp;#x200B;

I'm currently given the task to translate the following statement into plain English, where sigma means selection, the sideways hourglass means theta-join, and the pi means projection.

&amp;#x200B;

So far, I have that we first take theta-join of the selected tuples in Parts that are of color red and the selected tuples in Catalog that have a cost of less that 100. We then theta-join that with all tuples in Supplies.

&amp;#x200B;

The part that I don't understand is the part following all of that. To my understanding, we take the projection of the sid column of what we calculated. But we then take the projection of the sname column. I'm confused as to how this would be possible, as after the first projection, we no longer have an sname column.",learnSQL,Projection of a projection,1.0,https://www.reddit.com/r/learnSQL/comments/ev0c46/projection_of_a_projection/
38,yorvitech,1580233074,ev8men,0,1, ,learnSQL,Yorvitech Solutions Pvt. Ltd,1.0,https://yorvitech.com/
39,Stixxz-,1580234638,ev8zht,2,2,"Hello All,

Was hoping someone could help me understand if this is doable. Basically I want to extract the following from a sql column:

lets say

    Select col1 from table1;

result:

    &lt;apd src=""apd"" name=""name"" value=""kpi"" /&gt;

What I need to do is to be able to only extract the name element however not sure how to do it without writing a like statement for each unique occurrence.

Look forward to your reply",learnSQL,Extract element out of column,1.0,https://www.reddit.com/r/learnSQL/comments/ev8zht/extract_element_out_of_column/
40,TheNamesNyarlathotep,1580237994,ev9sgc,8,2,I have been tasked by my boss to learn... SQL stuff... and issued a budget of $2k or less. I am looking at a course on SQL programming from developer-bootcamp.com and am wondering if any of you folks have experience with them?,learnSQL,Developer-Bootcamp.com?,1.0,https://www.reddit.com/r/learnSQL/comments/ev9sgc/developerbootcampcom/
41,IDELTA86I,1580261070,evfglh,5,1,"Howdy all.

Just wondering what would the best way to go about the following 'process'

I have a master table with a unique product ID like:

&amp;#x200B;

|Product\_ID|Product|Cost|
|:-|:-|:-|
|12345|Pepsi|1.00|
|45678|Coke|2.00|
|101112|Milk|3.0|

And i get a daily file which has a mix of new products and old

like:

&amp;#x200B;

|Product\_ID|Product|Cost|
|:-|:-|:-|
|78990|Lemonade|1.0|
|45678|Coke|2.0|
|101112|Milk|3.0|

My task is to join the two tables into a temp table using the Product\_ID as the join, and create a new column that has updates to New if it doesn't exist in the master, and Old if it does exist in the master.

So the end result would be 

&amp;#x200B;

|Product\_ID|Product|Cost|New/Old|
|:-|:-|:-|:-|
|78990|Lemonade|1.0|New|
|45678|Coke|2.0|Old|
|101112|Milk|3.0|Old|

&amp;#x200B;

Is this something i can do somehow?

Cheers",learnSQL,Flag duplicates with New/Old after Joining two tables,1.0,https://www.reddit.com/r/learnSQL/comments/evfglh/flag_duplicates_with_newold_after_joining_two/
42,Dbayles48,1580341850,evvrli,4,1,"Ok for some background, I am an IT specialist for a man that gives personal coaching to doctors. Right now, we have data for around 30,000 different doctors who we send weekly email tips to, offer personal coaching, and occasionally visit and give regional conferences. Right now, all of the data (name, office address, phone, fax, email, and notes) are all in an excel document. Inside, I know there is a more effective solution and what keeps coming to mind is SQL. I have no experience with SQL but I'm going into my 2nd year studying computer science. My question is, for a single computer office, does it make sense to store our data using a SQL database or should we just leave it as it is?",learnSQL,Data Management Question,1.0,https://www.reddit.com/r/learnSQL/comments/evvrli/data_management_question/
43,Republikanen,1580385839,ew4e7h,5,1,"I'm trying to create a new View using the following commands. As the title states I'm really new to sql.

    CREATE TABLE Courses(
        code TEXT PRIMARY KEY,
        name TEXT NOT NULL,
        credits REAL NOT NULL,
        department TEXT NOT NULL,
        CONSTRAINT credits CHECK (credits&gt;0)
    );

    CREATE TABLE Taken(
        student CHAR(10) NOT NULL,
        course TEXT NOT NULL,
        grade CHAR(1) NOT NULL,
        constraint check_allowed check (grade in ('U', '3', '4', '5')),
        PRIMARY KEY(student, course),
        FOREIGN KEY (student) REFERENCES Students,
        FOREIGN KEY (course) REFERENCES Courses
    );

    CREATE VIEW PassedCourses AS (
        (SELECT student, course FROM Taken WHERE NOT grade='U')
        NATURAL JOIN (SELECT code AS course, credits FROM Courses) AS temp
    );

But I get the error message:

    psql:/home/gustav/Downloads/test.sql:127: ERROR:  syntax error at or near ""NATURAL""
    LINE 6:  NATURAL JOIN (SELECT code AS course, credits FROM Courses) ...

I have tried alot of different solutions but none seem to work, any tips on how to move forward?",learnSQL,Problem with natural join [new to SQL],1.0,https://www.reddit.com/r/learnSQL/comments/ew4e7h/problem_with_natural_join_new_to_sql/
44,lurchy,1580405733,ew928t,3,1,"I am a beginner at best with SQL queries. I managed to piece the query below together through examples from Google. It is displaying the data i need. However, I would like to add the range of dates used to gather the data into the final report (XLS). 

Can i use the results from the Where GetDate section to display the range used? For example, 1/23/2020 thru 1/30/2020

&amp;#x200B;

Hopefully this makes sense. Thanks for looking!

&amp;#x200B;

SELECT        SOOrders.OrderTypeID, SOOrders.CreatorID, COUNT(\*) AS SOCount, SOOrderTypes.Description

FROM            SOOrders INNER JOIN

SOOrderTypes ON SOOrders.OrderTypeID = SOOrderTypes.OrderTypeID

WHERE        (SOOrders.CreateDate BETWEEN CONVERT(DATETIME, CONVERT(VARCHAR, DATEADD(dd, - 7, GETDATE()), 101)) AND CONVERT(DATETIME, CONVERT(VARCHAR, GETDATE(), 101)))

GROUP BY SOOrders.CreatorID, SOOrders.OrderTypeID, SOOrderTypes.Description

ORDER BY Description asc, SOCount desc",learnSQL,SQL List Range of dates,1.0,https://www.reddit.com/r/learnSQL/comments/ew928t/sql_list_range_of_dates/
45,ImaginaryBread4223,1580414098,ewb6pk,1,1,"Hello everyone,

I was wondering if someone could help me with a problem I am having with an SQL server script, I am using the chinook database, I need to find the total number of albums sold by an artist, I can't seem to figure out how to display the total number of the 

    -- (Chinook db) Display the name of every artist and the total number of albums each artist has available for sale.
    -- Results should show the highest totals first. (275 records)
    SELECT Artist.Name, Album.AlbumId
    FROM Artist
    RIGHT JOIN Album
    	ON Artist.ArtistId = Album.ArtistId
    ORDER BY Album.ArtistId;",learnSQL,"Having trouble with SQL, chinook DB",1.0,https://www.reddit.com/r/learnSQL/comments/ewb6pk/having_trouble_with_sql_chinook_db/
46,CapableRohit,1580449230,ewjnsg,0,1,[removed],learnSQL,SQL query to remove duplicates from a table without using a temporary table.,1.0,https://www.reddit.com/r/learnSQL/comments/ewjnsg/sql_query_to_remove_duplicates_from_a_table/
47,jazmynshook,1580574078,ex8ft5,8,1,"Looking for some insight on which code notepad to install on Windows 10? I typically only work with SQL, HTML, and VBA. 

Requirements that I’d prefer to have:
◾️ Use it as a general workspace for writing and editing.
◾️ Ability to save the scripts.
◾️ Personalize the appearance (font, colors, etc).
◾️ A sidebar that shows all of the open scripts, in a tab- or list-like format. 
◾️ A program that doesn’t constantly crash and force-close. 
◾️ Ability to hold a large number of scripts at a time (I’m a Data Analyst at Amazon - I’m constantly doing 12 things at once lol)

All suggestions are welcome and very much appreciated!",learnSQL,Help! The best Windows Program for a “Code Notepad”?,1.0,https://www.reddit.com/r/learnSQL/comments/ex8ft5/help_the_best_windows_program_for_a_code_notepad/
48,Legogamer16,1580608530,exgu1g,4,1,"Here's the question: ""Who referred each customer to Marcia’s Dry Cleaning? Show columns named CustomerLastName, CustomerFirstName, ReferredByLastName, and ReferredByFirstName. Include the names of customers who were not referred by any other customer in the results of the query.""

this is the table im working with

CREATE TABLE CUSTOMER (

		CustomerID		Int			NOT NULL identity (1,1),

		FirstName 		Char(25)	NOT NULL,

		LastName		Char(25)	NOT NULL,

		Phone			Char(12)	NOT NULL,

		EmailAddress	Char(100)	NULL,

ReferredBy		INT			NULL,

		CONSTRAINT		CustomerPK	PRIMARY KEY (CustomerID),

CONSTRAINT		RefBy\_FK Foreign Key(ReferredBy) REFERENCES Customer(CustomerID)

			);

The ReferredBy is either NULL or the same as another CustomerID.

How do I go about doing this? I cant figure it out.",learnSQL,Homework help,1.0,https://www.reddit.com/r/learnSQL/comments/exgu1g/homework_help/
49,smarttech2020,1580660442,exqris,3,1, ,learnSQL,Sql is simple to learn if one is interested. You need to know the basic sql operators and how to apply them.we have several platforms and tutorials to learn sql in 1 hour or 3hours.Below is favourable for beginners,1.0,https://youtu.be/UTH1XaWfmYM
50,Lilpeka1,1580687854,exxuek,2,1,"I am working on a little project for a stock market database to help me get a better understanding for MySQL.  I want the Ticker (4 letters or numbers to denote which stock it is) to be the primary key since that will be the only constant I can think of, and it is easier to remember than an ID.  I manually set the PK in each new table I am building, but when I set the relation, it brings over the ticker from my ticker table.  Do I need to manually create the Ticker PK in each table, or can I just use the PK from the Ticker table when I set the relationship? Thanks in advance!",learnSQL,[MySQL] Questions about primary key,1.0,https://www.reddit.com/r/learnSQL/comments/exxuek/mysql_questions_about_primary_key/
0,diogene01,1575462400,e5yhum,4,1,"I have a table called Operations in a Hospital DB, with room number , datetime, operation type and patient as attributes.

My goal is to write a query that finds for each different room the days which had most operations in it. So for example if room number 2 had at most 3 operations in a given day I want to get all the days in which that given room had 3 operations in it. 

I tried:

SELECT theatreNo, DATE(startDateTime) datetime, MAX(numOps) max

FROM (SELECT theatreNo, DATE(startDateTime), COUNT(optype) numOps

	  FROM Hospital\_Operation

	  GROUP BY theatreNo, DATE(startDateTime)) B

GROUP BY theatreNo;

But this doesn't return all days with the maximum number of operations for each room, but only one per room.",learnSQL,How do I solve this problem?,1.0,https://www.reddit.com/r/learnSQL/comments/e5yhum/how_do_i_solve_this_problem/
1,stranglingisfun,1575555486,e6hs5c,0,1,"Problem:  [https://www.hackerrank.com/challenges/placements/problem?isFullScreen=true](https://www.hackerrank.com/challenges/placements/problem?isFullScreen=true) 

My initial solution is:

    SELECT s.name
    FROM Students s
    JOIN Friends f ON s.id = f.friend_id
    JOIN Packages p1 ON p1.id = f.id
    JOIN Packages p2 ON p2.id = f.friend_id
    WHERE p2.salary &gt; p1.salary
    ORDER BY p2.salary;

But it returns an error. After reading the discussions about the problem, i solved the issue by just tweaking LINE 3 to:

    JOIN Friends f ON s.id = f.id",learnSQL,Clarification for this HackerRank problem solution,1.0,https://www.reddit.com/r/learnSQL/comments/e6hs5c/clarification_for_this_hackerrank_problem_solution/
2,stranglingisfun,1575556398,e6hz2v,0,1,"The problem:  [https://www.hackerrank.com/challenges/placements/problem?isFullScreen=true](https://www.hackerrank.com/challenges/placements/problem?isFullScreen=true) 

My initial solution:

    SELECT s.name
    FROM Students s
    JOIN Friends f ON s.id = f.friend_id
    JOIN Packages p1 ON p1.id = f.id
    JOIN Packages p2 ON p2.id = f.friend_id
    WHERE p2.salary &gt; p1.salary
    ORDER BY p2.salary;

It was wrong but after reading more in the discussions, all i need to do is tweak LINE 3 and change it to:

    JOIN Friends f ON s.id = f.id

Why is that? Shouldn't it be that `s.id` `= f.friends_id` so that it will retrieve the equivalent names of the friends\_id (best friends) that have higher salary than their friends (`f.id`)?",learnSQL,Need clarification with HackerRank problem's solution,1.0,https://www.reddit.com/r/learnSQL/comments/e6hz2v/need_clarification_with_hackerrank_problems/
3,Gloomy-fox,1575564083,e6jqp7,15,1,"I’ve been asked by my boss to learn sql. Specifically he wants me to be able to take a bunch of data in excel, and run a sql script in that data that exists in an excel doc. Is that even possible?",learnSQL,I’m confused where to start learning,1.0,https://www.reddit.com/r/learnSQL/comments/e6jqp7/im_confused_where_to_start_learning/
4,HelpExcel_,1575644464,e6ztzy,2,1,"Can someone please help break down the steps of the below query? I don't understand how the nested query relates to the first one. 

I see :

1) Everything is selected from b

2) Another nested query gets a table where abc\_name from c = cust\_id\_nmbr from b. 

3) But somehow the query pulls from the the nested table WHERE the nested table is LIKE  the uppercase of a string? How is a whole table LIKE a string? 

&amp;#x200B;

SELECT \*

FROM brandconfig b

WHERE (select c.abc\_name from [cust\_list@TOT.WORLD](mailto:cust_list@TOT.WORLD) c where b.id\_number = c.cust\_id\_nmbr) LIKE UPPER('%johnson%')",learnSQL,Help with Understanding a Query,1.0,https://www.reddit.com/r/learnSQL/comments/e6ztzy/help_with_understanding_a_query/
5,JoshBurnsTech,1575645626,e702qh,0,1, ,learnSQL,Stellar Repair for MS SQL | Recover Corrupt SQL Database,1.0,https://www.youtube.com/watch?v=IWWkyrPEaRA
6,itbloggy,1575897655,e89vdx,0,1, ,learnSQL,Basicx of dbms,1.0,http://itbloggy.com/database.html
7,itbloggy,1575898257,e89zac,0,1, ,learnSQL,Data abstraction and data independence in dbms,1.0,http://itbloggy.com/data-abstraction-data-independence-dbms.html
8,itbloggy,1575898918,e8a3j4,0,1, ,learnSQL,\Data models in dbms,1.0,http://itbloggy.com/data-models-dbms.html
9,One-Primary,1575925410,e8g0ew,11,1,"All I'm doing is creating a table and adding some data to it, please see the code

&amp;#x200B;

    CREATE TABLE favourite_books(id INTEGER PRIMARY KEY, name TEXT, rating INTEGER)
    INSERT INTO favourite_books VALUES (1, ""SQL For Dummies"",
    10);
    

Can anyone tell me whats wrong with this please?",learnSQL,Learning SQL and cant see what I'm doing wrong here,1.0,https://www.reddit.com/r/learnSQL/comments/e8g0ew/learning_sql_and_cant_see_what_im_doing_wrong_here/
10,Shilpa_Opencodez,1575955818,e8mdgn,0,1, ,learnSQL,Learn SQL from Beginning : Tutorial#1 - Select Query,1.0,https://www.opencodez.com/software-testing/sql-for-qa-tutorial-select-query.htm
11,newbie9232,1575964469,e8npv9,5,1,Any pointers on learning as well as practicing data modeling ?,learnSQL,Learning data modeling,1.0,https://www.reddit.com/r/learnSQL/comments/e8npv9/learning_data_modeling/
12,TheOneWhoSendsLetter,1575981544,e8q3is,3,1,"I've been self-learning SQL by reading several books and coding, but I definitely don't understand what indexes are. I know they are a pointer to a value and I think they can be used to enforce uniqueness of values, but why? How does it work? Why are they advantageous?",learnSQL,Sorry for the stupid questions but I can't understand why do you use indexes,1.0,https://www.reddit.com/r/learnSQL/comments/e8q3is/sorry_for_the_stupid_questions_but_i_cant/
13,elgrove,1575983590,e8qg11,6,1,"I have the following table.

order_no - string

credit_card_type - string

total_charged - cast string as float

A user can use more than one payment method to pay for an order - e.g. £25 gift card + £50 credit card to pay a £75 order

order_no|credit_card_type|total_charged
:--|:--|:--
1234|Mastercard|50
1234|GiftCard|25

I'm trying to write a statement that selects the credit_card_type that is used to pay for the largest amount in any order_no.

How can I do this?

Thanks",learnSQL,Select payment method used to pay for the majority of an order,1.0,https://www.reddit.com/r/learnSQL/comments/e8qg11/select_payment_method_used_to_pay_for_the/
14,WhoryGilmore,1576008222,e8vu7m,1,1,"My question is in regards to number 5 on the quiz below. There is an example of the table at the top of the page.

https://github.com/Chenzilla/SQL_Zoo/blob/master/4_soutions.sql


The question is

* Germany (population 80 million) has the largest population of the countries in Europe. Austria (population 8.5 million) has 11% of the population of Germany. Show the name and the population of each country in Europe. Show the population as a percentage of the population of Germany.

My Solution was below, and it's not working

* Select Name, Format((Population / (Select Population From world Where name = 'Germany')), 'P')  as Population
From world
Where Continent = 'Europe'

The answer the site accepts as correct is below. However I don't see the need to use the *100 and CONCAT function when you can simply format it as a percentage. From what I've googled MariaDB supports the Format operator

* SELECT name, CONCAT(ROUND(population/(SELECT population FROM world WHERE name = 'Germany')*100), '%') FROM world WHERE continent = 'Europe';

Appreciate any help and advice, thanks.",learnSQL,Question on an SQLZoo problem.,1.0,https://www.reddit.com/r/learnSQL/comments/e8vu7m/question_on_an_sqlzoo_problem/
15,h4k01n,1576084887,e99zug,0,1,"Firstly - cross posting from /r/sql, secondly - I'm using Hive.

----

I have a base table that contains some aggregated counts.

    +------------+-----+-------+---------------+---------------+------------+------------+
    |    date    | id  |  app  | ex_used_count | ex_base_count | used_count | base_count |
    +------------+-----+-------+---------------+---------------+------------+------------+
    | 2019-01-01 | 201 | api_c |            10 |           100 |         10 |        100 |
    | 2019-01-01 | 304 | api_d |            10 |           100 |         10 |        100 |
    | 2019-01-01 | 642 | api_c |            10 |           100 |         10 |        100 |
    | 2019-01-01 | 111 | api_c |            10 |           100 |         10 |        100 |
    | 2019-01-01 | 142 | api_c |            10 |           100 |         10 |        100 |
    +------------+-----+-------+---------------+---------------+------------+------------+

From these counts, I need to calculate a percentage. The logic for that differs, based on `app` type. Here is a case statement to handle these two possible calculations:

    SELECT
        yyyy_mm_dd,
        id,
        SUM(CASE
            WHEN (app = 'xxx' AND ex_status = 'zzz') THEN ex_used_count/ex_base_count
            WHEN (status = 'yyy') THEN used_count/base_count
        END) AS percentage
    FROM
         schema.database
    GROUP BY 
        1,2

How could I pivot the table in my select, so each `app` value becomes a column. Then, for each of these new columns, calculate the percentage?

Output should look like this:

    +------------+-----+-------+-------+
    | yyyy_mm_dd | id  | api_c | api_d |
    +------------+-----+-------+-------+
    | 2019-01-01 | 201 | 0,1   | null  |
    | 2019-01-01 | 304 | null  | 0,1   |
    +------------+-----+-------+-------+",learnSQL,How to pivot a table?,1.0,https://www.reddit.com/r/learnSQL/comments/e99zug/how_to_pivot_a_table/
16,oldfrostedone,1576098453,e9d7i8,5,1,"How do you combine columns containing the same data into one column of the same name? When I use INNER JOIN my table names come out like: Table1.employee\_number, Table2.employee\_number. How can I merge that data into one column called employee\_number?",learnSQL,Combine columns when using inner join,1.0,https://www.reddit.com/r/learnSQL/comments/e9d7i8/combine_columns_when_using_inner_join/
17,ii_richie,1576114534,e9gqtg,3,1,"I'm very new to SQL so I appologize if this is a stupid question, but i would like a column on one table, to appear, or be mirrored to another table. How can I achieve this?",learnSQL,How can I make the same column appear on multiple tables?,1.0,https://www.reddit.com/r/learnSQL/comments/e9gqtg/how_can_i_make_the_same_column_appear_on_multiple/
18,YupYupYup4242,1576170853,e9qfef,2,1,"So I'm working with MS SQL server and have the following data set in a table named ""Person"":

    ID     Last Name     First Name      EnteredDate
1234   John          Doe             12/12/2019
1234   John          Smith           11/18/2018

In the above example John has changed his last name from Smith to Doe. The only way to get the correct last name for him is to look at the EnteredDate and whatever EnteredDate was last has the correct last name for him.

Here's the query that I'm using:

    SELECT
Person.ID,
Person.LastName,
Person.FirstName,
MAX(Person.EnteredDate)
FROM Person
WHERE Person.ID  = 1234
GROUP BY Person.ID, Person.LastName, Person.FirstName

Here's what it is returning:

    ID     Last Name     First Name      EnteredDate
1234   John          Doe             12/12/2019
1234   John          Smith           11/18/2018

So the MAX function isn't working correctly. I'm thinking that it's returning both records because there are two different values being returned in the Last Name column. Is that correct? If so, then is there a way to make the query work correctly?",learnSQL,Question about MAX and GROUP BY functions,1.0,https://www.reddit.com/r/learnSQL/comments/e9qfef/question_about_max_and_group_by_functions/
19,HelpExcel_,1576173105,e9qxzq,2,1,"I am wondering if this kind of query is classified as anything. Looks like it is some sort of nested column.  The first column has its data from one table and the second column has its data from another table. Almost seems like the same as a JOIN but with different syntax (using Oracle):

&amp;#x200B;

SELECT 'blue rabbit' ""ANIMAL AND COLOR"", 

(SELECT cus\_name  From customers WHERE cus\_ID = 0154) ""Customer Name""

FROM dual",learnSQL,What is This Query Called?,1.0,https://www.reddit.com/r/learnSQL/comments/e9qxzq/what_is_this_query_called/
20,eyaltrabelsi,1576221078,ea0qns,0,1, ,learnSQL,SQL — From Intermediate to Superhero,1.0,https://medium.com/towards-artificial-intelligence/sql-from-intermediate-to-superhero-26b4e6cdcf53
21,bigweeduk,1576231476,ea256c,19,1,"I am setting up some SQL views to be used as Power BI data sources. However, one of the queries constantly takes a long time to run, and I want to figure out what the best way to resolve this is. I am in the finance department at my employer, so SQL query tuning is not really what I do day to day, but I am trying to learn.

The execution plan is here:

[https://www.brentozar.com/pastetheplan/?id=BJGHe1W0H](https://www.brentozar.com/pastetheplan/?id=BJGHe1W0H)

I can see the execution plan is asking me to add some indexes, but I am not sure if I should do that or not. I have read that the SQL hints should not be followed blindly, as it could cause other issues

All help most appreciated",learnSQL,Please help me to understand my SQL Server query plan and its issues,1.0,https://www.reddit.com/r/learnSQL/comments/ea256c/please_help_me_to_understand_my_sql_server_query/
22,jarreed0,1576292502,eaeaq9,0,1, ,learnSQL,My New SQLite Tutorial For Beginners - Make A Database In No Time,1.0,https://www.youtube.com/watch?v=HQKwgk6XkIA&amp;feature=youtu.be
23,marylai22,1576391705,eavna4,3,1, ,learnSQL,TOP SQL &amp; Database Courses [Plus a List of Free SQL Courses],1.0,https://blog.soshace.com/top-sql-database-courses-plus-a-list-of-free-sql-courses/
24,Tistek,1576447572,eb5ifk,3,1,"I'm creating a Discord Bot, and want to store some information using SQL.

I'm pretty sure I can learn SQL fine enough online, but I don't know how to implement it.

Where do I do the SQL, and how do I get Javascript to access and change it?

And I currently just have the bot on my computer, but I would like to get my bot hosted eventually.

Thanks.",learnSQL,How do you Use and Implement SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/eb5ifk/how_do_you_use_and_implement_sql/
25,cookedpossum,1576686914,ecexge,14,1, ,learnSQL,how do you learn the sql pop 360 tailwhip? I can seem to get the flick right,1.0,https://i.redd.it/xh0sj3c36f541.jpg
26,patchie2,1576699107,echorl,1,1,"Specs: Win2016 and MSSQL2014  
I am making a Python script that will check performance on a website.

I believe the problem is related to the load on the db server.

Can i for example query the MS SQL server, and ask for any of the following suggestions, or any other?  
\- CPU load  
\- Memory usage  
\- Network load  
\- SSD load / IOPS  
...etc

Thanks in advance.",learnSQL,Can you fetch server load or any other useful information trough SQL queries?,1.0,https://www.reddit.com/r/learnSQL/comments/echorl/can_you_fetch_server_load_or_any_other_useful/
27,Tyraniczar,1576781852,ecxm6g,16,1,"Hi all,

Im going over joins now and am a bit confused about right joins. 

Why would I use a right join instead of just using a left join?",learnSQL,Why use Right Join?,1.0,https://www.reddit.com/r/learnSQL/comments/ecxm6g/why_use_right_join/
28,vincelane1994,1576847697,eda240,7,1,"I am new to SQL
I am doing an automated report for work making a chart of customer complaints that pulls data from the last 2 days. Soemtimes there are no complaints at all so when i pull the SQL it returns no rows. The program i have to use for making the charts takes the result from the SQL query and if there are no rows it returns no data.

It should be a 3 column result Customer name, No of complaints, Date 

If there is no result for a specific customer for a particular day i would like to still get the customer name and date to show then have the complaints set to 0. I have figured out that i can use the if exists and that allows me to make one dummy row but i do not know how to get more.

if not exists(
SELECT top 10000000

COUNT(QP.Problem_No) 'No of Complaints',
CC.Customer_Code 'Customer',
CAST(QP.Recorded_Date AS DATE) 'Recorded Date'

FROM Quality_v_Problem_2_e AS QP

LEFT OUTER JOIN Common_v_Customer_e AS CC
  ON CC.Plexus_Customer_No=QP.Plexus_Customer_No
  AND CC.Customer_No=QP.Customer_No
  
WHERE QP.Recorded_date &gt;= DATEADD(day, -2, convert(date, GETDATE()))
  AND QP.Recorded_Date &lt; convert(date, GETDATE())
  AND QP.Building_Key in ('1831','1337')
  AND CC.Customer_Code != 'Null'
  
Group By Customer_Code,CAST(QP.Recorded_Date AS DATE)
ORDER BY CAST(QP.Recorded_Date AS DATE) desc

)
begin


select '0' 'No of Complaints','NA' 'Customer','1/1/2019' 'Recorded Date'     --filler information

end",learnSQL,Help with Dummy rows,1.0,https://www.reddit.com/r/learnSQL/comments/eda240/help_with_dummy_rows/
29,northern_crypto,1576948229,edseiv,1,1,How do I create a form that when a button is pushed the form content gets posted to a gallery?  I want the form to upload a photo to a gallery.,learnSQL,User Submitted,1.0,https://www.reddit.com/r/learnSQL/comments/edseiv/user_submitted/
30,innovativebunny,1576948286,edsf00,16,1,"I'm a recent graduate of Accountancy (MAcc), I'd love to work in technology and accounting. For example, Business Systems Analyst with no experience. However, I don't have any SQL skills. What's the best way to learn as a beginner and show that I have these skills? Thank You 😊",learnSQL,How to Start Out?,1.0,https://www.reddit.com/r/learnSQL/comments/edsf00/how_to_start_out/
31,Real_honey_bunny,1576983326,edzggp,4,1,"I'm trying to learn sql using free resources and I got stuck from the start..

I'm taking  [Microsoft SQL Server 2016: Query Data](https://www.linkedin.com/learning/microsoft-sql-server-2016-query-data?u=41910396) and it has .sql files for exercises. 

I installed ssms and downloaded the exercise files.

The course instructed me that I just need to open .sql file but when I open the file it asks me to connect the database engine. I don't know what to do, so I just choose the default setting (desktop\_name\_sqlexpress). 

After this, I see queries but it is not connected to the database, so when I try to execute queries, it gives me an error message. 

&amp;#x200B;

I tried googling but I couldn't find anything. Sorry if it's a stupid question. I just couldn't figure it out by myself.",learnSQL,How do I open .sql file on ssms?,1.0,https://www.reddit.com/r/learnSQL/comments/edzggp/how_do_i_open_sql_file_on_ssms/
32,oFlamingo,1576992621,ee130n,1,1, ,learnSQL,Developed an SQL Query Generating App (Completed),1.0,https://www.youtube.com/watch?v=K9uG63QSW-I
33,Arthymoon,1577109330,eekw7q,1,1," 

Greetings,

I have the followind query:

    SELECT * FROM document d INNER JOIN users_documents ud ON d.id = ud.document_id  WHERE (d.document_state_id=2 AND ud.sharing_type_id=1 AND ud.user_id=:id        AND CURRENT_TIMESTAMP() BETWEEN d.upload_datetime AND d.approval_end_time        AND ud.approval=2) OR(d.document_state_id=1 AND ud.sharing_type_id=2 AND ud.user_id=:id    AND CURRENT_TIMESTAMP() BETWEEN d.active_start_time AND d.active_end_time     AND ud.approval=2) ORDER BY CASE WHEN d.document_state_id=2 THEN d.upload_date_time ELSE d.active_start_time END;

The problem is, that it takes around 400 ms. When I changed the end of query to:

    ORDER BY ud.uploadDatetime;

And I added index: upload\_datetime (table document), now the query takes around 70 ms. The problem is that I REALLY need to sort the data according the first query. 

I tried to add an index:  document\_state\_id, upload\_datetime, active\_start\_time (table document)

, but It did not help (it still takes 300 ms). Which index should I use to lower this time? or what should I do? I am using MySQL.

Thanks a lot for your help!

Query explanation: Query returns new documents for given user with some id. It returns documents for ""approving"" (sharing\_type=1) and for reading (sharing\_type=2), approval=2 (user has not seen the document), approval=1 (user approved the document), 0=disapproved; upload\_datetime=the timestamp of uploading the document to the system; approver\_end\_time=document can be approved by users till this date; activeStartTime=after approval, document will show up to other users from this date TO date (=activeEndTime).",learnSQL,Indexing my query,1.0,https://www.reddit.com/r/learnSQL/comments/eekw7q/indexing_my_query/
34,The_forgettable_guy,1577199783,ef2ffy,1,1,"I'm currently thinking of whether it's necessary to switch to another cloud PostgreSQL provider like Amazon. Currently, I am using Google's Cloud SQL and when I go to my website, its initial load can be as long as 10s before I get data returned. But after that initial start up, it's very fast.

Is this typical long start up typical for ""cold"" cloud database or is it because of Google's infrastructure/settings?",learnSQL,"Google's Cloud SQL cold start up is really slow, is it normal for low activity cloud databases?",1.0,https://www.reddit.com/r/learnSQL/comments/ef2ffy/googles_cloud_sql_cold_start_up_is_really_slow_is/
35,biggestsinner,1577341759,efryt4,5,1,"People have been asking about ""HAVING"" in interviews and I've never ever used it before even after developing very complex web applications designing whole ass ERDs.

I've been finding a way around through subqueries doing various different things to achieve the same thing and it wasn't even that hard to do that.

Can someone explain ""HAVING"" keyword in a nutshell?",learnSQL,"People have been asking about ""HAVING"" in interviews and I've never ever used it before.",1.0,https://www.reddit.com/r/learnSQL/comments/efryt4/people_have_been_asking_about_having_in/
36,BlackFatCat1989,1577401539,eg2ik4,4,1,"Hello all, 

I am new to SQL so thank you for any help.

I am pulling data from a database but all of the values in the rows are numbers. for example

clients

1

2

3

4

I have the text that is associated with the values,

how can I assign the text values to each of the rows?

I was thinking I could just create a lookup table and then do an outer join but I cannot seem to figure out how to do that.

&amp;#x200B;

any suggestions?",learnSQL,creating a lookup table,1.0,https://www.reddit.com/r/learnSQL/comments/eg2ik4/creating_a_lookup_table/
37,diogene01,1577446349,ega4pc,17,1,Which data type should I use to define a column whose value can be 4-digit numbers representing a year between 1901 and 2155 (or 0000)?,learnSQL,Table data type definition problem,1.0,https://www.reddit.com/r/learnSQL/comments/ega4pc/table_data_type_definition_problem/
38,StuckAtWork55,1577468673,ege78n,10,1," 

Hey, [r/SQL](https://www.reddit.com/r/SQL/)

I am creating a Stored Procedure in SQL Server 2016 to gather the number of ""Recommendations"" per ""CityID"".

Based off of what I have below, I am getting these two error messages:

**Msg 102, Level 15, State 1, Procedure sp\_RecommendationsPerSite, Line 4 \[Batch Start Line 5\]**

**Incorrect syntax near '('.**

**Msg 137, Level 15, State 2, Procedure sp\_RecommendationsPerSite, Line 13 \[Batch Start Line 5\]**

**Must declare the scalar variable ""@RecomFormated"".**

Code is below

\---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

&amp;#x200B;

 

    USE [Kittnes_Dogs_AGGREGATE]
CREATE PROCEDURE [dbo].[sp_RecommendationsPerSite] 
 -- Add the parameters for the stored procedure here
 (@CityID NVARCHAR(50),
     u/RunDate DATETIME = CAST(GETDATE() as date),
     u/DepartureTime DATETIME,
     u/ApplesOranges NVARCHAR(250),
     u/RollerCoaster NVARCHAR(50))
AS
BEGIN
 SET NOCOUNT ON;
 -- SET NOCOUNT ON added to prevent extra result sets from
 -- interfering with SELECT statements.
 SELECT u/RApplesOranges AS ApplesOranges, Count(DISTINCT u/RollerCoaster) AS RollerCoaster
 FROM [Kittens_Dogs_AGGREGATE].[dbo].[Recommendations] b
 WHERE u/CityID = 210
 AND cast(@DepartureTime as date) = CAST(GETDATE() AS NVARCHAR)
 AND a.ApplesOranges = b.ApplesOranges
 AND cast(@DepartureTime as date) &lt;&gt; cast(@RunDate as date) as '2019-12-27' -- ,(select count(DISTINCT RollerCoaster)
 FROM [Kittnes_Dogs_AGGREGATE].[dbo].[Recommendations] b
 WHERE CityID = 210
 AND cast(@DepartureDate as date) = CAST(GETDATE() AS NVARCHAR)
 AND a.ApplesOranges = b.ApplesOranges
 AND cast(@DepartureDate as date) &lt;&gt; cast(@RunDate as date)) as CAST(GETDATE() - 1 AS NVARCHAR)
 FROM [Kittens_Dogs_AGGREGATE].[dbo].[Recommendations] a
 WHERE CityID = 210
 GROUP BY ApplesOranges
 ORDER BY 1

END
GO",learnSQL,Fixing A Stored Procedure Error,1.0,https://www.reddit.com/r/learnSQL/comments/ege78n/fixing_a_stored_procedure_error/
39,Smidgett123,1577479521,eggmpe,1,1,"Hi all,

I have to restore a database and a user, so I'm fairly sure I will need SQL Server Management Studio (SSMS).

But do I need to download any of the other software options Microsoft has in the same list, such as Express 64bit, in addition to SSMS?

Any help on the correct download options to select will be much appreciated

Please follow the link for a screenshot of the download options offered, by Microsoft, for SQL Server Express 2014

(Note: I know I need 64 bit)

&amp;#x200B;

Thank you",learnSQL,Beginner Question_What download options to select for MS SQL Server Express 2014,1.0,https://www.reddit.com/r/learnSQL/comments/eggmpe/beginner_question_what_download_options_to_select/
40,alpello,1577480804,eggwql,4,1,"Hi all,

I got use to write it on pc but i fear i'll f it up tomorrow in paper since there's no pc correction help :|

Final will be;
For MongoDB, advanced querying (i.e. aggregations) are not included.
Other than that, all SQL topics including advanced queries are included in this exam.

I didnt write any mongo but ill look into it tonight. 

I'll look into 3nf,normalization things, boyss thingy, inner joins, and things like can A goes to B if Ab goes to B (i dont remember what its called right now) etc.

Damn this thing is scary...",learnSQL,I have a final tomorrow. On paper...,1.0,https://www.reddit.com/r/learnSQL/comments/eggwql/i_have_a_final_tomorrow_on_paper/
41,abond0082,1577496750,egk6up,5,1,I want to download it and connect to python. Just a beginner how can I do that? ANd is it free?,learnSQL,Is Sql free?,1.0,https://www.reddit.com/r/learnSQL/comments/egk6up/is_sql_free/
42,Ep87PxHLBh,1577812192,ei5meh,11,1,"Hello World,

Goal of this  query is to do some row count comparisons for prior day compared to two days prior and then compared to seven days ago - for ETL Monitoring purposes. The dates are not always uniform, so in the subqueries, I need to find the max date that exists in that table. 

The query is taking 280 seconds, which isn't terrible, but can I optimize this to make it faster? The subqueries are probably taking the most processing power - and the max and date functions within each one.

Any suggestions?

    
    select distinct a.date	  yesterday_date,
    		a.rows    yesterday_rows,
                    b.date    two_days_ago_date,
                    b.rows    two_days_ago_rows,
                    c.date    seven_days_ago_date,
                    c.rows    seven_days_ago_rows,				
                    (a.rows - b.rows)                               2_days_diff_count,
    	        round(((a.rows - b.rows) / b.rows) * 100, 2) 	2_days_diff_pct,
    	        (a.rows - c.rows)                               7_days_diff_count,
                    round(((a.rows - c.rows) / c.rows) * 100, 2) 	7_days_diff_pct			
    from
    	(
    	select distinct date(date_created) date, count(*) rows
    	from TABLENAME
    	where date(date_created) = (select max(date(date_created)) - 1 
                                        from TABLENAME)
                                        group by date(date_created) 
    	) a,
    	(
    	select distinct date(date_created) date, count(*) rows
    	from TABLENAME 
    	where date(date_created) = (select max(date(date_created)) - 2
        				    from TABLENAME)
                                         group by date(date_created) 
    	) b,
    	(
    	select distinct date(date_created) date, count(*) rows
    	from TABLENAME 
    	where date(date_created) = (select max(date(date_created)) - 7
      				    from TABLENAME)
    	                            group by date(date_created) 
    	) c
    group by a.date
    ;",learnSQL,Subqueries taking up processing time - Optimization Suggestions?,1.0,https://www.reddit.com/r/learnSQL/comments/ei5meh/subqueries_taking_up_processing_time_optimization/
43,mypirateapp,1577861233,eifak1,5,1,"I have a bunch of md5 ids

&amp;#x200B;

6c26e28dc6484f0e998fd18b883de4c6

2bf4d0d85709c75adba13ba48011d62c

a67a5bcf329d58d2c23ed422214f66b3

...

&amp;#x200B;

Some of them are present in the table and some of them are new. How do I find which of these ids are not present in table

If I do 

select id from items where id not iN (...) it then excludes all the ids

If I do 

select id from items where id IN (...) it only gives the ids that are present and I have to programmatically find the ones not present

How do I directly get the IDS not present

Database: postgresql",learnSQL,How do I find which of these ids is not present in the table,1.0,https://www.reddit.com/r/learnSQL/comments/eifak1/how_do_i_find_which_of_these_ids_is_not_present/
44,wayfaringnomad,1577902548,eili3n,3,1,"Hello all,

&amp;#x200B;

I have a database called 'Customer' within it I have a table called 'Product' and within this product table I have a column called 'Class' and ' Client'. Now this class column has single values and  numerous values in the column separated by a ; it looks like this:

&amp;#x200B;

Class	Client

1	             a

5	             b

6	             c

8;4	             d

7	             e

2	             f

1	             g

3	             h

2;1	             i

8;5;9;10       j

10	             k

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

what i am trying to accomplish is separate all of the classes  by client and apply a text value to the class. for example here is the text value I want to correspond with the numerical values under the class column. (unfortunately these text values are not in the database and I dont have permission to create a table).

Class	Product 

1	          cat

2	          dog 

3	           bird

4	          fish

5	           tree

6	          car

7	          desk

8	          TV

9	         door

10	         bike

11	         radio

12	         disk

&amp;#x200B;

This is what the desired output would look like. 

&amp;#x200B;

Client	Class

a	          cat

b	          tree

c	         car

d	          TV

d	          fish

e	          desk

f	          dog 

g	           cat

h	          bird

i	          dog 

i	          cat

j	          tree

j	          TV

j	           door

j	          bike

k	           bike

&amp;#x200B;

How would I do this? I am using Microsoft SQL Server Management Studio 

&amp;#x200B;

Thank you!",learnSQL,Splitting a column and adding text value to the numerical value,1.0,https://www.reddit.com/r/learnSQL/comments/eili3n/splitting_a_column_and_adding_text_value_to_the/
45,bob_bagels_MD,1577920123,eipcu1,8,1,"I've got numerous notebooks laying around my office from failed years of self-learning and I need a new way to get this knowledge into my head.

I'm reading a book:

Microsoft SQL Server 2012

T-SQL Fundamentals 

Itzik Ben-Gan

&amp;#x200B;

&amp;#x200B;

I got numerous colored flashcards. I figured yellow would be functions, and blue would be keywords, and white cards would be coding samples. But maybe that's too much.",learnSQL,Do you guys make SQL flashcards or use One Note when trying to study this material? How do you organize your notes.,1.0,https://www.reddit.com/r/learnSQL/comments/eipcu1/do_you_guys_make_sql_flashcards_or_use_one_note/
46,praturi,1577966517,eixeqj,3,1, ,learnSQL,SQL ROLLUP clause,1.0,https://sqlskull.com/2019/12/08/sql-rollup/
47,playingwithmynetwork,1577980964,ej0122,0,1,"Hey, 

I am a beginner trying to setup a localhost server on a windows 10 computer with MySQL Workbench. There is a program that uses MySQL  for its database. I’m guessing this is how a localhost server has already  been created. MYSQL Workbench asks for a password when I try to do anything other than create a schema and I have not set the password. If I reset the root password will that affect the program currently using MySQL?",learnSQL,Resetting Root Password,1.0,https://www.reddit.com/r/learnSQL/comments/ej0122/resetting_root_password/
48,Zendakin_at_work,1577991307,ej2dud,4,4,"Hey all, I have a task that I'm trying to figure out how to do for work. I'm looking for help on how to proceed here.   
Basic pseudo-coding or planning &amp; guidance is what I'm looking for. 

The ask to me is to find out how many duplicated jobs have been created &amp; completed within the last two months time frame. 

The first part is fairly easy I suppose, \`select job\_ID from table where job\_creation\_date &lt; 2 months time\`.

From there though, I'm not sure how to (or what the best method is) to check these jobs have a second (or more) request created. A colleague said that the windows function might be useful. Unfortunately I'm unfamiliar with that function right now.

I think my plan is to create a temporary table that has the job\_type, job\_id, job\_status and job\_creation\_date.  
Then using that table, see if there are any newer occurrences based on the job\_type &amp; job\_id that have the job\_status of complete.

From what I have been able to detail here, is this a solid path to work on this issue or is there a better way to accomplish this? How would you go about tackling this issue? 

Thanks in advance for any assistance.",learnSQL,Counting occurances within a time frame,1.0,https://www.reddit.com/r/learnSQL/comments/ej2dud/counting_occurances_within_a_time_frame/
49,Shilpa_Opencodez,1578052590,ejegh2,0,7, ,learnSQL,SQL From Beginning :Tutorial#2 – Where Clause,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial2-clause.htm
0,Nero420,1572850313,drdyom,3,3, ,learnSQL,How do i execute the query in mysql with terminal ?,1.0,https://i.redd.it/fb1v2dao9mw31.png
1,LoganBlackisle,1572866965,drgc74,0,1,"I've written the following trigger, which is supposed to delete any ""productgroup"" when the last ""product"" in that ""productgroup"" is deleted:

    CREATE TRIGGER afterLastDelete
    ON Product
    AFTER DELETE
    AS
    IF (SELECT COUNT(*)
    			FROM ProductGroup pg, Product pro
    			WHERE pro.pgID = pg.pgID) &lt; 1
    BEGIN
    	PRINT 'That was the last Product in the ProductGroup : The ProductGroup will therefore be deleted now'
    	DELETE pg
    	FROM ProductGroup pg, Product pro
    	WHERE pg.pgID = pro.pgID
    END

And I attempt to active the trigger:

    DELETE Product
    FROM Product pro, ProductGruppe pg, Price pri
    WHERE pro.pgID = pg.pgID
    AND pro.productID = pri.productID
    AND pg.name = 'Malt'

And get the error:

    The DELETE statement conflicted with the REFERENCE constraint ""FK__Price__productID__3DE82FB7"". The conflict occurred in database ""Brewery"", table ""dbo.Price"", column 'productID'.

How do I get around that?",learnSQL,Trigger after delete - foreign key problems,1.0,https://www.reddit.com/r/learnSQL/comments/drgc74/trigger_after_delete_foreign_key_problems/
2,thumbsdrivesmecrazy,1572927997,dru4h0,0,3,"The tutorial will shows how to connect any PostgreSQL database to a local Jupyter notebook: [Connecting A Jupyter Notebook With PostgreSQL For Python Data Analysis](https://blog.panoply.io/connecting-jupyter-notebook-with-postgresql-for-python-data-analysis)

When connected to remote data sources - such as a Postgres database running on an AWS instance or a data warehouse - Jupyter notebooks can become powerful tools for streamlining, documenting and replicating your data analysis workflow.

The following two Python packages used to connect to your database through your notebook:

* SQLAlchemy - generates SQL statements from python
* Psycopg2 - communicates your SQL statements to your Postgres database",learnSQL,Connecting A Jupyter Notebook With PostgreSQL For Python Data Analysis (Tutorial),1.0,https://www.reddit.com/r/learnSQL/comments/dru4h0/connecting_a_jupyter_notebook_with_postgresql_for/
3,Vertfire-Produce,1573075980,dsmyzn,3,2,"So, I'm a kid who has learned a bit of WPF and I'm at the point where I want to save data from the user and store it for later. Are SQL databases what a need? I have trouble grasping what they do--are they a local thing or do they exist online, what is a SQL adapter, and is SQL a programing language. If I want to use SQL databases, do I have to learn the SQL language if it exists? So, I have a ton of questions so hopefully, some of your SQL masters can explain this whole ordeal to me.",learnSQL,Can someone explain to me what sql is in relation to wpf,1.0,https://www.reddit.com/r/learnSQL/comments/dsmyzn/can_someone_explain_to_me_what_sql_is_in_relation/
4,thumbsdrivesmecrazy,1573104173,dst0yw,0,1,"Data exploration, or data profiling, is the first step in sound data analysis. The point here is to get familiar with and understand the data you are working with. The following tutorial walks you through the steps of exploring your data using PostgreSQL: [Listing Tables And Columns In Postgres: A PG_TABLE_DEF Tutorial](https://blog.panoply.io/exploring-data-in-postgres)

PG_TABLE_DEF is a table (actually a view) that contains metadata about the tables in a database. It is kind of like a directory for all of the data in your database and gives you all of the schemas, tables and columns and helps you to see the relationships between them.",learnSQL,Listing Tables And Columns In Postgres (Tutorial),1.0,https://www.reddit.com/r/learnSQL/comments/dst0yw/listing_tables_and_columns_in_postgres_tutorial/
5,bballbet,1573113438,dsumpt,0,1, ,learnSQL,How to correcdtly use lag and lead in SQLServer,1.0,https://www.reddit.com/r/SQL/comments/dsujic/how_to_correcdtly_use_lag_and_lead_in_sqlserver/
6,botkiller12,1573117690,dsv8gn,2,1,"Hello, I have this coding test to complete. I am very new at this, can someone please help. Data store and csv file are uploaded in the link provided.

[https://we.tl/t-DDi7vrZaD3](https://we.tl/t-DDi7vrZaD3)

**Description**

An educational survey on 2477 students from 10 schools was conducted with specific objectives to collect data about student’s ICT and non-cognitive skills. The data file (*survey\_data.csv*) consists of 46,081 rows and 8 columns. Some columns are numerical, and some are categorical. Some of the fields appear in the data are as follows:

\- ***Question***: Question’s statement;

\- ***Survey*** ***Score***: Normalized feedback score provided by students to the questions. High feedback score indicates more student’s agreement with the question’s statement;

\- ***Survey Time Spent***: The amount of time students spent to complete the survey (in minutes);

\- ***Exam Score***: The midterm exam scores of the students.

Challenges

Please answer the following questions and provide the code or evidence you used to calculate the results.

1. What is the general correlation between ***Survey Score*** and ***Exam*** ***Score***?
2. Is there any correlation between the students’ feedback on ***Parental Involvement*** questions and their Exam score? What about ***Teacher facilitation*** and ***ICT Skills*** questions? (You need to identify the relevant questions of these categories)
3. What is the role of ***Gender*** on feedback Scores for different questions? What is the general role of ***Gender*** on feedback score?
4. What other interesting insights you can find from this data?

Our preferred language choices are Python and SQL.",learnSQL,Urgent Help needed for Coding Assessment,1.0,https://www.reddit.com/r/learnSQL/comments/dsv8gn/urgent_help_needed_for_coding_assessment/
7,fabiooh00,1573143784,dt00d6,3,1,"I need to check if the datetime inserted in a row is equal to at most datetime now + 1 day.

Is it possible in SQL? How can I do it?",learnSQL,Datetime operations,1.0,https://www.reddit.com/r/learnSQL/comments/dt00d6/datetime_operations/
8,ZombieSays2SucK,1573168825,dt69do,3,1,"I'm working on a lab for class and tried using a sequence number within a where clause. So

Where department_number = dept_number_sequence.nextval;

I'm getting an error saying that a sequence is not allowed here. Can someone explain why? Cheers.",learnSQL,Sequence in a where clause,1.0,https://www.reddit.com/r/learnSQL/comments/dt69do/sequence_in_a_where_clause/
9,jp081298,1573183374,dt9dfl,0,1,"I am using SQLplus and get the error after all my rows have been created. I do not have another row being created, but somehow get this error.",learnSQL,I am getting a ORA-00001 error when all my rows have already been created,1.0,https://www.reddit.com/r/learnSQL/comments/dt9dfl/i_am_getting_a_ora00001_error_when_all_my_rows/
10,JagicMohnson,1573195941,dtbmly,7,1,My Finance team uses Excel’s DB editor to run SQL queues from Oracle. My DBA gave me a copy of Toad since I’ve been writing more advanced queries and it’s hard to debug my queries in Excel. Just curious if anyone has any interesting ideas on how I can use Toad besides plussing my query-writing abilities. Is there anything else I’m missing out on with Toad?,learnSQL,Excel vs Toad,1.0,https://www.reddit.com/r/learnSQL/comments/dtbmly/excel_vs_toad/
11,jpj165,1573248044,dtm15n,19,1,"Hi all, 

I'm was previously a management consultant and am currently trying to transition into the startup world. I'm realizing that SQL is a huge requirement/plus for many of the roles I'm looking into.

What's the best way to go about learning SQL? I have python and VBA experience. I'm just looking for the best free site/resource for learning a new language. Thanks in advance!",learnSQL,Learning SQL!,1.0,https://www.reddit.com/r/learnSQL/comments/dtm15n/learning_sql/
12,I_want_to_be_classy,1573319179,dtymec,4,1,"I am trying to practice SQL queries by using SSMS. I have connected before to a local database on my computer. However, now I cannot get past the ""connect"" dialog box. Does anyone know how to set this up?",learnSQL,Trying to practice SQL on SSMS. How do I connect?,1.0,https://www.reddit.com/r/learnSQL/comments/dtymec/trying_to_practice_sql_on_ssms_how_do_i_connect/
13,TheBritishFox,1573426802,duizgd,11,1,"when updating my sql it keep spitting out a  ""You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'WHERE \`Goods\_id\`=' at line 1 ""

&amp;#x200B;

here the query

  $sql=""UPDATE \`tbl\_goods\` SET \`Buyer\_id\`=$userid,\`currentbid\`=$bid WHERE \`Goods\_id\`=$goods"";",learnSQL,help keep getting a SQL error when updating via a php page,1.0,https://www.reddit.com/r/learnSQL/comments/duizgd/help_keep_getting_a_sql_error_when_updating_via_a/
14,irixnox,1573442276,dumc1x,0,1,"**select** max(lv.logdate), distinct uv.username, uv.createtimestamp, uv.lastaltertimestamp **from** dbc.usersv uv **left** **outer** **join** dbc.logonoffv lv **on** uv.username = lv.username **where** uv.username **in** ('amohammad','gbeard','aacharya', 'jjacob','ppatel','ycha') **group** **by** uv.username, lv.logdate, uv.createtimestamp, uv.lastaltertimestamp **;** 

&amp;#x200B;

Obviously there's an issue for putting distinct",learnSQL,Query syntax help,1.0,https://www.reddit.com/r/learnSQL/comments/dumc1x/query_syntax_help/
15,irixnox,1573442874,dumgi3,4,1,"**select** max(lv.logdate), distinct uv.username, uv.createtimestamp 

**from** dbc.usersv uv 

**left** **outer** **join** dbc.logonoffv lv 

**on** uv.username = lv.username 

**where** uv.username **in** ('a','b', 'c', 'd') 

**group** **by** uv.username, lv.logdate, uv.createtimestamp, uv.lastaltertimestamp **;**

&amp;#x200B;

Obviously there's something wrong for putting distinct in the select statement

How do I fix this?",learnSQL,SQL Syntax Help,1.0,https://www.reddit.com/r/learnSQL/comments/dumgi3/sql_syntax_help/
16,Magic_Juand,1573517532,dv1m7j,0,1," 

Hi Everyone,

I recently downloaded Oracle 11g and was able to create a database using System. Now, I am trying to create a new user so that I can create a new database under that Username so the tables I create are not commingled with admin tables. I am unable to create a new DB connection using one of the new users. It says username/password is incorrect (this is not true)... Can someone let me know the correct way to create a user and a new database?

&amp;#x200B;

Any ideas on how to correct this?

https://preview.redd.it/okrji8cud5y31.png?width=759&amp;format=png&amp;auto=webp&amp;s=b8bdcb9b871ac8015f7f2cfae1bf3d5de035e746

https://preview.redd.it/tftmj9cud5y31.png?width=600&amp;format=png&amp;auto=webp&amp;s=4e1fc4eaff2fd0a885bedcee2617f356d99ee6d6

https://preview.redd.it/d95cndcud5y31.png?width=590&amp;format=png&amp;auto=webp&amp;s=3a792682228db3b68a73bb39c6d09f242af90d9a

https://preview.redd.it/2jozf9cud5y31.png?width=576&amp;format=png&amp;auto=webp&amp;s=8279298e332049730fc0dfee40a88f157af7f3f6

https://preview.redd.it/mkmyw8cud5y31.png?width=761&amp;format=png&amp;auto=webp&amp;s=0ae0c3f8bcb4074388dec7dad896cfb7203c43a9",learnSQL,Oracle 11G: Unable to create new user/db,1.0,https://www.reddit.com/r/learnSQL/comments/dv1m7j/oracle_11g_unable_to_create_new_userdb/
17,choose_whitey,1573576325,dvccrw,2,1,"I'm working on an artwork management application. (learn to program and SQL)

I'm using MariaDB 10.04

My database contains tables like: Customer, Manufacturer, Products, Records, Attachments etc.  
The ""Products"" table contains ALL products that the user can offer to customers and the products he can order from manufacturers.

I can't figure out how to link the tables ""Manufacturer"" and ""Products"". I want every manufacturer to have their own list of products they can offer (Several can offer the same product, because they are very generic). I want to be able to filter what manufacturer offers a selected product.

How do I achieve this? What tables do I need?

Thanks for any advice in advance.",learnSQL,DB Normalization - prevent update anomalies,1.0,https://www.reddit.com/r/learnSQL/comments/dvccrw/db_normalization_prevent_update_anomalies/
18,gqcharm,1573592705,dvgcjq,4,1,"Like the title says.. 

I’m looking to transition into healthcare analytics or health BI from the tech side of radiology. 

I am primarily interested in knowing: 
Self study time period?
What online courses, websites or book you used?
What skills did you have that got you the job? 

Any information relating to getting started in databasing, healthcare BI, and analytics is appreciated. 

Thanks",learnSQL,How long did it take for you to feel comfortable working with SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/dvgcjq/how_long_did_it_take_for_you_to_feel_comfortable/
19,saltlife703,1573608506,dvk7d4,9,1,"Any suggestions on where I can/should learn SQL online? 

Google suggests Udemy, SQLZoo, Khan Academy, etc. Any experts out there agree or disagree? Trying to figure out where I should start.",learnSQL,Where to learn SQL online?,1.0,https://www.reddit.com/r/learnSQL/comments/dvk7d4/where_to_learn_sql_online/
20,xalitech1,1573610472,dvkmbw,0,1, ,learnSQL,SQL Basics,1.0,https://xalitech.com/sql-basics/
21,cybercrusader,1573616588,dvlv64,6,1,"Imagine I had the following data in Table 1:

&amp;#x200B;

|ID|Color|Toy|
|:-|:-|:-|
|1|Red|Car|
|2|Red|Truck|
|3|Red|Truck|
|4|Blue|Car|
|5|Blue|Car|
|6 |Yellow|Airplane|

And I wanted to return the most count of the most frequent toy for each color. How do I do this?

I've tried 

SELECT aa.color, aa.toy, max(aa.totalcount) AS maxcount FROM (Select Color, Toy, count(\*) AS totalcount FROM Table 1 GROUP BY Color, Toy) aa;

And for some reason that does not seem to work. What am I doing wrong? 

&amp;#x200B;

The desired output I want is:

Red Truck 2

Blue Car 2

Yellow Airplane 1

&amp;#x200B;

Thanks for your help!",learnSQL,SQL Syntax Help: Returning the maximum value of a counted combination.,1.0,https://www.reddit.com/r/learnSQL/comments/dvlv64/sql_syntax_help_returning_the_maximum_value_of_a/
22,thumbsdrivesmecrazy,1573646133,dvqp6o,0,1,"The following overview quickly explains how PostgreSQL stacks against MySQL. It compares the key technical differences between PostgreSQL and MySQL: indexes, queries, performance, replication and clustering: [PostgreSQL Vs. MySQL: Differences In Performance, Syntax, And Features](https://blog.panoply.io/postgresql-vs.-mysql)",learnSQL,"PostgreSQL Vs. MySQL Comparison: Performance, Syntax, And Features",1.0,https://www.reddit.com/r/learnSQL/comments/dvqp6o/postgresql_vs_mysql_comparison_performance_syntax/
23,TacitusJones,1573656590,dvssui,3,1,"Is there a way to discover what kind of data type a column is?

&amp;#x200B;

I'm trying to figure out if two tables can connect, and I know I am going to need to cast my data. Problem is I don't know what the data type they need to be cast to.",learnSQL,HELP!,1.0,https://www.reddit.com/r/learnSQL/comments/dvssui/help/
24,AgitatedTowel,1573672435,dvwmd1,6,1,"Years ago we had actual MS Sql Server available to us in school, but I've switched computers since then. 

I'm looking for a legitimate free or low cost version of MS Sql Server and maybe a guide on how to get it running and interact with it. I'm super rusty but I want to pick it back up and learn it.",learnSQL,"Is there a free/low cost MS Sql Server I can practice on, and a guide on how to get it running?",1.0,https://www.reddit.com/r/learnSQL/comments/dvwmd1/is_there_a_freelow_cost_ms_sql_server_i_can/
25,TheBritishFox,1573680123,dvyjm3,10,1," 

##### 

##### debug code DELETE FROM tbl_users WHERE userid='' ; DELETE FROM tbl_goods WHERE seller_id=''

the error message

You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'DELETE FROM tbl\_goods WHERE seller\_id=''' at line 1 

&amp;#x200B;

the SQL for the PHP

 

$sql=""DELETE FROM tbl\_users WHERE userid='$userid3' ; DELETE FROM tbl\_goods WHERE seller\_id='$userid3'"";",learnSQL,having SQL syntax error on webpage despite it working when put into my PHPmyadmin,1.0,https://www.reddit.com/r/learnSQL/comments/dvyjm3/having_sql_syntax_error_on_webpage_despite_it/
26,cally0611,1573698947,dw2vhp,3,1,"Hi,

I need some help forming a query whereby I need to select from multiple table based on value in the parent table.

Right now, I am using UNION, is there a better way to do this as I would need to store it in a stored procedure.

    SELECT StopReason.StopReason_ID, StopReason.StopReason_Text,ShiftStartEnd.ShiftStartEnd_Text
    FROM StopReason
    INNER JOIN ShiftStartEnd ON StopReason.StopReason_ID = ShiftStartEnd.StopReasonParent_ID
    UNION
    SELECT StopReason.StopReason_ID, StopReason.StopReason_Text,Cleaning.Cleaning_Text
    FROM StopReason
    INNER JOIN Cleaning ON StopReason.StopReason_ID = Cleaning.StopReasonParent_ID
    UNION
    SELECT StopReason.StopReason_ID, StopReason.StopReason_Text,DownTime.DownTime_Text
    FROM StopReason
    INNER JOIN DownTime ON StopReason.StopReason_ID = DownTime.StopReasonParent_ID

The reason being is because I would need to use the result as a datatable in C#, so if all comes in one table, it eases the process.",learnSQL,need help on forming query - select from multiple table based on ID from main table - Parent Child concept,1.0,https://www.reddit.com/r/learnSQL/comments/dw2vhp/need_help_on_forming_query_select_from_multiple/
27,aelios,1573699686,dw30q7,8,1,"    select distinct b.login, a.username, a.idnumber from HRtable A
    inner join HelpdeskTable B on b.idnumber = a.idnumber
    group by b.login, a.username, a.idnumber

    Login | UserName | IDNumber
    ---------|----------|----------
    DURCBD | Bob Smith | 354466
     DURCBD | Anna Jones | 12451212

New to this, so hopefully this makes sense, as I had to remove a lot to post it. HRtable A is employee info &amp; HelpdeskTable B is login info.  The login info has a mix of good &amp; bad IDNumbers in it, due to people entering garbage.  Catch is, some of the bad data is valid ID numbers, but for a different employee.

I need a way to find and remove any login that appears more than once, after the join.  the row itself is distinct, but there should be no duplicate logins listed, much less with completely different people linked. since I don't have a way to validate the employee info, any row where the login occurs more than once needs to go.  pretty sure i need to use 'having count b.login =1, but I can't get the counts to cooperate.  i either get count of distinct rows (1,1) or a count of the various fields prior to join (10-250 per), so I know I'm missing something.",learnSQL,"need to remove all rows where login occurs more than once, after a join, and count is not cooperating.",1.0,https://www.reddit.com/r/learnSQL/comments/dw30q7/need_to_remove_all_rows_where_login_occurs_more/
28,bballbet,1573787651,dwkou2,0,1, ,learnSQL,[PostGreSQL] Finding how many customers visited online site,1.0,https://www.reddit.com/r/SQL/comments/dwkhgs/postgresql_finding_how_many_customers_visited/
29,Nero420,1573798584,dwmnqo,2,1,So I have Products table that have columns : `sales` and `view`. I want to make trending feature which can be obtained by sorting by average of `sales` + `view`. Is it possible ?,learnSQL,Is it possible sorting by average of the result of addition of 2 columns ?,1.0,https://www.reddit.com/r/learnSQL/comments/dwmnqo/is_it_possible_sorting_by_average_of_the_result/
30,Joffen123,1573812204,dwopkm,2,1,"Hi,

I have 2 tables, one dimension table for products which stores product keys and information. The other table is transaction data from individual stores.

Product table

|Product\_key|
|:-|
|111|
|112|
|113|
|114|

Transaction table

|store\_key|product\_key|timestamp|amount|
|:-|:-|:-|:-|
|111|111|20190101010101|10|
|111|112|20190102010101|20|
|111|112|20190103010101|20|
|111|113|20190104010101|30|

I want to check if a product has been sold a given week or not (binary).

Expected output

|store\_key|product\_key|year|month|week|sold\_given\_week|
|:-|:-|:-|:-|:-|:-|
|111|111|2019|1|1|1|
|111|111|2019|1|2|0|
|111|111|2019|1|3|0|
|111|111|2019|1|4|0|

So the problem I'm having is the dates at the moment. I'm extracting the year, month and week from the transaction table which obviously only has  the year, month and weeks from when a transaction has been made and not for every year, month and week. The time frame I'm looking at is 24 months historically.

the code I have so far. I LEFT JOIN because I want to have all the product keys from the product table, even if a store does not have the product (that should mean that the sold\_given\_week should be 0 for all rows).

    SELECT
        td.store_key,
        pd.product_key,
        year(timestamp) YEAR,
        month(timestamp) MONTH,
        week(timestamp) WEEK,
        CASE WHEN td.amount &gt; 0 THEN 1 ELSE 0 END AS sold_given_week
    FROM product_table pd
    LEFT JOIN transaction_table td ON pd.product_key = td.product_key
    GROUP BY
        td.store_key,
        pd.product_key,
        YEAR,
        MONTH,
        WEEK;

Appreciate any tips and functions that might help me solve my problem!",learnSQL,Check if product has been sold within a week,1.0,https://www.reddit.com/r/learnSQL/comments/dwopkm/check_if_product_has_been_sold_within_a_week/
31,yeennneey,1573852252,dwwzf6,7,1, ,learnSQL,How to combine conditions using AND/OR operators when searching for patterns. In this example Second record from top is not filtered out and I don't know why (it doesnt start with A),1.0,https://i.redd.it/vh0h5yo91xy31.png
32,Joffen123,1574072349,dy1dvy,4,1,"Hi,

I have a transaction data of products. These products have hierachies which they are connected to.

For example the table might look like

Id | hierarchy 1 | hierarchy 2 |
:—|:—:|—:
1| coffee | filter coffee

So the transaction table might look something like this

Store_id | product_id | hierarchy 1 | hierarchy 2 | timestamp | amount | units
:—|:—:|:—:|:—:|:—:|:—:|—:
1|1|coffee|filter coffee|20190201010101| 100 | 10



Now i want to create a query which calculates the amount of units or value (in $) the articles has sold for within each hierarchy level.

Within the hierarchy 2, the with id = 1 might be 25% whilst inhierarchy 1 it might be 15% for example. 

The expected output should be row-wise

Id | share of hierarchy 1 | share of hierarchy 2 |
—:|:—:|—:
1 | 0.15| 0.25

Appreciate any advice!",learnSQL,Share of hierarchy,1.0,https://www.reddit.com/r/learnSQL/comments/dy1dvy/share_of_hierarchy/
33,_Royalty_,1574177221,dylux5,4,1,"I'll try to do my best to explain what I'm looking for, I'm struggling to avoid getting back NULL values and think it has to do with my join.

Given the following two tables:

Color_Code|Color_Description
:--|:--
13|Blue
19|Yellow
26|Green


Color_Code_1|Color_Description_1|Color_Code_2|Color_Description_2|Color_Code_3|Color_Description_3
:--|:--|:--|:--|:--|:--
13|NULL|19|NULL|26|NULL

The top table is the table I'm joining to. The bottom table are the results that I want, with the NULL values actually being the color description. I currently have *one* left join, but assume I will need to have a left join for each code I need.

That solves for part of it, but I guess I don't know how I relate each instance of color_description to that particular color_code.",learnSQL,Joining multiple fields to a single column in a separate table,1.0,https://www.reddit.com/r/learnSQL/comments/dylux5/joining_multiple_fields_to_a_single_column_in_a/
34,jammydodgers1411,1574279178,dz77gb,8,1," 

Started a new job application support - lots of SQL. I've done it before and I'm sure I can get by but I'm really just a beginner who's pretty clueless. I'd i'd like to be great at it and I'd like to get really good.

I've done a few tutorials all the way. sqlzoo, w3schools, sqlbolt - which were very useful.

For the next 2 weeks at work, I'm just told to - ""go learn sql"" - and I'm being part supervised that I'm actually doing that.

Where can I find more exercises, or what should I do next? I should be able to put whatever I need on my work laptop - but I think it might be partly locked down.

I'm told that this specific application support role: 80% of the work they do is living in Microsoft SQL Server, 10% they look at what's wrong front end, 10% they write bug reports.

I think that doing exercises over and over is probably the most efficient at the moment.

I would prefer free resources but I'm happy to buy something within reason; I'm afraid of getting sold snake oil, because I don't know any better.

Long term, I'd like to look at being a SQL developer, or moving into development in general, or perhaps DBA.",learnSQL,SQL - new - exercises needed,1.0,https://www.reddit.com/r/learnSQL/comments/dz77gb/sql_new_exercises_needed/
35,randscreenF,1574402474,dzwus6,5,1,"i want to see who purchased (bought table) after visiting a blog (traffic table). I use the last line of my query to make this date comparison. The problem is there are duplicates of each visitor ID in both the bought and traffic table. So for example a visitor ID might appear twice in the traffic table and once in the bought table.

With this in mind, how do I get the visitor IDs for visitors who bought something after visiting the blog? 


    select distinct(bought.visitor_id)
    from bought
    inner join traffic
    on trafficl.visitor_id = bought.visitor_id
    where traffic.property = 'blog'
    and bought.timestamp &gt; traffic.timestamp",learnSQL,Question about using DISTINCT after joining in post gres,1.0,https://www.reddit.com/r/learnSQL/comments/dzwus6/question_about_using_distinct_after_joining_in/
36,vivzkestrel,1574405681,dzxd66,0,1,"* I have the typical posts and comments structure
* Posts can have likes dislikes love and anger
* Comments can have likes and dislikes
* Initially came up with a very silly schema  

   * User (userId, email, password..)
   * Post (postId, link, summary...)
   * PostVotes (postVoteId, likes, dislikes, love, anger)
   * UserVotes (userVoteId, userId, postVoteId)
   * Comments (commentId, parentCommenId, comment, publishedDate, userId)
   * CommentVotes (commentVoteId, likes, dislikes, commentId)
   * UserCommentVotes (userCommentVoteId, commentVoteId, userId)
* Yea I agree, that totally looks like shit
* Read a few posts here and there on stackoverflow and [dba.stackexchange.com](https://dba.stackexchange.com/) and got an idea  

   * Votes (itemId, userId, vote) they were saying +1 for likes and -1 for dislikes, what do I do for love and anger
* Can I make an enum of integers or something, will I be able to sum the likes dislikes love and anger if it is an enum
* Should I make a materialized view to get likes dislikes love and anger per post?
* Suggestions are super appreciated",learnSQL,How to store likes dislikes love and anger in Postgres table?,1.0,https://www.reddit.com/r/learnSQL/comments/dzxd66/how_to_store_likes_dislikes_love_and_anger_in/
37,Gatordude365,1574482047,e0cs71,6,1,"Most of the jobs I’ve been looking at in the internal auditing field need SQL knowledge, about to do this course but people were saying it was basic, what course should I do after it to dive deeper into SQL (ideally Postgres) [Here it is](https://www.udemy.com/course/the-complete-sql-bootcamp/)",learnSQL,Trying to apply for jobs with SQL,1.0,https://www.reddit.com/r/learnSQL/comments/e0cs71/trying_to_apply_for_jobs_with_sql/
38,PlisskensEyepatch,1574706685,e1kbcl,6,1,"Hi, 

I'm looking to learn SQL as i'm looking to increase my career path and prospects. I currently work in a library. I'm happy to learn using free resources etc to a point but my worry is that since I'm not working with SQL at the moment I can't go to potential employers without some form of accreditation or qualification. 

&amp;#x200B;

My questions are, is it worth doing free online courses before tackling a Microsoft accredited one; and also where do you recommend to do a Microsoft course? Online throws up a bunch of names of people who offer it, I'm assuming that you can go direct to Microsoft and pay them etc? I'm in the UK if that matters. 

&amp;#x200B;

Thanks in advance folks, just looking to get out of my dead end job and I have a little coding experience and so thought this might be an option.",learnSQL,Microsoft Accreditation and learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/e1kbcl/microsoft_accreditation_and_learning_sql/
39,hennybadger,1574716407,e1mtv6,3,1,"i have to count the ammount of 1s in a Buildings table, so i have this :

    SELECT bd.building_name AS Building_Name, COUNT(ap.apartment_number) AS Ammount_Apartments
                        ,(
                        SELECT COUNT(apartment_number)
                        FROM Apartment
                        WHERE Ammount_rooms = 1 
                        
                        ) AS 1_ROOM_APARTMENTS
    FROM Building bd JOIN Apartments ap ON (bd.id = a.id_building) 
    GROUP BY bd.building_name
    ORDER BY bd.building_name;

Problem is, i cant find a way to group the subquery with the apartment name, as of this, it returns something like

&amp;#x200B;

|Building\_Name|Ammount\_Apartments|1\_ROOM\_APARTMENTS|
|:-|:-|:-|
|Building1|15|49|
|Building2|41|49|
|Building3|23|49|

&amp;#x200B;

Can someone explain me why if i try to Group by the subquery throws the ""single row subquery is returning more than one row"" error, and how can i approach this kind of problems?  thanks",learnSQL,Subquery grouping?,1.0,https://www.reddit.com/r/learnSQL/comments/e1mtv6/subquery_grouping/
40,ImaginaryBread4223,1574739590,e1s5om,4,1,"Hello everyone,

I am currently learning MySQL and I am currently learning how to do INNER JOINS, I have run into a problem with this problem: 

    -- 3. Display the first name and last name of each customer along with the name of each track that they have purchased and the date the track was purchased on.
    -- Sort the results by customer last name, then first name, then name of the track.
    
    SELECT customer.LastName, customer.FirstName, track.Name, invoice.InvoiceDate
        FROM customer
        INNER JOIN invoice ON
            customer.CustomerId = invoice.CustomerId
        INNER JOIN track ON
            track.TrackId = track.Name
        ORDER BY customer.LastName, customer.FirstName, track.Name

when I run this it produces no data in my output table, can anyone guide me?",learnSQL,Confused and need help!!!,1.0,https://www.reddit.com/r/learnSQL/comments/e1s5om/confused_and_need_help/
41,Cathluhu,1574773431,e1xo6v,0,1," I relized a test website \*not mine\* shows a login page, but when i browse the source code (ctrl+U) i found that the whole codes and infos that came after the sign in panel (current session) are shown! so could I skip or bypass the login and move directly to that website session?",learnSQL,A Login website *help*,1.0,https://www.reddit.com/r/learnSQL/comments/e1xo6v/a_login_website_help/
42,dark3al,1574792691,e2229n,5,1,"I'm using the ""sakila"" database to answer some questions. One of them is "" Which staff has handled the highest payment?""

So I figured that I should first check the sum of the payments which was handled by each staff  and I wrote this query which works fine:

    SELECT SUM(amount) as SumAmount, staff_id
    FROM payment
    WHERE staff_id IN (
        SELECT staff_id
        FROM staff
        WHERE payment.staff_id = staff.staff_id)
    GROUP BY staff_id

Now I'm trying to only get the maximum number of (SumAmount) from this queried table and I tried this query which didn't work:

    SELECT MAX(SumAmount)
    FROM (SELECT SUM(amount) as SumAmount, staff_id
    FROM payment
    WHERE staff_id IN (
        SELECT staff_id
        FROM staff
        WHERE payment.staff_id = staff.staff_id)
    GROUP BY staff_id)

How could I make it work?",learnSQL,MAX query,1.0,https://www.reddit.com/r/learnSQL/comments/e2229n/max_query/
43,bdburns6389,1574798225,e23gc1,5,1,"I am about a year into .NET development, and most of my learning is progressing how I would like.  The topic I feel I am behind on is SQL.  What would you recommend as the best intermediate courses for SQL?  If it makes a difference, I use SQL Server day to day, but I imagine for what I am looking to learn, MySQL and POSTGRESQL are just as good. I mostly mean more in depth explanations of database theory/concepts, as well as more complicated JOINS (Like 2 or 3 levels deep).  I usually just buy videos from Udemy, but good ones off of youtube would be welcome as well.  Thank you in advance for your responses!",learnSQL,Best Udemy courses for intermediate SQL,1.0,https://www.reddit.com/r/learnSQL/comments/e23gc1/best_udemy_courses_for_intermediate_sql/
44,makaroni4,1574881189,e2kt8e,9,1,"Hi everyone, my name is Anatoli, I'm the author of [SQL Habit](https://www.sqlhabit.com/) 👋

For the past 10 years I've been working as a Software Engineer and Data Analyst, made and sold my own startup (language learning platform). Through these experiences I've learned how data is used in automation, helps to make business or product decisions, removes unnecessary discussions based on guessing rather than concrete numbers.

Another problem is that most of SQL courses use bookish examples. How can it help with real work?

This is why I've made SQL Habit – a course that is:

* **actionable.** Everything you'll learn could be immediately applied in your work. For example conversion analysis or calculating ROI of a marketing campaign.
* **interactive.** You'll take lessons and do exercises where you need to type actual SQL and run queries in the data warehouse of a fictional company.
* **bite-sized.** Each lesson is designed to be 10-15 minutes long so you can make progress every day.

Here's the link to the website: [https://www.sqlhabit.com/](https://www.sqlhabit.com/). I must mention that first 25 lessons are free + there's a Black Friday sale till next week. 

I'm really looking to your feedback and wish you all the best with learning SQL 📈🚀",learnSQL,I've made SQL course based on real examples from running a company,1.0,https://www.reddit.com/r/learnSQL/comments/e2kt8e/ive_made_sql_course_based_on_real_examples_from/
45,MaGlCMaN,1574898387,e2p4b1,0,1,"Hey everyone. So I'm a complete MySQL noob and I was following a guide on how to install it. Well, everything was going smoothly until I got to this part 

https://i.imgur.com/m8IiTx6.png

and as you can see, it failed to install something for Python 3.7 (which I have installed on my PC)

Any idea what I can do to fix this? Thanks, any advice is greatly appreciated!",learnSQL,Trouble installing MySQL,1.0,https://www.reddit.com/r/learnSQL/comments/e2p4b1/trouble_installing_mysql/
46,BlackFatCat1989,1574906999,e2qz8n,0,1,"Hello all!

I am very new to SQL and I was wondering how you would rewrite this section of my SQL code to be a self join rather then using case partition by

&amp;#x200B;

https://preview.redd.it/svgzcjfi5c141.png?width=825&amp;format=png&amp;auto=webp&amp;s=0273a64c35aa9d7a1cce930f67f2d7af7448dc7e

      CASE WHEN DATEPART(DD,@today) &lt; 28 THEN 
    LAG([vinnies_age],2,0) OVER (PARTITION BY [Context] ORDER BY [InsertDate])
    ELSE LAG([Vinniesage],1,0) OVER (PARTITION BY [Context] ORDER BY [InsertDate]) END AS [vinniespreviousage]",learnSQL,rewriting SQL code as a self join,1.0,https://www.reddit.com/r/learnSQL/comments/e2qz8n/rewriting_sql_code_as_a_self_join/
47,sql_help_me_please,1574935020,e2w08g,2,1,"So I've got this query to do for the database tables below... 

&gt; ""For all cases where the same reviewer rated the same movie twice and gave it a higher rating the second time, return the reviewer's name and the title of the movie.""

I've managed to get halfway by returning the movies which have had the same person review the film twice but I'm not sure how to only return the values which have been reviewed twice and where the 2nd review has a higher star rating than the 1st.

Here is the where I've got so far:

    select
            name,
            title
    from 
        (select rw.name as name,
                m.title as title,
                min(ra.stars) as stars
         from movie m
    
        inner join rating ra
            on m.mid = ra.mid 
        inner join reviewer rw
            on ra.rid = rw.rid 
        group by m.title, rw.name
        having count(rw.name)&gt;1)

Any help would be great :)

&amp;#x200B;

https://preview.redd.it/5wyv0005ce141.png?width=345&amp;format=png&amp;auto=webp&amp;s=3ddf2a5ea6c9018eb8461f322ae2c9bd36334af9",learnSQL,"Help please, I'm halfway just can't quite work out how to finish this query.",1.0,https://www.reddit.com/r/learnSQL/comments/e2w08g/help_please_im_halfway_just_cant_quite_work_out/
48,anomalias,1574944960,e2xj5g,10,1,"Hello all.

&amp;#x200B;

I've recently started learning python, and now moving on to SQL as well.

I've found these 2 courses now on sale on Udemy for only 9.99 euros:

[The Complete SQL Bootcamp](https://www.udemy.com/course/the-complete-sql-bootcamp/) by Jose Portilla.

[The Ultimate MySQL Bootcamp: Go from SQL Beginner to Expert](https://www.udemy.com/course/the-ultimate-mysql-bootcamp-go-from-sql-beginner-to-expert/) by Colt Steele and Ian Schoonover.

&amp;#x200B;

I wanted to initially choose Portilla's course, since it has the most reviews - but the other course seems to have some more substanse to it (20.5 hours videos vs 8.5 hours). Does anyone have any experience with these courses? Or would you recommend some other course?

&amp;#x200B;

&amp;#x200B;

Background info: I am currently working in auditing, but wanting to change career to software developer/data analyst/something third related to programming. I'm quite undecided as of yet, but it seems with some Python knowledge for data analysis and illustration, coupled with some SQL knowledge, the most obvious choice for me would be to go the data analyst road, since my degree is somewhat relevant.

Which course will be the better one for me out of those 2 (or even a third if you have some suggestions)?",learnSQL,Portilla Vs Steele SQL courses,1.0,https://www.reddit.com/r/learnSQL/comments/e2xj5g/portilla_vs_steele_sql_courses/
49,ReasonableTwo8,1575017116,e3c7bs,0,1, ,learnSQL,SQL Interview Questions CHEAT SHEET,1.0,https://www.interviewbit.com/sql-interview-questions/
50,VideosAllTime8874,1575045355,e3h0cy,1,1,"    SET @total = (select JSON_Length(examples) from api.response order by JSON_Length(examples) desc limit 1);


This returns @total to be 20

so 
 
    insert into needCode (ID)
    select values table1.examples-&gt;'$['@total'].id'
    from db.table1
    where table1.examples-&gt;'$['@total'].id' is not null

if my @total is replaced with 20 the query works but I don't know how to use a variable in an array like this, I have tried escaping the brackets with ' but that gave me errors, any help would be awesome.. thanks",learnSQL,Can I use a variable for an array? Example inside,1.0,https://www.reddit.com/r/learnSQL/comments/e3h0cy/can_i_use_a_variable_for_an_array_example_inside/
51,cwunder1998,1575090016,e3qzdg,0,1,"Hello all, 

I am doing an indpendent project where I create an ontology from a relational database by using a research paper.

Within the research paper one of the steps mention...

""Another aspect of problems with the dictionary was a variety of possible methods for creating an ontological representation. During implementation, two options were considered. First, one can create object property hasType (EVEnt hasType has exactly 1 EventTuype). Next, instances of the EvenType class for each type of event (e.g. [http://DEWI.org/ACS.owl#](http://DEWI.org/ACS.owl#) AcknowledgehasType: EventType) are to be created. Finally an e1 instance of the event type ([i.e](https://i.ee). hasEventType: [http://DEWI.org/ACS.owl#Acknowledge](http://DEWI.org/ACS.owl#Acknowledge)) is assigned.

The second option is to create subclasses of the Event class(e.g. AcknowledgeEvent subClassOf: Event). In the following step, e1 instance of the event type is assigned as a class( i.e. e1 hasType:AcknowledgeEvent). ""

Within this whole context, I want to choose the second option, but I have no idea what it means and how to implement it within SQL. I don't know what it means by ""Event class"" and ""e1"" as this is the first time it is mentioned within the research paper. Maybe you guys can help me understand a little better about the second method as I would really appreciate it.",learnSQL,I was wondering if anybody can help me figure out what this means?,1.0,https://www.reddit.com/r/learnSQL/comments/e3qzdg/i_was_wondering_if_anybody_can_help_me_figure_out/
52,hennybadger,1575142782,e423zy,17,1,"I have two tables, one which has the payments due , and other that has the confirmations of those payments. the one with the payments due has a column with an id that basically says wether its completely paid, just partly paid, or not paid.

I have to make an update using those two tables, the thing is i only have the department number from the confirmed payments, so i have this update query: 

&amp;#x200B;

    UPDATE due
            SET due.id_payment = CASE
            WHEN conf.department_num = due.deparment_num THEN 'paid' ELSE 'not paid' END
    FROM expenses due JOIN confirmed_payments conf ON (due.id_department = conf.id_department);

i believe this would update the id\_payment to 'paid' if the department number is found on the confirmed table, and to 'not paid' if its not, but i cannot run it, and i clearly dont know why.

Also, once that is done, i want to compare the amount\_paid on confirmed\_payments with the amount\_due in expenses to make that if its less than amount\_due, it puts a 'partly paid', should i make that another CASE ?",learnSQL,Updating a row of values using a Join?,1.0,https://www.reddit.com/r/learnSQL/comments/e423zy/updating_a_row_of_values_using_a_join/
53,nick-bravo,1575215410,e4j1i6,6,1,"Hello,

I setup a MySQL DB and created a table, like this:

&amp;#x200B;

CREATE TABLE test(

ID INT AUTO\_INCREMENT

date DATE,

PRIMARY KEY (ID)

);

&amp;#x200B;

Now, table TEST expects me to insert date-data in the DATE column with the following format: YYYY-MM-DD.

Is there any way to change this expected format? I would like to use format DD.MM.YYYY.

&amp;#x200B;

Couldn't find anything via Google search.

Thx for any hints!",learnSQL,Change Expected Format of DATE when creating table,1.0,https://www.reddit.com/r/learnSQL/comments/e4j1i6/change_expected_format_of_date_when_creating_table/
54,hennybadger,1575234765,e4nu0r,2,1,"i have table 1 which is something like

|building\_id|date\_due|department\_number|expenses|id\_paid\_status|
|:-|:-|:-|:-|:-|
|10|11/19|10|50.000|NULL|
|10|11/19|20|20.000|NULL|
|20|11/19|300|130.000|NULL|

&amp;#x200B;

and table 2 which is something like 

&amp;#x200B;

|building\_id|department\_number|date\_paid|amount\_paid|
|:-|:-|:-|:-|
|10|10|12/19|50.000|
|20|300|12/19|90.000|

&amp;#x200B;

now i have to UPDATE table 1 on id\_paid\_status on 1 if paid, 2 if partly paid and 3 if not paid, the query i have for this is:

    UPDATE t1
        SET t1.id_paid_status = CASE WHEN t2.amount_paid =&gt; t1.expenses THEN 1
                                WHEN t2.amount_paid &lt; t1.expenses THEN 2
                                WHEN t1.department_number NOT IN t2.department_number THEN 3 END
    FROM table1 t1 JOIN table2 t2 ON (t1.building_id = t2.building_id)
    WHERE t1.date_due = ADD_MONTHS(t2.datepaid,-1);

Here i have a problem, sqldeveloper says ""SQL Command not properly ended"" right on ""FROM"", am i doing it right and is it just a Syntax Error or is it wrong? can someone help explain?",learnSQL,UPDATE using two tables as a condition,1.0,https://www.reddit.com/r/learnSQL/comments/e4nu0r/update_using_two_tables_as_a_condition/
55,nick-bravo,1575319381,e556af,1,1,"I have a MySQL database and a table created in it which is populated with data. PRIMARY KEY is the variable ID which is INT and AUTO\_INCREMENT. Everytime new data is entered, a new row is created at the bottom of the table with an ID+1 compared to the previous row.

When I go ahead and delete rows from the table via sql-queries, such as:

&amp;#x200B;

DELETE FROM table

WHERE ID &lt; 85;

&amp;#x200B;

and subsequently add new data (just like before (INSERT INTO table () VALUES())) the new data row is not created at the bottom of the table anymore, but at the top. Basically, each new data row is added on top of the first data row which has the lowest ID. Entering new data just creates new data rows which are added on top. The data row with the highest ID is now on top of the table, instead of on the bottom like before deleting the rows.

&amp;#x200B;

How can I delete data entries but prevent that new data is added on top of the table, but that instead it is added on the bottom of the table, just like in the first place?

&amp;#x200B;

Google search didn't yield results. Thx for any hints.",learnSQL,New data rows added on top in table in phpmyadmin after deleting rows (DELETE FROM table WHERE sth = sth;),1.0,https://www.reddit.com/r/learnSQL/comments/e556af/new_data_rows_added_on_top_in_table_in_phpmyadmin/
56,mypirateapp,1575373480,e5fz5m,9,1,"I have  3 tables

* users (user\_id, email, password)
* feed\_items(feed\_item\_id, title, summary)
* feed\_item\_votes(feed\_item\_id, user\_id, vote, vote\_type)
* I have four different types of votes likes, dislikes, love, anger where you can either like or dislike and you can either love or anger

The feed item votes table will store like dislike for each user with the user s id and the post id that they liked or disliked

&amp;#x200B;

I want to load 50 posts with the total likes, dislikes for ONLY those 50 posts

&amp;#x200B;

# Try 1

`with cte as (`  
  `select feed_item_id, count(case when vote_type=false AND vote='up' then 1 end) as likes`   
  `from feed_item_votes`   
  `group by feed_item_id`  
`) select feed_items.feed_item_id, link, title, likes from feed_items LEFT OUTER JOIN cte ON feed_items.feed_item_id = cte.feed_item_id ORDER BY pubdate desc limit 50;`

&amp;#x200B;

This results in a SEQUENTIAL SCAN across the feed\_item\_votes table

QUERY PLAN                                                                                
\----------------------------------------------------------------------------------------------------------------------------------------------------------------------  
 `Limit  (cost=19.26..513.24 rows=50 width=196) (actual time=0.391..3.637 rows=50 loops=1)`  
   `CTE cte`  
`-&gt;  HashAggregate  (cost=14.94..18.98 rows=404 width=24) (actual time=0.174..0.231 rows=404 loops=1)`  
`Group Key: feed_item_votes.feed_item_id`  
`-&gt;  Seq Scan on feed_item_votes  (cost=0.00..11.54 rows=454 width=21) (actual time=0.005..0.044 rows=454 loops=1)`  
   `-&gt;  Nested Loop Left Join  (cost=0.28..19354.29 rows=1959 width=196) (actual time=0.390..3.630 rows=50 loops=1)`  
`Join Filter: (feed_items.feed_item_id = cte.feed_item_id)`  
`Rows Removed by Join Filter: 20191`  
`-&gt;  Index Scan Backward using idx_feed_items_pubdate_desc on feed_items  (cost=0.28..1542.94 rows=1959 width=188) (actual time=0.011..0.037 rows=50 loops=1)`  
`-&gt;  CTE Scan on cte  (cost=0.00..8.08 rows=404 width=24) (actual time=0.004..0.039 rows=404 loops=50)`  
 `Planning Time: 0.165 ms`  
 `Execution Time: 3.692 ms`  
`(12 rows)`

&amp;#x200B;

How do I write this query such that it will select all the ids from feed item votes that are a part of those 50 results, group them together instead of doing a sequential scan and give me total likes",learnSQL,How do I do a join with a table that I first want to group by?,1.0,https://www.reddit.com/r/learnSQL/comments/e5fz5m/how_do_i_do_a_join_with_a_table_that_i_first_want/
0,depuvelthe,1570286967,ddo5z3,1,2,"I have this laptop which has i3 processor and 6 GB's of RAM, using Fedora 30 with XFCE desktop environment. For a few days, I'm trying to learn PHP and SQL as well, so I needed to install mySQL  and MariaDB. It was kinda tricky, I got some errors and I couldn't have MariaDB but I managed to install mySQL properly. But when I start the service via CLI my pc just freezes for nearly 5 minutes. Do I really need way more powerful hardware?",learnSQL,mySQL System Requirements,1.0,https://www.reddit.com/r/learnSQL/comments/ddo5z3/mysql_system_requirements/
1,writingaballetnovel,1570297394,ddqi6m,0,1,"I'm working in postgreSQL here. I have a TSV of information with 15 columns and many, many rows 

I managed to use Create Table to make the 3 tables I need in my SQL database. Then I broke the TSV into 3 separate CSVs using Python and populated by importing the data to the correct table using COPY 

However, is there a way I can do this all in one go, or just from the original tsv? I am a bit of a SQL beginner, so I'm not even sure where to look and google has been unhelpful. I feel like I'd run into issues with it because of duplicates (two tables have primary keys that get upset when data is repeated so for those CSVs I dropped all the duplicates in python and I'm not sure how I might go about getting around that problem in SQL)

Thanks!",learnSQL,Is there a way to go from flat format --&gt; relational database all at once?,1.0,https://www.reddit.com/r/learnSQL/comments/ddqi6m/is_there_a_way_to_go_from_flat_format_relational/
2,impressiverep,1570326578,ddwx02,7,5,"I am curious if I could use sql or something to compare the files i have on two different sd cards. Basically, I want to identify all of the files on one sd card, that I dont have on the other one. Is that something i could do with literally no coding experience? :D

I dont mind reading or watching some videos, but if anyone could point me in the right direction I would appreciate it!",learnSQL,I know nothing about how to code but,1.0,https://www.reddit.com/r/learnSQL/comments/ddwx02/i_know_nothing_about_how_to_code_but/
3,spaceape__,1570464190,delh17,2,1,"I have a table that contains more than 150 column. 
I want to create a PL SQL script that, given two records, compare each values of those records and return any differences between them.

I found [this script](https://stackoverflow.com/questions/49535762/finding-difference-between-two-rows-in-a-table-oracle) but I get this error when I run it:

&gt; component 'RETURN_RESULT' must be declared

This is the script:

        
        SET serveroutput ON
                DECLARE
                  v_ref SYS_REFCURSOR;
                  id1 X.ID%TYPE := 1;
                  id2 X.ID%TYPE := 2;
                  v_col  VARCHAR2(32);
                  v_cols VARCHAR2(1000);
                BEGIN
                  FOR r IN
                  ( SELECT column_name FROM USER_TAB_COLUMNS WHERE table_name = 'X'
                  )
                  LOOP
                    EXECUTE IMMEDIATE ' 
                SELECT 
                CASE                 
                WHEN a.'||r.column_name|| ' = ' || 'b.'|| r.column_name ||'                               
                THEN a.'||r.column_name || ' END                     
                FROM                           
                X  a                
                CROSS JOIN X b WHERE 
                a.ID = :Id1 AND b.ID = :Id2' INTO v_col USING id1,id2 ;
                    v_cols := v_cols ||
                    CASE
                    WHEN v_col IS NULL THEN
                      ','||r.column_name
                    END;
                  END LOOP;
                  v_cols := TRIM(BOTH ',' FROM v_cols);
                  OPEN v_ref FOR 'select ' || v_cols || '  FROM X WHERE ID =  '||id1||'                
                UNION ALL   select ' || v_cols || '  FROM X WHERE ID =  '||id2 ;
                  DBMS_SQL.RETURN_RESULT(v_ref);
                END;
                /    

It would be great if anyone could explain it to me!",learnSQL,Compare two records from a table,1.0,https://www.reddit.com/r/learnSQL/comments/delh17/compare_two_records_from_a_table/
4,ChubbyRaccoon,1570570906,df6t0z,0,3,I have an assignment where i need to create a series of tables from a scenario of how a healthcare system works. what are some things i should be looking out for while reading to create the right table attributes?,learnSQL,Creating tables from a scenario,1.0,https://www.reddit.com/r/learnSQL/comments/df6t0z/creating_tables_from_a_scenario/
5,dogsagainstcops,1570571997,df72mm,11,7,"I ave been learning sql for quite some time now. I am really enjoying it and I can defintely see how it can be very useful. I am planning on doing a BIG Query class soon. One thing I am wondering for SQL professionals is how do you feed data to your date bases?   


I understand the create and insert functions, but is that how all data is handled? Can you take something like a text file and import that into a SQL database?",learnSQL,"For SQL Professionals, where do you get data from?",1.0,https://www.reddit.com/r/learnSQL/comments/df72mm/for_sql_professionals_where_do_you_get_data_from/
6,uteng2k7,1570572881,df7aj1,1,1,"Hi everyone,

I start a job in a couple of weeks that uses Teradata, which I have no experience with.  I'm looking for resources that have Teradata practice problems where you can type the answer into the browser, something like [SQLZoo](https://sqlzoo.net/wiki/SELECT_basics), but Teradata-specific.

Does anyone know of any resources like this?  Any help is much appreciated.",learnSQL,Resources for web-based Teradata practice problems?,1.0,https://www.reddit.com/r/learnSQL/comments/df7aj1/resources_for_webbased_teradata_practice_problems/
8,acromantulus,1570636799,dfj2tz,15,3,"Okay, say I have two tables. 

Table A has key1, key2, and several other fields that don't matter.

Table B has key1, key2, code, and several other fields that don't matter.

key1 and key2 for both tables match each other. I need to only get the entries from Table A where the entry in table B that has the same key values has a code of 5. 

I figured a JOIN Clause would do it, like:

    SELECT * FROM TableA A
    JOIN TABLEB B ON A.key1 = A.key1 
                         AND A.key2 = B.key2
                         AND B.Code = 5

But this is not getting what I want. It's just including all the entries from TABLEA. I don't need to actually return any values from TABLEB, btw. I don't know if that is important.

Any help would be appreciated.",learnSQL,Need to return the values in one table based on the results from another table.,1.0,https://www.reddit.com/r/learnSQL/comments/dfj2tz/need_to_return_the_values_in_one_table_based_on/
9,Runswithtoast,1570664748,dfpkev,6,1,"Im learning MySQL, MS SQL as well as Access and feel fairly comfortable with the three but I really don't have any way to test myself..... Ive tried looking on the web for some homework-like assignments related to database design and implementation but have only found links for tutors!

I come to yall with a request... How can I test myself? Does anyone know any resources where I can find prompts to design fake databases for practice? I tired making a table of my friends but I cant think of any interesting queries or connections that I could make, id like more guidance.....

Thank you!",learnSQL,I need some ideas for practice!,1.0,https://www.reddit.com/r/learnSQL/comments/dfpkev/i_need_some_ideas_for_practice/
10,h4k01n,1570696803,dfv2qx,0,1,"I originally posted this on /r/sql but this subreddit seems more appropriate:

I have a table called connection which stores property_ids and their existing API connections. A property can have multiple `apis` on the same `connection_id`. A property can also have multiple `connection_id`s. The order of importance for the `apis` is ascending so API 1 has a higher importance than API 14.

With the above in mind, I 'm trying to select a single connection_id *per* property *per* day. Given the below data:


    +------------+-------------+---------------+----------------+
    | yyyy_mm_dd | property_id | connection_id |      apis      |
    +------------+-------------+---------------+----------------+
    | 2019-10-01 |         100 |         123   | ['8']          |
    | 2019-10-01 |         100 |         200   | ['16']         |
    | 2019-10-01 |         100 |           5   | ['1','2','14'] |
    +------------+-------------+---------------+----------------+


I want the following returned (as `connection_id` 5 holds the lowest API connection):


    +------------+-------------+---------------+
    | yyyy_mm_dd | property_id | connection_id |
    +------------+-------------+---------------+
    | 2019-10-01 |         100 |           5   |
    +------------+-------------+---------------+


I was thinking to achieve this, I could merge the arrays and then sort them ascending before selecting the item at index 0. However, I feel this might be overcomplicating it.

Under collection functions I don't see any merge function - https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-CollectionFunctions. Maybe this can be achieved without merging?",learnSQL,"Merge N arrays into one, is it possible?",1.0,https://www.reddit.com/r/learnSQL/comments/dfv2qx/merge_n_arrays_into_one_is_it_possible/
11,thumbsdrivesmecrazy,1570760515,dg8ku0,0,2,"The following overview looks at how MySQL performs on analytics tasks, and whether it’s the best choice for a data warehousing project, and how dedicated data warehouses are better than MySQL databases when it comes to analysis: [MySQL As A Data Warehouse: Is It Really Your Best Option?](https://blog.panoply.io/mysql-as-a-data-warehouse-is-it-really-your-best-option)",learnSQL,MySQL As A Data Warehouse: Is It Really Your Best Option (Overview),1.0,https://www.reddit.com/r/learnSQL/comments/dg8ku0/mysql_as_a_data_warehouse_is_it_really_your_best/
13,Mattster00,1570796807,dgef8y,0,1,"Having issues with INSERT statements for PL/SQL data. The provided OMDB is:

`-- create OMDB --`

`-----------------`

`-- drop tables --`

`drop table albums /` 

`drop type disk_type /` 

`drop type mp3_type /`

`drop type album_type /`

`drop type artist_array_type /`

`drop type artist_type /`

`drop type review_table_type /`

`drop type review_type /`

`-- create types --`

`create or replace type artist_type as object` 

`(artistName 	varchar(50),` 

 `artistRole 	varchar(25)) /` 

`create type artist_array_type`  

`as varray(5) of artist_type /` 

`create or replace type review_type as object` 

`(reviewerName 	varchar(25),` 

 `reviewDate   	date,`

 `reviewText   	varchar(250),` 

 `reviewScore  	number) /`

`create or replace type review_table_type as table of review_type /`

`create or replace type album_type as object` 

`(albumTitle 		varchar(50),`

 `albumPlaytime 		number(3), -- minutes`

 `albumReleaseDate 	date,` 

 `albumGenre 		varchar(15),`

 `albumPrice 		number(9,2),`

 `albumTracks		number(2),`

 `albumArtists		artist_array_type,`

 `albumReviews 		review_table_type,`

`member function discountPrice return number,`

`member function containsText (pString1 varchar2, pString2 varchar2) return integer)`

`not instantiable not final  /`

`create or replace type disk_type under album_type` 

`( mediaType 		varchar(10),`

 `diskNum			number(2), -- number of disks`

 `diskUsedPrice 		number(9,2),`

 `diskDeliveryCost 	number(9,2),` 

`overriding member function discountPrice return number) /`

`create or replace type mp3_type under album_type`

`(downloadSize 	number, -- size in MB`

 `overriding member function discountPrice return number) /`

`-- create tables --`

`create table albums of album_type` 

`object id system generated`

`nested table albumReviews store as store_reviews /` 

And the best insert statement I can come up with is:

`insert into albums values (disk_type('The Essential Bob Dylan', 99, '8-Jul-2016', 'Pop', 37.00, 32,` 

`artist_array_list(artist_type('Bob Dylan', 'Vocals'), ('Bob Dylan', 'Composer')),` 

`albumReviews(review_type('Shawn', '24-Jul-2018', 'Wife loved it!', 5), review_type('Reuben', '2-Aug-2019', 'Great compilation of some of his most known songs', 5)),` 

`'Vinyl', 2, '', 11.00) /`

for the data

`Album Title: The Essential Bob Dylan` 

`Album Playtime: 99` 

`Album Release Date: 8-Jul-2016` 

`Album Genre: Pop` 

`Album Price: 37.00` 

`Album Tracks: 32` 

`Artist Name: Bob Dylan` 

`Artist Role: Composer` 

`Artist Name: Bob Dylan`

`Artist Role: Vocals` 	

`Reviewer Name: Shawn` 	

`Review Date: 24-Jul-2018` 	

`Review Text: Wife loved it!` 	

`Review Score: 5` 	

`Reviewer Name: Reuben` 	

`Review Date: 2-Aug-2019` 	

`Review Text: Great compilation of some of his most known songs` 	

`Review Score: 5` 

`Media Type: Vinyl`  

`Disk Number: 2` 

`Disk Used Price:` 	 

`Disk Delivery Cost: 11.00` 

Running this in Oracle SQL Developer gives me this: ""SQL Error: ORA-00936: missing expression"". Can anyone see where I'm going wrong with this?",learnSQL,Missing Expression for Insert Statement in PL/SQL,1.0,https://www.reddit.com/r/learnSQL/comments/dgef8y/missing_expression_for_insert_statement_in_plsql/
14,JoshBurnsTech,1570802456,dgflcl,11,13, ,learnSQL,"Start Learning SQL Server (My $200,000+ Per Year Career)",1.0,https://www.youtube.com/watch?v=8ro8D8shoqg
15,Matthewcabin,1570827419,dgl6ny,3,3,"I having been working in SQL for about 6 months, done a few small tutorials, etc. So I understand many of the basic concepts, but I am still very much a beginner.

To explain my table, I have a Database of filenames of images, with some simple metadata as they are associated with Products:
Image Caption, Image Context (i.e. Main Image, Side Image, Top Image etc), Image Priority (1-99), Primary Key (of the product), and obviously the FileName of the image.

So if a Product has multiple images associated to it the table might look like:
FileName|PK1|Image Context|Image Priority|Image Caption
Main.jpg|123456|Main|1|This is the Main Image
Top.jpg|123456|Main|2|This is the Top Image

And so on.

To preface, my end result doesn't really care about Image Caption or Priority, so that can be ignored.

What I want to accomplish is a single row format of this data as a query, as such:

PK1|Main Image|Top Image|{Another Image Context}|{Yet Another}
123456|Main.jpg|Top.jpg|etc|etc

I think I need to do this with a Pivot, but I can't for the life of me understand how to do it.

I have Googled around, but most of the guides are way over my head at this point.

Thanks!",learnSQL,Trying to perform a pivot (I think),1.0,https://www.reddit.com/r/learnSQL/comments/dgl6ny/trying_to_perform_a_pivot_i_think/
16,Bikrant,1570927837,dh3mrx,1,9,"Orginally posted this in r/SQL but also posting here because I believe it's relevant

Hi guys, I'm a CS student currently applying for internships and I have a pretty strong interest in data science; Python is the language i'm most accustomed with and like Pandas a lot but I've never touched SQL.

A company I applied for asked for me to to complete a project with SQL in the application process so I figured why not just learn it, even if I don't get the position SQL will help me in the future.

So from the title the company wants an SQLite database as the final submission and I'm wondering how big of a difference mySQL and SQLite are?

Should I just start over and look for a SQLite course or are the differences minor (just syntax)? Also would it be worth asking if could submit a mySQL database or is the difference so large that it wouldn't be acceptable?",learnSQL,"Started a mySQL online course for a internship project, but the company wants a SQLite database. Should I quit now and start with SQLite or just continue and switch later?",1.0,https://www.reddit.com/r/learnSQL/comments/dh3mrx/started_a_mysql_online_course_for_a_internship/
18,TacitusJones,1571155408,di9ziw,1,2,"Hi gang,

I am working on a project, and I have a step that im stuck on.

Basically in my full data set I have member IDs and what they have. Each member ID can have multiple rows.

So: 
member ID / Thing
1  / A
1 / B
1 /C
2 / B
3 / B
3 / D

When I tell teradata to sample my set (it's about 10 million rows, and I need about 1millon in the sample) how do I make sure that the sample includes all of the entries for each member ID? (So in the sample will be all three rows for member 1, if member one is in the sample)",learnSQL,Teradata Sampling Question,1.0,https://www.reddit.com/r/learnSQL/comments/di9ziw/teradata_sampling_question/
19,tipsyhitman,1571164004,dic33i,3,3,"I have a table in a Mssql db that contains a transactionid, sales amount for the transaction, and a date as a datetime2 when the transaction occurred. I'm trying to sum up all the amounts for a specific day. What would be the most efficient way to accomplish this task?",learnSQL,Trying to sum sales for a specific date,1.0,https://www.reddit.com/r/learnSQL/comments/dic33i/trying_to_sum_sales_for_a_specific_date/
20,thumbsdrivesmecrazy,1571192819,diioyz,0,5,"The intention for the following blog post is to create a guide that is easy to understand even for a beginner and to include queries you can copy and paste into your SQL editor right now: [A Beginner’s Guide To Formatting Dates In SQL](https://blog.panoply.io/a-beginners-guide-to-formatting-dates-in-sql)

The information in this blog post will be specific to PostgreSQL, but many of the basic commands are the same in different varieties (Microsoft SQL Server, MySQL, PostgreSQL etc).",learnSQL,Formatting Dates In SQL - Guide,1.0,https://www.reddit.com/r/learnSQL/comments/diioyz/formatting_dates_in_sql_guide/
21,Awais22000,1571212036,dilzga,0,2," **SQL Queries Practice** is important for anyone who wants to improve their SQL writing skills. We humans learn from examples and by actually practising what we read. So this is what we will do today.  
We discussed how [SQL Select query works](https://bitalksbi.com/sql-queries/) and what is a SQL query  &amp; the [difference between SQL query &amp; SQL Statement.  ](https://bitalksbi.com/sql-queries/)Before that we learned how to install [MS SQL Server Management Studio Step by Step ](https://bitalksbi.com/install-sql-server-management/) in a very brief article and copy paste the  code from here [https://bitalksbi.com/install-sql-server-management](https://bitalksbi.com/install-sql-server-management)",learnSQL,SQL Queries Practice &amp; SQL Commands - BI Talks BI,1.0,https://www.reddit.com/r/learnSQL/comments/dilzga/sql_queries_practice_sql_commands_bi_talks_bi/
22,boopity-bee,1571327663,dj8btq,2,1,"Hi all. This is probably simple but I've been struggling with it. I have a table called purchases which contains the columns

* purchaseId (int)
* buyDate (date) eg. 01-01-2019
* store enum('Melbourne','Brisbane','Sydney')

I'm trying to make a 'store of the month' stored procedure which creates a table with the columns: month (eg. as January 2019), max number of purchases, and the store(s) which got those max number of purchases. I can get the month and max number but cannot seem to get the winning store. 

I've made a helper function that returns takes the month (in varchar form eg. January 2019) and gives the maximum number of purchases for that month. I made this so I could SELECT stores which sales match that maximum for a particular month, and add these to the table. But, I can't seem to figure out how to return stores total sales for a particular month. 

Any help with getting sales per month OR on whether my general approach is ok is very much appreciated!",learnSQL,Getting top total sales per store per month,1.0,https://www.reddit.com/r/learnSQL/comments/dj8btq/getting_top_total_sales_per_store_per_month/
23,ZombieSays2SucK,1571329293,dj8pkc,7,1,"I have an assignment where I need to make two tables and reference a duplicate value within the first table I made. Here is the code block

    create table M_control(
    
    M_number char(9)
    constraint pk_m_num PRIMARY KEY
    constraint fk_m_num FOREIGN KEY,
    M_number_update_date date
    
    );
    
    
    
    
    
    create table student(
    
    M_number char(9)
    CONSTRAINT pk_m_numb PRIMARY KEY
    CONSTRAINT nn_m_numb NOT NULL
    CONSTRAINT un_m_numb UNIQUE,
    M_user_name char(8)
    CONSTRAINT nn_user_name NOT NULL,
    M_gender char(1),
    M_major varchar2(25),
    M_date_birth date,
    M_tuition number(8,2)
    CONSTRAINT ck_tuition CHECK (M_tuition &lt;= 0),
    M_grad_date date
    CONSTRAINT ck_grad_date CHECK (M_grad_date &lt; 12-AUG-18)
    
    );
    

the M\_number in the student table is to be referenced to the M\_number of the M\_control table. How would I go about doing this? I assume with a foreign key which is why I made the M\_number within the control table a FK, but im not sure how to tie it with the second table. Cheers.",learnSQL,Referencing another PK from a different table,1.0,https://www.reddit.com/r/learnSQL/comments/dj8pkc/referencing_another_pk_from_a_different_table/
24,KingCraftsman,1571332593,dj9i0k,3,1,"I have hit a roadblock in attempting to divide two variables. Any ideas, I am not quite sure how to write this.

DECLARE @NumberOfRecords FLOAT,

@BatchOfRecords FLOAT,

@EveryXSeconds FLOAT       

&amp;#x200B;

SET @NumberOfRecords = 500000

&amp;#x200B;

SET @BatchOfRecords = 200

&amp;#x200B;

SET @EveryXSeconds = 15

&amp;#x200B;

PRINT 'NumberOfRecords = ' + CAST(@NumberOfRecords AS VARCHAR(30))

&amp;#x200B;

PRINT 'BatchOfRecords = ' + CAST(@BatchOfRecords AS VARCHAR(30))

&amp;#x200B;

PRINT 'EveryXSeconds = ' + CAST(@EveryXSeconds AS VARCHAR(30))

&amp;#x200B;

PRINT N'NumberOfBatches = ' + @NumberOfRecords/@EveryXSeconds &lt;-------Stuck Here

\-- PRINT 'TotalSecondsToRun = '

&amp;#x200B;

\-- PRINT 'TotalMinutes = '

&amp;#x200B;

\-- PRINT 'TotalHours = '

\-----RESULTS-----

""NumberOfRecords = 500000

BatchOfRecords = 200

EveryXSeconds = 15

Msg 8114, Level 16, State 5, Line 19

Error converting data type nvarchar to float.""",learnSQL,Trouble Dividing two FLOATS,1.0,https://www.reddit.com/r/learnSQL/comments/dj9i0k/trouble_dividing_two_floats/
25,JohnAnt_hs,1571502520,dk60h0,1,3," Hi everyone I have a question about ERD Database table diagramms I want to use the same Attribute from a table (a primary key) as a Foreign Key to many other tables how do I show that to my diagram since I need to connect the same spot with many other but at the same time being unable to specify the type of the relationshop (one to one,one to many etc) because the many connections ends up to the one spot the Primary key that I want to give to my other entities",learnSQL,ERD diagram multiple connections issue,1.0,https://www.reddit.com/r/learnSQL/comments/dk60h0/erd_diagram_multiple_connections_issue/
26,ghartl3,1571502955,dk644f,0,1,"maybe a rather silly question....

how do you handle the capitalication of the commands, when you type it 

i mean, do you use the pinky finger on the left or do you use the caps-key ?

which one is quicker..btw i use an german keyboard (locates in germany), and sometimes it is a little bit awkward for me to type whole words in capital letters...

&amp;#x200B;

any hint or suggestions ?",learnSQL,capital commands,1.0,https://www.reddit.com/r/learnSQL/comments/dk644f/capital_commands/
27,LawrenceofSA,1571506606,dk6ybs,1,3,Would like feedback on an assignment let me know if anyone is open,learnSQL,SQL homework,1.0,https://www.reddit.com/r/learnSQL/comments/dk6ybs/sql_homework/
28,qwertyeet10,1571674238,dl2r68,0,1, ,learnSQL,How to structure database with three user types?,1.0,https://www.reddit.com/r/SQL/comments/dl2imw/how_to_structure_database_with_three_user_types/
29,johntc121,1571697056,dl84rn,3,4,"I struggle learning from my current professor (have had him multiple times). I'm currently in his database class and we are doing SQL using MySQL and MySQL workbench at the moment and I'm struggling to follow his teaching habits. 

Can anyone recommend a good series online or on YouTube to really help understand more than I am getting?",learnSQL,Good tutorials online? Struggling learning from my professor.,1.0,https://www.reddit.com/r/learnSQL/comments/dl84rn/good_tutorials_online_struggling_learning_from_my/
30,Awais22000,1571728464,dlebk2,1,0," Data Normalization is the process widely used and implemented in industry . While this concepts has it's use it comes with a price. However , Designing a DBMS is fundamental and of utmost importance to the success of any software .   
Head to my blog to see a step-by-step visual guide",learnSQL,Data Normalization University Management System - BI Talks BI,1.0,https://www.reddit.com/r/learnSQL/comments/dlebk2/data_normalization_university_management_system/
31,ian4tge,1571793986,dls1yv,0,1,"I'm trying to pass arguments through a SQL query function but keep getting the same error about number of bindings, the getAll() function is in the error statement.

https://i.redd.it/1zprp43n07u31.png",learnSQL,Incorrect number of bindings error,1.0,https://www.reddit.com/r/learnSQL/comments/dls1yv/incorrect_number_of_bindings_error/
32,thumbsdrivesmecrazy,1571798439,dlsyek,0,3,"This following overview introduces to the basics of using CASE statements/expressions and also cover comparison operators (greater than, less than, equal to) and BETWEEN: Postgres CASE Statement Basics By Example

Boolean expressions and comparison operators also provide utility beyond their functions within CASE statements. And the overview helps gain a deeper understanding of CASE statements as well as the practical tools to put them to use.",learnSQL,Postgres CASE Statement Basics and Boolean Expressions - Overview,1.0,https://www.reddit.com/r/learnSQL/comments/dlsyek/postgres_case_statement_basics_and_boolean/
33,theGoldenRain,1571875833,dm8c09,1,2,"Hello, I'm new to database SQL and I want to learn how to make querry that copy specific columns of one database to another database.

For example, col1 and col2 from Table1 of databaseA to col3 and col4 of Table2 of databaseB.

Thank you so much in advance.",learnSQL,Querry to copy specific table from one SQL Server to MySQL database?,1.0,https://www.reddit.com/r/learnSQL/comments/dm8c09/querry_to_copy_specific_table_from_one_sql_server/
34,catsandmachines,1571916704,dmf2vz,3,2,"I have started learning SQL from online courses, so I understand the definitions and concepts of basic concepts in SQL but haven't done any practicals. I have downloaded SQL Server 2017 on my laptop and would like to start doing tasks on there. Are there any good online guides/tools that provide you with a dataset and syntax for data exploration and analysis? I am a beginner who understands the basic concepts of SQL like what relational databases are, what the simple commands are e.g. CREATE, INSERT, SELECT, UPDATE, DELETE, and different types of JOINs and constraints. Also, any tips on getting started will be greatly appreciated!",learnSQL,SQL beginner asking for a good dataset and tips on starting!,1.0,https://www.reddit.com/r/learnSQL/comments/dmf2vz/sql_beginner_asking_for_a_good_dataset_and_tips/
35,ItsSoFetch,1571936403,dmja8y,0,9, ,learnSQL,We’re not all DBAs: Indexes For Developers,1.0,https://mattdgale.com/were-not-all-dbas-indexes-for-developers/
36,KakyoinMilfHunter69,1572161227,dnq7cy,2,7,"I have two tables called Items, Seller\_Stock and Sellers.

Seller contains seller information including seller\_id, seller\_name, seller\_address with seller\_id as primary key

Seller\_Stock contains seller\_id, item\_id and cost with seller\_id and item\_id as primary keys

Items contains item\_id, item\_name, color

I'm given the item name, seller name and price of the item but I'm not sure how to create a new record in the Seller\_Stock table with only the names without being able to retrieve the values of item\_id and seller\_id",learnSQL,Question on getting single values out of a query,1.0,https://www.reddit.com/r/learnSQL/comments/dnq7cy/question_on_getting_single_values_out_of_a_query/
37,jodepe-,1572201920,dnxofs,0,2,"I‘am new to Postgres and i have a quick Question: 
I have a Class called „cars“ with a Column named „rides“ with a CHECK(rides between 0 and 10).
I have an other Class called „customer“ with a Column named „customerid“. 

„customerid“ is FK in the class „cars“

How can i create a function which automatically counts the rows in „customerid“ and adds the number to „rides“?

Thanks for your help!!",learnSQL,Question from someone thats new to sql,1.0,https://www.reddit.com/r/learnSQL/comments/dnxofs/question_from_someone_thats_new_to_sql/
38,thumbsdrivesmecrazy,1572235157,do3rpl,0,1,"If you’ve got a SQL-style relational database or two up and running to store your data, but your data keeps growing you might want to set up a data warehouse to centralize everything - the following overview puts together a side-by-side comparison of Redshift and Postgres to help you figure out what best meets your needs: [Redshift Vs Postgres: Differences In Performance, Functions, And Cost](https://blog.panoply.io/redshift-vs-postgressql)

In short, Redshift is best suited for somewhat larger data operations, and Postgres might seem like the best choice for you if your data needs aren’t extensive. But there’s another way to get the speed and efficiency advantages of Redshift without having to pay top dollar for a data warehouse that’s bigger than you need.",learnSQL,"AWS Redshift Vs PostgresSQL Comparison - Data Structures, Distributed Processing, Storing Queries, Language and Data Types",1.0,https://www.reddit.com/r/learnSQL/comments/do3rpl/aws_redshift_vs_postgressql_comparison_data/
39,Shilpa_Opencodez,1572283688,doc1lg,0,6, ,learnSQL,SQL for Beginners: Tutorial#14 – Triggers,1.0,https://www.opencodez.com/software-testing/sql-for-qa-tutorial14-triggers.htm
40,disbitch4real,1572455481,dp9ka3,1,2,"My professor created a schema to make tables and fill it with information so she could teach us stuff. Half of the class got it to work without messing with it, while the other half could not. The half that couldn't get it to work keep getting this error next to all of our insert statements:

    ORA-00604: error occurred at recursive SQL level 1
    ORA-30667: cannot drop NOT NULL constraint on a DEFAULT ON NULL column

&amp;#x200B;

This is the schema:

    set echo on;
    -- Note this line is a comment!  Any line that starts with -- is ignored.
    -- The first commands will remove the tables you already created if they are there.
    -- If they are not there, no harm done.
    
    DROP TABLE DISPLAY;
    DROP TABLE GALLERY;
    DROP TABLE PAINTING;
    DROP TABLE PAINTER;
    
    CREATE TABLE PAINTER (
           PTR_ID INT NOT NULL,
           PTR_LNAME VARCHAR2(60) NOT NULL,
            PTR_FNAME VARCHAR2(60),
            CONSTRAINT PAINTER_PRIMARY_KEY PRIMARY KEY (PTR_ID)
        );
    
    CREATE TABLE PAINTING (
            PTG_ID INT NOT NULL,
            PTR_ID INT NOT NULL,
            PTG_YEAR INT,
            PTG_VALUE NUMBER(10,2),
            PTG_NAME VARCHAR2(200),
            CONSTRAINT PAINTING_FOREIGN_KEY FOREIGN KEY (PTR_ID) REFERENCES PAINTER (PTR_ID),
            CONSTRAINT PAINTING_PRIMARY_KEY PRIMARY KEY (PTG_ID)
        );
    
    CREATE TABLE GALLERY (
            GAL_ID INT NOT NULL,
            GAL_NAME VARCHAR2(200),
            CONSTRAINT GALLERY_PRIMARY_KEY PRIMARY KEY (GAL_ID)
        );
    
    CREATE TABLE DISPLAY (
            DIS_ID INT NOT NULL,
            GAL_ID INT NOT NULL,
            PTG_ID INT NOT NULL,
            DIS_START_DATE DATE NOT NULL,
            DIS_END_DATE DATE,
            CONSTRAINT DISPLAY_FOREIGN_KEY1 FOREIGN KEY (GAL_ID) REFERENCES GALLERY (GAL_ID),
            CONSTRAINT DISPLAY_FOREIGN_KEY2 FOREIGN KEY (PTG_ID) REFERENCES PAINTING (PTG_ID),
            CONSTRAINT DISPLAY_PRIMARY_KEY PRIMARY KEY (DIS_ID)
       );
    
    INSERT INTO PAINTER VALUES (
            1,
            'Van Gogh',
            'Vincent'
        );
    
    INSERT INTO PAINTER VALUES (
            2,
            'Picasso',
            'Pablo'
        );
    
    INSERT INTO PAINTER (PTR_FNAME, PTR_LNAME, PTR_ID) VALUES (
            'Edgar',
            'Degas',
            3
        );
    
    INSERT INTO PAINTING VALUES (
            1, 1, 1889, 1000000, 'The Starry Night');
    
    INSERT INTO PAINTING VALUES (
            2, 1, 1890, 1200000, 'At Eternity''s Gate');
    
    INSERT INTO PAINTING VALUES (
            3, 2, 1904, 1250000, 'The Old Guitarist');
    
    INSERT INTO PAINTING VALUES (
            4, 2, 1903, 1450000, 'La Vie');
    
    INSERT INTO PAINTING VALUES (
            5, 3, 1897, 1150000, 'The Blue Dancers');
    
    INSERT INTO PAINTING VALUES (
            6, 3, 1876, 1490000, 'The Absinthe Drinker');
    
    INSERT INTO GALLERY VALUES (1, 'The Louvre');
    
    INSERT INTO GALLERY VALUES (2, 'The Guggenheim');
    
    INSERT INTO DISPLAY VALUES (
           1,
          1,
            1,
            TO_DATE ('01/15/2018', 'MM/DD/YYYY'),
            NULL
        );
    
    INSERT INTO DISPLAY VALUES (
            2,
            1,
            2,
            TO_DATE ('01/15/2018', 'MM/DD/YYYY'),
            TO_DATE ('11/24/2019', 'MM/DD/YYYY')
        );
    
    INSERT INTO DISPLAY VALUES (
            3,
            2,
            2,
            TO_DATE ('12/1/2019', 'MM/DD/YYYY'),
            NULL
        );
    
    INSERT INTO DISPLAY VALUES (
            4,
            2,
            3,
            TO_DATE ('4/1/2018', 'MM/DD/YYYY'),
            NULL
        );
    
    INSERT INTO DISPLAY VALUES (
            5,
            2,
            4,
            TO_DATE ('6/3/2018', 'MM/DD/YYYY'),
            NULL
        );
    
    INSERT INTO DISPLAY VALUES (
            6,
            1,
            5,
            TO_DATE ('3/13/2019', 'MM/DD/YYYY'),
            NULL
        );
    
    INSERT INTO DISPLAY VALUES (
            7,
            1,
            6,
            TO_DATE ('8/12/2018', 'MM/DD/YYYY'),
           NULL
        );
    
    commit;                                                                                                                                                                                                                                

We've tried resetting our accounts, we've tried resetting the program, we've tried upgrading from 18.2 to the latest version and still no luck! This is happening with another schema as well, so I feel like it's a problem with Oracle.

&amp;#x200B;

Any advise and help is appreciated. Thank you.",learnSQL,Professor created schema and Oracle SQL Developer refuses to insert data into tables.,1.0,https://www.reddit.com/r/learnSQL/comments/dp9ka3/professor_created_schema_and_oracle_sql_developer/
41,jxh2,1572481734,dpfogd,5,2,"I'm playing around with SQL to learn it. One of the things I want to make is a simple event planning database with tables for locations, events, and people. My issue is with creating an attendance record for events -- something that would show who attended a particular event. The simplest option -- which feels very ugly to me -- would be an attendance table with two columns, 

|EVENT\_ID|PERSON\_ID|
|:-|:-|
|39|1|
|39|2|
|39|4|

This seems obviously incorrect to me, but googling is drawing a blank here. What is the correct way to associate people with events in this database, given that events will have a variable number of attendees?",learnSQL,Calendering Database -- Table Organization?,1.0,https://www.reddit.com/r/learnSQL/comments/dpfogd/calendering_database_table_organization/
42,RogerSmithII,1572498348,dpiwlf,0,1,"I have 3 tables that look like this: https://i.imgur.com/OlLR1ma.png 

My goal is to find the name of students that are taking both Physics and US History. 

I was able to write a query that gets the names of the students taking either of the two courses but not both: 

    SELECT student_name FROM students
    WHERE student_no IN (SELECT student_no FROM student_enrollment WHERE course_no IN
    (SELECT course_no FROM courses WHERE course_title IN ('Physics','US History')))",learnSQL,Subqueries + different tables: obtaining result meeting all criteria,1.0,https://www.reddit.com/r/learnSQL/comments/dpiwlf/subqueries_different_tables_obtaining_result/
43,FenriX89,1572513035,dpkwk5,2,4,"I've a collection of records i've to store in my database, I already have quite a complex structure that justify a relational DB and right now i really don't want to switch for a NoSQL or other solutions (I'm still learning to use SQL, so... one step at a time), the file i've to store are quite large and vary in size a lot, I can't easily store them in one row (I think) around 10M\~1G of information each. I've a backend java servlet that can manage the connection to the DB and the DB is already packed with lot's of views.

    USE `mydb`;
    
    CREATE TABLE IF NOT EXISTS `mydb`.`infos` (
      `data_id` INT NOT NULL AUTO_INCREMENT,
      `created` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP(),
      `name` VARCHAR(255) NOT NULL,
      `info` VARCHAR(255) NOT NULL,
      PRIMARY KEY (`data_id`));
    
    CREATE TABLE IF NOT EXISTS `mydb`.`raw_data` (
      `raw_id` INT NOT NULL AUTO_INCREMENT,
      `data_id` INT NOT NULL,
      `raw` VARCHAR(1023) NOT NULL,
      `order` INT NOT NULL
      PRIMARY KEY (`raw_id`));
    
    CREATE OR REPLACE VIEW `mydb`.`data_plus_info` AS (
      SELECT `infos`.`data_id`, `infos`.`created`, `infos`.`name`, `infos`.`info`,
      GROUP_CONCAT(`raw_data`.`raw` SEPARATOR '' ORDER BY `raw_data`.`order`)
      AS `data` GROUP BY `raw_data`.`raw_id`
      FROM `mydb`.`infos` LEFT JOIN `mydb`.`raw_data` USING `data_id`);

This is the solution I was thinking (written for mysql) to retrieve the entire files in one select query to the data\_plus\_info view, instead of 1 query to the infos table and one with multiple raws to the raw\_data...

Does this solution scale properly with increasing amount of data?  Is the initial idea to segment the raw\_data wrong to begin with?

Really hope someone can help! Thanks!",learnSQL,"Store large amount of data into a traditional SQL database, retrieve them with a view that concatenate the raw data",1.0,https://www.reddit.com/r/learnSQL/comments/dpkwk5/store_large_amount_of_data_into_a_traditional_sql/
44,codebreaker21,1572528974,dpnmr8,2,2,"I am not sure why the purpose of the ON clause, I thought it was to not show duplicates like

SELECT *
FROM sql_store.order_items oi 
INNER JOIN products p 
ON oi.product_id = p.product_id 

Since both columns are equal we use the ON so we don't show duplicates.. so I thought that was the only reason to use the ON clause, but no I was wrong.

Can someone explain why we use it?",learnSQL,Can someone help me with the ON clause?,1.0,https://www.reddit.com/r/learnSQL/comments/dpnmr8/can_someone_help_me_with_the_on_clause/
45,LoganBlackisle,1572597362,dq1gy5,2,1,"I have these tables that I'm using in the stored procedure:

    CREATE TABLE SalesSituation (
    name VARCHAR(20),
    ssID INT PRIMARY KEY
    );
    
    CREATE TABLE Product (
    name VARCHAR(20),
    size INT,
    productID INT PRIMARY KEY,
    pgID INT FOREIGN KEY REFERENCES ProduktGruppe
    );
    
    CREATE TABLE Price (
    price DEC(6,2),
    priceID INT PRIMARY KEY,
    ssID INT FOREIGN KEY REFERENCES SalesSituation,
    productID INT FOREIGN KEY REFERENCES Product
    );

I'm trying to make a stored procedure that will print out prices for all products that have a price in the given sales situation, with any discount that may apply having been applied.

This is what I've written:

    CREATE PROCEDURE PriceList
    @Salessituation VARCHAR(20), @Discount INT
    AS
    BEGIN
    SELECT pro.name AS 'Product', ss.name, (pri.price) - (pri.price * @Discount / 100) AS 'Actual price'
    FROM Product pro, SalesSituation ss, Price pri
    WHERE ss.name = @Salessituation
    AND pri.productID = pro.productID
    GROUP BY pro.name, ss.name, pri.price
    END
    
    EXECUTE PriceList 'Shop', 0

The problem is, I get a lot of duplicates - how do I create a constraint, of some kind, that eliminates duplicates?",learnSQL,Stored Procedure to print data given constraint,1.0,https://www.reddit.com/r/learnSQL/comments/dq1gy5/stored_procedure_to_print_data_given_constraint/
46,bballbet,1572661871,dqedzt,1,2, ,learnSQL,Need help with data comparisons in two different columns [MSSqlServer],1.0,https://www.reddit.com/r/SQL/comments/dqe21j/need_help_with_data_comparisons_in_two_different/
47,R3D24,1572708862,dqlrpq,3,3,"I already know that such a constraint isn't possible; that's my problem.

I'm taking a class on MySQL, and am learning about creating tables. One of the requirements for a table is that the primary key cannot be changed. However, there's nothing in my textbook about being able to disable updates to a column.

I know from the instructions that I need to enforce referential integrity using constraints, but as far as I can tell there's no such constraint that doesn't allow any updates to a column.

Here's two of the tables I'm creating:

    CREATE TABLE ORDERS (
    ORDER_NUM INT(10) UNSIGNED PRIMARY KEY,
    ORDER_DATE DATE,
    CUSTOMER_NUM SMALLINT(5) UNSIGNED,
    FOREIGN KEY (CUSTOMER_NUM) REFERENCES CUSTOMER(CUSTOMER_NUM)
    ); 
    CREATE TABLE ORDER_LINE (
    ORDER_NUM INT(10) UNSIGNED,
    PART_NUM INT(10) UNSIGNED,
    NUM_ORDERED SMALLINT(5) UNSIGNED,
    QUOTED_PRICE DECIMAL(12, 2),
    PRIMARY KEY (ORDER_NUM, PART_NUM),
    FOREIGN KEY (PART_NUM) REFERENCES PART(PART_NUM) ON UPDATE CASCADE,
    FOREIGN KEY (ORDER_NUM) REFERENCES ORDERS(ORDER_NUM) ON DELETE CASCADE
    );

TL;DR: Does a (MySQL) constraint exist that prevents updates to the primary key?",learnSQL,How do I make a constraint to prevent an update command from changing the primary key? (MySQL),1.0,https://www.reddit.com/r/learnSQL/comments/dqlrpq/how_do_i_make_a_constraint_to_prevent_an_update/
48,KingGeorge12321,1572833401,drau76,5,3,"I have two variations which show the same information and I'm trying to figure out which is better, or if one is wrong entirely. Is it wrong to have a Business\_ID foreign key in both the INSPECTION and VIOLATION table? Or, are both of these ok? 

[Above is option A. Below is option B.](https://preview.redd.it/zkx38hs4vkw31.png?width=1439&amp;format=png&amp;auto=webp&amp;s=5b998df08112390db3fef8073ad57d63a43eeb74)

[Top is option A, Bottom is option B.](https://preview.redd.it/y4nwrjs4vkw31.png?width=1837&amp;format=png&amp;auto=webp&amp;s=67d8cf12dc90bd802042bfb351fea07b887ec5bc)",learnSQL,Which ER Diagram and Relational Schema is correct?,1.0,https://www.reddit.com/r/learnSQL/comments/drau76/which_er_diagram_and_relational_schema_is_correct/
0,gurlcroosh,1567630305,czqlvt,0,2,"Hi Everyone. I am a SQL newbie and am trying to work my way through Debarros' Practical SQL. Right now I am on Ch.4 Importing and Exporting Data and When I enter this code, as per the book: 

COPY table\_name

FROM 'C:\\YourDirectory\\your\_file.csv'

WITH (FORMAT CSV, HEADER);

I get this error message: 

 ERROR:  syntax error at or near ""COPY"" LINE 1: ...S False,TIMING False,SUMMARY False,BUFFERS False) COPY table...                                                              \^ SQL state: 42601 Character: 104 

what could I be doing wrong? btw I am using v. 3.5 of PgAdmin for PostgreSQL",learnSQL,Super simple question about using COPY to import data into a table.,1.0,https://www.reddit.com/r/learnSQL/comments/czqlvt/super_simple_question_about_using_copy_to_import/
1,cmstrump,1567651309,czuwdw,0,6,"The following overview focused on free and open source MySQL ETL tools, but some of these tools below are the “community” versions of more powerful, paid platforms that you can use if you want more control on your data:  
[Top 9 MySQL ETL Tools: The Best Free And Paid Options](https://blog.panoply.io/top-9-mysql-etl-tools-the-best-free-and-paid-options) (see the comparison for more details on each of the following options)

*Free and Opens Source ETL Tools:*

1. [Benetl](https://www.benetl.net/)
2. [Talend Open Source Data Integrator](http://sourceforge.net/projects/talend-studio/)
3. [Apatar](http://www.apatar.com/)
4. [KETL](http://www.ketl.org/)
5. [OpenMRS](https://github.com/openmrs/openmrs-module-mysqletl)
6. [DataExpress](https://github.com/chop-dbhi/dataexpress)
7. [Transformalize](https://github.com/dalenewman/Transformalize)
8. [Csv2db](https://github.com/csv2db/csv2db)
9. [Pentaho Kettle](https://community.hitachivantara.com/docs/DOC-1009855)

*Paid Cloud Services for Extracting MySQL Data to a Data Warehouse:*

A data warehouse is a system that pulls together data from many different sources within an organization for reporting and analysis. The reports created from complex queries within a data warehouse are used to make business decisions

1. [Panoply](https://panoply.io/)
2. [Blendo](https://www.blendo.co/)
3. [Stitch](https://www.stitchdata.com/)
4. [FlyData](https://www.flydata.com/)
5. [Informatica](https://www.informatica.com/)",learnSQL,MySQL ETL Tools Comparison: Free And Paid Options,1.0,https://www.reddit.com/r/learnSQL/comments/czuwdw/mysql_etl_tools_comparison_free_and_paid_options/
2,37b,1567784336,d0ib77,1,1,"I have a table with `site_id` and `asset_id` as a lookup table and another with many values. For these records I have the `site_id` and want to look up the `asset_id` when inserting. How can I accomplish this using pymyql?

    query = """"""INSERT INTO attack_vectors
    							(`site_id`,`status`,`closed`,`request_url`,`parameter_value`,`method`,
    							`date_found`,`last_retest`,`asset_id`)
    						VALUES
    							(%s, %s, %s, %s, %s, %s, %s, %s, SELECT asset_id from whitehat_sites where site_id = `site_id`)
    						ON DUPLICATE KEY UPDATE
     							`site_id` = VALUES(`site_id`),
    							`status` = VALUES(`status`),
    							`closed` = VALUES(`closed`),
    							`request_url` = VALUES(`request_url`),
    							`parameter_value` = VALUES(`parameter_value`),
    							`method` = VALUES(`method`),
    							`date_found` = VALUES(`date_found`),
    							`last_retest` = VALUES(`last_retest`),
    							`asset_id` = VALUES(`asset_id`)
         						""""""",learnSQL,[pymysql] How can I add a field from a lookup table on insert?,1.0,https://www.reddit.com/r/learnSQL/comments/d0ib77/pymysql_how_can_i_add_a_field_from_a_lookup_table/
3,professionaltut143,1567943944,d1a15v,0,10, ,learnSQL,sql queries data manipulation,1.0,https://youtu.be/cWYLc2chzJY
4,Jehovahswetnips,1567967311,d1ergo,2,4,"I've been looking everywhere on how to stop the wrong software from using port 5432. I downloaded the mac version from this website:

[https://www.enterprisedb.com/downloads/postgres-postgresql-downloads](https://www.enterprisedb.com/downloads/postgres-postgresql-downloads)

After realizing my mistake, I have been trying to undo whatever this download is doing. I don't remember where I downloaded the files. I've been looking through my directories, but still nothing.",learnSQL,I installed the wrong PostgreSQL.,1.0,https://www.reddit.com/r/learnSQL/comments/d1ergo/i_installed_the_wrong_postgresql/
5,egzon27,1568047427,d1tf0g,3,3,"Hey everyone, I have a problem right now I have a table where I should add a prefix to all the values from a column, if it were a string I would only use concat so that has been working fine. How am I supposed to concatenate a prefix number I'm trying to add with the column I'm trying to add the prefix to?",learnSQL,"Converting varchar to int, MSSQL",1.0,https://www.reddit.com/r/learnSQL/comments/d1tf0g/converting_varchar_to_int_mssql/
6,Beshaver,1568072851,d1zbcq,2,6,"I was undertaking a SQL test yesterday and come across this question:

1, Find employees who have been hired at least at last 5 months.

How would you approach that? I was really confused with the wording.

&amp;#x200B;

Thank you",learnSQL,Query Exam,1.0,https://www.reddit.com/r/learnSQL/comments/d1zbcq/query_exam/
7,a_padawan_learner,1568138323,d2bhn0,1,3,I tried finding in udmey and course era but had no luck except for the free courses provide in Mongodb university. Could you folks suggest anything apart form that to develop an intermediate level skill in NoSQL?,learnSQL,Any online free or paid resources to learn NoSql?,1.0,https://www.reddit.com/r/learnSQL/comments/d2bhn0/any_online_free_or_paid_resources_to_learn_nosql/
8,pasques,1568157889,d2glhx,6,3,"Honestly, I'm past the beginner stage of SQL - 10+ years - but I wanted to get some feedback from some of the pros here. My job requires the use of SQL, but I am not considered a developer by any means. My job requires the manipulation of data (large and small) with UPDATEs, DELETEs, and INSERTs. As well as analysis for planned updates using SELECTs and PIVOTs, and blah blah. But I don't program or code for SQL in the long term. Most of my queries are usually short term use.  

I've noticed a different style in my SQL and most of the professional developers (young and old). And for one, I am devout user of JOIN statements - INNER, LEFT, RIGHT mostly. But the professional developers that I sometimes work with almost rarely use them. And sometimes, they even get flustered when I present my SQL with it's JOINs. Instead they lump all the tables together with commas, and then in the WHERE clause, they establish the relationships. Including using the difference join with (+). 

Really, I can't tell if I'm being snobbish or are these guys being lazy or is there something else? Is using the (+) and the relationships in the where clause better? Functionally, you can usually get the same result, but it just looks disorganized to me. Does anyone have an opinion?",learnSQL,Does anyone even use ANSI SQL??,1.0,https://www.reddit.com/r/learnSQL/comments/d2glhx/does_anyone_even_use_ansi_sql/
9,DumbQuestionsSquared,1568323068,d3elvs,1,3,"Hello, so I'm not very well versed in SQL at all, and this class I'm taking really threw me in deep beginning of the semester. We got a list of 40 Create Table scripts with varying information and I need to convert them to Oracle Syntax. I can do basic things like creating tables and looking up data but I need to really sit down and learn it. 

Here's one of the scripts for example:

&amp;#x200B;

[A simple create table script in sql. ](https://i.redd.it/9y0nvhhgb8m31.png)

His conversion:

&amp;#x200B;

[He added a sequence and trigger](https://i.redd.it/qr47ar8kb8m31.png)

&amp;#x200B;

My question is basically why he added that, and how its used.  Also what happened to the Identity on picture id? Is that not part of the syntax? I asked him for help/explanation but I wont get to meet with him for a few days and I want to try and understand this now.",learnSQL,Converting SQL Scripts to SQL syntax ( COMPLETE NOOB),1.0,https://www.reddit.com/r/learnSQL/comments/d3elvs/converting_sql_scripts_to_sql_syntax_complete_noob/
10,MascheranosAnus,1568381884,d3pe0h,2,2, ,learnSQL,help with MERGE statements,1.0,https://www.reddit.com/r/CodingHelp/comments/d3p8z2/help_with_merge_statements/
11,thumbsdrivesmecrazy,1568603660,d4uz6k,0,1,The following discussion provides an example of an effective data schema for a data project based on PostgreSQL as a general foundation in data schema design: [Database Schema Design Examples](https://blog.panoply.io/database-schema-design-examples),learnSQL,Database Schema Design Examples (Step-By-Step Tutorial),1.0,https://www.reddit.com/r/learnSQL/comments/d4uz6k/database_schema_design_examples_stepbystep/
13,zetaphi938,1568648563,d52fmy,5,1,"So I have a column 'BirthDate'
I am trying to CONVERT that column from a datetime column to just a date column. 

Could anyone help with syntax of what that would look like?

Thank you!",learnSQL,CONVERT function question,1.0,https://www.reddit.com/r/learnSQL/comments/d52fmy/convert_function_question/
14,GenocideOwl,1568659113,d54dqu,2,2,"Trying to create a report(user wants to know when a particular modular is edited but I don't want to give them access to the whole audit system) from an audit table. The audit table/system was made by a vendor years ago. Problem is I am having trouble figuring out the date/time. It looks like just a [string of random numbers](https://imgur.com/Mz4PBdl). How do I parse that into a proper date/time?

thanks",learnSQL,How do I get a readable Date/Time out of this audit table?,1.0,https://www.reddit.com/r/learnSQL/comments/d54dqu/how_do_i_get_a_readable_datetime_out_of_this/
15,Frankthetrashman,1568664123,d55r69,3,4,"This is a homework problem, but I am really having a hard time figuring this problem out. 

Here is what my book wants me to do.

&amp;#x200B;

**Display the first word after the street number in a supplier's street address.**

**For example, for the supplier ""1 Pine Apple St"", the first word after the street number** 

**is ""Pine"". Show the supplier's street address and the first word after the street number.**

&amp;#x200B;

I've gone through my book multiple times, and the examples show how to display the letters between other specific letters. My confusion here is that the data that this is being pulled from is all different, and so I can not choose a set of letters to pull the information from. So far in Visual Studio I have this wrote out: 

**SELECT StreetAddress, SUBSTRING(StreetAddress, CHARINDEX( , StreetAddress)+1, CHARINDEX( ,**

**StreetAddress, CHARINDEX( , StreetAddress)+1) - CHARINDEX( , StreetAddress) -1)**

**AS ""First word after street number""**

**FROM Purchasing.Suppliers**

**WHERE StreetAddress LIKE '%%';**

&amp;#x200B;

I am entirely at a loss. Any help will be greatly appreciated. I feel as though I'm overlooking something rather simple here.",learnSQL,Trouble pulling a specific phrase from a string,1.0,https://www.reddit.com/r/learnSQL/comments/d55r69/trouble_pulling_a_specific_phrase_from_a_string/
16,BILLatWORK,1568749836,d5m71z,2,1,"I have 2 columns one is sales and the other is timeperiod I want to take the full sum of sales and divide by the count of timeperiod to find out how much money a person orders during months they are placing orders. This is my basically how my current query looks, I math it out in a spread sheet but would like to be able to get to where we are doing it in the query itself.
Thanks in advance for any help

    SELECT 
    a.timeperiod
    ,b.cust_no
    ,sum(b.sales)
    from
    POSTINGPERIOD as A 
    inner join SALESDETAIL as B
    on a.custno = b.custno
    group by
    a.timeperiod
    ,b.cust_no",learnSQL,how do I sum one column and divide by the count of another,1.0,https://www.reddit.com/r/learnSQL/comments/d5m71z/how_do_i_sum_one_column_and_divide_by_the_count/
17,dunemafia,1568814251,d5xzvy,2,1,"Hello,

I have a sqlite database with multiple tables, but I require data off of only two, tables ""SUBMISSIONS"" and ""COMMENTS"".

SUBMISSIONS has columns ""idstr"", ""created"", ""title"", ""score"" etc. 

COMMENTS has columns ""idstr"", ""created"", ""submission"", ""score"" etc. 

The idstr columns in either table have different values, but idstr.SUBMISSIONS and submission.COMMENTS have the same values.

I would like to select * from SUBMISSIONS where score &gt; 1000, and select * from COMMENTS where the ""submission"" values match the ""idstr"" values of the output of the first query.

i.e. if the output of the first query is ""a"" ""b"" ""c"" ""d"" etc., I would like to select * from COMMENTS where the column ""submission"" has values ""a"" ""b"" ""c"" ""d"" etc.

Is it possible to pipe the output of a query to another query? Thanks.",learnSQL,Joining columns from two tables where (condition),1.0,https://www.reddit.com/r/learnSQL/comments/d5xzvy/joining_columns_from_two_tables_where_condition/
18,FermatsLastAccount,1568814706,d5y3fw,2,3,Everyone I've talked to has said that the synthetic datasets you use when learning SQL are far cleaner than anything you'll work with in real life. How can a college student get experience with these kinds of data sets without any real life work experience?,learnSQL,How do you prepare for the messy data sets you have in a work environment?,1.0,https://www.reddit.com/r/learnSQL/comments/d5y3fw/how_do_you_prepare_for_the_messy_data_sets_you/
19,ZombieSays2SucK,1568997736,d6xk4v,2,1,"Hey all, I just started a database management course. I have a question within a lab where I have to make a table and add two rows of data. I was curious on if I could be put on the right path if I am not already on it. This is my code so far:

CREATE TABLE test\_table (

test\_id number(3)

test\_description varchar(25)

VALUES('001', 'Database Management Midterm', '002', 'Database Management Final')

);

&amp;#x200B;

The task is to create a table with the columns test\_id and test\_description, with two rows of actual data. This is where my big issue comes in, I don't think this is how you add the values to the table. I saw you can use the insert command then the values command, but if it is within the table creation do I need the insert command? Thank you.",learnSQL,Table creation and adding rows,1.0,https://www.reddit.com/r/learnSQL/comments/d6xk4v/table_creation_and_adding_rows/
21,Jmills2,1569266023,d8bbjv,1,2,The first one that pops up is Learning SQL Programming; a course that's about 90 min long.  Has anyone tried this one and know if it's any good?  Thank you!,learnSQL,Best SQL course for beginners on Linkedin Learning?,1.0,https://www.reddit.com/r/learnSQL/comments/d8bbjv/best_sql_course_for_beginners_on_linkedin_learning/
22,tutorialspoint4all,1569340327,d8p2yp,0,1, ,learnSQL,SQL query resulted in error: Exception of type ‘System.OutOfMemoryException’ was thrown,1.0,https://tutorialspoint4all.com/sql-query-resulted-in-error-exception-of-type-system-outofmemoryexception-was-thrown/
23,TacitusJones,1569344140,d8pyv9,5,2,"Hi gang,

&amp;#x200B;

So I have a group of 5 queries, each one individually outputs a column of the date, and count of things on that date.

&amp;#x200B;

How would I combine the queries to output a table like this

Date        |  q1 |q2 | q3 |q4 | q5

01/01 01 |  x   | y  |   z  |  q  |  batman symbol",learnSQL,Combining Queries,1.0,https://www.reddit.com/r/learnSQL/comments/d8pyv9/combining_queries/
24,OperationCorporation,1569356065,d8sqdi,0,4,"I am learning about Foreign Keys, and want to make sure that this graph doesn't show any makings for weirdness down the line. I don't see any circular dependencies, but I wasn't sure if the Software Table would be an issue because it provides multiple keys to tables that each provide keys to a single table. Thanks for your time!

*Processing img 667zfrypmlo31...*",learnSQL,Will there be any problems with these Foreign Key Dependencies?,1.0,https://www.reddit.com/r/learnSQL/comments/d8sqdi/will_there_be_any_problems_with_these_foreign_key/
25,cmstrump,1569379679,d8xapt,0,7,"The following article shows how the PowerBI integration works, including a quick guide to setting up MySQL as a data source, and a few alternative options (because loading MySQL data into PowerBI is not straightforward if MySQL is running in the cloud): [PowerBI With MySQL: Challenges And Alternatives](https://blog.panoply.io/powerbi-mysql-challenges-and-alternatives)",learnSQL,"Connecting PowerBI Online to a MySQL Database: Step-By-Step Guide, Challenges &amp; Alternatives",1.0,https://www.reddit.com/r/learnSQL/comments/d8xapt/connecting_powerbi_online_to_a_mysql_database/
26,cmstrump,1569468265,d9e1vi,0,0,"The PostgreSQL database serves two roles in the Tableau ecosystem: [Tableau And PostgreSQL: Two Ways Of Working Together](https://blog.panoply.io/tableau-and-postgresql-two-ways-of-working-together) (see the article for more details and tips):

* As the Tableau Server Repository—the Tableau Server Repository is the primary way to optimize performance of Tableau servers and provide a better experience for users. Learn how to obtain data about user operations in Tableau for performance monitoring and detailed analysis of usage.
* As a data source for analysis—PostgreSQL is one of the world’s most popular data sources, and it is extremely common to find large data sets stored in Postgres format. You can easily analyze these data sets in Tableau. Learn how to connect to PostgreSQL from Tableau, load data, analyze it and keep PostgreSQL data up to date.",learnSQL,Tableau and PostgreSQL: Working Together as Tableau Server Repository or Data Source for Analysis,1.0,https://www.reddit.com/r/learnSQL/comments/d9e1vi/tableau_and_postgresql_working_together_as/
27,Shilpa_Opencodez,1569471349,d9el0w,0,14, ,learnSQL,SQL for Beginners: Tutorial#4 – UPDATE Statement,1.0,https://www.opencodez.com/software-testing/sql-qa-tutorial4-update-statement.htm
28,dalevids22,1569475724,d9fa0s,1,2,"Hello,

So i am currently figuring out how to perform this task,

provided a sample column of a table below

Keywords

 marian\_rivera,short\_hair,hairstyle,celebrity\_life,beauty,lifestyle,2photos,rss,rssfeed 

&amp;#x200B;

so i have multiple texts separated with a comma in keywords column, what i want to do is just to remove every text except beauty, and lifestyle in the presented output like this:

Keywords

beauty,lifestyle,

&amp;#x200B;

hope you guys can help.",learnSQL,Is it possible?,1.0,https://www.reddit.com/r/learnSQL/comments/d9fa0s/is_it_possible/
29,mcflyatl,1569593562,da0zr6,6,2,"I have a many-many-relationship that I am struggling with.  The end game I want to take my large list of recipes and be able to filter out (or in) ingredients that are either in (or out) of my pantry.  Here is the setup:

    BEGIN TRANSACTION;
    /* Create a table called NAMES */
    CREATE TABLE RECIPES(ID integer PRIMARY KEY, Name text);
    CREATE TABLE INGREDIENTS(ID integer PRIMARY KEY, Name text);
    CREATE TABLE RECIPE_INGREDIENT(ID integer PRIMARY KEY, RecipeID integer, IngredientID integer);
    /* Create few records in this table */
    INSERT INTO RECIPES VALUES(1,'Fish Tacos');
    INSERT INTO RECIPES VALUES(2,'Fish Soup');
    INSERT INTO INGREDIENTS VALUES(1,'Fish');
    INSERT INTO INGREDIENTS VALUES(2,'Tomatoes');
    INSERT INTO RECIPE_INGREDIENT VALUES(1,1,1);
    INSERT INTO RECIPE_INGREDIENT VALUES(2,2,1);
    INSERT INTO RECIPE_INGREDIENT VALUES(3,2,2);
    COMMIT;
    /**/
    select recipes.name, ingredients.name
    from recipes
    join recipe_ingredient on (recipes.id = recipe_ingredient.recipeid)
    join ingredients on (recipe_ingredient.ingredientid = ingredients.id)

When I run this, I get everything as expected:
    Fish Tacos|Fish
    Fish Soup|Fish
    Fish Soup|Tomatoes

But when I add a ""WHERE"" I only get the ingredient I am searching for:
    where ingredients.name='Fish'
    -output-
    Fish Tacos|Fish
    Fish Soup|Fish

I'd like to list ALL ingredients for every recipe that contains tomatoes and not just the rows that contain tomatoes.  Finally, I'd like to add the feature to also be able to exclude ingredients.  So to be able to list recipes that have fish, but do not contain tomatoes.  And I'd like to list all of the ingredients.  I assume I need at least a full outer join just I barely understand the joins I currently have and have no clue how to add outer joins to tie all of this together.

Thanks in advance for any help!",learnSQL,Beginner trying to figure out joins,1.0,https://www.reddit.com/r/learnSQL/comments/da0zr6/beginner_trying_to_figure_out_joins/
30,vivalamab,1569791866,db1e9z,3,1, ,learnSQL,I'm an SQLidiot trying to learn and stuck on an assignment.,1.0,https://i.redd.it/ekydzybnnlp31.png
32,charchles,1569871824,dbguv6,2,2,"I have a column in a SQL script where most values are 0, but some are 'NULL'.

Which datatype should I assign to this column so I can import to a SQL database?

Thank you!",learnSQL,DataType Question,1.0,https://www.reddit.com/r/learnSQL/comments/dbguv6/datatype_question/
33,saltlife703,1569899596,dbn6oz,5,11,Anyone know of any good places to practice running SQL?,learnSQL,Practice,1.0,https://www.reddit.com/r/learnSQL/comments/dbn6oz/practice/
34,YourOldBoyRickJames,1569920856,dbqnbe,6,3,"Hi,

I'm trying to query an openedge Progress database, and I'm trying to return all of the relevant data from last month.

I've tried a few ways around it, using curdate() sysdate, MONTH etc, but I'm not entirely sure how to return a specific month. In the past my queries have always been specified on the last 30 days and things like that, so I'm struggling to nail down the date.



Here's what I have so far
````
SELECT tranfile_0.productcode, tranfile_0.numberoff, tranfile_0.trandate, tranfile_0.batchcode
FROM WMS.PUB.tranfile tranfile_0
WHERE (tranfile_0.owner_organisation='WildPlanet') AND (tranfile_0.trantypecode='RECEIVE') AND (tranfile_0.trandate Between DATEADD(trandate, 1, EOMONTH(SYSDATE, -1)) And (EOMONTH (SYSDATE, -1))
````
I also naively thought it could be as simple as
````
SELECT tranfile_0.productcode, tranfile_0.numberoff, tranfile_0.trandate, tranfile_0.batchcode
FROM WMS.PUB.tranfile tranfile_0
WHERE (tranfile_0.owner_organisation='WildPlanet') AND (tranfile_0.trantypecode='RECEIVE') AND (tranfile_0.trandate = MONTH(NOW)-1)
````

But I keep getting errors regarding the 'Month' and 'Now'columns not being specified.

I know that I'm doing something stupid, but I've been looking at it that long now that I can't think straight. Appreciate any nudges in the right direction.

Thanks",learnSQL,How can I only return data from last month?,1.0,https://www.reddit.com/r/learnSQL/comments/dbqnbe/how_can_i_only_return_data_from_last_month/
35,thumbsdrivesmecrazy,1570153173,dd0ncw,1,10,"If you are a data-driven company, you’ll often be wondering how to use your Instagram data to hone your strategy for the best possible outcomes. The following overview going to walk through some common questions you might want to ask using your Instagram data and how to access the relevant data using a smart data warehouse:

* [Instagram Analytics With SQL Queries, Part 1: Getting Started](https://blog.panoply.io/instagram-analytics-with-sql-queries-part-1-getting-started)
* [Part 2: Engagement Over Time](https://blog.panoply.io/analyzing-instagram-api-data-part-2-engagement-over-time)
* [Part 3: Identifying Top Followers](https://blog.panoply.io/instagram-data-analysis-using-sql-part-the-third-identifying-top-followers)",learnSQL,Instagram Analytics With SQL &amp; Data Warehouse,1.0,https://www.reddit.com/r/learnSQL/comments/dd0ncw/instagram_analytics_with_sql_data_warehouse/
0,Awais22000,1564991794,cm83bc,0,6," **SQL Server Isolation Levels** helps in concurrency &amp; transaction management by preventing concurrency problems . In an environment where we have multiple users modifying and accessing the same information , it is essential that they all can work at the same time without any delays. They all should be able to read correct data and modify data at will.  Read More on the web.",learnSQL,SQL Server Isolation Levels,1.0,https://www.reddit.com/r/learnSQL/comments/cm83bc/sql_server_isolation_levels/
1,Awais22000,1565073396,cmn2rp,0,7, ,learnSQL,Locking in SQL Server,1.0,https://bitalksbi.com/locking-in-sql-server/
2,DvD_cD,1565108866,cmssbs,4,2,"I have ledger type table:

|user\_id|points|created\_at|
|:-|:-|:-|
|1|100|2019-08-02|
|1|50|2019-08-01|
|2|200|2019-08-01|

I want to select every user\_id one time, according to their latest row.",learnSQL,Select latest by column,1.0,https://www.reddit.com/r/learnSQL/comments/cmssbs/select_latest_by_column/
3,britt_57,1565180626,cn53pc,5,5, ,learnSQL,I'm stuck creating a table using MYSQL. Can someone tell me what I'm doing wrong here ...,1.0,https://i.redd.it/hhjwyyc1s0f31.jpg
4,TheMgt_Markoff,1565210550,cnbcxb,4,2,"It seems like I ought to be able to accomplish this in SQL but I haven’t figured a way to do it yet.

Imagine that I have some time series data in a table.  Just two columns for simplicity: a date and a level (floating point).  I’m interested in highlighting “locally unusual” values by tracking the 10% and 90% points in the trailing N observations’ empirical distribution.  N here will be a nice round integer – think 20, 50, 100, that sort of thing.  Mechanically, for each row I’d want to build an ordered table from the current row back to the (N-1) preceding row, and grab the (N/10) and (9N/10) entries from that table, and have a column for each of these values in a “master” query that pulls in the date and level. I’m actually interested in tracking these 10/90 points, not specifically whether the current observation is above/below those points in the windowed distribution, which is seemingly a much easier query to build.

To recap, data like:

Date | Level | 
:--- | :--- | 
7/1/2019 | 30.6 | 
7/2/2019 | 33.8 | 
7/3/2019 | 34.3 | 
7/4/2019 | 35.8 | 
7/5/2019 | 31.9 | 
7/6/2019 | 31.4 | 
7/7/2019 | 28.2 | 
7/8/2019 | 33.6 | 
7/9/2019 | 30.8 | 
7/10/2019 | 30.6 | 
7/11/2019 | 34.9 | 
7/12/2019 | 34.5 | 
7/13/2019 | 31.6 | 
7/14/2019 | 35.3 | 
7/15/2019 | 34.2 | 
7/16/2019 | 32.9 | 
7/17/2019 | 34 | 
7/18/2019 | 35.6 | 
7/19/2019 | 31.8 | 
7/20/2019 | 28 | 
7/21/2019 | 35.3 | 
7/22/2019 | 30.5 | 
7/23/2019 | 37 | 
7/24/2019 | 37 | 

I'm looking for the query agasinst that table that would produce (with N=20):

Date | Level | Upper10 | Lower10 | 
:--- | :--- | :--- | :--- | 
7/1/2019 | 30.6 | NA | NA | 
7/2/2019 | 33.8 | NA | NA | 
7/3/2019 | 34.3 | NA | NA | 
7/4/2019 | 35.8 | NA | NA | 
7/5/2019 | 31.9 | NA | NA | 
7/6/2019 | 31.4 | NA | NA | 
7/7/2019 | 28.2 | NA | NA | 
7/8/2019 | 33.6 | NA | NA | 
7/9/2019 | 30.8 | NA | NA | 
7/10/2019 | 30.6 | NA | NA | 
7/11/2019 | 34.9 | NA | NA | 
7/12/2019 | 34.5 | NA | NA | 
7/13/2019 | 31.6 | NA | NA | 
7/14/2019 | 35.3 | NA | NA | 
7/15/2019 | 34.2 | NA | NA | 
7/16/2019 | 32.9 | NA | NA | 
7/17/2019 | 34 | NA | NA | 
7/18/2019 | 35.6 | NA | NA | 
7/19/2019 | 31.8 | NA | NA | 
7/20/2019 | 28 | 35.3 | 28.2 | 
7/21/2019 | 35.3 | 35.3 | 28.2 | 
7/22/2019 | 30.5 | 35.3 | 28.2 | 
7/23/2019 | 37 | 35.6 | 28.2 | 
7/24/2019 | 37 | 35.6 | 28.2 | 


Any clues?",learnSQL,Seems like this should be doable in SQL but I can't figure out the right correlated subquery,1.0,https://www.reddit.com/r/learnSQL/comments/cnbcxb/seems_like_this_should_be_doable_in_sql_but_i/
5,javascript_dev,1565232252,cnfjpq,2,3,"Something about the following MySQL query is broken. I'm including the PHP for context:

      protected function scanAgainstUrlTargets(array $urlData) {
        global $wpdb;
        
        $urlMatch = $wpdb-&gt;get_results(""
          SELECT *
          FROM {$wpdb-&gt;prefix}delayedCoupons_targets t
          WHERE t.targetUrl = {$urlData['rawUrl']}
          AND t.displayThreshold &lt; (
            select count(*)
            from {$wpdb-&gt;prefix}delayedCoupons_visits v
            where v.urlVisited = {$urlData['rawUrl']}
            as visitCount)
          AND visitCount &lt; t.displayThreshold + t.offerCutoff
        "");
        
        return $urlMatch;
      }

The error I see inline my debugger in $wpdb-&gt;last\_error:

    You have an error in your SQL syntax; check the manual that corresponds to your MySQL server
     version for the right syntax to use near '://localhost/wptest2/wp-admin/plugins.php?
    plugin_status=all&amp;paged=1&amp;s
          AND ' at line 3

Here is the value for $wpdb-&gt;last\_query:

          SELECT *
          FROM wp_delayedCoupons_targets t
          WHERE t.targetUrl = http://localhost/wptest2/wp-admin/plugins.php?plugin_status=all&amp;paged=1&amp;s
          AND t.displayThreshold &lt; (
            select count(*)
            from wp_delayedCoupons_visits v
            where v.urlVisited = http://localhost/wptest2/wp-admin/plugins.php?plugin_status=all&amp;paged=1&amp;s
            as visitCount)
          AND visitCount &lt; t.displayThreshold + t.offerCutoff

$urlData shows this in the debugger, confirming the variables are passing correctly:

    rawUrl = http://localhost/wptest2/wp-admin/plugins.php?plugin_status=all&amp;paged=1&amp;s
    urlRoot = http://localhost/wptest2/wp-admin/plugins.php
    queryString = ?plugin_status=all&amp;paged=1&amp;s

So 'rawUrl' above is correct including `http`

&amp;#x200B;

I'm having a tough time with this one. If I had to guess, maybe something with how I aliase the subquery to visitCount as that's new for me.

Does anyone see the issue?",learnSQL,"Trying to work through this MySQL debug, help",1.0,https://www.reddit.com/r/learnSQL/comments/cnfjpq/trying_to_work_through_this_mysql_debug_help/
6,Awais22000,1565266179,cnkuvr,0,3,"  

**Lock Modes in SQL Server** ensures the concurrency and data integrity for multiple users. This is essential because we want all users to be able to use the database without any delays. Every thing to know about Levels of Locking in SQL Server read below link

Read More : [Locking in SQL Server Part 2](https://bitalksbi.com/lock-modes-in-sql-server/)",learnSQL,Lock Modes in SQL Server Part 2,1.0,https://www.reddit.com/r/learnSQL/comments/cnkuvr/lock_modes_in_sql_server_part_2/
7,shivamkimothi,1565280054,cnnq2x,7,7,"I know basic queries in sql. I want to learn it specifically for interviews. Please suggest some sources. 


Add resources for normalisation and transactions if possible.",learnSQL,I want to learn sql for my interviews,1.0,https://www.reddit.com/r/learnSQL/comments/cnnq2x/i_want_to_learn_sql_for_my_interviews/
8,jcallemc,1565437551,coh1i6,1,10,"I was recently introduced to SQL and have been messing around with PostgreSQL for a couple of weeks now. After seeing/hearing how useful it is and how many jobs ask for some kind of experience with it, I have decided to dig deeper into it. Any suggestions? (I am looking for a proper course such as the ones on edX or Coursera, not a YouTube playlist/crash course). 

Thank you in advance!",learnSQL,Looking for an online certified course,1.0,https://www.reddit.com/r/learnSQL/comments/coh1i6/looking_for_an_online_certified_course/
9,LilSebastianssexhair,1565522924,covnmg,2,2,"Hello, I’m starting a new job soon that requires learning data types and converting them. What’s the best way to go about this? Are there any great resources that you’ve used in the past? Any suggestions would help. Thanks!",learnSQL,Best way to learn data types and conversion?,1.0,https://www.reddit.com/r/learnSQL/comments/covnmg/best_way_to_learn_data_types_and_conversion/
10,uuuzzz,1565792232,cqaabi,1,3,"Hello, please excuse me as I am a database beginner looking to get pointed in the right direction. I'm trying to create a database for a sports league. The attached link is what i'm trying to accomplish. Is SQL the best thing to use to make a database for this? If so, where do you recommend I start?  My apologies if this is a very open ended question.  


 [https://docs.google.com/spreadsheets/d/10IA0Tw8dGK0p\_xB-5j0eD1ddW3dFoy7NaLdpgOVyhl0/edit#gid=1186204277](https://docs.google.com/spreadsheets/d/10IA0Tw8dGK0p_xB-5j0eD1ddW3dFoy7NaLdpgOVyhl0/edit#gid=1186204277)",learnSQL,Beginner looking for some help,1.0,https://www.reddit.com/r/learnSQL/comments/cqaabi/beginner_looking_for_some_help/
11,sfdataschool,1565806856,cqdm9e,0,10,"Getting started with a database, and beginning to learn SQL can be difficult. We definitely experienced this challenge in our analytic education journeys, and have witnessed it first-hand teaching analytic classes.

So, we pulled together a brief video walking through the context of a database + a tutorial on getting a local database setup. Let us know what you think!

Here's the YouTube link: [https://www.youtube.com/watch?v=svAak5oZRuM](https://www.youtube.com/watch?v=svAak5oZRuM)

\- Colby / SF Data School ([https://www.sfdataschool.com](https://www.sfdataschool.com))",learnSQL,"Introduction / Tutorial: What is a Local Database, and How to Get Setup?",1.0,https://www.reddit.com/r/learnSQL/comments/cqdm9e/introduction_tutorial_what_is_a_local_database/
12,Spell_Source,1565837766,cqk68v,0,1,"hey i have an assignment that im working on and the question is:

Write SQL statements for the Library Relational Database Schema shown above. Specify the
appropriate keys and referential triggered actions. Insert at least 3 records in each table.


i understand primary keys and foreign keys but what exactly are referential triggered actions?",learnSQL,SQL Statements - referential triggered actions,1.0,https://www.reddit.com/r/learnSQL/comments/cqk68v/sql_statements_referential_triggered_actions/
13,LolthienToo,1565869855,cqorf8,0,7,"We are doing a migration from one helpdesk system to another, and just before the migration, the SQLLite database that we are trying to MOVE AWAY from is throwing the error ""file is encrypted or is not a database"".

Does anyone have any clues on possible recovery options for what appears to be a corrupted database?",learnSQL,Have a corrupt SQLLite database... any thoughts on recovery tools?,1.0,https://www.reddit.com/r/learnSQL/comments/cqorf8/have_a_corrupt_sqllite_database_any_thoughts_on/
14,FourSake,1565890152,cqt0qx,4,2,"Hi so learning basic Oracle SQL Developer commands, and having issues with this table, it is saying I am having issues with the foreign key, I checked spelled, and I think my syntax is correct. What could be going on? 

&amp;#x200B;

    Create table Reservation
    (
    reservation_id integer,
    picked_up date, 
    return date, 
    Odometer_reading integer,
    gas_tank_status integer,
    total_amount_price integer,
    CONSTRAINT vehicleReserved_ID FOREIGN KEY (vehicle_id) REFERENCES vehicle (vehicle_id),
    CONSTRAINT customerReserved_ID FOREIGN KEY (cusomter_id) REFERENCES cusomter(customer_id),
    CONSTRAINT reservation_id Primary Key (reservation_id)
    )
    ;",learnSQL,Issue with Foreign Keys,1.0,https://www.reddit.com/r/learnSQL/comments/cqt0qx/issue_with_foreign_keys/
15,britt_57,1565957629,cr5iq7,0,1,I'm not seeing my Result Grid when running a query. Any suggestions?,learnSQL,MYSQL Workbench Issue,1.0,https://www.reddit.com/r/learnSQL/comments/cr5iq7/mysql_workbench_issue/
16,drollerfoot7,1565957961,cr5kxf,6,1,"Hey,

&amp;#x200B;

I'm preparing for an exam currently and I can't seem to figure out how to replace the value if the column is null. I have a table called movies and I need to present the name and release date. Some movies don't have a release date (null) and I have to replace that with ""release is unknown"". I've tried various things but I always get errors like sql command not properly ended etc. This should be a simple line of code right? Anyway I just can't seem to figure it out.

Any help is appreciated, thanks for reading.",learnSQL,replace the value if column=null (oracle sql developer),1.0,https://www.reddit.com/r/learnSQL/comments/cr5kxf/replace_the_value_if_columnnull_oracle_sql/
17,RocoDeNiro,1565999200,crehzl,3,10,"I plan on doing most of my learning online with W3 schools, code academy, etc. I really like having a book to reference. I use my excel macros for dummies book whenever I forget something small. Is there a basic book that is recommended? 

Thank you",learnSQL,SQL beginner book,1.0,https://www.reddit.com/r/learnSQL/comments/crehzl/sql_beginner_book/
18,Zcypot,1566327725,ct46hq,1,4,"Good day,

I am reading and watching a lot of videos on SQL, I am trying to focus on backups.  I see it mentioned a lot to do tail log backups, log backups, and such.  I only ever see 'Full backup' &amp; 'Differential'  from the GUI menu.  I signed in under System Admin so I made sure I had proper rights.  Am I missing something?",learnSQL,"I am trying to do a tail log backup, but I just see 'Full backup' &amp; 'Differential'",1.0,https://www.reddit.com/r/learnSQL/comments/ct46hq/i_am_trying_to_do_a_tail_log_backup_but_i_just/
19,mrdjangodjango,1566389101,ctfvzw,6,7,"So I'm trying to create a python program which looks for entries in a database based on user input. Here is the program so far: 

&amp;#x200B;

    import sqlite3
    
    conn = sqlite3.connect('database.sqlite')
    
    c = conn.cursor()
    punctuation = '-,.\n\r'
    remove_punctuation = str.maketrans(punctuation, ' '*len(punctuation))
    text = input(""Write search words"").lower().translate(remove_punctuation)
    
    counter = 0
    
    for word in text:
        if c.execute(""SELECT EXISTS(SELECT 1 FROM table WHERE Column='N' AND word ='word')"") == 1:
            counter += 1
    
    print(counter)

This gives me a counter of 0 no matter what my input is. So I'm guessing the query syntax is wrong. Any help?",learnSQL,Why doesn't my query work?,1.0,https://www.reddit.com/r/learnSQL/comments/ctfvzw/why_doesnt_my_query_work/
20,dey0,1566404266,ctj20x,1,5,"Hi all,

I'm having trouble with a particular query I'm working on and was wondering if anyone could provide assistance. 


I have a table set-up currently like this: 

    Company_Name, State, Price, Salesman1, Salesman2 ... Salesman10, 


My goal is to identify the top salesman (count of how many sales each person had), what companies they sold to, and what geographic regions (states - count and unique) they were involved in.

Ideally my output would convey something like this: 

    Jim Jimmerson, 4 sales (Companies X, X, X, X), 3 States (GA, 
    FL, MI)


Anyone able to give any assistance on how I should go about solving this?",learnSQL,Help with Query for counting Sales by Region,1.0,https://www.reddit.com/r/learnSQL/comments/ctj20x/help_with_query_for_counting_sales_by_region/
21,NOPEsql,1566413102,ctl46v,1,1,"I am trying to:

Create a SQL query that returns the five most popular items for users with a ‘gmail’ email in the past 30 days, based on number of sales.

Very much thanks for any help with this

Table Schemas:

    customers 
    |_email
    |_customer_id  
    
    products 
    |_product_name 
    |_product_id
    
    transactions 
    |_product_id 
    |_customer_id 
    |_transact_at (timestamp)",learnSQL,Help with SQL query,1.0,https://www.reddit.com/r/learnSQL/comments/ctl46v/help_with_sql_query/
22,Vinicide,1566687371,cv0elj,5,9,"I have been following along with a YouTube video just to get things up and running. They specifically said you do not have to include the id field when populating the table because the id field was set to be a primary key, and the db would automatically add values into it as you add more rows. However this is not the case.

When I don't specifically add an id, and just try to add fname and lname to column 2 and 3 I get a SQLException: Values not bound to statement. I eventually figured out it meant that I'm not adding the id field, but why is it different, and is there any way I can set it so that id's are generated automatically?

I suppose I could create a static id value in the class and a method to return the next one and increment, but that feels kind of hacky. 

I'm using sqlite-jdbc-3.27.2.1.jar and JavaSE-1.8.

[Gist](https://gist.github.com/vjvalentin/d93c5d892b4a138bb91e8f2a8eb711ed) 

[YouTube vid I was following](https://youtu.be/JPsWaI5Z3gs?t=1470)",learnSQL,[SQLite + Java] Why doesn't the primary key field automatically populate?,1.0,https://www.reddit.com/r/learnSQL/comments/cv0elj/sqlite_java_why_doesnt_the_primary_key_field/
23,tehboonaki,1566779264,cvgo4f,3,3,"Hi there, I am trying to learn SQL and wondering how I can call this stored procedure as an anonymous block.

The function is 

 

`CREATE OR REPLACE FUNCTION` 

`L2_SF`

`_Count_Gender(pGender varchar2)`  

`RETURN INTEGER   AS` 

 `vCount INTEGER;` 

`BEGIN` 

 `SELECT COUNT(*) INTO vCount` 

 `FROM employee` 

 `WHERE Gender = pGender;` 

 `RETURN vCount;` 

`END;`

&amp;#x200B;

I want to call it so it displays as: ""The number of employee's with the gender F is:...."" 

So far I have tried this code to do so

`set serveroutput on;`

&amp;#x200B;

`declare`

&amp;#x200B;

`gendervalue integer;`



`begin` 



`gendervalue := L2_SF_Count_Gender( );`



`dbms_output.put_line('Number of total F employees is: ' || gendervalue('F'));`

&amp;#x200B;

`end;`

&amp;#x200B;

I feel like I am missing something really important and it is just bluntly obvious hahaha. First time learning SQL.

&amp;#x200B;

Thanks for the help :)",learnSQL,Help with calling a stored procedure with an anonymous block? (New to SQL),1.0,https://www.reddit.com/r/learnSQL/comments/cvgo4f/help_with_calling_a_stored_procedure_with_an/
24,angeloand,1566946372,cwc0bv,4,7,"So I am learning SQL from code academy this is the 'Analyze data with SQL' course.

So Codeacademy gives this code to run 


    SELECT COUNT(DISTINCT user_id) AS enrollments,
	    COUNT(CASE
       	    WHEN strftime(""%m"", cancel_date) = '03'
            THEN user_id
      END) AS march_cancellations,
 	    ROUND(100.0 * COUNT(CASE
       	    WHEN strftime(""%m"", cancel_date) = '03'
            THEN user_id
      END) / COUNT(DISTINCT user_id)) AS churn_rate
    FROM pro_users
    WHERE signup_date &lt; '2017-04-01'
	    AND (
        (cancel_date IS NULL) OR
        (cancel_date &gt; '2017-03-01')
      );


So I see that they use the 'AS' statement, wouldn't that eliminate the need to rewrite that block of code? So couldn't I just shorten it like this? But it doesn't give any results


     	ROUND(100.0 * march_cancellations) / enrollments) AS churn_rate",learnSQL,Why am I unable to run this line of code? AS statement,1.0,https://www.reddit.com/r/learnSQL/comments/cwc0bv/why_am_i_unable_to_run_this_line_of_code_as/
25,aboyd656,1566993897,cwjuzr,3,3,"I have a table that logs when a camera detects an object, the meter mark where that object was, and a number to identify the roll of material it was present in. As you can see in the data below, when the roll is run out and a new one is loaded, the web\_usage2 value goes to zero and the roll number changes. I have a report that generates and prints when the roll is changed.

I haven't been able to figure out a query to automatically only pull the most recent set of data into the report. How can I filter the table based on the most recent value of Roll\_Number? I can do it manually in MSSQL, by using WHERE Roll\_Number =1, but I need to come up with a query that will adjust the Roll Number automatically.  So something like: WHERE Roll\_Number= Last(Roll\_Number).

My database skills are pretty limited as an ME, so any help is greatly appreciated!

SELECT

\[XP2\_HMI\_0WEB\_USAGE2\_Value\]

,\[XP2\_Roll\_Number\_Value\]

,\[XP2\_Defect\_Log\_Data\_Value\]

FROM \[dbo\].\[XP2\_Roll\_Data\]

GO

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

&amp;#x200B;

    XP2_HMI_0WEB_USAGE2_Value	XP2_Roll_Number_Value	XP2_Defect_Log_Data_Value
    0	        1       1
    2.48E-05	1	1
    1.515048623	1	1
    3.023509502	1	1
    4.538478851	1	1
    6.053480625	1	1
    7.568507671	1	1
    9.083510399	1	1
    10.67851353	1	1
    12.2735157	1	1
    13.8685112	1	1
    15.46351147	1	1
    17.05852127	1	1
     0	        2	1
    1.598019838	2	1
    3.200022459	2	1
    4.802099228	2	1",learnSQL,How can I filter a table based on the most recent value in one column,1.0,https://www.reddit.com/r/learnSQL/comments/cwjuzr/how_can_i_filter_a_table_based_on_the_most_recent/
26,TacitusJones,1567019097,cwp8ld,6,7,"I am trying to do a query using a contact database, and I just can't figure out how to do it.

In the table I am trying to figure out how many people both called and accessed the system by web.  Each person has a unique identifier attached to them, and each contact is a row, with a column designating the type of contact so Phone = P or Web is equal to W

&amp;#x200B;

How do I do this on one table? If it was spread over two I would just join them and do a count distinct",learnSQL,For the life of me I can't figure this out,1.0,https://www.reddit.com/r/learnSQL/comments/cwp8ld/for_the_life_of_me_i_cant_figure_this_out/
27,noahpoah,1567101772,cx4h2w,2,10,"I'm reasonably experienced with SQL, and I want to continue to develop my SQL skills, but most of the resources I've found online seem to cover mostly just the basics (e.g., the links on the /r/SQL wiki).

One exception I stumbled on is at [mode.com](https://mode.com/resources/sql-tutorial/sql-business-analytics-training). The problems there involve pretty realistic business questions and fairly complicated SQL queries.

Does anyone here have any pointers to similarly realistic and/or complicated SQL-related resources?",learnSQL,Intermediate to advanced SQL practice resources?,1.0,https://www.reddit.com/r/learnSQL/comments/cx4h2w/intermediate_to_advanced_sql_practice_resources/
28,Diapolo10,1567162844,cxfc86,3,3,"I'm working on a Python project that helps people develop RPG-style games, but I'm not exactly experienced with databases and would therefore want people to check if my current database layout makes sense whatsoever.

This test database is using SQLite, because it's good for local projects. However, it also contains references to online access as for testing purposes it shouldn't matter if it's in SQLite or PostgreSQL or whatever. I think, anyway. The syntaxes don't differ too much so translating the test database creation script shouldn't be too much of a problem, if needed.

Here's how I currently create my database (with some things missing, such as player stats, as I've yet to design them):

    ------------------------------------
    -- RPGenie Debug/Example database --
    ------------------------------------
    
    
    -- Tables related to items --
    CREATE TABLE IF NOT EXISTS items (
        id INTEGER PRIMARY KEY,
        name TEXT NOT NULL,
        type TEXT NOT NULL,
        stackable BOOLEAN NOT NULL, -- Important for inventory and containers that don't enforce stacking --
        force_stacking BOOLEAN NOT NULL DEFAULT 1,
        examine TEXT NOT NULL,
        
        -- Stats if item is equipment --
        attack_pow INTEGER,
        defence INTEGER,
    )
    
    CREATE TABLE IF NOT EXISTS item_combinations (
        id INTEGER PRIMARY KEY,
        item INTEGER NOT NULL REFERENCES items,
        item_count INTEGER NOT NULL,
        secondary INTEGER NOT NULL REFERENCES items,
        secondary_count INTEGER NOT NULL,
        result INTEGER NOT NULL REFERENCES items,
    )
    
    
    -- Tables related to enemies --
    CREATE TABLE IF NOT EXISTS enemies (
        id INTEGER PRIMARY KEY,
        name TEXT NOT NULL,
        level INTEGER NOT NULL,
        can_level_up BOOLEAN NOT NULL DEFAULT 0,
        examine TEXT NOT NULL,
    )
    
    CREATE TABLE IF NOT EXISTS enemy_attacks (
        id INTEGER PRIMARY KEY,
        entity_id INTEGER NOT NULL REFERENCES enemies,
        name TEXT NOT NULL,
        attack_function_name TEXT NOT NULL,
        attack_tier TEXT NOT NULL CHECK (
            attack_tier IN (
                'basic', 'threshold', 'ultimate',
            )
        ),
    )
    
    
    -- Tables related to players --
    CREATE TABLE IF NOT EXISTS player_accounts (
        id INTEGER PRIMARY KEY,
        email TEXT NOT NULL CHECK (
    
            -- This is the last line of defence against invalid email addresses
            -- Do more thorough checking before trying to insert into database
            LENGTH(email) &gt; 4 AND INSTR(email, '@') = 1
    
        ),
        password TEXT NOT NULL, -- This is expected to be a hash!
        membership_days INTEGER NOT NULL DEFAULT 0,
        current_ban_days INTEGER NOT NULL DEFAULT 0,
        ban_counter INTEGER NOT NULL DEFAULT 0,
        account_type INTEGER NOT NULL CHECK (
            account_type IN (
                0, -- Disabled account
                1, -- Normal account
                2, -- Player moderator
                3, -- Moderator
                4, -- Administrator
            )
        ) DEFAULT 1,
    )
    
    CREATE TABLE IF NOT EXISTS authenticators (
        id INTEGER PRIMARY KEY,
        account_id INTEGER NOT NULL REFERENCES player_accounts,
        auth_hash_key TEXT NOT NULL,
    )
    
    CREATE TABLE IF NOT EXISTS player_characters (
        id INTEGER PRIMARY KEY,
        account INTEGER REFERENCES player_accounts,
        name TEXT NOT NULL,
    )
    
    CREATE TABLE IF NOT EXISTS player_inventories (
        id INTEGER PRIMARY KEY,
        account INTEGER REFERENCES player_accounts NOT NULL,
        inv_type INTEGER NOT NULL CHECK (
            
            -- It's possible to specify multiple types of inventories. By default,
            -- the database specifies an inventory and worn items for each player.
            -- More can be added by adding new types.
    
            inv_type IN (
                0, -- Basic inventory
                1, -- Worn items
            )
        ) DEFAULT 0,
    
        -- Due to how SQLite works, by default inventories are saved as CSV strings of
        -- item IDs. Empty slots are also separated by commas, and whitespace is stripped.
        -- Empty slots are represented by null values (None) internally.
        -- All player inventories should have the same amount of slots
        -- Additional metadata for further item configuration is saved by using a full stop
        -- ('.') as a separator.
        -- 
        -- Example:
        -- ""42,1,12,12,,7,5.2,128,,77,65,9""
    
        inventory TEXT NOT NULL DEFAULT CASE (
            WHEN inv_type == 0 THEN "",,,,,,,,,,,,,,,,,,,,,,,,,,,"" -- 28 empty slots
            WHEN inv_type == 1 THEN "",,,,"" -- 5 empty slots
        )
    )
    
    CREATE TABLE IF NOT EXISTS player_attacks (
        id INTEGER PRIMARY KEY,
        name TEXT NOT NULL,
        skill TEXT NOT NULL,
        level_requirement INTEGER NOT NULL,
    )

I've tried to keep things scalable so that I don't have to create tables for individual players, and I think I've added a decent number of comments where they seem useful. For testing purposes I'm assuming 1000 individual accounts with one or two characters each.

I'd be happy to get any feedback I can, both positive and constructive.",learnSQL,[SQLite] Sanity check request,1.0,https://www.reddit.com/r/learnSQL/comments/cxfc86/sqlite_sanity_check_request/
29,Sea_Ocean,1567286279,cy120e,5,8,"Sorry my knowledge of SQL is little. I'm actually trying to follow a textbook on C# Entity Framework. In one of the sections, the author creates a table that implements a One-To-One relationship. At the end of it he uses the INDEX keyword to do something. What is its purpose? Here's the code:

    CREATE TABLE SalesCampaigns(
    	Id bigint IDENTITY(1,1) NOT NULL,
    	Slogan nvarchar(max) NULL,
    	MaxDiscount int NULL,
    	LaunchDate date NULL,
    	ShoeId bigint NOT NULL,
    	CONSTRAINT PK_SalesCampaigns PRIMARY KEY (Id),
    	CONSTRAINT FK_SalesCampaigns_Shoes FOREIGN KEY(ShoeId) REFERENCES dbo.Shoes (Id),
    
            -- I don't understand this part..
    	INDEX IX_SalesCampaigns_ShoeId UNIQUE (ShoeId)) 

I googled ""Index keyword"" but I only get result that explain the CREATE INDEX command. Can someone kindly explain the last line. Thank you.",learnSQL,"In SQL language, what does the keyword 'INDEX' do in the following code?",1.0,https://www.reddit.com/r/learnSQL/comments/cy120e/in_sql_language_what_does_the_keyword_index_do_in/
0,Svante109,1562596409,calsd9,7,3,"I have 2 tables, called ""computed_tables.ra_test"" and ""staging.fms_unit"". In the computed_tables.ra_test there is already most of the info I want to have, but i'm missing the phonenumbers. These phone numbers can be found in the ""staging.fms_unit"" table. Both these tables can be linked on a column called serialno.

I've tried using

&gt; INSERT INTO computed_tables.ra_test
&gt; 
&gt; (
&gt; 
&gt;   phonenumber
&gt; 
&gt; )
&gt; 
&gt; SELECT phonenumber
&gt; 
&gt; FROM staging.fms_unit
&gt; 
&gt; LEFT JOIN computed_tables.ra_test ON 
&gt; computed_tables.ra_test.serialno = staging.fms_unit.serialno


If I create the column phonenumber in computed_tables.ra_test, I get an error that it is ambiguous.

If I don't have the column, I get an error that the column doesn't exist. From what I can read, the mistake happens because there is more than one column called phonenumber, and I need to specify which table the phonenumber comes from. I'm not sure where to specify this and how. 

Thanks for your help, in advance",learnSQL,Adding a column to a already existing table,1.0,https://www.reddit.com/r/learnSQL/comments/calsd9/adding_a_column_to_a_already_existing_table/
1,Spood___Beest,1562612002,cap7cb,3,7,"I have a pretty simple query, with several AND ... IS NOT NULL clauses. SQL Server seems to be ignoring them for certain data points. For reference, here is the query:

    SELECT DISTINCT [Author].[author_ID]
                  , [Author].[last_name]   + ', ' 
                  + [Author].[first_name]  + ' '
    	      + [Author].[middle_name] + ' '
    	      + [Author].[suffix] AS Full_Name
               FROM [Author]
    	  WHERE [Author].[last_name]   IS NOT NULL
    	    AND [Author].[first_name]  IS NOT NULL
    	    AND [Author].[middle_name] IS NOT NULL
                AND [Author].[suffix]      IS NOT NULL
           ORDER BY Full_Name ASC

The values getting through are all formatted ""last\_name, first\_name"", as best as I can tell. I've already checked the data for things like fields containing only spaces - to no avail. Does anyone have thoughts on why this might be happening?",learnSQL,WHERE clauses being ignored,1.0,https://www.reddit.com/r/learnSQL/comments/cap7cb/where_clauses_being_ignored/
2,SQLServer-Tips,1563015805,cco4iz,1,6, ,learnSQL,Should you use TRUNCATE TABLE or DELETE FROM in SQL Server?,1.0,https://www.sqlserver-tips.com/viewtopic.php?f=1&amp;t=90
3,karthikn774,1563068888,ccxf7u,0,1,"Hi, 
I search in Google, didn't get solution for this..
I want to insert TimeZone like this `GMT+05:30`

How can i do this? I try `%n` but not working..
I am very new to sqlite..

Thanks &amp; Regards",learnSQL,[Help] How to insert TimeZone?,1.0,https://www.reddit.com/r/learnSQL/comments/ccxf7u/help_how_to_insert_timezone/
4,bitsofshit,1563127254,cd61am,11,7,"What's wrong w/ my query? Syntax looks fine to me, subquery wise. How can I fix this?

&amp;#x200B;

https://i.redd.it/2ao51q636ba31.png

&amp;#x200B;

https://i.redd.it/px21dvm76ba31.png

https://i.redd.it/rxrqryjo5ba31.png",learnSQL,select highest 15% salaries (SQL self learning),1.0,https://www.reddit.com/r/learnSQL/comments/cd61am/select_highest_15_salaries_sql_self_learning/
5,fire__munki,1563316859,ce49lw,1,8,"Not sure if this is the best place for the question but here goes.

I've spent the last 4 years working as 1st and 2nd line support for a software company. This included fixing data and writing reports in Postgresql.

I've got some good basic skills and experience, plus done all the free codeacademy SQL courses.

What I want now are some ""real"" admin skills and recognised courses but things like udemy I have no idea if employers like them. I know Cisco and Microsoft do real certs but does anyone know of SQL based ones?",learnSQL,Real qualifications,1.0,https://www.reddit.com/r/learnSQL/comments/ce49lw/real_qualifications/
6,SQLServer-Tips,1563350260,ce9tja,1,1, ,learnSQL,"Hi All, if your enthusiastic about SQL Server, then please sign up to https://sqlserver-tips.com",1.0,http://SQLServer-Tips.com
7,focusedfu,1563373709,cedko7,10,8,"I have a SQL table with columns (among others) of TestScore1, TestScore2, and TestScore3.

I would like to run a query that automatically returns students with scores &gt; 50 for each test. Yes I can do this manually, but I am thinking about the case where I have a done of tests, so I would like to automate this process.
I am thinking I might use CASE, or WHILE, or BEGIN / END, but not entirely sure.",learnSQL,"Selecting on multiple test scores at once, rather than one by one",1.0,https://www.reddit.com/r/learnSQL/comments/cedko7/selecting_on_multiple_test_scores_at_once_rather/
8,Dadotox,1563445833,ceqqow,16,19,"Hi there! I have been told that to apply for a job I wanted, I should learn SQL. I have some experience in programming, but I don't know where to start. Are there any free source/s you could kindly point me to?",learnSQL,"Where can I start learning SQL (free/ish, on-line, books..) ?",1.0,https://www.reddit.com/r/learnSQL/comments/ceqqow/where_can_i_start_learning_sql_freeish_online/
9,SQLServer-Tips,1563449044,cer7ry,0,2, ,learnSQL,SQL Server Free Webinar,1.0,https://sqlserver-tips.com/viewtopic.php?f=12&amp;t=92
10,SQLServer-Tips,1563469488,cev6tl,0,0, ,learnSQL,Different Joins in SQL Server,1.0,https://sqlserver-tips.com/viewtopic.php?f=1&amp;t=99&amp;sid=e066150603b1363cb560e32d615ad82c
11,SQLServer-Tips,1563731090,cg1r9f,0,10, ,learnSQL,TRUNCATE vs DELETE FROM,1.0,https://sqlserver-tips.com/viewtopic.php?f=1&amp;t=90&amp;sid=67780ee0ace9d7c8622347cd2f2b8b58
12,SQLServer-Tips,1563829295,cgiy99,0,7, ,learnSQL,‪The difference between varchar and nvarchar in SQL Server ‬,1.0,https://www.sqlserver-tips.com/viewtopic.php?f=3&amp;t=172&amp;sid=78f0743cf8397c9b2423143548d8a667
13,Oxford89,1563985551,chadrw,0,4,"Earlier this year, I hopped back into a PostgreSQL database for the first time in a while. One of the major #struggles I experienced initially was properly handling timestamps with time zones. Once I figured them out, I wrote this article to help my future self in the event I was ever confused again. An article like this would have helped save me multiple hours of research at the time, so I hope it serves a good resource for some of y'all out there!

&amp;#x200B;

**Time Zones Assignment and Conversion**

**PostgreSQL**

Timestamp fields do not have any assigned time zone information. Timestamps will implicitly be assigned the time zone of the client when they are evaluated by PostgreSQL. This can lead to unexpected and confusing results when performing time zone dependent operations on timestamp fields.

&amp;#x200B;

For example, imagine we want to assign a 'UTC' time zone to the timestamp value ""2018-12-01 12:00:00"".

    show time zone;
    &gt;&gt; 'America/Chicago' --Client time zone
    
    --Add UTC time zone to timestamp
    select '2018-12-01 12:00:00' at time zone 'UTC'
    &gt;&gt; '2018-12-01 18:00:00'

&amp;#x200B;

If we are trying to add a time zone to a timestamp, why did PostgreSQL return a totally different timestamp value with no time zone attached? The reason is because our timestamp value was implicitly assigned our client time zone and then *converted* to 'UTC'. Indeed, 12:00:00 America/Chicago is equivalent to 18:00:00 UTC.

&amp;#x200B;

If we want to force PostgreSQL to assign a time zone to a timestamp then we must explicitly state that our input timestamp does not have at time zone.

    show time zone;
    &gt;&gt; 'America/Chicago' --Client time zone
    
    --Add UTC time zone to timestamp
    select '2018-12-01 12:00:00'::timestamp without time zone at time zone 'UTC'
    &gt;&gt; '2018-12-01 06:00:00-06'

 

When we tell the database that the provided timestamp is ""without time zone"", we prevent PostgreSQL from implicitly assigning our client time zone. We can then follow with ""at time zone"" to assign the timestamp the appropriate time zone. [Note that PostgreSQL stores timestamptz values internally as 'UTC'](https://www.postgresql.org/docs/9.5/datatype-datetime.html#DATATYPE-TIMEZONES) but will display them using the client time zone.

&amp;#x200B;

Now that we have assigned the appropriate time zone to our timestamp, we can convert to any other time zone that we'd like. In the example below, we take a time-zone-less timestamp, assign it a 'UTC' time zone, and then convert back to a timestamp to display as 'America/New\_York'.

    show time zone;
    &gt;&gt; 'America/Chicago' --Client time zone
    
    --Convert timestamp to UTC, then to America/New_York
    select '2018-12-01 12:00:00'::timestamp without time zone at time zone 'UTC' at time zone 'America/New_York'
    &gt;&gt; '2018-12-01 07:00:00'",learnSQL,Handling Time Zone Assignment and Conversion in PostgreSQL,1.0,https://www.reddit.com/r/learnSQL/comments/chadrw/handling_time_zone_assignment_and_conversion_in/
14,dudenotcool,1563994172,chc8xs,4,4,"Why is the syntax from this:

SELECT column1, column2 
FROM table_name;

not the same as:

SELECT * 
FROM movies
WHERE year BETWEEN 1990 AND 1999;


is it because in the first instance you are not modifying anything and in the second instance you are?

Why couldn't you do the second one something like this:

select * WHERE year BETWEEN 1990 and 1999
FROM movies;",learnSQL,Curious about syntax,1.0,https://www.reddit.com/r/learnSQL/comments/chc8xs/curious_about_syntax/
15,Stoke_R,1564054861,chmk6d,1,7, ,learnSQL,SQL Server Script to get the row count and size of all tables in a database,1.0,https://www.sqlserver-tips.com/viewtopic.php?f=3&amp;t=173
16,javascript_dev,1564262191,cin2vh,3,2,"Feel a bit confused by this. Say you have many websites which can have many products and vice versa:

    // table websites 
    websiteId primary key 
    url  
    
    // table products 
    productId primary key 
    productName  
    
    // table websitesProducts 
    websiteProductId primary key 
    fk_websites_products foreign key 
    fk_products_websites foreign key 

Goal: select all websites and all products associated with any website. How would you guys write that query? Here is what I have so far:

    select * from websites w left join websiteProducts wp on wp.fk_websites_products = w.websiteId;  

So there's half of it, but I can't connect it to the products",learnSQL,How to do a left join on a M:M relation using an intermediate table?,1.0,https://www.reddit.com/r/learnSQL/comments/cin2vh/how_to_do_a_left_join_on_a_mm_relation_using_an/
17,javascript_dev,1564266055,cinth6,3,3,"I would like to combine table rows from a coupons, targets, and views table. The way they relate is that 1 coupon can only have 1 target. A target is a url and some other display settings. one target can have many visits.

The intended query should have a record that can output something like this:

    couponId: 1
    targetUrl: http://site.com/page1
    number of visits: 3

At the moment I'm not sure if this needs both a ""summing"" query and ""joining"" query or if they can or should be done together. Here's what I have so far.

    // select every visit record and group a numeric count of records by same url value (in visits table
    
    select count(*) from visits 
    group by urlVisited;
    
    
    
    // left join all coupon ids by matching foreign key in target table. Then inner join all summed visits by matching url in targets table
    
    select * from coupons c
    left join targets t by t.fk_targets_coupons = c.couponId
    inner join visits v by v.urlVisited = t.url;

I'm unclear on how to connect the sum value. My 2nd query just looks like it will ignore the sum and just return a bunch of matching rows in visits which is not desired.",learnSQL,Summing a count of a group and then joining the result?,1.0,https://www.reddit.com/r/learnSQL/comments/cinth6/summing_a_count_of_a_group_and_then_joining_the/
18,fpuen,1564335701,ciyt5g,4,0,"I get this on the orders table as I try to insert a few values where the column above, a foreign key, is set to 3. I thought that was allowed. In this case the logic is that fk\_products\_orders, which is referencing products.productId, should be allowed to have the same value many times on the orders table. Many orders can point to the same product.

Is this logic wrong? I think maybe an intermediate table might be needed between these 2. Here are my create table definitions:

    | orders | CREATE TABLE `orders` (
      `orderId` mediumint(5) NOT NULL,
      `fk_products_orders` mediumint(5) NOT NULL,
      `quantity` mediumint(2) NOT NULL DEFAULT '1',
      `fk_customers_orders` mediumint(4) NOT NULL,
      UNIQUE KEY `orderId` (`orderId`),
      UNIQUE KEY `fk_products_orders` (`fk_products_orders`),
      KEY `fkCustomersOrders` (`fk_customers_orders`),
      CONSTRAINT `fkCustomersOrders` FOREIGN KEY (`fk_customers_orders`) REFERENCES `customers` (`customerId`),
      CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`fk_products_orders`) REFERENCES `products` (`productId`)
    ) ENGINE=InnoDB DEFAULT CHARSET=latin1 |
    
    | products | CREATE TABLE `products` (
      `productId` mediumint(3) NOT NULL AUTO_INCREMENT,
      `productName` varchar(100) DEFAULT NULL,
      `fk_websites_products` mediumint(5) DEFAULT NULL,
      `productPrice` decimal(5,2) DEFAULT NULL,
      PRIMARY KEY (`productId`),
      UNIQUE KEY `productId` (`productId`),
      UNIQUE KEY `fk_websites_products` (`fk_websites_products`),
      CONSTRAINT `fkWebsitesProducts` FOREIGN KEY (`fk_websites_products`) REFERENCES `websites` (`websiteId`) ON DELETE CASCADE
    ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1 |",learnSQL,Duplicate entry '3' for key 'fk_products_orders',1.0,https://www.reddit.com/r/learnSQL/comments/ciyt5g/duplicate_entry_3_for_key_fk_products_orders/
19,javascript_dev,1564354173,cj2o0z,0,1,"Was trying to match a city name with a first and last letter both using a vowel:

    \b^[AEIOU]\w*[aeiouAEIOU]$ // fail
    ^[AEIOU].*[aeiouAEIOU]$ // pass

I tested the 1st line on [regex101.com](https://regex101.com) and had to bug test to deduce the characters starting with \\ were breaking it.

Is this a dialect issue? What regexp dialect does MySQL use?",learnSQL,MySQL fails to match when using special regex characters,1.0,https://www.reddit.com/r/learnSQL/comments/cj2o0z/mysql_fails_to_match_when_using_special_regex/
20,HeyBlubby,1564380275,cj77ln,7,4,"Hi all, I'm brand new to databases to please forgive me if this isn't where this belongs.

* I'm managing a monthly payment collection at work where I'll collect $5-10 (variable month to month) from about 20 coworkers
* I am throwing together a quick website so that people can check how much the new month's payment will be and whether or not they have paid yet. Right now I have the table in excel [as shown here](https://i.ibb.co/xMHG99k/waterclub.png) but I'd like to have the website display this info as an HTML table instead of screenshots of excel
* If possible, I'd like whatever interface I use (again, currently I'm using Excel) to do the math for me... i.e., for a user who over paid $10 last month, when the new $5 month starts, their status would automatically go to 'paid' and their piggy bank would be reduced to $5

Is a database the right tool for the job here? Any tips on where to begin?",learnSQL,"Managing a ~20 person payment tracker at work, is SQL right for this?",1.0,https://www.reddit.com/r/learnSQL/comments/cj77ln/managing_a_20_person_payment_tracker_at_work_is/
21,javascript_dev,1564594766,ckbq8e,6,7,"Here's what I want to do in MySQL:

&gt;join coupons, targetPages. select all columns. Also, do a count of all columns on views where the foreign key matches targetPages.url.

Here's what I have so far

    select *
    from coupons 
    join targetPages 
    on coupons.id = targetPages.couponId

Does this need to be wrapped in a with? As I write this, I'm thinking of this:

    with joinedTable as (
    select *
    from coupons 
    join targetPages 
    on coupons.id = targetPages.couponId
    )
    
    select count(*) 'total views'
    from views 
    where targetPages.url = views.url
    inner join on targetPages.id = ?? // not sure how to link the count by targetPage.url
    group by targetPages.url 

The part I'm most confused about is how to join the count into the result.

I'm having a hard time with the where, inner join and group by clauses here. Any clarification would be appreciated",learnSQL,"2 table join, count on a 3rd. How to combine the count on the 3rd table?",1.0,https://www.reddit.com/r/learnSQL/comments/ckbq8e/2_table_join_count_on_a_3rd_how_to_combine_the/
22,timeproblem,1564876025,clplkt,3,2,""" SELECT p.prod\_name 'Product'

SUM(CASE WHEN p.prod\_name LIKE 'Yellow%' THEN 1 ELSE 0 END)'Count'

FROM product p

JOIN purchase pu

ON p.prod\_id = pu.pur\_prod;""

&amp;#x200B;

From a table of product types and purchase transactions, I am trying to isolate and count how many of each yellow colored item (shirt, sweater, pants) were sold.

Had a look online and couldn't figure out what was wrong... would appreciate any help! I think the error occurs in line 2.

"" 

SELECT

SUM(CASE WHEN p.prod\_name = 'Yellow Sweater' THEN 1 ELSE 0 END)'Sweater',

SUM(CASE WHEN p.prod\_name = 'Yellow Pants' THEN 1 ELSE 0 END)'Pants',

SUM(CASE WHEN p.prod\_name = 'Yellow Shirt' THEN 1 ELSE 0 END)'Shirt'

FROM product p

JOIN purchase pu

ON p.prod\_id = pu.pur\_prod;""

&amp;#x200B;

This works \^ but I am trying to get a similar result using the wildcard",learnSQL,SUM CASE with a wildcard,1.0,https://www.reddit.com/r/learnSQL/comments/clplkt/sum_case_with_a_wildcard/
23,runnersgo,1564898777,clt3vx,6,6,"I'm going for my Oracle certification but I don't have the motivation like any of the certs I've done before ; (

Any tips to make learning SQL fun/ or just bearable is highly appreciated : (",learnSQL,How to make learning SQL fun or just bearable?,1.0,https://www.reddit.com/r/learnSQL/comments/clt3vx/how_to_make_learning_sql_fun_or_just_bearable/
24,timeproblem,1564956377,cm2brb,1,3,"    LOAD DATA LOCAL INFILE '/Users/USERNAME/Downloads/stores.csv'
      INTO TABLE store
      FIELDS TERMINATED BY ','
      OPTIONALLY ENCLOSED BY '""'
      LINES TERMINATED BY '\n'
      IGNORE 1 LINES;

Could someone please explain why this code is executing (no error), but when I select \* from my table, none of the values from the CSV have been loaded in?

The number of columns and their names match between the table and the CSV. The table is currently empty of rows/entries.

&amp;#x200B;

Thanks!",learnSQL,Importing CSV into a Table,1.0,https://www.reddit.com/r/learnSQL/comments/cm2brb/importing_csv_into_a_table/
0,j_orshman,1559771650,bx8h4d,0,3, ,learnSQL,Connect SQL to Google Sheets,1.0,https://youtu.be/dAHERgtN5cI
1,iamblue91,1559784421,bxapmu,9,5,"Hello!   
Probably a dumb question, but I am working my way through Datacamp SQL, and I cannot for the life of me identify when I need to use a join... is this just something that comes with practice and you identify it? It's getting me pretty discouraged, especially when I see the answer, and I go ""You stupid git... that's straightforward....""",learnSQL,Troubles identifying when to use a join,1.0,https://www.reddit.com/r/learnSQL/comments/bxapmu/troubles_identifying_when_to_use_a_join/
2,kcinybloc,1559825504,bxgdc2,4,3,"I'm working on querying our asset management DB to determine which systems are vulnerable to the current RDP security flaw. The query I'm working with seems to run, however the column ""RebootRequired"" gets duplicated. One entry for Yes and one entry for No, all other information is the same. I've double checked to make sure there is only one entry in the actual database for the items in question. Excerpt from my code is:   


    Select Distinct Top 1000000 Coalesce(tsysOS.Image,
  tsysAssetTypes.AssetTypeIcon10) As icon,
  tblAssets.AssetID,
  tblAssets.AssetName,
  tblAssets.Domain,
  tblState.Statename As State,
 Case tblAssets.AssetID
 When SubQuery1.AssetID Then 'Yes'
 Else 'No'
 End As [CVE-2019-0708 Patched],
  tblServiceState.State As [RDP Service Status],
 Case
 When tblAssets.AssetID = SubQuery1.AssetID Then 'No'
 When tblServiceState.State Like 'Stopped' Then 'No'
 Else 'Yes'
 End As Vulnerable,
 Case
 When tblAssets.AssetID = SubQuery1.AssetID Then ''
 Else Case
 When tsysOS.OSname Like '%XP%' Or
          tsysOS.OSname Like '%2003%' Then 'Install KB4500331'
 When tsysOS.OSname = 'Win 2008' Then 'Install KB4499149 or KB4499180'
 When tsysOS.OSname = 'Win 7' Or tsysOS.OSname = 'Win 7 RC' Or
          tsysOS.OSname = 'Win 2008 R2' Then 'Install KB4499164 or KB4499175'
 End
 End As [Install one of these updates],
  tsysOS.OSname As OS,
 Case
 When tblRegistry.Value Like '2' And tblRegistry.Regkey Like '%Volatile%'
 Then 'Yes'
 Else 'No'
 End As RebootRequired,
  tblAssets.SP,
 Case
 When tblComputersystem.Domainrole &gt; 1 Then 'Server'
 Else 'Workstation'
 End As [Workstation/Server],
    

I'm specifically having problems with the `Case When tblRegistry.Value Like '2' And ...` section. If anyone wants a look at the inner joins I can post those as well. 

&amp;#x200B;

Credit to Hendrick VE with the original query at  [https://www.lansweeper.com/forum/yaf\_postsm58656\_Microsoft-Patch-Tuesday-Report---May-2019.aspx#post58656](https://www.lansweeper.com/forum/yaf_postsm58656_Microsoft-Patch-Tuesday-Report---May-2019.aspx#post58656)",learnSQL,[ Select Distinct ] produces duplicate values,1.0,https://www.reddit.com/r/learnSQL/comments/bxgdc2/select_distinct_produces_duplicate_values/
3,Jonbak3,1559834410,bxhxnh,17,2,"I would like to select and return rows from child table which has the most used parent id key in the latest week. So far I have only been able to return this by count, but this displays the numbers for how many, I need the rows behind this number to be selected. Can anybody help?",learnSQL,Select children of parent with most popular parent id,1.0,https://www.reddit.com/r/learnSQL/comments/bxhxnh/select_children_of_parent_with_most_popular/
4,someting_amazing,1559838021,bximvc,5,3,"I want to add multiple values to a single database

I know I need to create a separate table to store all of the other values, but I don't know what my primary key should be on my new table.

&amp;#x200B;

Right now I have 

&amp;#x200B;

|id|name|zip|
|:-|:-|:-|


&amp;#x200B;

with id being my primary key. since zip needs to stare multiple values i created a zip table

&amp;#x200B;

|id|zip|
|:-|:-|


&amp;#x200B;

but I can't have id as a primary key because it will have multiple zips attached to it",learnSQL,Adding multiple values to a single column,1.0,https://www.reddit.com/r/learnSQL/comments/bximvc/adding_multiple_values_to_a_single_column/
5,astigbading,1559840195,bxj297,0,2,"hello and sorry for randomly bothering you
I currently write reports in sql then copy the results over to excel and format it to a template to be presented to other departments in our company. I was recently asked to make one of the reports real time, for example we the departments have a shared folder and I will place there either an excel or access file where a user will be able to put in the critera for the reports like specific region or specific provider team and the report will output only that data that is saved in another file. Right now for this report I can output the exact same visual and number results using sql query but I will have to manually copy and paste the query results over to an excel sheet. What would be the best course of action to make this report real time for other users to be able to get the reports for themselves?
this is how the report would look like https://imgur.com/a/eQa93R3
one of the reasons they want it automated too is because of the format like cell and text colors and also the several headers all of which I cannot add in an sql query.
Thank you very much",learnSQL,Need help/advice in making a real time report,1.0,https://www.reddit.com/r/learnSQL/comments/bxj297/need_helpadvice_in_making_a_real_time_report/
6,Auggernaut88,1559854188,bxlszr,0,1,"I am just starting out with SQL. I've checked out some online resources and am trying to put it into practice in DBeaver but am having some trouble getting off the ground and I am finding the error messages entirely unhelpful. 

Can anyone help me figure out why DBeaver doesn't recognize the JOIN command? 

linke to screenshot: https://imgur.com/a/kVoMPpG",learnSQL,Trouble getting started in DBeaver,1.0,https://www.reddit.com/r/learnSQL/comments/bxlszr/trouble_getting_started_in_dbeaver/
7,Jonbak3,1559891751,bxrlg6,0,1,"I wish to select a random parent id, but the result should also return the rows from children table whom have that random parent id. Anybody who knows how this can be done?",learnSQL,Select random category and it's belonging children,1.0,https://www.reddit.com/r/learnSQL/comments/bxrlg6/select_random_category_and_its_belonging_children/
8,redbullrabbit,1559917084,bxv57u,3,1,"Working through an Oracle SQL problem where I need to change an employees Skill from Excel to Phone Skill, however I don't know the employee_id number. My issue is that because the employee has two skills, the query won't work. Any one help? 

To elaborate further I need to extract the skill_code 'Phone""  from the Info table to update the skill_code column in the Skill table based on the Employees name from the Employee table. The employee Fname is Casey in this example.

So far i've written:
update skill
set(skill_code)=(select skill_code
        from info
        where description ='Phone Skill')
where exists
(select skill_code from employee, info
where fName ='Casey');",learnSQL,How to set value based on another table?,1.0,https://www.reddit.com/r/learnSQL/comments/bxv57u/how_to_set_value_based_on_another_table/
9,snip3r77,1559978878,by5hmj,8,2,"    SELECT name FROM
    movie JOIN casting ON movie.id = casting.movieid
          JOIN actor ON casting.actorid = actor.id AND name &lt;&gt; 'Art Garfunkel'
    WHERE casting.movieid IN (SELECT movieid FROM casting
    WHERE actorid = (SELECT id
    FROM actor
    WHERE name='Art Garfunkel')
    ) 
    

I don't understand but I'm doing this as I followed by example.

AND name &lt;&gt; 'Art Garfunkel'

Can you guys pls explain?

&amp;#x200B;

\----------

&amp;#x200B;

Also how does this work compared to using JOIN as per first example. Thanks.

    SELECT title,name
    FROM movie,casting,actor
    WHERE yr=1962
    AND movieid=movie.id
    AND actor.id=actorid
    AND ord=1

Exercise is from  [https://sqlzoo.net/wiki/More\_JOIN\_operations](https://sqlzoo.net/wiki/More_JOIN_operations)",learnSQL,condition at JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/by5hmj/condition_at_join/
10,just_southern,1560016769,byao2n,4,1,"I have a data set that's in a WordPress MySQL DB that I need to analyze.  I'm having trouble determining how to create one query to give me the result set I need. Here is a sample of the data set:

&amp;#x200B;

|term\_id|parent|
|:-|:-|
|63|0|
|67|63|
|201|67|
|202|201|

&amp;#x200B;

In this data set I need to know that the ""lowest"" term\_id is 202. What I mean by lowest is if I were to list the data in a bulleted list it would look like this:

&amp;#x200B;

Parent - 63

* Child - 67
   * Child - 201
      * Child 202

&amp;#x200B;

So in the list of term\_id, the one in the last child in the string is 202. I know I can do this with temporary tables, but I am trying to determine a way to do this in a single query.

&amp;#x200B;

Is this possible? If so, how do I need to approach this?",learnSQL,Query quandry,1.0,https://www.reddit.com/r/learnSQL/comments/byao2n/query_quandry/
11,Cannonball_Z,1560026164,byc9vv,11,6,"I have a table with columns including Topic\_ID (values between 1 and 5) and Topic (which can be one of exactly five text strings, each one corresponding to a Topic\_ID).  These Topic\_IDs/Topics appear in many rows.  I want to retrieve:

Topic\_ID    Topic    

1                 text1    

2                 text2    

3                 text3    

4                 text4    

5                 text5    

&amp;#x200B;

""SELECT distinct Topic\_ID"" gets me the unique list of Topic\_IDs.  But ""SELECT distinct Topic\_ID, Topic"" doesn't yield the desired output.  What is the correct syntax?  Thanks!",learnSQL,Basic question on SELECT distinct,1.0,https://www.reddit.com/r/learnSQL/comments/byc9vv/basic_question_on_select_distinct/
12,murmelmann,1560178464,byyt23,5,4,"So I created a view which shows all items that cost less than 100$. I should include a CHECK Option but mine only rounds down the value of a new item I want to add to the view. Does anybody here have any idea?

&amp;#x200B;

I tried CHECK (price &lt; 100.0) but it only rounds down the price of an item I add to the view.

&amp;#x200B;

    CREATE OR REPLACE VIEW small_parts AS
    SELECT *
    FROM items
    WHERE price&lt; 100.0
    WITH CHECK OPTION",learnSQL,CHECK Option in View doesn't work,1.0,https://www.reddit.com/r/learnSQL/comments/byyt23/check_option_in_view_doesnt_work/
13,pinaywdm,1560365802,bzv59d,0,11,"Just took the exam this morning and passed it. Should I take the other exam 70-461? What kind of SQL projects can I add to my Github account?  


Thank you.",learnSQL,Passed MTA 98-364 Database Fundamentals,1.0,https://www.reddit.com/r/learnSQL/comments/bzv59d/passed_mta_98364_database_fundamentals/
14,Acid_Monster,1560615713,c0z2bv,7,6,"Hi guys,

Basically i tried setting myself a practise question to find out which US State has the highest Beverage Sales in the Northwind DB.

I've got the following query so far - 


     Select orders.ShipRegion, [Order Details].UnitPrice * [Order Details].Quantity as ProdValue from Orders
    
    inner join [Order Details] on Orders.OrderID = [Order Details].OrderID
    inner join Products on Products.ProductID = [Order Details].ProductID
    inner join Categories on Products.CategoryID = Categories.CategoryID
    
    where ShipCountry = 'USA' and CategoryName = 'Beverages'
    
    group by ShipRegion, [Order Details].UnitPrice, [Order Details].Quantity


However, i was under the impression my GROUPBY clause was going to aggregate my Prod.Values by State, giving me 1 row for each state with all their orders values summed together. 

Instead its listing all individual orders and their values in a long list. 

How do i go about achieving this?

Thanks",learnSQL,"How do i essentially ""SUMIF"" in SQL?",1.0,https://www.reddit.com/r/learnSQL/comments/c0z2bv/how_do_i_essentially_sumif_in_sql/
15,Ahsan_m09,1560752455,c1k606,0,5, ,learnSQL,SQL Tutorials | UNDERSTANDING SQL PRIMARY KEY IN URDU | PART 1,1.0,https://www.youtube.com/attribution_link?a=li25J3Z4r4Y&amp;u=%2Fwatch%3Fv%3Dka8M_YDSLrk%26feature%3Dshare
16,gasbill,1561038418,c2w7zw,8,7, ,learnSQL,Whats the best exams to pass in order to help me get an entry level job in sql?,1.0,https://www.reddit.com/r/learnSQL/comments/c2w7zw/whats_the_best_exams_to_pass_in_order_to_help_me/
17,thekookysurfer,1561236393,c3uk6r,3,9,"I recentlly have had an interest in learning more about SQL and wanted to learn SQL, what are some good practice projects to really learn SQL?",learnSQL,Good practice projects to learn SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/c3uk6r/good_practice_projects_to_learn_sql/
18,higherpublic,1561755120,c6pjya,3,9,"A surprising amount of job interviews solely grill you on ER diagramming an abstract concept. Wasn’t prepared for this, just thought intermediate SQL was enough.

Was asked to diagram out a vending machine &amp; connect four and I bombed so hard. 

Any ideas on how to practice this without just watching more and more theory on YouTube or doing 1 very very large project? Anything practical but also repetitive?",learnSQL,How to practice E-R diagramming + db design?,1.0,https://www.reddit.com/r/learnSQL/comments/c6pjya/how_to_practice_er_diagramming_db_design/
19,chillspie,1561919012,c7hq65,1,6,"Currently I am finding how many players of particular Ratings are on teams with various winning percentages. I want to be able to do this query but over multiple years, not just one year. My current query is below.

    SELECT ROUND(Wins, 1) AS 'Winning Percentage',
    SUM(CASE WHEN Rating &gt;= 2 and Rating &lt; 5 THEN 1 ELSE 0 END) AS Rating1,
    SUM(CASE WHEN Rating &gt;= 5 and Rating &lt; 7 THEN 1 else 0 END) AS Rating2,
    SUM(CASE WHEN Rating &gt;= 7 and Rating &lt; 100 THEN 1 ELSE 0 END) AS Rating3 
    FROM #temp_table
    GROUP BY ROUND(Wins, 1)
    ORDER BY ROUND(Wins, 1)

In #temp_table, I have a WHERE clause for years. I want to be able to do the code above, but across multiple years. I'm using SQLServer.

Expected result is below.

    Win %    Rating1 Rating 2 Rating 3
    0-25%    3       4        2
    25%-100% 4       2        1

My #temp_table is shown below.

    Player Rating Year
    Bonds  10     2014
    Smith  2      2011
    Bryant 5      2013",learnSQL,"Using multiple, possibly embedded CASE conditions in SQL (x-post r/sql)",1.0,https://www.reddit.com/r/learnSQL/comments/c7hq65/using_multiple_possibly_embedded_case_conditions/
20,trulothano,1562192002,c8ug9t,17,3,"&amp;#x200B;

[Hi! I hope that it is ok to post this sort of question here. I am fairly new to SQL. If my table looks like this, is there a way to select the rows where 'Golf' or 'golf' occurs more than one time in the description column \(in this case row 2 and 3\)? I have googled but didn't get any wiser. If anyone has a solution I would be very grateful!](https://i.redd.it/3b95jaesw5831.png)",learnSQL,Select rows where 'x' occurs multiple times,1.0,https://www.reddit.com/r/learnSQL/comments/c8ug9t/select_rows_where_x_occurs_multiple_times/
21,imsoleafy,1562279318,c98k0l,4,9,"I am creating an ecommerce platform similar to Etsy for my full stack portfolio.

Users will be able to ...

\- Create listings

\- Leave feedback to for an item of a user

\- Save or ""like"" listings so they may refer to it for possible future purchase

I would like advice specifically on my many to many relationship tables for selling\_items, user\_item\_feedback, and liked\_items.

Will  everything work out smoothly when querying for these tables if users on  the front end want to check saved items, feedback, and items for sale  based on user\_id?

Anything I've missed or feedback that might make this database better would be highly appreciated.

Thank you.

https://i.redd.it/gx1zn8qz4d831.png",learnSQL,Would appreciate some pointers and feedback about the database I designed for my full stack ecommerce project!,1.0,https://www.reddit.com/r/learnSQL/comments/c98k0l/would_appreciate_some_pointers_and_feedback_about/
0,drollerfoot7,1557148341,blc0ch,3,8,"Hey, 

&amp;#x200B;

I'm looking for a datamodel about a subject (for example movies) and I'd like around 5 tables so I can practise stuff like subqueries etc. Is there a place where I can download tables?

&amp;#x200B;

Thanks in advance",learnSQL,Is there a place I can download tables (scripts) to practice on?,1.0,https://www.reddit.com/r/learnSQL/comments/blc0ch/is_there_a_place_i_can_download_tables_scripts_to/
1,drollerfoot7,1557163480,blezt3,2,2,"Hey, I have this table and I need to make a group by script. I'm pretty new to SQL so I don't really know how to do this. I'll give an example of my table: 

&amp;#x200B;

1|Pulp Fiction|Samuel Jackson

2|forrest gump|Tom hanks

3|Pulp Fiction| John Travolta

etc.

&amp;#x200B;

I want to get the following result:

Pulp Fiction|2

Forrest Gump|1

etc.

&amp;#x200B;

Any help is appreciated (I have to use the group by statement).",learnSQL,How do I count how many actors played in a certain movie?,1.0,https://www.reddit.com/r/learnSQL/comments/blezt3/how_do_i_count_how_many_actors_played_in_a/
3,drollerfoot7,1557569577,bnaj9m,2,8,"Hey, I'm having this pretty big .sql file I wrote but I have nowhere where I can test if it works and I have to send it in to my teacher tomorrow. Is there like an online place somewhere where I can test if it works? (In the file there are some create tables and insert records so no queries).

&amp;#x200B;

Thanks for reading.",learnSQL,Where can I test my sql script?,1.0,https://www.reddit.com/r/learnSQL/comments/bnaj9m/where_can_i_test_my_sql_script/
4,ADARKALLEYSTLKR,1557614837,bni2ki,3,1,So I am hoping someone can point me in the right direction on a resource that explains setting a variable to user input and also modules such as /= or %,learnSQL,Setting User Input,1.0,https://www.reddit.com/r/learnSQL/comments/bni2ki/setting_user_input/
5,Don-g9,1557697365,bnul1u,2,26,"This  cheatsheet was made by me and a friend, we tried to separate and  organize the content in order to have a cheatsheet with basic content,  yet effective.

# Here is a quick overview of the file hierarchy:

[DDL (Data Definition Language)](https://gist.github.com/kdev33/97951cb3b9dd1459898a93b5702ed4cb#DDL)

* CREATE  
– is used to create the database or its objects (like table, index, function, views, store procedure and triggers).
* DROP  
– is used to delete objects from the database.
* ALTER  
\- is used to alter the structure of the database.
* TRUNCATE  
– is used to remove all records from a table, including all spaces allocated for the records are removed.
* COMMENT  
– is used to add comments to the data dictionary.
* RENAME

[DML (Data Manipulation Language)](https://gist.github.com/kdev33/97951cb3b9dd1459898a93b5702ed4cb#DML)

* SELECT  
– is used to retrieve data from the a database.
* INSERT  
– is used to insert data into a table.
* UPDATE  
– is used to update existing data within a table.
* DELETE  
– is used to delete records from a database table.

[DCL (Data Control Language)](https://gist.github.com/kdev33/97951cb3b9dd1459898a93b5702ed4cb#DCL)

* GRANT  
\-gives user’s access privileges to database.
* REVOKE  
\-withdraw user’s access privileges given by using the GRANT command.

[TCL (Transaction Control Language)](https://gist.github.com/kdev33/97951cb3b9dd1459898a93b5702ed4cb#TCL)

* COMMIT  
– commits a Transaction.
* ROLLBACK  
– rollbacks a transaction in case of any error occurs.
* SAVEPOINT  
–sets a savepoint within a transaction.
* SET TRANSACTION  
–specify characteristics for the transaction.

**Here is the guist link:**

[https://gist.github.com/kdev33/97951cb3b9dd1459898a93b5702ed4cb](https://gist.github.com/kdev33/97951cb3b9dd1459898a93b5702ed4cb)

Hope you find it useful! 😉",learnSQL,Check out this SQL Cheatsheet !,1.0,https://www.reddit.com/r/learnSQL/comments/bnul1u/check_out_this_sql_cheatsheet/
6,Sakata28,1557928384,boy7fz,6,1,"I Don't know if anyone has any insight into a question my group was asked for this class project. We are all trying to figure out what the professor is asking for in this query. We did all his other ones except this one. 

&amp;#x200B;

To be honest this professor has never been clear about anything with these questions but I thought maybe he was looking for a Join statement and then a temporary View of the Amount Available. Does this seem to be the write direction or way to go? He never showed us how to create a view but I know they exist. I'm lost on what we need to accomplishing. 

&amp;#x200B;

Any ideas I really do appreciate it. I graduate in 4 days just want to hand this in and be done lol

&amp;#x200B;

Question being asked:

&amp;#x200B;

""Find the quantity of given item still available under a given contract. Detailed pseudo code of the access requirement is:

Find the CONTRACT-AMOUNT for the ITEM-NO in the CONTRACT-NO Amount-Available = CONTRACT-AMOUNT

For All orders in contract 

Begin 

if the order contains the given ITEM-NO 

Then amount-available = amount-available = ORDER-QTY

END 

output amount-available",learnSQL,Hw Question help,1.0,https://www.reddit.com/r/learnSQL/comments/boy7fz/hw_question_help/
7,lmrk5,1557995048,bp9yp3,2,4,"Hi,
I am creating database for horse racing.

Here is my design: https://imgur.com/a/Zwi6fG4

So each race has one course and many race_entries. And race_entry has a horse and a jockey etc.

How to make sure that horse or jockey is unique for a race. Now this design allows to enter same horse/jockey in every race_entry. How to prevent having duplicate horses/jockeys for one race?",learnSQL,Need help with Database design,1.0,https://www.reddit.com/r/learnSQL/comments/bp9yp3/need_help_with_database_design/
8,KangarooBallsonToast,1558013159,bpciz2,7,4,"I'm trying to complete a quiz as part of my uni course on databases and I'm stumped. I'm trying to create a subquery that gets its values from two different tables that don't share any foreign keys. All of my lectures only have code examples with one subquery. Googling multiple subqueries and linking subqueries doesn't return the results i'm looking for. Every single example I find only uses one subquery, but the quiz question is more complicated than any ""intro to subqueries"" tutorial, so I guess that's expected.

Without cheating my way through the quiz with reddit, I'm trying to form a link between two different tables that share no foreign keys.

I'm also not allowed to use the join function which makes things annoying. I can only use subqueries to return the expected results.

Cheers.",learnSQL,Is it possible to have more than one subquery?,1.0,https://www.reddit.com/r/learnSQL/comments/bpciz2/is_it_possible_to_have_more_than_one_subquery/
9,Forummer0-3-8,1558050568,bpjzcr,10,1,"Hi,

Here's the deal: I have two table. In the first one, I have 'Names of projects', 'name of files'. In the other table, I have 'Names of projects' and 'Descriptions of projects'.

I want to combine them, but I only want 'Descriptions...' in the first row of the new table. 

Like this:

|*Project*|*File*|*Description*|
|:-|:-|:-|
|Project1|project1\_1.jpg|Text...|
|Project1|project1\_2.jpg|\-|
|Project1|project1\_3.jpg|\-|

**Not** like this:

|*Project*|*File*|*Description*|
|:-|:-|:-|
|Project1|project1\_1.jpg|Text...|
|Project1|project1\_2.jpg|Text...|
|Project1|project1\_3.jpg|Text...|

So is it doable ?",learnSQL,"Is it possible to combine parts of two tables, but only on the first row? (More info inside)",1.0,https://www.reddit.com/r/learnSQL/comments/bpjzcr/is_it_possible_to_combine_parts_of_two_tables_but/
10,snip3r77,1558053923,bpkknx,6,12,"I would like to download a client and practise query-ing ( joins, windows etc for data analytics )?

Should I use DB Browser for SQLite? Is it as simple as downloading the dbase and open ?

&amp;#x200B;

Thanks",learnSQL,which dataset should I download to practise sql?,1.0,https://www.reddit.com/r/learnSQL/comments/bpkknx/which_dataset_should_i_download_to_practise_sql/
11,spacejack2114,1558064670,bpmchd,2,1,"I want to select rows from a table called `session` and count the rows in the table `activity` that have this `session.id` (`activity.sessionId`).

But I want two separate counts: one for activity rows that have `mode='cat'` and another for rows that have `mode= 'dog'`

I started with this which gives me exactly what I want:

	select `session`.*, `user`.`username`,
		(select count(*) from `activity` where `activity`.`sessionId` = `session`.`id` and `activity`.`mode` = 'cat') as `cats`,
		(select count(*) from `activity` where `activity`.`sessionId` = `session`.`id` and `activity`.`mode` = 'dog') as `dogs`
		from `session`
		inner join `user` on `session`.`userId` = `user`.`id`
		order by `session`.`endedAt` DESC
		limit 500;

Unfortunately it gets *really slow* on tables with 30K rows and up.

I optimized it to this:

	select `session`.*, `user`.`username`, `activity`.`mode`,
		count(`activity`.`id`) as activities
		from `session`
		left join `activity` on `session`.`id` = `activity`.`sessionId`
		left join `user` on `session`.`userId` = `user`.`id`
		where `session`.`robot` in ('planar', 'planarhand')
		group by `session`.`id`, `activity`.`mode`
		order by `session`.`endedAt` DESC
		limit 500;

which runs WAY faster but results in (up to) 2 rows per session - one with the cats count and one with the dogs count, so then I need to merge and restructure them on the application side. I also need to overestimate the select limit size and then trim down to the actual desired limit. And finally I want to be sure the results are sorted by `session.endedAt` (I'm not sure if the group by might override this?)

Any help would be appreciated!",learnSQL,Help optimize a SQLite query involving row counts from another table,1.0,https://www.reddit.com/r/learnSQL/comments/bpmchd/help_optimize_a_sqlite_query_involving_row_counts/
12,EvoNext,1558362716,bqw9km,3,10, ,learnSQL,SQL Basics,1.0,https://medium.com/@timothyfquirk/sql-basics-da3b0e19fb58?source=friends_link&amp;sk=8991869783f16ebef7b67be4784c76f3
13,JoshBurnsTech,1558386593,br1e58,1,10, ,learnSQL,SQL Server – How to Backup and Restore Databases (Part 1),1.0,https://www.youtube.com/watch?v=JpH77H20jg8
14,Vidyakant,1558421246,br73iu,0,1, ,learnSQL,Temporary Stored Procedures,1.0,https://tutorialspoint4all.com/sql-server-temporary-stored-procedures/
15,worktillyouburk,1558447785,brav7v,3,2," select CAST(FiscalYear AS varchar(4)) + '-' + RIGHT(REPLICATE('0', 1) + CAST(FiscalPeriod AS varchar), 2) + **'-W' + CAST(1 AS char(1)) AS FiscalWeek** 

pretty much in my data base i have -W1,-W2,-W3,-W4, the current only works for -W1

so i need to re write this part of the quarry to look not just for -W1 but also find the other 2,3, and 4.

&amp;#x200B;

so i have **CAST(1 AS char(1))** for 2 or 3 or 4 

&amp;#x200B;

ideas?",learnSQL,need to add an OR to this quarry,1.0,https://www.reddit.com/r/learnSQL/comments/brav7v/need_to_add_an_or_to_this_quarry/
16,Zcypot,1558465267,bree6h,2,5,"Hello Everyone,


SQL seems to have really clicked for me, I like it and I am getting the hang of it.  I just finished reading my book(and following along), and I would like to continue studying.  What are the next steps?  What should I focus on once I got the basics?

Book I used to study:
https://www.amazon.com/dp/B009XDGF2C/ref=pe_385040_118058080_TE_M1DP

and I used Mysql program.


I have a general Idea what I want to do as my project, I would like to learn proper techniques for creating tables, also should I keep using Mysql?  My job uses sql server, and its the main reason for picking up this language.

Thank you",learnSQL,"I finished reading my book, i want to continue",1.0,https://www.reddit.com/r/learnSQL/comments/bree6h/i_finished_reading_my_book_i_want_to_continue/
17,B_rtr_nd,1558518797,brmqw0,0,8,"Hi Guys

I'm a bit at loss over how best to do the following.  
I'd like to import information from our MDM solution (intunes) into our asset management solution (Lansweeper; sql database). There is no built in way to do this (with the licenses we have). So I'd need to download intunes to csv, import it to a temporary table in SQL and from there merge the data (add missing assets, correct fields that have changed).

&amp;#x200B;

I assume I will be able to import the data to a temp table, but the next step is a problem for me.

the temp table will have a different layout than the sql table, but it's possible to logically map the information (f.e. *date first enrolled* should go to field *first seen,* or i would need to add some years to fill in *retirement date* ).

I have no experience what so ever with the merge command and frankly after reading about it, I don't feel comfortable using it.

I have no access to integration services (nor knowledge thereof).

&amp;#x200B;

 Idealy I'd like to be able to tell colleagues to place the file in a specific directory and run a stored procedure to trigger this update.

&amp;#x200B;

Thank you",learnSQL,Merging data,1.0,https://www.reddit.com/r/learnSQL/comments/brmqw0/merging_data/
18,King-Calf,1558554573,brtakw,2,6,"I have a database of computers with user logon times and one of the columns contains the model of that particular computer.  The only problem that I'm running into is that the model column isn't updated the way it should be and i'm trying to fill in the blank ""Model"" fields with the first instance of that information from each computer.

&amp;#x200B;

The table below is an example of what I have, but I would also like rows 3 and 4 for each computer to be the same as rows 1 and 2 of each computer.  

&amp;#x200B;

|Name|Model|RowNumber|
|:-|:-|:-|
|Computer1|Model A|1|
|Computer1|Model A|2|
|Computer1||3|
|Computer1||4|
|Computer2|Model B |1|
|Computer2|Model B|2|
|Computer2||3|
|Computer2||4|
||||
||||

&amp;#x200B;

&amp;#x200B;

Any help that I can get with this is greatly appreciated.   Thanks",learnSQL,How can I update fields with data from previous field,1.0,https://www.reddit.com/r/learnSQL/comments/brtakw/how_can_i_update_fields_with_data_from_previous/
19,CoqeCas3,1558570320,brwb8q,2,2,"First off, HII!! First-timer here.

Is it possible to apply a foreign key to one column that could reference zero, 1, or several rows in another table?

My example:

I'm working on my band's website, creating the 'gigs' table. We have gigs that we play alone (no other bands) and we have gigs that we play with one, two, or 7 different bands, just depends on the gig. 

So I JUST learned that a value of '0' will never work for adding a foreign key, so my hopes are already pretty low, but I'm just wondering what my options are here. I was planning on just going the comma-separated-value route and putting something like '3,5,31,67' in the column 'other\_band\_ids' and using `explode()`/`split()` when I extract and utilize the data, but I'm learning about indexing and it seems kinda useful so....??",learnSQL,"One foreign key, multiple references?",1.0,https://www.reddit.com/r/learnSQL/comments/brwb8q/one_foreign_key_multiple_references/
20,Ercillent,1558667796,bsbzf9,6,4,"Hi guys, I'm new to SQL and coding in general. I'm using this website to write: [https://www.w3schools.com/sql/trysql.asp?filename=trysql\_op\_in](https://www.w3schools.com/sql/trysql.asp?filename=trysql_op_in) and created a table with the following code:

&amp;#x200B;

CREATE TABLE food ( 

id INTEGER, 

name TEXT, 

flavor TEXT

)

INSERT INTO food (id, name, flavor)

VALUES (1, pizza, savory);

&amp;#x200B;

It came up with an error. It only works if I run the first segment of code (create a table with column names) then erase that code and insert values afterward. Is this how SQL always works in general? In HS I took a small CS class where I wrote some code using program eclipse. In that program, I could create and edit arrays at the same time if I'm remembering correctly. 

&amp;#x200B;

&amp;#x200B;

TLDR: can you not create tables and insert values at the same time in SQL?",learnSQL,"Complete noob, day 1 of SQL. General question about tables?",1.0,https://www.reddit.com/r/learnSQL/comments/bsbzf9/complete_noob_day_1_of_sql_general_question_about/
21,thumbsdrivesmecrazy,1558669960,bscb19,0,8,"In this [MySQL vs. Oracle comparison](https://blog.panoply.io/mysql-vs-oracle), we'll see how MySQL stacks up against Oracle's database engine. The key technical differences between MySQL and Oracle are compared (with code examples):

* indexes,
* queries,
* performance,
* replication,
* clustering.",learnSQL,Key technical differences between MySQL and Oracle,1.0,https://www.reddit.com/r/learnSQL/comments/bscb19/key_technical_differences_between_mysql_and_oracle/
22,sarinmall85,1558865501,bt6b0l,0,4, ,learnSQL,Chapter 13- Changing column name or table name &amp; What are the risks,1.0,https://youtu.be/qoy7JOY9H40
23,thumbsdrivesmecrazy,1559030455,btxanx,0,6,"Since MariaDB is a fork of MySQL, the database structure and indexes of MariaDB are the same as MySQL. This allows you to switch from MySQL to MariaDB without having to alter your applications.

Gradually, MySQL and MariaDB will diverge. A noteworthy example is the internal data dictionary that is currently under development for MySQL 8. This is a major change to the way metadata is stored and used within the server. MariaDB doesn't have an equivalent feature. This may mark the end of datafile-level compatibility between MySQL and MariaDB: [MariaDB Vs MySQL In 2019](https://blog.panoply.io/a-comparative-vmariadb-vs-mysql)

* MySQL has generated a strong following since it was started in 1995. Some organizations that use MySQL include GitHub, US Navy, NASA, Tesla, Netflix, WeChat, Facebook, Zendesk, Twitter, Zappos, YouTube, Spotify.",learnSQL,"MariaDB Vs MySQL Comparison: Compatibility, Performance, And Syntax",1.0,https://www.reddit.com/r/learnSQL/comments/btxanx/mariadb_vs_mysql_comparison_compatibility/
24,ForsakenPoop,1559066691,bu3anx,6,4,"I'm still learning SQL and I was wondering if it is possible to make it so that when the values in a column, for example, is between 1 and 4 then another column in the same table gets a value dependent on the number of the first column. So if column A contains the value 1, then on the same row, the other column gets a set value that I decide before hand that is connected to the value 1.

Hope this makes sense and thank you in advance!",learnSQL,How do I make it so one columns values is dependent on another ones in the same table?,1.0,https://www.reddit.com/r/learnSQL/comments/bu3anx/how_do_i_make_it_so_one_columns_values_is/
25,drollerfoot7,1559123552,bucnjb,4,5,"&amp;#x200B;

https://i.redd.it/vlue115og4131.jpg

Hey,

&amp;#x200B;

I'm having a problem with a certain exercise from school. I have to get all of the names (naam in podia table) that match with the ID of the festivals (festivalid in festival table)  I know I have to do this with joins but I only know how to do it when the tables are directly connected but here there is another table in between. I know it's in Dutch sorry for that but if anyone can give me an explanation on how to link tables that aren't directly connected that would be appreciated.

&amp;#x200B;

Thanks for reading!",learnSQL,Need data from 2 tables who aren't directly connected,1.0,https://www.reddit.com/r/learnSQL/comments/bucnjb/need_data_from_2_tables_who_arent_directly/
26,citizenofacceptance,1559189776,buorni,2,4,"Hey, I am practicing for a job intertview, wondering if anyone could help me write the most effeciecnt query, so I can learn what makes a query great not just adequate :) 

 Question:

I would like to know an efficient way to write a sql query for the following request: ""of the sellers from UK who transacted on the second week of december (6 December 2015 to 12 December 2015), find the number of sellers who have atleast twice the total transaction amount (qty\*price) in the following week""

***Schema***

***Transaction***\-&gt;Transaction\_id , buyer\_id, seller\_id, object\_id, Shipping\_id, Price, Quantity, site\_id transaction\_date, expected\_delivery\_date, check\_out\_status leaf\_category\_id, defect\_id

***Buyer***\-&gt; Buyer\_id, name, country

***Seller***\-&gt; Seller\_id, name, country, segment, standard Listing -&gt; object\_id, seller\_id, auction\_start\_date auction\_end\_date, listing\_site\_id, leaf\_category\_id quantity",learnSQL,Practice for Job Interview -,1.0,https://www.reddit.com/r/learnSQL/comments/buorni/practice_for_job_interview/
27,shivamkimothi,1559475643,bvwi9n,1,7, ,learnSQL,Where do we use relational algebra? Why?,1.0,https://www.reddit.com/r/learnSQL/comments/bvwi9n/where_do_we_use_relational_algebra_why/
28,shivamkimothi,1559479273,bvwy76,6,1,"i am a newbie in sql. i was trying to find the maximum amount in the borrow table using this query. it shows an error. wheres the poblem?

 select amount from borrow except (select distinct borrow.amount from borrow as d, borrow where borrow.amount&lt;d.amount);",learnSQL,Whats the error here?,1.0,https://www.reddit.com/r/learnSQL/comments/bvwy76/whats_the_error_here/
29,snip3r77,1559544579,bw7o5y,4,8, ,learnSQL,Correlated subsquery,1.0,https://www.youtube.com/watch?v=SM9cDMxAeK4
30,flashsider,1559585922,bwdz4f,4,9,"SQL first timer. I was given this list, by the company I work for, of online courses . I have no clue what order to take them in.  Please help me decided what order to take them in. Thanks in advance.

Microsoft 70-461

Microsoft 70-462

Microsoft 70-463

Microsoft 70-464

Microsoft 70-465

Microsoft 70-466

Microsoft 70-467

Microsoft 70-764

Microsoft 70-765

Oracle 12c OCP 1Z0-061

Oracle 12c OCP 1Z0-062",learnSQL,SQL online courses question,1.0,https://www.reddit.com/r/learnSQL/comments/bwdz4f/sql_online_courses_question/
31,YourOldBoyRickJames,1559634244,bwm1qb,2,5,"Hi,

&amp;#x200B;

I have a query that I crudely built in Excel &amp; Microsoft Query. It basically returns all of the picking data for yesterday, but it runs on the value of a cell parameter in Excel (=TODAY())

I'm just wondering how I can switch it up so that the query can be run independently of Excel.

&amp;#x200B;

SELECT tranfile\_0.trandate, tranfile\_0.trantime, tranfile\_0.trantypecode, tranfile\_0.owner\_organisation, tranfile\_0.warehousecode\_to, tranfile\_0.productcode, tranfile\_0.product\_description, tranfile\_0.numberoff, tranfile\_0.operatorcode, tranfile\_0.locationcode, tranfile\_0.desploadcode

FROM WMS.PUB.tranfile tranfile\_0

WHERE (tranfile\_0.owner\_organisation='hita') AND (tranfile\_0.trantypecode='RDTdesp') AND (tranfile\_0.trandate=?)

&amp;#x200B;

I've tried using some online suggestions

&amp;#x200B;

(dateadd(day,-1,curdate()) =  tranfile\_0.trandate)

&amp;#x200B;

but I keep getting an error stating that 'Column 'DAY' cannot be found or is not specified'

&amp;#x200B;

The problem is that everything I've found online has 'day' in the query somewhere so I get the same issue.

&amp;#x200B;

Apologies if this is an extremely newbie post, it's just that I'm not clued up in SQL when it's not coupled with Excel :(

&amp;#x200B;

TIA",learnSQL,How to return all data from yesterday,1.0,https://www.reddit.com/r/learnSQL/comments/bwm1qb/how_to_return_all_data_from_yesterday/
32,snip3r77,1559660632,bwpqj8,4,6, ,learnSQL,Why is the answer like this? &lt; WHERE &gt;,1.0,https://i.redd.it/p8z63yt7uc231.png
33,Zcypot,1559668072,bwr6ne,4,4,"Good Morning, 


I may not be thinking very clearly, but I am trying to create my own database for my project. I want to help my wife with her side job.    I want it to start off simply as storing info to keep track of payments and people referring(expand later once I get a better grasp).  What I cant wrap my head around is a proper database design, am I using the correct term? I tried googling but I dont thing I am using the correct words.  I wanted to see database examples for law firms.  How they would go about setting up their tables. or refer me to a site/book to further develop my skills :). I finished reading [this](https://www.amazon.com/SQL-Minutes-Sams-Teach-Yourself-ebook-dp-B009XDGF2C/dp/B009XDGF2C/ref=mt_kindle?_encoding=UTF8&amp;me=&amp;qid=1559668027) book.

thank you in advance, really excited to learn more of this.",learnSQL,Starting own project,1.0,https://www.reddit.com/r/learnSQL/comments/bwr6ne/starting_own_project/
34,cmstrump,1559709982,bwyo3a,0,2,"The following tutorial provides a step-by-step sample procedure for how to migrate your MySQL to Redshift: [How To Move Your MySQL To Redshift](https://blog.panoply.io/how-to-move-your-mysql-to-amazon-redshift)

The 5 steps for loading data into Redshift are explained:

* Create a Redshift cluster
* Export a MySQL database and split it into multiple files
* Upload the files to Amazon S3
* Run a COPY command to load the table to Redshift
* Verify that the data was loaded correctly",learnSQL,Moving Data from MySQL to Redshift - Tutorial,1.0,https://www.reddit.com/r/learnSQL/comments/bwyo3a/moving_data_from_mysql_to_redshift_tutorial/
0,IDELTA86I,1554514665,b9zd7y,4,0,"Hey People,

&amp;#x200B;

I've created a query to clean a bunch of data using some update(s) and i was wondering where i could go to read about making the process more efficient, I've heard the term 'stored procedure' and was wondering if what i'm trying to do would be applicable.

&amp;#x200B;

For example: 

&amp;#x200B;

I have a column of free text that i need to extract and clean, the text is *usually* the same and i've analysed the top 1000 words and phrases over the course of two months and have set filters to alter/remove those words, however this results in approx 40 to 60 lines that i have to select and run.

&amp;#x200B;

Example:

&amp;#x200B;

UPDATE #STAGING SET SALE\_EVENT = 'SOLD AT AUCTION' WHERE SALE\_EVENT LIKE '%Sold At%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD AT AUCTION' WHERE SALE\_EVENT LIKE '%Yes%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD AT AUCTION' WHERE SALE\_EVENT LIKE '%Yes%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD AT AUCTION' WHERE SALE\_EVENT LIKE '%Hammer%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD AT AUCTION' WHERE SALE\_EVENT LIKE '%Sold For %'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD PRIOR TO AUCTION' WHERE SALE\_EVENT LIKE '%Sold P%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD PRIOR TO AUCTION' WHERE SALE\_EVENT LIKE '%Prior%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD PRIOR TO AUCTION' WHERE SALE\_EVENT LIKE '%Before%'

UPDATE #STAGING SET SALE\_EVENT = 'SOLD AFTER AUCTION' WHERE SALE\_EVENT LIKE '%After%'

&amp;#x200B;

What i would like to do, is store all of these in a single command line/procedure that i can then call upon while cleaning up.

&amp;#x200B;

Is this something that can be achieved in MSSQL? 

&amp;#x200B;

Thanks :)

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;",learnSQL,Can UPDATE(s)/ REPLACE be stored as a procedure? Using MSSQL,1.0,https://www.reddit.com/r/learnSQL/comments/b9zd7y/can_updates_replace_be_stored_as_a_procedure/
1,Vidyakant,1554614917,bad878,0,0, ,learnSQL,SQL SERVER – Find Most Expensive Queries Using DMV,1.0,https://tutorialspoint4all.com/sql-server-find-most-expensive-queries-using-dmv/
2,doctordolittlewasfun,1554681969,bamz25,5,3,"So I am trying to solve the [**Top Competitors**](https://www.hackerrank.com/challenges/full-score/problem) problem from the Basic Join section of Hacker Rank SQL challenges  using derived tables (with subqueries).

**My Solution:**
SELECT F.name, F.challenge_id
FROM (SELECT * HSC
     FROM (SELECT * HS
          FROM Hackers H JOIN Submissions S ON H.hacker_id=S.hacker_id)  JOIN Challenges C ON                     HS.challenge_id=C.challenge_id) JOIN Difficulty D ON HSC.diffculty_level=D.diffculty_level F
WHERE F.score=D.score
GROUP BY F.hacker_id
HAVING COUNT(F.challenge_id)&gt;1
ORDER BY COUNT(F.challenge_id) DESC, F.name

But I keep running into this error or a similar variance of it depending what changes I made to solve this error:
""ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HSC
     FROM (SELECT * HS
          FROM Hackers H JOIN Submissions S ON H.hack' at line 2""

After wasting more than **5 HOURS** I still haven't figured out what I am doing wrong. Is there any logical error or is it related to aliases or is there some concept I am missing? My main focus here is on the fact that I am not able to get any sort of output. By this I mean to say that if I am getting wrong answer at least I can check for any errors in logic and try to rectify it. So I would be very grateful if someone can tell what is wrong with particular solution of mine. Thank you.",learnSQL,Need help!,1.0,https://www.reddit.com/r/learnSQL/comments/bamz25/need_help/
3,cmatti2012,1554739387,bavkpa,11,16,"I have been working in a IT help desk position for over 11 years and would like to change into a job that involves SQL.  I have some exposure to MS SQL. 

What jobs do you recommend I look for and what do you suggest I do to prepare for those jobs? (e.g. MS Certification, etc.)",learnSQL,Entry Level SQL Jobs,1.0,https://www.reddit.com/r/learnSQL/comments/bavkpa/entry_level_sql_jobs/
4,stevenwtomahawk,1554763425,bb094n,0,1,"I’ve gone through W3 Schools to learn syntax, watched the intro to SQL videos on PluralSight, gone through SQL in Code Academy, and now working through advanced SQL in PluralSight. 

My goal is to get MS 70-461 certified and obtain a SQL based role (either database administration or script writing). 

I was suggested Vertabelo as a resource, but I see it’s not a free resource and their SQL bundle with 9 courses is $95 now. Is this price worth the hands on exercises over using Adventure Works DB and finding online workbooks to go through?",learnSQL,Vertabelo and other exercise based learning,1.0,https://www.reddit.com/r/learnSQL/comments/bb094n/vertabelo_and_other_exercise_based_learning/
5,jjamyy,1554769490,bb1bth,6,1,"Due to a surprise resignation at my company, I’m now tasked with learning enough SQL within 2 weeks on top of the work I already do. I will need to act as a bandaid: create basic queries and fulfill business report requests while we look for a qualified database professional. 

Any tips on how I can maximize my studies during this time? 

Are there any online resources that can give me practical business questions and examples? 

Is there any advanced concept that’s a must-know?

I have no experience SQL. The individual leaving the company is willing to let me shadow them but the person is not a great communicator and keeps telling me everything is so simple that anyone can do it. 

Any advice would be greatly appreciated!",learnSQL,Crash course in SQL suggestions?,1.0,https://www.reddit.com/r/learnSQL/comments/bb1bth/crash_course_in_sql_suggestions/
6,Vidyakant,1554802897,bb5xl7,0,0, ,learnSQL,Cannot detach a suspect or recovery pending database,1.0,https://tutorialspoint4all.com/sql-server-cannot-detach-a-suspect-or-recovery-pending-database/
7,cleverchimp,1554876900,bbinh2,3,1,"Let us say I had a table with 3 columns: `customer_id, purchase_timestamp, purchased_item`

Say we we have 10,000 rows with customers, what they purchased, and when they purchased it

How could I use a window to select the 2nd from last item each customer purchased?  


Example:   


`bob .   tuesday 11:00pm . socks`

`joe .   tuesday 10:00pm . socks`

`joe .   tuesday 9:00pm . shoes`

`bob .   tuesday 8:00pm . shoes`

&amp;#x200B;

I want to return:  


`joe .   tuesday 9:00pm . shoes`

`bob .   tuesday 8:00pm . shoes`",learnSQL,Need help using WINDOW functions,1.0,https://www.reddit.com/r/learnSQL/comments/bbinh2/need_help_using_window_functions/
8,Vidyakant,1554886205,bbjpwl,0,1, ,learnSQL,sys.dm_exec_requests In SQL Server,1.0,https://tutorialspoint4all.com/sys-dm_exec_requests-in-sql-server/
9,YourOldBoyRickJames,1554890268,bbk6l3,4,9,"Hi everyone,

&amp;#x200B;

I'm only just dipping my toe into the world of SQL and have over the past 2 years used it to create some ODBC/Microsoft Query/Excel reports for work. These have just been basic SELECT, WHERE queries, but recently our IT guy left and the business would like me to patch in wherever I can.

&amp;#x200B;

We have a customer who has an electronic notification setup so that they receive an email when a container is received. I've got the query but I need to know how to set up a trigger on the database so that when a certain column in the table turns from 0 to 1, it runs the query. We're looking to move all of our queries and emailing side over to an automated program such as easymorph or RSSbus so the sending of the email is straight forward. My director has asked me if I can recreate the query running and I don't have a clue where to start with the trigger aspect. I can just get the info if I manually enter the containercode as a parameter, but obviously it needs to be an automated process which runs upon the completion of a container receipt.

&amp;#x200B;

As I've only every run queries through Excel, could anyone talk me through what I would need to do to set up a trigger? 

&amp;#x200B;

Basically there is a table called EXPRECPT which has a column called RECEIPT\_COMPLETE. It visually has a yes or no but I've figured out that it's either 1 or 0. So I need to set up at trigger to say when it becomes 1 then run the query and output it to either a csv or a view. (What would be the best way to do it?)

&amp;#x200B;

Thanks in advance guys",learnSQL,I need an idiots guide to setting up triggers,1.0,https://www.reddit.com/r/learnSQL/comments/bbk6l3/i_need_an_idiots_guide_to_setting_up_triggers/
10,hibernial,1554927465,bbqtgu,9,6,"I'm currently starting to learn SQL through Code Academy, I'm learning the syntax easily enough but I'm having a hard time figuring out the logic behind the results, essentially how to draw the answers to the questions being asked from the data.

Does anyone have any recommendations on books or courses that teach data analysis from a logical perspective?",learnSQL,Any recommendations on learning the logic behind data analysis?,1.0,https://www.reddit.com/r/learnSQL/comments/bbqtgu/any_recommendations_on_learning_the_logic_behind/
11,Vidyakant,1554988070,bbznwk,0,5, ,learnSQL,SQL SERVER – Get Size of All Tables In Database,1.0,https://tutorialspoint4all.com/sql-server-get-size-of-all-tables-in-database/
12,thelaw,1555004911,bc2vl6,12,4,"I have a SQL query that looks something like this:

    select
        t2.a,
        t2.b,
        t1.c,
        t1.d,
        t3.e
    from
        Table1 t1
        inner join Table2 t2 on t1.a = t2.a
        inner join Table3 t3 on t1.c = t3.c
    where
        t1.c is not null
        and t1.f = x

As it turns out this results in output where there will be multiple rows with b but I need only the b's where a is highest. So I think what I need is a query that takes the output of the above query and performs a group by on it that looks like this:

    select
        max(t2.a),
        t2.b
    from
        OutputQuery
    group by
        t2.b

Now I am kinda stuck because I don't know how I can combine these two queries into one. Is this possible? How would I do it?

Any tips would be greatly appreciated!
Cheers!",learnSQL,Is it possible to perform a group by on the output of a query in one big SQL statement?,1.0,https://www.reddit.com/r/learnSQL/comments/bc2vl6/is_it_possible_to_perform_a_group_by_on_the/
13,beamer159,1555029542,bc7eie,1,2,"Sorry for the confusing title, it is hard to convey my problem in only a few words. 

I have a Pokemon database, where Pokemon must know at least 1 move. For simplicity, my Pokemon table starts like this:

    CREATE TABLE Pokemon
    (
        idPokemon integer NOT NULL,
        CONSTRAINT Pokemon_pkey PRIMARY KEY (idpokemon)
    );

I also have a MoveKnown table that holds all moves currently known by all Pokemon. It starts like this:

    CREATE TABLE MoveKnown
    (
        idPokemon integer NOT NULL,
        idMove integer NOT NULL
        CONSTRAINT MoveKnown_pkey PRIMARY KEY (idPokemon, idMove),
        CONSTRAINT MoveKnown_idMove_fkey FOREIGN KEY (idMove)
            REFERENCES Move (idMove)
        CONSTRAINT MoveKnown_idPokemon_fkey FOREIGN KEY (idPokemon)
            REFERENCES Pokemon (idPokemon)
    );

I want to enforce the ""at least one move known"" rule when a MoveKnown is deleted. To do this, I created a trigger. My trigger calls this function BEFORE a DELETE on MoveKnown:

    CREATE FUNCTION on_delete_moveknown()
        RETURNS trigger LANGUAGE 'plpgsql'
    AS $BODY$
    BEGIN
    IF 1 =
    (
        SELECT COUNT(*)
        FROM MoveKnown
        WHERE idPokemon = OLD.idPokemon
    ) THEN
        RAISE EXCEPTION 'A Pokemon must know at least 1 move';
    END IF;
    RETURN OLD;
    END;
    $BODY$;

My problem is that now, I cannot delete rows from my Pokemon table. If I try to, I get reference errors since the attribute idPokemon is a foreign key in the MoveKnown table. If I set this foreign key to ON DELETE CASCADE, I raise the exception in my trigger function since I cannot delete all moves for a Pokemon. I have also tried disabling the trigger before deleting and reenabling afterwards, but I got another error:

    cannot ALTER TABLE ""pokemon"" because it is being used by active queries in this session

How can I go about deleting Pokemon rows and corresponding MoveLearned rows while maintaining my ""at least one move learned"" constraint?",learnSQL,How can I delete a row when I have a trigger preventing me from deleting a foreign key reference?,1.0,https://www.reddit.com/r/learnSQL/comments/bc7eie/how_can_i_delete_a_row_when_i_have_a_trigger/
14,worktillyouburk,1555076980,bcds3y,1,2,"i have an ellment ''' | Element\_Attr12 | ''' what does having | do?

&amp;#x200B;

im trying to write a function to convert this string to a float do i put it in as (Element\_Attr12) or ('Element\_Attr12') or (| Element\_Attr12 |)

?  
 i see || is concat but just one?",learnSQL,"what does single pipe do? |, convert string to float",1.0,https://www.reddit.com/r/learnSQL/comments/bcds3y/what_does_single_pipe_do_convert_string_to_float/
15,hibernial,1555102284,bcio9w,3,3,"I was doing an exercise in Code Academy and I came across this curiosity

When I run the following query:

&amp;#x200B;

SELECT SUM(score)/6367

FROM hacker\_news

;

&amp;#x200B;

Where the value of SUM(score) =  6366 I get a result of 0.

&amp;#x200B;

SQLlite is able to calculate 6366/6366  = 1 but gives me 0 when the Divisor is larger than the Dividend (6366/6367)

&amp;#x200B;

&amp;#x200B;

Is it because its a Real Number vs an Integer?",learnSQL,Help with a math aggregate function,1.0,https://www.reddit.com/r/learnSQL/comments/bcio9w/help_with_a_math_aggregate_function/
16,seands,1555111972,bckdj6,0,2,"Intent: I want to create a ""frequent visitor"" coupon module. It will have 2 main use cases:

1) If a user visits a page X times, display a coupon Y times on that same page after Z number of initial (non-coupon showing) visits

2) There should be a sitewide option too, for both visit counts, and coupon displays. I presume it would only make sense to display a sitewide coupon for sitewide views (as opposed to specific page views). However, sitewide visits could could for a coupon that only displays on a specific page (I imagine the user spending a lot of time on major pages, and then coming to a page that has a specific coupon for him)

&amp;#x200B;

What I have now

    // coupons table
    couponId
    totalHits // by ALL users. For showing in the admin dashboard
    isText // if false then the user must upload an image
    imageUrl
    fk_targets_coupons // foreign key. I believe these are 1 to 1 relationships
    
    // targets // targets are what is counted: specific urls or the entire site
    targetId
    isSitewide // false means a url must be provided
    url // this url will be counted for hits to it
    displayThreshold // 3 means 3 visits are needed before this coupon
    offerCutoff // 2 means it is shown 2 times/visits after the display threshold is met
    
    // visitors
    visitorId // ajax request from a cookie will do a lookup
    // I need to count how many hits he has tallied to a given targetId in order to see if he meets the threshold (and not the cutoff) to show an associated coupon. But I don't know how
    // I  believe there is a 1 to many relationship to the targets table

My main question is how to do the visitors table. Any advice?

Or if I designed the others wrong please let me know.

Also, how can I get isText and isSitewide to force imageUrl/url to not be null if false?",learnSQL,Table design help,1.0,https://www.reddit.com/r/learnSQL/comments/bckdj6/table_design_help/
17,Vidyakant,1555156721,bcprrv,0,2, ,learnSQL,Performance Tuning :- How to identify blocking And Lead blocker in SQL Server,1.0,https://tutorialspoint4all.com/performance-tuning-how-to-identify-blocking-and-lead-blocker-in-sql-server/
18,kiarash-irandoust,1555196672,bcwfxm,0,1, ,learnSQL,Most important SQL / PostgreSQL commands that you need to know,1.0,https://medium.com/@dr_nerd/65f4197233a1
19,Vidyakant,1555235405,bd18fr,0,2, ,learnSQL,sys.dm_exec_sql_text In SQL Server,1.0,https://tutorialspoint4all.com/sys-dm_exec_sql_text-in-sql-server/
20,Vidyakant,1555325729,bdelpk,0,2, ,learnSQL,sys.dm_exec_query_stats In SQL Server,1.0,https://tutorialspoint4all.com/sys-dm_exec_query_stats-in-sql-server/
21,AsmaAlsuwaidi,1555347437,bdiee3,3,3,"Since customer age is recorded using DOB, is it possible to validate the age limit?",learnSQL,Column validation to accept certain age limit (16) using a check constraint,1.0,https://www.reddit.com/r/learnSQL/comments/bdiee3/column_validation_to_accept_certain_age_limit_16/
22,Vidyakant,1555399238,bdr04x,2,5, ,learnSQL,Delete Duplicate Rows in SQL,1.0,https://tutorialspoint4all.com/how-to-delete-duplicate-rows-in-sql-server/
23,Vidyakant,1555493029,be5pmu,0,1, ,learnSQL,Difference Between Log Shipping and Database Mirroring,1.0,https://tutorialspoint4all.com/difference-between-log-shipping-and-database-mirroring/
24,Vidyakant,1555572716,beiqur,0,0, ,learnSQL,Coalesce function,1.0,https://tutorialspoint4all.com/sql-coalesce-function-in-sql-server/
25,danielmajors,1555646692,beuxcv,2,3,"My query is below and it works. I have to add one more filter where I need to query on the birthdate but it's in a weird format. me.birth_date is in the format of 1990-08-25. How do I add a filter where me.birth_date is 1990 or before?

SELECT me.student_id, 
	CONCAT(me.lname, ', ', me.fname) AS 'Name',
    me.birth_date,
    CONCAT(ad.lname, ', ', ad.fname) AS 'Advisor',
    sc.organization
	
    
FROM members me

    INNER JOIN scholarships_students ss
    ON ss.student_id = me.student_id
    
    LEFT OUTER JOIN scholarships sc
    ON ss.scholarship_id = sc.scholarship_id
    
    LEFT OUTER JOIN advisors ad
    ON me.advisor_id = ad.advisor_id
    
    ORDER by me.birth_date DESC, CONCAT(me.lname, ', ', me.fname), sc.organization;",learnSQL,How to query on a weird date format?,1.0,https://www.reddit.com/r/learnSQL/comments/beuxcv/how_to_query_on_a_weird_date_format/
26,Vidyakant,1555665945,bex6fs,0,2, ,learnSQL,Difference Between Clustered and Non-Clustered Indexes,1.0,https://tutorialspoint4all.com/sql-server-difference-between-clustered-and-non-clustered-indexes/
27,Diabetus97,1555678320,beyqvm,4,4,"Hello,

I have data that in the table would be like.

Column A           Column B            Column C              Column D

   pa                       ab                       4ty                         123

   pa                       ab                       4ty                         156 

   ty                        ba                       2rt                          198               

&amp;#x200B;

I want to display the rows where the values in the first 3 columns are the same , but I am having issues because the 4th column is not the same , and I don't want to *group* them because I need to display that the first 3 columns are the same.  Any help or direction is appreciated!",learnSQL,Group by issue,1.0,https://www.reddit.com/r/learnSQL/comments/beyqvm/group_by_issue/
28,Vidyakant,1555843741,bfnm2g,2,0, ,learnSQL,SUBSTRING() Function,1.0,https://tutorialspoint4all.com/sql-server-substring-function/
29,luchins,1555871815,bfs0o2,3,2,"Hello , I can't understand some commands  with this SQL code here.

The  problem is this:

&amp;#x200B;

***Select the value of the sold with fidelity cards and the value of the sold without fidelity cards from 11 July to 30 July***  


This  is  the code (the  video is  in italian,  but from  the current minute it's  just  to show  you the code:

[https://youtu.be/GoIULLCC7vQ?t=84](https://youtu.be/GoIULLCC7vQ?t=84)

&amp;#x200B;

&amp;#x200B;

**WITH** \----&gt;*with  clause*

**SOLD** as----&gt; *variable of the WITH clause*

(

**SELECT**

[A.DATA](https://A.DATA),

**CASE WHEN** A.CODFID&lt;&gt;'-1' THEN 1 ELSE -1 END AS ''Type of custmer''

[A.TOTAL](https://A.TOTAL)

**FROM**

RECEIPT A

**WHERE** [A.DATA](https://A.DATA) **BETWEEN** to\_data (11 july 2017)  **AND** to\_date (31 july 2017)

)

**SELECT** \*FROM **SOLD**

PIVOT -----&gt; command pivot

(

**SUM** (TOTAL)   --------&gt; value of the pivot

**FOR** type of custmer **IN (1 AS Fidelity, -1 AS non fidelity) ---------&gt;** *coloummn  of the pivot*

) AA

ORDER BY DATA;

\------------------------------------------------------------------------------------------------------------------

**My  questions:**

&amp;#x200B;

**1) WITH** \----&gt;*with  clause*

what does it  mean ''with clause''?

&amp;#x200B;

**2) CASE WHEN** A.CODFID&lt;&gt;'-1' THEN 1 ELSE -1 END AS 

Here he is  saying ''in case the custmer is  from fidelity then give him a  -1. otherwise  give hime  a  1

A.CODFID&lt;&gt;.... what does this MEAN?

&amp;#x200B;

**3) FOR** type of custmer **IN (1 AS Fidelity, -1 AS non fidelity) ---------&gt;** *coloummn  of the pivot*

why does here he repeats this thing?

&amp;#x200B;

**4)**

) AA

ORDER BY DATA;

what  is  the meaning  of  ) AA  

and  ''ODER  BY DATA'' ?",learnSQL,Pivot commands,1.0,https://www.reddit.com/r/learnSQL/comments/bfs0o2/pivot_commands/
30,Zcypot,1555958337,bg5ns0,0,1,"    SELECT Cust_name,
    		Cust_state,
            (SELECT COUNT(*)
            FROM orders
            WHERE Orders.cust_id = Customers.cust_id) AS orders
    FROM customers
    ORDER BY cust_name;    

The Part that confused me is this section,

    WHERE Orders.cust_id = Customers.cust_id

What do the periods do in this line?  I dont want to continue any further until I fully understand this.


thanks in advance!",learnSQL,"I got a bit lost ""Using Subqueries as calculated fields""",1.0,https://www.reddit.com/r/learnSQL/comments/bg5ns0/i_got_a_bit_lost_using_subqueries_as_calculated/
31,spatrickb,1556027437,bggm5p,0,1,"Hello,

We are currently having an issue with a certain report at my office. Let me set it up for you:

We have a one parameter that has a bunch of listings, and a second parameter underneath it. Basically, what I am looking for is a statement that says ""if this parameter is null, then skip it.""

We are using Jaspersoft iReport through SQL Server if that helps at all.",learnSQL,[Help] Ignoring null parameters when using reporting tool,1.0,https://www.reddit.com/r/learnSQL/comments/bggm5p/help_ignoring_null_parameters_when_using/
32,mcdudeface_esq,1556035513,bgi5ew,2,1,"SQL n00blet here, am doing most of my learning by looking at views, etc... in an existing database, relying on my Access experience, and searching Stack Overflow.

&amp;#x200B;

Stumped however, I have  a table that has analytical data and cells contain either numbers or text (text in the case of ""&lt;LOD""). How can I create a view that replaces the &lt;LOD values it sources from the source table with a numeric value? Ultimately I'd like to retain these &lt;LOD values in the source table. 

&amp;#x200B;

The source table has \~25 columns that I'd like to apply this to, thankfully the actual Limit of Detection is not precisely defined so I can get away with replacing ""&lt;LOD"" with 0.0001 across all columns.",learnSQL,Create a view that replaces values - SQL Express,1.0,https://www.reddit.com/r/learnSQL/comments/bgi5ew/create_a_view_that_replaces_values_sql_express/
33,GoingToMakeItBrahs,1556054255,bgluuw,8,20, ,learnSQL,Is there a website that has a SQL sandbox where I can practice and learn query techniques?,1.0,https://www.reddit.com/r/learnSQL/comments/bgluuw/is_there_a_website_that_has_a_sql_sandbox_where_i/
34,Vidyakant,1556121695,bgwdia,0,4, ,learnSQL,What is Copy Only Backup in SQL Server?,1.0,https://tutorialspoint4all.com/what-is-copy-only-backup-in-sql-server/
35,cmatti2012,1556221532,bhcyhh,3,2,What are some good resources to learn more about the five normal forms?,learnSQL,Normalization,1.0,https://www.reddit.com/r/learnSQL/comments/bhcyhh/normalization/
36,tossawayacct321,1556224465,bhdiqr,5,9,Have to learn how to use Microsoft Access for work. Will learning that help me if I decide to learn SQL? Thanks.,learnSQL,"SQL noob, will learning Microsoft Access help me learn SQL?",1.0,https://www.reddit.com/r/learnSQL/comments/bhdiqr/sql_noob_will_learning_microsoft_access_help_me/
37,Vidyakant,1556247578,bhhfos,0,1, ,learnSQL,Checkpoint in SQL Server,1.0,https://tutorialspoint4all.com/what-is-checkpoint-in-sql-server/
38,fpuen,1556336792,bhv7e2,2,2,"Put the following into DB Fiddle in an attempt to debug and the error is below

    
    Results
    Schema Error: Error: ER_PARSE_ERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'references frequentVisitorCoupons_coupons(couponId) on delete cascade )' at line 9
    
    // sql
    CREATE TABLE IF NOT EXISTS frequentVisitorCoupons_coupons (
        couponId mediumint not null auto_increment unique,
        primary key (couponId),
        totalHits mediumint not null,
        isText boolean not null,
        imageUrl text(1000)
        );
    
    CREATE TABLE IF NOT EXISTS frequentVisitorCoupons_targets (
          targetId mediumint not null auto_increment unique,
          primary key (targetId),
          isSitewide tinyint(1) not null,
          targetUrl varchar(500),
          displayThreshold tinyint(5) not null default 20,
          offerCutoff tinyint(5),
          fk_coupons_targets mediumint not null unique,
          foreign key fk_coupons_targets references frequentVisitorCoupons_coupons(couponId) on delete cascade
        )
        
    ​
    

This is my first attempt at foreign keys. What am I doing wrong above?",learnSQL,"Schema errer near ""references""",1.0,https://www.reddit.com/r/learnSQL/comments/bhv7e2/schema_errer_near_references/
39,Acid_Monster,1556536569,bio9pe,7,6,"As the question says, why do i get the following error message until i wrap ""Address"" in a MIN() or MAX() function?  -

&amp;#x200B;

 Msg 8120, Level 16, State 1, Line 1

Column 'suppliers.Address' is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause.

&amp;#x200B;

select companyname, count(\*) as CountOfProducts, min(Address) as Address from products 

&amp;#x200B;

inner join suppliers on Products.SupplierID = suppliers.SupplierID

&amp;#x200B;

group by CompanyName

&amp;#x200B;

order by CountOfProducts desc, CompanyName

&amp;#x200B;

Why can i not just show that column as is?

&amp;#x200B;

Thanks",learnSQL,Why do i have to wrap this column in a MAX() or Min() function for my query to work?,1.0,https://www.reddit.com/r/learnSQL/comments/bio9pe/why_do_i_have_to_wrap_this_column_in_a_max_or_min/
40,Vidyakant,1556609657,bj0jvs,0,2, ,learnSQL,sys.dm_exec_sessions in SQL Server,1.0,https://tutorialspoint4all.com/sys-dm_exec_sessions-in-sql-server/
41,a_padawan_learner,1556620722,bj1sl1,8,3,Hey there I'm currently looking for a career change and I got an interview on 11th. I could spare 2hrs per day between the jobs. This gives me around 20hrs to prepare sql. I would appreciate if you could provide me any materials or crash courses I can look into. Thanks in advance mates.,learnSQL,To learn sql as much is 20hre,1.0,https://www.reddit.com/r/learnSQL/comments/bj1sl1/to_learn_sql_as_much_is_20hre/
42,DramaticKaleidoscope,1556646341,bj694l,2,4,"Hi all,
I’m new to SQL and I’m completing a walkthrough training on UDEMY, which has been great, but I’m running into a syntax error every time I try to use the NUMERIC constraint
:
CREATE TABLE Sales
(
Item_id VARCHAR(255),
Unit_price NUMERIC(10,2)
);

Can anyone advise where I’m going wrong on this? I was able to execute using only NUMERIC without defining it, which I believe defaults to 38,0.

Thank you so much for your help and insight!!

Can’t wait to be helping other people out when I get some exp under my belt.
-DK",learnSQL,NUMERIC Function Syntax Error,1.0,https://www.reddit.com/r/learnSQL/comments/bj694l/numeric_function_syntax_error/
43,aymanum,1556727740,bjj2op,1,2,"I need help with this SQL Query for university: List courseNo and number of students on each course. We can’t use joins, they want us to use EXISTS.  The “courseNo” attribule is a PK in table “Course” and FK in table “Student”   
From what I understood, I tried these 2 queries: 

select c.courseNo, count(*) 
from Course
Where exists
 (select *
 from Student s
Where s.courseNo = c.courseNo);

And I tried 
select c.courseNo
From Course
Where exists
(Select count(*)
From Student s
Where s.courseNo = c.courseNo);

The 2nd query worked but I want to show the results from the count statement for each courseNo",learnSQL,I need help using exists and count,1.0,https://www.reddit.com/r/learnSQL/comments/bjj2op/i_need_help_using_exists_and_count/
44,sweeto7,1556793825,bjtgw7,6,3,"Hi All,

What started as a really straight-forward sql query has stumped me.. It is a woocommerce table of customer data . I want to return each field relevant to an order (post\_id) in one row 

`SELECT post_id, meta_key, meta_value from wo_postmeta wp WHERE post_id IN ( 9581,10562) AND (meta_key = '_billing_first_name' OR meta_key = '_billing_last_name' OR meta_key = '_billing_email')`

&amp;#x200B;

[how it is returned in sql](https://i.redd.it/wizjd9s31sv21.png)

I would ideally like it to be the post\_id and metavalues all in one row. e.g. 

  
\[9581\],\[Nicola\],\[xxxxx\],\[xxxx@hotmail.co.uk\]  
\[10562\],\[Sally\],\[xxxxx\],\[xxxxx@msm.com\]

|9581|Nicola|XXXXX|XXXXX@hotmail.co.uk|
|:-|:-|:-|:-|
|10562|Sally|XXXXX|XXXXX@msm.com|

Any pointers appreciated.",learnSQL,Making columns into one row...how to do so??,1.0,https://www.reddit.com/r/learnSQL/comments/bjtgw7/making_columns_into_one_rowhow_to_do_so/
45,SkepticDad17,1556810357,bjw5s1,3,6,"So I wrote this from a tutorial, I thought it was mysql, but someone has assured me it's SQLite, not sure on the difference, and I need to turn it into mysql.

Here's the input

    import sqlite3
    import os
    
    try:
    	os.remove(""myTable.db"")
    except OSError:
        pass
    
    # Connection with the DataBase 
    # 'library.db' 
    connection = sqlite3.connect(""myTable.db"") 
    cursor = connection.cursor() 
       
    # SQL piece of code Executed 
    cursor.execute("""""" 
        CREATE TABLE facility( 
            quantity,
            name, 
            location);"""""") 
    
    
    
    def insert(A, B, C):
    	List = [(A, B, C)] 
    	connection. executemany("""""" 
    		INSERT INTO  
    		facility(quantity, name, location)  
    		VALUES (?, ?, ?)"""""", List) 
    
    A = int(9494)
    B = (""Bananas"")
    C = (""New york"")
    insert(A, B, C)
    
    A = int(74732)
    B = (""Apples"")
    insert(A, B, C)
    
    A = int(49494)
    B = (""Pineapple"")
    C = (""Tokyo"")
    insert(A, B, C)
    
    sql = """""" 
    SELECT * FROM facility;""""""
    cursor.execute(sql) 
    result = cursor.fetchall() 
    for x in result: 
        print(x) 
       
    # Changes saved into database 
    connection.commit() 
       
    # Connection closed(broken) 
    # with DataBase 
    connection.close() 

output

    (9494, u'Bananas', u'New york')
    (74732, u'Apples', u'New york')
    (49494, u'Pineapple', u'Tokyo')

Does someone have a link to a good mysql versus sqlite?",learnSQL,Can someone help with the difference between SQLite and mysql?,1.0,https://www.reddit.com/r/learnSQL/comments/bjw5s1/can_someone_help_with_the_difference_between/
46,basicdude13,1556927782,bkf7r0,0,2,"Can anyone check my work? I am insanely confused by this problem...

&amp;#x200B;

![img](4yhxxk8i33w21)

SELECT P.p1, MAX(A.y)

FROM Parent\_child P, (SELECT X.p1, Z.p2, count(\*) as y 

FROM Person\_Living X, Parent\_child Z 

WHERE X = Z.p1 AND Z.p2 = P.p1

GROUP BY X.p1, Z.p2) as A

GROUP BY A.p1, A.y",learnSQL,Help convert relational algebra to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/bkf7r0/help_convert_relational_algebra_to_sql/
47,DvD_cD,1556929266,bkfg05,4,2," 

I have users, and each one have points. There is a additional table, that saves every user's points at the end of the day. I currently have data for 2 days. Looks something like this:

​

|user\_id|points|date|
|:-|:-|:-|
|1|100|2019-05-04|
|1|150|2019-05-05|

&amp;#x200B;

How can I find the biggest changes (points can be less or more each day)?

Found [this](https://stackoverflow.com/a/2430314) but it only works for 2 different columns.",learnSQL,Biggest difference,1.0,https://www.reddit.com/r/learnSQL/comments/bkfg05/biggest_difference/
48,lokendra15,1556947611,bkhwwv,5,3, ,learnSQL,Different Types Of SQL Joins,1.0,https://www.technolush.com/blog/sql-joins
49,Vidyakant,1556976770,bkl69h,1,0, ,learnSQL,Add and Subtract Dates in SQL Server,1.0,https://tutorialspoint4all.com/add-and-subtract-datesweeks-months-year-from-date-using-dateadd-in-sql-server/
50,booyaboba,1557083856,bl1rt5,6,1,"Hello!

&amp;#x200B;

I'm having trouble figuring out whats the best way to make a library type database.

&amp;#x200B;

The idea is that I have a table of students and a table of books, and that students can check out books, which will then make that book unavailable to be checked out by other students.

I also want to be able to tell the history of books a student has checked out and vice versa.

So far I just have the Students and Books table, but what other tables should I create and how should I be linking them to each other?

Thanks!",learnSQL,Making a library database,1.0,https://www.reddit.com/r/learnSQL/comments/bl1rt5/making_a_library_database/
0,HalfAssBarmaiden,1552268524,aznbnn,2,3,"I'm studying IT Systems at the moment and apart of this course is a module that covers:  
Database Management Systems  
SQL  
Emerging Trends in Data Handling  
Within those are pages and pages and pages of work that I'm struggling to understand.  
I have questioned my tutors over and over again but for some reason, something isn't clicking in my mind.  
If there's anyone in this sub that'd be able to help answer stupid questions for me for a while (in PMs) I'd be so so grateful.  
I'm structuring a whole bunch of databases, their entities, their relationships, normalization etc.  
I'm getting through the work, I'm just having a really hard time grasping the way they're structuring their questions and their concepts.  
We started this course with:  
Types of Computers  
Peripherals  
Internal components  
Computer Architecture  
Software Components  
Configuring Systems  
Networking Fundamentals  
IT technical support  
and Security  
I breezed through and felt so confident and happy.  
Now I feel like a complete idiot and Im beating myself up quite badly over what I think - should be easy enough to get.   
So , please, if anyone could help please let me know.  
Thanks in advance.",learnSQL,Studying and looking for anyone with experience,1.0,https://www.reddit.com/r/learnSQL/comments/aznbnn/studying_and_looking_for_anyone_with_experience/
1,Vidyakant,1552292176,azquhd,0,3, ,learnSQL,What is the Server Side Trace In SQL Server?,1.0,https://tutorialspoint4all.com/what-is-the-server-side-trace-in-sql-server/
2,KeelyDriggs,1552361704,b0308w,0,1, ,learnSQL,SPECIAL Offer200+ SQL Interview Questions 90% off,1.0,https://twitter.com/backe_f/status/1098200154979487744
3,Vidyakant,1552386012,b064xs,0,1, ,learnSQL,recover or attached a database which transaction log (.LDF) file is missing or corrupt?,1.0,https://tutorialspoint4all.com/how-to-recover-or-attached-a-database-which-transaction-log-ldf-file-is-missing-or-corrupt/
4,Vidyakant,1552410092,b0a64n,0,4, ,learnSQL,find out beneficial missing indexes for a database in SQL Server,1.0,https://tutorialspoint4all.com/how-to-find-out-beneficial-missing-indexes-for-a-database-in-sql-server/
5,beholdGreatness22,1552470625,b0k4dz,0,1," 

Hello everyone, I am having trouble calculating student grades based on a specific grade type in MySQL.

I have the following tables

&amp;#x200B;

    Subject
    -------------------
    Subid [PK]
    subjectTitle
    
    Topic
    ----------------
    Tid (TopicID) [PK]
    SubId (Subjectid) [FK]
    Designation
    WeightOfSubject
    
    Marking
    -------------------
    pid (PersonID) [PK][FK]
    Tid (TopicID) [PK][FK]
    Points
    
    Person
    ------------------------
    pid (PersonId) [PK]
    firstname
    lastname
    Sex

Paired with the following data

&amp;#x200B;

    Subject Data
    
    Subid        subjectTitle
    
    AA001       Arts
    AA002       Crafts
    ----------------------------------------
    
    Topic Data
    
    Tid      Subid      Designation WeightOfSubject
    001      AA001          S1        30    
    002      AA001          S2        30    
    003      AA001          S3        40
    004      AA002          S1        50
    005      AA002          S2        50
    ----------------------------------------
    
    Marking DATA
    
    Pid Tid Points(out of 100)
    P01 001 33
    P01 002 62
    P01 003 81
    P01 004 85
    P01 005 63
    P02 001 74
    P02 002 72
    P02 003 45
    P02 004 63
    P02 005 88
    ------------------------------------------
    
    Person DATA
    
    Person DATA
    
    pid firstname   lastname    sex
    P01 Josh        Draxler     M
    P02 John        Doe         M

I'm trying to use the below query  is to multply the markings by their weight, and then add all of the weighted scores together to get the average overall weighted for each subject they did (with the final result displaying the subject ids, the person, and their overall weighted average mark as a percentage.) 

&amp;#x200B;

     select
      p.personid as pid,
      max(p.firstname) as firstname,
      max(p.lastname) as lastname,
      max(p.sex) as sex,
      s.subid, -- you can remove this column, if you wish
      max(s.subjecttitle) as subjecttitle,
      1.0 * sum(m.points * t.weightofsubject) /
        sum(t.weightofsubject) as weighted_average
    from subject s
    join topic t on t.subjectid = s.subid
    join marking m on m.topicid = t.tid
    join person p on p.personid = m.pid
    group by p.personid, s.subid
    order by p.personid, s.subid

&amp;#x200B;

But when i execute it gives the folllowing error:

&amp;#x200B;

    'you have an error in your SQL syntax; check the manual that corresponds to your MySql version for the right syntax to user near 'max(p.firstname) as firstname, max(p.lastname) as lastname, max(p.sex) as sex s.'

I'm unsure as to why this is doing this, any ideas?",learnSQL,MYSQL Weighted average - Why isn't this working?,1.0,https://www.reddit.com/r/learnSQL/comments/b0k4dz/mysql_weighted_average_why_isnt_this_working/
6,JoshBurnsTech,1552501878,b0pg81,1,8, ,learnSQL,Faster Queries?! Find SQL Server Missing Indexes,1.0,https://www.youtube.com/watch?v=3IF_MjmmG6g&amp;t=2s
7,Vidyakant,1552648822,b1dp3r,0,2, ,learnSQL,Identify CPU Pressure In SQL Server,1.0,https://tutorialspoint4all.com/identify-cpu-pressure-in-sql-server/
8,YourOldBoyRickJames,1552663228,b1g6kg,4,3,"Hi All,

&amp;#x200B;

I'm fairly new to SQL and have been working through a course on [Udemy.com](https://Udemy.com). I've tried to apply some of the things that I've learned to my day job, whereas I normally would have used Excel, but I've hit a stumbling block fairly early on.

&amp;#x200B;

Just wondering if someone could help me work through this issue.

&amp;#x200B;

I am trying to simplify one of my Excel reports by doing the bulk of the work in SQL. I currently export the data into Excel using MicrosoftQuery and then manipulate it in Excel. However, our Warehouse Management System (WMS) seems to be the most confusing database I've ever seen.

&amp;#x200B;

Scenario: I have 3 tables within my Database. items, mixed, tranfile

&amp;#x200B;

**items** \- This table contains a list of all single item pallets in stock on our WMS (Pallets are identified by a 15 digit pallet number (itemcode) 1 product code per 1 itemcode) This table shows the current location of all stock

**mixed** \- This table contains a list of all mixed product pallets (It again has a pallet number but several different product codes might appear under the same pallet number) It shows the original receipt location of stock \*This is not accurate\*

**tranfile** \- this is a table which records all transactions on the system, such as picks, movements etc.

&amp;#x200B;

Difficulty\*\*\* If a pallet is mixed, it is in the mixed table. However, it is also in the item table under the product code 'Mixed'. Both tables are joined somewhere in the background under the primary key of 'Item Code' which appears in both tables.

I can't just join these tables as the 'locationcode' of each pallet is only right in the items table, where the product code is shown as 'Mixed'. So what I have had to do is create a query which says 

&amp;#x200B;

SELECT items.itemcode, items.lastupddate, items.receipt\_date, 

(CASE WHEN items.productcode = 'Mixed' THEN mixed\_items.numberoff ELSE items.numberoff END ) as 'numberoff', items.locationcode, (CASE WHEN items.productcode = 'Mixed' THEN mixed\_items.productcode ELSE items.productcode END) as 'productcode', (CASE WHEN items.productcode = 'Mixed' THEN mixed\_items.description ELSE items.description END) as 'description' FROM WMS.PUB.item items LEFT JOIN WMS.PUB.iteproxr mixed\_items ON items.itemcode=mixed\_items.itemcode WHERE items.owner\_organisation = 'Hit\*\*\*\*'

&amp;#x200B;

\^\^ This bit works fine and I have managed to get a full stock list, although I'm wondering if this is the best method?

&amp;#x200B;

**What I Need**

&amp;#x200B;

So, I am trying to get a full stock list from the query above, where the locationcode begins 'GW%'.

I then need to look up the itemcode' and 'productcode' in the tranfile and return the MAX value (Date) where the 'trantypecode' = 'RDTDesp'

&amp;#x200B;

I hope that all makes sense, and I appreciate I am perhaps using terminology which people may not be familiar with, from a warehouse perspective.

&amp;#x200B;

I'm completely stumped where to even begin, so I was hoping someone could point me in the right direction. Like I say, I'm currently doing a course, so I don't particularly need the complete answer, it would just be great if someone could give me a steer so that I can work through it and try and dissect exactly how it's worked.

&amp;#x200B;

Thanks in advance",learnSQL,Multiple Joins and multiple cases?,1.0,https://www.reddit.com/r/learnSQL/comments/b1g6kg/multiple_joins_and_multiple_cases/
9,bitsofshit,1552687651,b1kw5r,1,0,"where TRIANGLES table is organized like so:

&amp;#x200B;

https://i.redd.it/g20um60zvcm21.png

Attempted to determine different types of triangle like below, but no output was produced?

https://i.redd.it/h62szkdcvcm21.png

then i tried

&amp;#x200B;

https://i.redd.it/ji1hk8wuvcm21.png",learnSQL,Incorrect queries,1.0,https://www.reddit.com/r/learnSQL/comments/b1kw5r/incorrect_queries/
10,nothanksm800,1552703464,b1ni7k,1,4,"Given this schema:

&amp;#x200B;

country = (name, continent, population)

sea = (name, area, depth)

coast = (country\_name, sea\_name)

border = (country1\_name, country2\_name, length)

&amp;#x200B;

I want to return the names of country pairs that share the same ocean and are neighboring each other directly.

&amp;#x200B;

This is the database I created to test it (I know it is poorly designed.. this is just for testing): [http://sqlfiddle.com/#!17/3a0ee/19](http://sqlfiddle.com/#!17/3a0ee/19)

&amp;#x200B;

This is the answer I found worked but i would like to know if there is a way to simplify it as i feel as though it is an ugly solution: 

`SELECT country1_name, country2_name FROM (`

`(SELECT border.country1_name, coast.sea_name, border.country2_name`

`FROM coast`

`JOIN border`

`ON coast.country_name=border.country1_name)`

`INTERSECT`

`(SELECT border.country2_name, coast.sea_name, border.country1_name`

`FROM coast`

`JOIN border`

`ON coast.country_name=border.country1_name)) AS neighboring;`

&amp;#x200B;

Thanks for any help!

&amp;#x200B;",learnSQL,Help simplifying a long query,1.0,https://www.reddit.com/r/learnSQL/comments/b1ni7k/help_simplifying_a_long_query/
11,Condorul,1552758924,b1v6ly,9,6,"So I have two tables that I need to INNER JOIN with some additional SELECT actions that I am unable to group correctly 

[https://sqlbolt.com/lesson/select\_queries\_with\_joins](https://sqlbolt.com/lesson/select_queries_with_joins)

&amp;#x200B;

1.On the first query i need 1 query to do the following:

a. Selects new column and shows in it a concatenation of **Title** and **Year**

Title||' '||Year AS Name

b. Selects new column and calculates in it a sum of **Domestic\_sales** and **International\_sales**

(domestic\_sales+international\_sales) AS Sales

c. Selects new column and shows in it movie **Length\_minutes** converted to **hours** and **minutes** 

CAST(col1/60 AS VARCHAR(6)) + ':' + CAST(col1%60.0 As VARCHAR(2)) 

&amp;#x200B;

I was thinking on something like this but I am pretty sure I am still far off from the correct formula.

 

SELECT Title||' '||Year AS Name, (domestic\_sales+international\_sales) AS Sales, Length\_minutes AS Lenght 

FROM boxoffice

INNER JOIN Movies

&amp;#x200B;

2.  Second query - same tables

a. Counts the number of **Title**(s) grouped by **Year**

b. Orders the list by **Year** ascending

&amp;#x200B;

Any tips about what should I read for a better understanding of the process is much appreciated.

&amp;#x200B;",learnSQL,Help creating 2 queries - Inner Join,1.0,https://www.reddit.com/r/learnSQL/comments/b1v6ly/help_creating_2_queries_inner_join/
12,AwesomeNerd18,1552850840,b28wq1,7,8,"Hello everyone, 
I am trying to learn Sql and have downloaded the Adventureworks database. Does anyone know where I can find exercises for Adventureworks queries to learn Sql? ",learnSQL,Adventureworks exercises,1.0,https://www.reddit.com/r/learnSQL/comments/b28wq1/adventureworks_exercises/
13,Vidyakant,1552989810,b2vjgd,0,2, ,learnSQL,How to Enable and Disable All Constraint for Table and Database in SQL Server,1.0,https://tutorialspoint4all.com/sql-server-how-to-enable-and-disable-all-constraint-for-table-and-database/
14,lmrk5,1553031240,b3382c,5,1,"Sorry for bad title.

I have 2 tables. Here is simplified version:

CREATE TABLE race(

race_id integer primary key,

race_name text,

date text,

);


CREATE TABLE race_entry(

race_entry_id integer primary key,

position integer,

jockey text,

race_id integer,

foreign key (race_id) references race(race_id)

);


Each race has many race_entries. I want to get sum of each position the jockey has for each year. I have a jockey name and want to get his position sum. Example: in 2018 he was 1st - 5 times, 2nd - 1 time, 3rd - 7 times.  (and similar for other years). years are from date column in race, position is from race_entry.

Hope this make sense.",learnSQL,Need help with query,1.0,https://www.reddit.com/r/learnSQL/comments/b3382c/need_help_with_query/
15,captain-pluto,1553102968,b3etlo,7,2,"I have two columns: weight and height, I need to select people according to the BMI value
My problem is: I can not store the BMI value in another column, I need the calculation to be done in the WHERE clause in a single query
I already tried it in several ways and it did not work

BMI = (weight /(height x height))",learnSQL,Make a calculation in WHERE clause,1.0,https://www.reddit.com/r/learnSQL/comments/b3etlo/make_a_calculation_in_where_clause/
16,Vidyakant,1553188424,b3t5ws,0,2, ,learnSQL,How to recover lost or forget administrator SA Password In SQL Server?,1.0,https://tutorialspoint4all.com/how-to-recover-lost-or-forget-administrator-sa-password-in-sql-server-2/
17,Vidyakant,1553268488,b46ekr,0,1, ,learnSQL,The server principal already exists – Msg 15025,1.0,https://tutorialspoint4all.com/the-server-principal-already-exists-msg-15025/
18,Vidyakant,1553324828,b4g8p9,0,1, ,learnSQL,Attempt to fetch logical page (1:64920) in database 2 failed,1.0,https://tutorialspoint4all.com/attempt-to-fetch-logical-page-164920-in-database-2-failed/
19,ElllGeeEmm,1553368956,b4n31p,8,7,"I'm looking for resources on SQL that focus less on how to query already existing tables, but instead focus on how tables should be related to one another for different sorts of tasks.",learnSQL,What are the best books and resources for learning about how a database should be structured?,1.0,https://www.reddit.com/r/learnSQL/comments/b4n31p/what_are_the_best_books_and_resources_for/
21,Vidyakant,1553510869,b593sf,0,0, ,learnSQL,SQL Server System Databases,1.0,https://tutorialspoint4all.com/sql-server-system-databases-2/
22,php_developr,1553527680,b5c1rc,7,2,"Hello, I need help figuring out my MySql table design. The name of my wordpress plugin is ComparePrices. It will enable wordpress site owners to create an html table with a list of stores and urls. They will manually place a table generation shortcode on a specific page. Prior to render, another column will be generated by a scraper that visits the url and grabs the price (or shows not found).

On the back end, the user will be able to make some html tables through a form (in SQL the form will create sql table rows). The html tables he creates (via shortcode) will have 2 columns: Store and URL. Both are text. A couple html tables may render like this:

    // table 1 on a page like /compare-pets
    Store | Link
    Amazon | http://amazon.com/item=1234
    Buy.com | http://buy.com/pets/turtles/exploding-turtle?childsafe=true
    
    // table 2 on some other page like /bike-article
    Store | Link
    Walmart | http://walmart.com/bikes/121
    &lt;another similar record ...&gt;
    &lt;another similar record ...&gt;
    &lt;another similar record ...&gt;

Now for storing the data submited via form:

At first I thought to make a chartTables sql table that has a tableId, storeName, and url. But there would be multiple records for one tableId since each one has multiple stores and urls. An array in the store and url column could get around this but I hear those are bad in SQL. Also I imagine, hard to line up precisely.

So then I thought to have one table with nothing but tableIds. Then another table called storeLinks with a linkId, storeName, and url. And tableId as a foreign key.

That way the table can be targeted, and the links have their own table with a relation back to their parent table.  But you guys said a table should not have one column.

So I'm not sure how to design this. Seems like a very simple one but I guess I don't know how to resolve the relation issue without a single column table. How would you do it?",learnSQL,MySql table design help,1.0,https://www.reddit.com/r/learnSQL/comments/b5c1rc/mysql_table_design_help/
23,M4tchB0X3r,1553554879,b5huh7,1,2,"It’s been a while since if had to write SQL queries other than absolute basic selects, since I’ve been in NOSQL projects the last few years and I can’t seem to wrap my head around on how I should approach this select statement.

I have a Table called unified\_assets which has the date columns firstseen and lastseen among others. 

What I need to query is: All assets per month.

Obviously counting from firstseen but also exclude any rows which have a lastssen older than 3 months for that given month.

I can count all the firstseens since this is fairly straight forward. 

MSSQL 16  


`SELECT YEAR(firstseen) Year, MONTH(firstseen) Month, COUNT(*) Count` 

`FROM unified_assets` 

`GROUP BY YEAR(firstseen), MONTH(firstseen)` 

`ORDER BY YEAR(firstseen), MONTH(firstseen);` 

&amp;#x200B;

Basically what I’d need to do now is add a column adding all previous “firstseen” and subtract all “lastseen” which are older than 3 months. 

Any pointers would be greatly appreciated.",learnSQL,Would someone point me in the right direction with my COUNT query?,1.0,https://www.reddit.com/r/learnSQL/comments/b5huh7/would_someone_point_me_in_the_right_direction/
24,Criaden,1553557399,b5ib8e,2,0,"So the question is, "" List of auto transactions in Wausau ordered by the transaction value in ascending order"" But I have no idea where to even start on this, any help is greatly appreciated. I've got the insert sql and the  created sql all typed up. 

&amp;#x200B;

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_Tb\_Requests\_Tb\_Consumer\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[Tb\_Requests\] DROP CONSTRAINT FK\_Tb\_Requests\_Tb\_Consumer

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_Tb\_Transactions\_Tb\_Consumer\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[Tb\_Transactions\] DROP CONSTRAINT FK\_Tb\_Transactions\_Tb\_Consumer

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_TB\_Offers\_Tb\_Product\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[TB\_Offers\] DROP CONSTRAINT FK\_TB\_Offers\_Tb\_Product

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_Tb\_Requests\_Tb\_Product\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[Tb\_Requests\] DROP CONSTRAINT FK\_Tb\_Requests\_Tb\_Product

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_Tb\_Transactions\_Tb\_Product\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[Tb\_Transactions\] DROP CONSTRAINT FK\_Tb\_Transactions\_Tb\_Product

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_TB\_Offers\_Tb\_Supplier\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[TB\_Offers\] DROP CONSTRAINT FK\_TB\_Offers\_Tb\_Supplier

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[FK\_Tb\_Transactions\_Tb\_Supplier\]') and OBJECTPROPERTY(id, N'IsForeignKey') = 1)

ALTER TABLE \[dbo\].\[Tb\_Transactions\] DROP CONSTRAINT FK\_Tb\_Transactions\_Tb\_Supplier

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[TB\_Offers\]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)

drop table \[dbo\].\[TB\_Offers\]

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[Tb\_Consumer\]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)

drop table \[dbo\].\[Tb\_Consumer\]

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[Tb\_Product\]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)

drop table \[dbo\].\[Tb\_Product\]

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[Tb\_Requests\]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)

drop table \[dbo\].\[Tb\_Requests\]

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[Tb\_Supplier\]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)

drop table \[dbo\].\[Tb\_Supplier\]

GO

&amp;#x200B;

if exists (select \* from dbo.sysobjects where id = object\_id(N'\[dbo\].\[Tb\_Transactions\]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)

drop table \[dbo\].\[Tb\_Transactions\]

GO

&amp;#x200B;

CREATE TABLE \[dbo\].\[TB\_Offers\] (

	\[Supp\_ID\] \[int\] NOT NULL ,

	\[Prod\_ID\] \[int\] NOT NULL ,

	\[Price\] \[money\] NULL ,

	\[Quantity\] \[float\] NULL 

) ON \[PRIMARY\]

GO

&amp;#x200B;

CREATE TABLE \[dbo\].\[Tb\_Consumer\] (

	\[Con\_ID\] \[int\] IDENTITY (1, 1) NOT NULL ,

	\[Name\] \[varchar\] (30) COLLATE SQL\_Latin1\_General\_CP1\_CI\_AS NULL ,

	\[City\] \[varchar\] (30) COLLATE SQL\_Latin1\_General\_CP1\_CI\_AS NULL 

) ON \[PRIMARY\]

GO

&amp;#x200B;

CREATE TABLE \[dbo\].\[Tb\_Product\] (

	\[Prod\_ID\] \[int\] IDENTITY (1, 1) NOT NULL ,

	\[Name\] \[varchar\] (30) COLLATE SQL\_Latin1\_General\_CP1\_CI\_AS NULL ,

	\[MU\] \[varchar\] (30) COLLATE SQL\_Latin1\_General\_CP1\_CI\_AS NULL 

) ON \[PRIMARY\]

GO

&amp;#x200B;

CREATE TABLE \[dbo\].\[Tb\_Requests\] (

	\[Con\_ID\] \[int\] NOT NULL ,

	\[Prod\_ID\] \[int\] NOT NULL ,

	\[Price\] \[money\] NULL ,

	\[Quantity\] \[float\] NULL 

) ON \[PRIMARY\]

GO

&amp;#x200B;

CREATE TABLE \[dbo\].\[Tb\_Supplier\] (

	\[Supp\_ID\] \[int\] IDENTITY (1, 1) NOT NULL ,

	\[Name\] \[varchar\] (30) COLLATE SQL\_Latin1\_General\_CP1\_CI\_AS NULL ,

	\[City\] \[varchar\] (30) COLLATE SQL\_Latin1\_General\_CP1\_CI\_AS NULL 

) ON \[PRIMARY\]

GO

&amp;#x200B;

CREATE TABLE \[dbo\].\[Tb\_Transactions\] (

	\[Tran\_ID\] \[int\] IDENTITY (1, 1) NOT NULL ,

	\[Supp\_ID\] \[int\] NOT NULL ,

	\[Con\_ID\] \[int\] NOT NULL ,

	\[Prod\_ID\] \[int\] NOT NULL ,

	\[Price\] \[money\] NULL ,

	\[Quantity\] \[float\] NULL 

) ON \[PRIMARY\]

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[TB\_Offers\] WITH NOCHECK ADD 

	CONSTRAINT \[PK\_TB\_Offers\] PRIMARY KEY  CLUSTERED 

	(

		\[Supp\_ID\],

		\[Prod\_ID\]

	)  ON \[PRIMARY\] ,

	CONSTRAINT \[CK\_TB\_Offers\] CHECK (\[Price\] &gt; 0.00),

	CONSTRAINT \[CK\_TB\_Offers\_1\] CHECK (\[Quantity\] &gt;= 0)

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Consumer\] WITH NOCHECK ADD 

	CONSTRAINT \[PK\_Tb\_Consumer\] PRIMARY KEY  CLUSTERED 

	(

		\[Con\_ID\]

	)  ON \[PRIMARY\] 

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Product\] WITH NOCHECK ADD 

	CONSTRAINT \[PK\_Tb\_Product\] PRIMARY KEY  CLUSTERED 

	(

		\[Prod\_ID\]

	)  ON \[PRIMARY\] 

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Requests\] WITH NOCHECK ADD 

	CONSTRAINT \[PK\_Tb\_Requests\] PRIMARY KEY  CLUSTERED 

	(

		\[Con\_ID\],

		\[Prod\_ID\]

	)  ON \[PRIMARY\] ,

	CONSTRAINT \[CK\_Tb\_Requests\] CHECK (\[Price\] &gt; 0.00),

	CONSTRAINT \[CK\_Tb\_Requests\_1\] CHECK (\[Quantity\] &gt;= 0)

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Supplier\] WITH NOCHECK ADD 

	CONSTRAINT \[PK\_Tb\_Supplier\] PRIMARY KEY  CLUSTERED 

	(

		\[Supp\_ID\]

	)  ON \[PRIMARY\] 

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Transactions\] WITH NOCHECK ADD 

	CONSTRAINT \[PK\_Tb\_Transactions\] PRIMARY KEY  CLUSTERED 

	(

		\[Tran\_ID\]

	)  ON \[PRIMARY\] ,

	CONSTRAINT \[CK\_Tb\_Transactions\] CHECK (\[Price\] &gt; 0.00),

	CONSTRAINT \[CK\_Tb\_Transactions\_1\] CHECK (\[Quantity\] &gt; 0)

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[TB\_Offers\] ADD 

	CONSTRAINT \[FK\_TB\_Offers\_Tb\_Product\] FOREIGN KEY 

	(

		\[Prod\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Product\] (

		\[Prod\_ID\]

	),

	CONSTRAINT \[FK\_TB\_Offers\_Tb\_Supplier\] FOREIGN KEY 

	(

		\[Supp\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Supplier\] (

		\[Supp\_ID\]

	)

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Requests\] ADD 

	CONSTRAINT \[FK\_Tb\_Requests\_Tb\_Consumer\] FOREIGN KEY 

	(

		\[Con\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Consumer\] (

		\[Con\_ID\]

	),

	CONSTRAINT \[FK\_Tb\_Requests\_Tb\_Product\] FOREIGN KEY 

	(

		\[Prod\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Product\] (

		\[Prod\_ID\]

	)

GO

&amp;#x200B;

ALTER TABLE \[dbo\].\[Tb\_Transactions\] ADD 

	CONSTRAINT \[FK\_Tb\_Transactions\_Tb\_Consumer\] FOREIGN KEY 

	(

		\[Con\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Consumer\] (

		\[Con\_ID\]

	),

	CONSTRAINT \[FK\_Tb\_Transactions\_Tb\_Product\] FOREIGN KEY 

	(

		\[Prod\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Product\] (

		\[Prod\_ID\]

	),

	CONSTRAINT \[FK\_Tb\_Transactions\_Tb\_Supplier\] FOREIGN KEY 

	(

		\[Supp\_ID\]

	) REFERENCES \[dbo\].\[Tb\_Supplier\] (

		\[Supp\_ID\]

	)

GO

&amp;#x200B;

DELETE FROM TB\_TRANSACTIONS;

DELETE FROM TB\_OFFERS;

DELETE FROM TB\_REQUESTS;

DELETE FROM TB\_PRODUCT;

DELETE FROM TB\_CONSUMER;

DELETE FROM TB\_SUPPLIER;

&amp;#x200B;

\--Suppliers

INSERT INTO TB\_SUPPLIER VALUES('Joe','Madison')

INSERT INTO TB\_SUPPLIER VALUES('Herman','Madison')

INSERT INTO TB\_SUPPLIER VALUES('Bernstein','Madison')

INSERT INTO TB\_SUPPLIER VALUES('Smith','Madison')

&amp;#x200B;

INSERT INTO TB\_SUPPLIER VALUES('Redfield','Wausau')

INSERT INTO TB\_SUPPLIER VALUES('Godman','Wausau')

INSERT INTO TB\_SUPPLIER VALUES('James','Wausau')

INSERT INTO TB\_SUPPLIER VALUES('Wells','Wausau')

INSERT INTO TB\_SUPPLIER VALUES('Wolf','Wausau')

&amp;#x200B;

INSERT INTO TB\_SUPPLIER VALUES('Thomas','Chicago')

INSERT INTO TB\_SUPPLIER VALUES('Traiger','Chicago')

&amp;#x200B;

INSERT INTO TB\_SUPPLIER VALUES('Strong','Stevens Point')

INSERT INTO TB\_SUPPLIER VALUES('Deitel','Stevens Point')

INSERT INTO TB\_SUPPLIER VALUES('Troelsen','Stevens Point')

&amp;#x200B;

INSERT INTO TB\_SUPPLIER VALUES('Stronger','London')

INSERT INTO TB\_SUPPLIER VALUES('Wolfgang','London')

&amp;#x200B;

INSERT INTO TB\_SUPPLIER VALUES('Jones','Madison')

INSERT INTO TB\_SUPPLIER VALUES('Jaques','Paris')

&amp;#x200B;

\--Consumers

INSERT INTO TB\_CONSUMER VALUES('Steel','New York')

INSERT INTO TB\_CONSUMER VALUES('Hammer','New York')

INSERT INTO TB\_CONSUMER VALUES('Iron','New York')

&amp;#x200B;

INSERT INTO TB\_CONSUMER VALUES('Hoffer','Wausau')

INSERT INTO TB\_CONSUMER VALUES('Gray','Wausau')

INSERT INTO TB\_CONSUMER VALUES('Fisher','Wausau')

INSERT INTO TB\_CONSUMER VALUES('Franklin','Wausau')

INSERT INTO TB\_CONSUMER VALUES('Smith','Wausau')

INSERT INTO TB\_CONSUMER VALUES('Schafer','Wausau')

INSERT INTO TB\_CONSUMER VALUES('Johnson','Wausau')

&amp;#x200B;

INSERT INTO TB\_CONSUMER VALUES('Jacob','Chicago')

INSERT INTO TB\_CONSUMER VALUES('Metzker','Chicago')

INSERT INTO TB\_CONSUMER VALUES('Boggs','Chicago')

&amp;#x200B;

\--Products

INSERT INTO TB\_PRODUCT VALUES('Computer','Pieces')

INSERT INTO TB\_PRODUCT VALUES('Auto','Pieces')

INSERT INTO TB\_PRODUCT VALUES('TV','Pieces')

INSERT INTO TB\_PRODUCT VALUES('Milk','Gallon')

INSERT INTO TB\_PRODUCT VALUES('Oil','Gallon')

INSERT INTO TB\_PRODUCT VALUES('Orange','Lb')

INSERT INTO TB\_PRODUCT VALUES('Truck','Pieces')

INSERT INTO TB\_PRODUCT VALUES('Airplane','Pieces')

&amp;#x200B;

\--Offers

INSERT INTO TB\_OFFERS VALUES(1,1,799.99,100)

INSERT INTO TB\_OFFERS VALUES(1,2,7899.99,10)

INSERT INTO TB\_OFFERS VALUES(1,3,199.99,1000)

INSERT INTO TB\_OFFERS VALUES(1,4,1.99,10000)

INSERT INTO TB\_OFFERS VALUES(1,5,1.09,100000)

INSERT INTO TB\_OFFERS VALUES(1,6,0.99,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(2,1,795.99,100)

INSERT INTO TB\_OFFERS VALUES(2,2,7897.99,10)

INSERT INTO TB\_OFFERS VALUES(2,3,191.99,1000)

INSERT INTO TB\_OFFERS VALUES(2,4,1.89,10000)

INSERT INTO TB\_OFFERS VALUES(2,5,1.09,100000)

INSERT INTO TB\_OFFERS VALUES(2,6,0.99,100)

INSERT INTO TB\_OFFERS VALUES(2,7,11.09,100000)

INSERT INTO TB\_OFFERS VALUES(2,8,100.99,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(3,1,789.99,100)

INSERT INTO TB\_OFFERS VALUES(3,6,0.99,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(4,1,769.99,100)

INSERT INTO TB\_OFFERS VALUES(4,2,7899.99,10)

INSERT INTO TB\_OFFERS VALUES(4,3,199.99,1000)

INSERT INTO TB\_OFFERS VALUES(4,6,0.99,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(5,1,799.99,100)

INSERT INTO TB\_OFFERS VALUES(5,2,7899.99,10)

INSERT INTO TB\_OFFERS VALUES(5,4,1.99,10000)

INSERT INTO TB\_OFFERS VALUES(5,5,1.09,100000)

INSERT INTO TB\_OFFERS VALUES(5,6,0.99,100)

INSERT INTO TB\_OFFERS VALUES(5,7,11.09,100000)

INSERT INTO TB\_OFFERS VALUES(5,8,100.99,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(9,1,799.99,100)

INSERT INTO TB\_OFFERS VALUES(9,2,7809.99,10)

INSERT INTO TB\_OFFERS VALUES(9,3,189.99,1000)

INSERT INTO TB\_OFFERS VALUES(9,4,1.99,10000)

INSERT INTO TB\_OFFERS VALUES(9,5,1.19,100000)

INSERT INTO TB\_OFFERS VALUES(9,6,0.90,100)

INSERT INTO TB\_OFFERS VALUES(9,7,11.09,100000)

INSERT INTO TB\_OFFERS VALUES(9,8,100.99,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(8,1,799.99,100)

INSERT INTO TB\_OFFERS VALUES(10,1,7809.99,10)

INSERT INTO TB\_OFFERS VALUES(11,1,189.99,1000)

INSERT INTO TB\_OFFERS VALUES(12,1,1.99,10000)

INSERT INTO TB\_OFFERS VALUES(14,1,1.09,100000)

INSERT INTO TB\_OFFERS VALUES(15,1,0.89,100)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(8,7,37990.99,100)

INSERT INTO TB\_OFFERS VALUES(10,7,80900.99,10)

INSERT INTO TB\_OFFERS VALUES(12,7,100000.99,10000)

&amp;#x200B;

INSERT INTO TB\_OFFERS VALUES(11,8,18.99,1000)

INSERT INTO TB\_OFFERS VALUES(12,8,1.99,10000)

INSERT INTO TB\_OFFERS VALUES(14,8,1.09,100000)

&amp;#x200B;

\--Requests

INSERT INTO TB\_REQUESTS VALUES(1,1,798.99,100)

INSERT INTO TB\_REQUESTS VALUES(1,2,7897.99,10)

INSERT INTO TB\_REQUESTS VALUES(1,3,196.99,1000)

INSERT INTO TB\_REQUESTS VALUES(1,4,1.90,10000)

INSERT INTO TB\_REQUESTS VALUES(1,5,1.00,100000)

INSERT INTO TB\_REQUESTS VALUES(1,6,0.90,100)

INSERT INTO TB\_REQUESTS VALUES(1,7,1.00,100000)

INSERT INTO TB\_REQUESTS VALUES(1,8,89.90,100)

&amp;#x200B;

INSERT INTO TB\_REQUESTS VALUES(2,1,790.99,100)

INSERT INTO TB\_REQUESTS VALUES(2,2,7890.99,10)

INSERT INTO TB\_REQUESTS VALUES(2,3,190.99,1000)

INSERT INTO TB\_REQUESTS VALUES(2,5,1.09,100000)

INSERT INTO TB\_REQUESTS VALUES(2,6,0.99,100)

&amp;#x200B;

INSERT INTO TB\_REQUESTS VALUES(4,1,760.99,100)

INSERT INTO TB\_REQUESTS VALUES(4,3,190.99,1000)

INSERT INTO TB\_REQUESTS VALUES(4,6,0.8,100)

&amp;#x200B;

INSERT INTO TB\_REQUESTS VALUES(5,1,798.99,100)

INSERT INTO TB\_REQUESTS VALUES(5,2,788.99,10)

INSERT INTO TB\_REQUESTS VALUES(5,4,1.8,10000)

INSERT INTO TB\_REQUESTS VALUES(5,5,1.00,100000)

INSERT INTO TB\_REQUESTS VALUES(5,6,0.95,100)

&amp;#x200B;

INSERT INTO TB\_REQUESTS VALUES(6,1,790.99,100)

INSERT INTO TB\_REQUESTS VALUES(6,2,7809.99,10)

INSERT INTO TB\_REQUESTS VALUES(6,3,186.99,1000)

INSERT INTO TB\_REQUESTS VALUES(6,4,1.99,10000)

INSERT INTO TB\_REQUESTS VALUES(6,5,1.09,100000)

INSERT INTO TB\_REQUESTS VALUES(6,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_REQUESTS VALUES(7,1,799.99,100)

INSERT INTO TB\_REQUESTS VALUES(7,2,7809.99,10)

INSERT INTO TB\_REQUESTS VALUES(7,3,189.99,1000)

INSERT INTO TB\_REQUESTS VALUES(7,4,1.99,10000)

INSERT INTO TB\_REQUESTS VALUES(7,5,1.09,100000)

INSERT INTO TB\_REQUESTS VALUES(7,6,0.89,100)

&amp;#x200B;

\--Transactions

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,4,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,6,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,8,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(1,2,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,2,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(1,2,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,2,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,2,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(1,4,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,4,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,4,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(1,5,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,6,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(1,7,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(1,1,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,2,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(1,3,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,4,4,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,5,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,6,6,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,7,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,8,8,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(1,9,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(1,10,8,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,4,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,6,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,8,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(2,1,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,2,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(2,3,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,4,4,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,5,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,6,6,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,7,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,8,8,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,9,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,10,8,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(2,2,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,2,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(2,2,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(2,4,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,4,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(2,4,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(2,5,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(2,5,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(2,5,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,1,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,1,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,1,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,1,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,1,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,1,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,1,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,1,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,1,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,2,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,2,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,2,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,2,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,2,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,2,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,2,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,2,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,2,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,3,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,3,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,3,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,3,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,3,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,3,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,3,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,3,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,3,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,4,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,4,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,4,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,4,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,4,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,4,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,4,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,4,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,4,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,4,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,5,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,5,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,5,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,5,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,5,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,5,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,5,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,6,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,6,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,6,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,6,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,6,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,6,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,6,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,6,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,6,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,7,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,7,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,7,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,7,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,7,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,7,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,7,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,7,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(3,1,8,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,2,8,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(3,3,8,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,4,8,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,5,8,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,6,8,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,7,8,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,8,8,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(3,9,8,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(3,10,8,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(9,4,4,1.90,10000)

INSERT INTO TB\_TRANSACTIONS VALUES(9,5,5,1.00,100000)

INSERT INTO TB\_TRANSACTIONS VALUES(9,6,5,0.90,100)

INSERT INTO TB\_TRANSACTIONS VALUES(9,7,2,798.99,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(9,2,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(9,2,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(9,4,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(9,4,3,196.99,1000)

INSERT INTO TB\_TRANSACTIONS VALUES(9,4,6,0.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(9,5,1,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(9,5,2,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(9,5,6,99.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(11,1,2,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(11,5,4,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(11,7,6,99.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(13,2,2,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(13,5,4,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(13,8,7,99.90,100)

&amp;#x200B;

INSERT INTO TB\_TRANSACTIONS VALUES(15,2,2,798.99,100)

INSERT INTO TB\_TRANSACTIONS VALUES(15,5,4,7897.99,10)

INSERT INTO TB\_TRANSACTIONS VALUES(15,8,7,99.90,100)

&amp;#x200B;",learnSQL,Help Solving an sql query,1.0,https://www.reddit.com/r/learnSQL/comments/b5ib8e/help_solving_an_sql_query/
25,coloriz95,1553593798,b5nq11,0,1,"If the best practice is we keep the main table separate from the dimension tables, why would we want to merge them into one table instead of just leveraging the relationships?",learnSQL,Merge/ Join Tables instead of using Relationships,1.0,https://www.reddit.com/r/learnSQL/comments/b5nq11/merge_join_tables_instead_of_using_relationships/
26,bariParker,1553607409,b5psul,1,12, ,learnSQL,Open Source Business Intelligence,1.0,https://blog.statsbot.co/open-source-business-intelligence-523ba185d530
27,metalloidica,1553617305,b5rqwn,2,2,"I'm running a query to get a table having two columns, id and salary. I want to find the nth highest salary

&amp;#x200B;

SELECT Salary FROM Employee WHERE Salary&lt;(SELECT Salary from table ORDER DESC LIMIT N-1) ORDER DESC LIMIT 1

&amp;#x200B;",learnSQL,what am I doing wrong here?,1.0,https://www.reddit.com/r/learnSQL/comments/b5rqwn/what_am_i_doing_wrong_here/
28,kineticbear,1553619339,b5s5v0,0,4, ,learnSQL,The Advantages of Views in SQL to Organize Complex Queries,1.0,https://headway.io/blog/advantages_of_sql_views/
29,fpuen,1553628581,b5u2zu,3,2,"I have this written out as a query to pass to a database in php, I think it's right but if there's a mistake please let me know. There is another table called priceGrids with a gridId by the way.

       $createLinkTableQuery = 'create table if not exists ' . $wpdb-&gt;get_blog_prefix() . 'priceLinks (
          linkId tinyint not null auto_increment primary key,
          storeName varchar(50) not null,
          url varchar(300) not null,
          gridId tinyint not null,
          foreign key (gridId) references priceGrids(gridId) on update cascade on delete cascade,
          )'
        ;

Do you guys also match names like this or is it better to create unique names to reference?",learnSQL,Should foreign key names match the key they reference?,1.0,https://www.reddit.com/r/learnSQL/comments/b5u2zu/should_foreign_key_names_match_the_key_they/
30,Vidyakant,1553676182,b61zhs,1,3, ,learnSQL,Adding db_executor role In SQL Server,1.0,https://tutorialspoint4all.com/adding-db_executor-role-in-sql-server/
31,Collrain,1553766627,b6gt9x,2,3,"Hello, sorry for the poor title but I'm not sure how to sum up my issue.

&amp;#x200B;

&amp;#x200B;

I've been trying to search for query efficiency information but I'm not sure what efficiencies to use or how to apply them to what I have. I'm new to SQL so I'm probably missing so basic and obvious trick that I'm hoping someone can help me with to speed up my query.

&amp;#x200B;

&amp;#x200B;

I have a large table of data, 46 million rows, and this will continue to grow at a pace of around 3,000 - 10,000 rows per day.

One of the columns contains varchar(64) which can be null, or some text, or some text and a date. For this particular query I'm only interest in the rows with some text and a date, an example of what the rows I want look like; 

&amp;#x200B;

&amp;#x200B;

""SENT TO RJ  19/01/18"" 

or 

""BC BY AJ    24/05/19"" 

&amp;#x200B;

&amp;#x200B;

Not sure how reddit will format those examples but you might notice there are some blank spaces between the text and the date, this is because the rows I'm interested in will always have a total of 12 letters and/or spaces before the date. This is good because I always know the date is starting at the 13 character slot and its always dd/mm/yy.

&amp;#x200B;

&amp;#x200B;

Sadly the date only provides 2 digits for the year, this is not something that can be fixed so I have to just make it work.

I need a query to search for records based on the date portion of these cells. For example I might want all the records that say ""SENT TO RJ"" between the date range of 01/01/2019 to 31/01/2019.

&amp;#x200B;

&amp;#x200B;

I initially singled out the date so I could change it from varchar to check if it is a date and if its within range. In my initial testing I have just made all date have a century of '20', I'm not sure of the best way to explain when it should be 1900's or 2000's? That issue isn't overly important at this stage.

'ResultText' is the column containing the before mentioned varchar(64)

&amp;#x200B;

This portion of the code is part of WHERE conditions. I use '01/01/1900' as an arbitrary date that will always be outside the required range.

    CASE
    	WHEN
    		ISDATE(CONVERT(VARCHAR, SUBSTRING(ResultText, 13, 6) + '20' + SUBSTRING(ResultText, 19, 2), 101)) = 1
    	THEN
    		CONVERT(VARCHAR, SUBSTRING(ResultText, 13, 6) + '20' + SUBSTRING(ResultText, 19, 2), 101)
    	ELSE
    		'01/01/1900'
    END)&gt;= @startDate
    AND (CASE
    	WHEN
    		ISDATE(CONVERT(VARCHAR, SUBSTRING(ResultText, 13, 6) + '20' + SUBSTRING(ResultText, 19, 2), 101)) = 1
    	THEN
    		CONVERT(VARCHAR, SUBSTRING(ResultText, 13, 6) + '20' + SUBSTRING(ResultText, 19, 2), 101)
    	ELSE
    		'01/01/1900'
    END) &lt;= @endDate

Outside of that portion of the query is a bunch of other bits that don't seem to make any difference to the length of the search. This is the part that is causing the slow down.

Currently if I search for a 1 month date range using my current search it takes about 1 minute 15 seconds, which isn't too bad but I would like to reduce that if possible.

&amp;#x200B;

I tried understand how indexing works and perhaps I can add my data to a table variable and then index it to speed it up but I don't know if that should be before I extract and change the dates from the nvarchar or would that come after?

&amp;#x200B;

If anyone has any tips or hints for me it would be greatly appreciated. 

&amp;#x200B;",learnSQL,"Query efficiency, I'm totally lost",1.0,https://www.reddit.com/r/learnSQL/comments/b6gt9x/query_efficiency_im_totally_lost/
32,Vidyakant,1553786953,b6k6sb,0,2, ,learnSQL,Fix:- Error: 262 : SHOWPLAN permission denied in SQL Server,1.0,https://tutorialspoint4all.com/fix-error-262-showplan-permission-denied-in-sql-server/
33,_WJT_,1553794115,b6loi5,0,2, ,learnSQL,Can I use sql server and adventure works offline after downloading them?,1.0,https://www.reddit.com/r/learnSQL/comments/b6loi5/can_i_use_sql_server_and_adventure_works_offline/
34,manchelsin2,1553795394,b6lxr8,9,11, ,learnSQL,What's the best content or place to learn SQL Language?,1.0,https://www.reddit.com/r/learnSQL/comments/b6lxr8/whats_the_best_content_or_place_to_learn_sql/
35,seands,1553808467,b6olb6,10,1,"I assume it is. My table setup code:

        $createGridTableQuery = ""CREATE TABLE IF NOT EXISTS "" . $wpdb-&gt;get_blog_prefix() . ""priceGrids (
          gridId mediumint not null auto_increment,
          primary key (gridId)
        )"";
        // run the built query statement
        require_once( ABSPATH . 'wp-admin/includes/upgrade.php' );
        dbDelta( $createGridTableQuery );
      }
      
      
      function createWpTestTable() {
        global $wpdb;
        $query = 'CREATE TABLE IF NOT EXISTS ' . $wpdb-&gt;get_blog_prefix() . 'progtest ' . '(
          tId mediumint not null auto_increment,
          primary key (tId),
          storeName varchar(50) not null,
          url varchar(300) not null,
          fk_priceGrids_priceLinks mediumint not null,
          foreign key (fk_priceGrids_priceLinks) references wp_priceGrids(gridId)
          // ^ this is the MUL key
        )';

I assumed foreign key fk\_priceGrids\_priceLinks would be unique because it references a primary key set to not null and auto\_increment. is this wrong? if so what is the proper setup?",learnSQL,Is a MUL foregin key bad?,1.0,https://www.reddit.com/r/learnSQL/comments/b6olb6/is_a_mul_foregin_key_bad/
36,f00sem00se,1553899882,b73vkm,0,1,"I am trying to make it so the user can click a link called ""Create Database"" and the SQL database will be prepared and created for the user to start entering in fields.

&amp;#x200B;

I am looking at the create.php page and notice it references something called init.sql.  

&amp;#x200B;

How can I create this file using MySQL workbench?  I have something created which I will post below but do not know if that belongs in the init.sql file.  Can someone please help explain to me what I need to do?

&amp;#x200B;

\-- MySQL Script generated by MySQL Workbench

\-- Fri 29 Mar 2019 12:28:20 PM HST

\-- Model: New Model    Version: 1.0

\-- MySQL Workbench Forward Engineering

&amp;#x200B;

SET @OLD\_UNIQUE\_CHECKS=@@UNIQUE\_CHECKS, UNIQUE\_CHECKS=0;

SET @OLD\_FOREIGN\_KEY\_CHECKS=@@FOREIGN\_KEY\_CHECKS, FOREIGN\_KEY\_CHECKS=0;

SET @OLD\_SQL\_MODE=@@SQL\_MODE, SQL\_MODE='TRADITIONAL,ALLOW\_INVALID\_DATES';

&amp;#x200B;

\-- -----------------------------------------------------

\-- Schema mydb

\-- -----------------------------------------------------

&amp;#x200B;

\-- -----------------------------------------------------

\-- Schema mydb

\-- -----------------------------------------------------

CREATE SCHEMA IF NOT EXISTS \`mydb\` DEFAULT CHARACTER SET utf8 ;

USE \`mydb\` ;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`student\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`student\` (

\`idStudent\` INT NOT NULL AUTO\_INCREMENT,

\`firstName\` VARCHAR(45) NULL,

\`lastName\` VARCHAR(45) NULL,

\`address\` VARCHAR(45) NULL,

\`phone\` VARCHAR(45) NULL,

\`studentEmail\` VARCHAR(45) NULL,

\`personalEmail\` VARCHAR(45) NULL,

\`interest\` VARCHAR(45) NULL,

\`active\` TINYINT(1) NULL,

\`program\` VARCHAR(45) NULL,

\`CA\` BIT(0) NULL,

\`CO\` BIT(0) NULL,

\`AS\` BIT(0) NULL,

PRIMARY KEY (\`idStudent\`),

UNIQUE INDEX \`idStudent\_UNIQUE\` (\`idStudent\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`Notes\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`Notes\` (

\`idNotes\` INT NOT NULL AUTO\_INCREMENT,

\`idStudent\` INT NULL,

PRIMARY KEY (\`idNotes\`),

UNIQUE INDEX \`idNotes\_UNIQUE\` (\`idNotes\` ASC),

UNIQUE INDEX \`idStudent\_UNIQUE\` (\`idStudent\` ASC),

CONSTRAINT \`idStudent\`

FOREIGN KEY (\`idStudent\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`jobs\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`jobs\` (

\`idjobs\` INT UNSIGNED NOT NULL,

\`idStudent\` INT NULL,

\`jobActive\` TINYINT(1) NULL,

PRIMARY KEY (\`idjobs\`),

UNIQUE INDEX \`idStudent\_UNIQUE\` (\`idStudent\` ASC),

CONSTRAINT \`idStudent\`

FOREIGN KEY (\`idStudent\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`graduated\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`graduated\` (

\`idgraduated\` TINYINT(1) NOT NULL,

\`idStudent\` INT NOT NULL,

PRIMARY KEY (\`idStudent\`),

CONSTRAINT \`idStudent\`

FOREIGN KEY (\`idStudent\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`internship\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`internship\` (

\`idinternship\` INT UNSIGNED NOT NULL,

\`idStudent\` INT NULL,

\`internshipCompany\` VARCHAR(45) NULL,

\`internshipSemester\` VARCHAR(45) NULL,

PRIMARY KEY (\`idinternship\`),

INDEX \`idStudent\_idx\` (\`idStudent\` ASC),

CONSTRAINT \`idStudent\`

FOREIGN KEY (\`idStudent\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`courseSubstitutions\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`courseSubstitutions\` (

\`idcourseSubstitutions\` INT UNSIGNED NOT NULL,

\`courseSubstitutionsClass\` VARCHAR(45) NULL,

\`idStudent\` INT NULL,

PRIMARY KEY (\`idcourseSubstitutions\`),

INDEX \`idStudent\_idx\` (\`idStudent\` ASC),

CONSTRAINT \`idStudent\`

FOREIGN KEY (\`idStudent\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`ics101\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`ics101\` (

\`idics101\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idics101\`),

UNIQUE INDEX \`idics101\_UNIQUE\` (\`idics101\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its103\`

   \-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its103\` (

\`idits103\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idits103\`),

UNIQUE INDEX \`idits103\_UNIQUE\` (\`idits103\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its104\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its104\` (

\`idits104\` INT UNSIGNED NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idits104\`),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE NO ACTION

ON UPDATE NO ACTION)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`acc201\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`acc201\` (

\`idacc201\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idacc201\`),

UNIQUE INDEX \`idacc201\_UNIQUE\` (\`idacc201\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`idacc201\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE NO ACTION

ON UPDATE NO ACTION,

CONSTRAINT \`lastName\`

FOREIGN KEY ()

REFERENCES \`mydb\`.\`student\` ()

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`eng102\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`eng102\` (

\`ideng102\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`ideng102\`),

UNIQUE INDEX \`ideng102\_UNIQUE\` (\`ideng102\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its108\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its108\` (

\`idits108\` INT UNSIGNED NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idits108\`),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its118\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its118\` (

\`idits118\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

\`its118col\` VARCHAR(45) NULL,

PRIMARY KEY (\`idits118\`),

UNIQUE INDEX \`idits118\_UNIQUE\` (\`idits118\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its121\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its121\` (

\`idits121\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idits121\`),

UNIQUE INDEX \`idits121\_UNIQUE\` (\`idits121\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`eng100\`

   \-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`eng100\` (

\`ideng100\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`ideng100\`),

UNIQUE INDEX \`ideng100\_UNIQUE\` (\`ideng100\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`math100\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`math100\` (

\`idmath100\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idmath100\`),

UNIQUE INDEX \`idmath100\_UNIQUE\` (\`idmath100\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its129\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its129\` (

\`idits129\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idits129\`),

UNIQUE INDEX \`idits129\_UNIQUE\` (\`idits129\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its215\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its215\` (

\`idits215\` INT UNSIGNED NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idits215\`))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its218\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its218\` (

\`idits218\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idits218\`),

UNIQUE INDEX \`idits218\_UNIQUE\` (\`idits218\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`spco151\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`spco151\` (

\`idspco151\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

PRIMARY KEY (\`idspco151\`),

UNIQUE INDEX \`idspco151\_UNIQUE\` (\`idspco151\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its124\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its124\` (

\`idits124\` INT NOT NULL AUTO\_INCREMENT,

\`studentID\` INT NULL,

\`its124col\` VARCHAR(45) NULL,

PRIMARY KEY (\`idits124\`),

UNIQUE INDEX \`idits124\_UNIQUE\` (\`idits124\` ASC),

INDEX \`studentID\_idx\` (\`studentID\` ASC),

CONSTRAINT \`studentID\`

FOREIGN KEY (\`studentID\`)

REFERENCES \`mydb\`.\`student\` (\`idStudent\`)

ON DELETE CASCADE

ON UPDATE CASCADE)

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its221\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its221\` (

\`idits221\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idits221\`),

UNIQUE INDEX \`idits221\_UNIQUE\` (\`idits221\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its287\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its287\` (

\`idits287\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idits287\`),

UNIQUE INDEX \`idits287\_UNIQUE\` (\`idits287\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`its288\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`its288\` (

\`idits288\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idits288\`),

UNIQUE INDEX \`idits288\_UNIQUE\` (\`idits288\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`ics281\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`ics281\` (

\`idics281\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idics281\`),

UNIQUE INDEX \`idics281\_UNIQUE\` (\`idics281\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`ics282\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`ics282\` (

\`idics282\` INT NOT NULL AUTO\_INCREMENT,

PRIMARY KEY (\`idics282\`),

UNIQUE INDEX \`idics282\_UNIQUE\` (\`idics282\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

\-- -----------------------------------------------------

\-- Table \`mydb\`.\`Program\`

\-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS \`mydb\`.\`Program\` (

\`idProgram\` INT NOT NULL AUTO\_INCREMENT,

\`year\` YEAR NULL,

PRIMARY KEY (\`idProgram\`),

UNIQUE INDEX \`idProgram\_UNIQUE\` (\`idProgram\` ASC))

ENGINE = InnoDB;

&amp;#x200B;

&amp;#x200B;

SET SQL\_MODE=@OLD\_SQL\_MODE;

SET FOREIGN\_KEY\_CHECKS=@OLD\_FOREIGN\_KEY\_CHECKS;

SET UNIQUE\_CHECKS=@OLD\_UNIQUE\_CHECKS;

&amp;#x200B;",learnSQL,Creating SQL Database from FrontEnd?,1.0,https://www.reddit.com/r/learnSQL/comments/b73vkm/creating_sql_database_from_frontend/
37,Vidyakant,1553930397,b78fyu,1,3, ,learnSQL,Performance Tuning :- Find Most Expensive Queries in SQL Server Using DMV,1.0,https://tutorialspoint4all.com/performance-tuning-find-most-expensive-queries-in-sql-server-using-dmv/
38,babbagack,1553959530,b7cgk0,2,5,"Here is the book,

https://www.amazon.com/Practical-SQL-Beginners-Guide-Storytelling/dp/1593278276/ref=sr_1_8?keywords=sql&amp;qid=1553959443&amp;s=gateway&amp;sr=8-8

I've done a relatively smaller book online too, gotten through topics like functions, primary and foreign keys and table joins.  any recommendations are appreciated",learnSQL,"anyone try ""Practical SQL"" text? Also, is there a wiki or recommended resources for this subreddit?",1.0,https://www.reddit.com/r/learnSQL/comments/b7cgk0/anyone_try_practical_sql_text_also_is_there_a/
39,Freshoutofbands,1553995835,b7ih7n,10,11,"I’m a 2nd year student studying business information systems and minoring in computer science. I was recommended my business professors and computer science professors to look into learning SQL. I just wanted to know if y’all have any books, or websites you recommend to start learning. Thanks in advance!",learnSQL,What books/websites do you recommend for a beginner in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/b7ih7n/what_bookswebsites_do_you_recommend_for_a/
40,Vidyakant,1554121998,b81r0s,0,5, ,learnSQL,Capture TRUNCATE and DELETE events in SQL Server,1.0,https://tutorialspoint4all.com/capture-truncate-and-delete-events-in-sql-server/
41,LOLdragon89,1554232734,b8nlrg,7,3,"For several months I've done more and more work with spreadsheets applications (Excel, Google Sheets, Libre Calc, etc.) and SQL keeps coming up as something I should probably use, but I find using it difficult for the following reasons:

* SQL is not a single stand-alone application (is it?) like Microsoft Excel, so there's no clear place to just download it and try it out like with a new web browser or video player or other piece of conventional consumer-grade software (which I admit I'm mostly used to)
* SQL seems to expect that I not only have a computer at my disposal but an entire server, complete with a giant dataset (I'm assuming somewhere between tens of thousands to millions of datapoints) to work with ... which I don't always have

A lot of the projects I've been handling in my day-to-day work, however, involve:

* Rapidly developing charts and graphics based on data sets
* Extracting specific columns of information from a variety of data sets that don't always have the same headers or tabulation
* Generally untangling ""messy"" datasets

Is SQL the proper tool to address the three bullet points above, or am I barking up the wrong tree? If I'm not up the wrong tree, where can I ""get"" SQL or software related to it? I've hunted around on Microsoft's website for this mysterious Microsoft SQL Server thing (is it a software application?) but couldn't find a clear download link anywhere. :(

**If I'm completely in the wrong place, would someone be so kind as to point me in the proper direction?** Thank you. :)",learnSQL,Is SQL right for my uses?,1.0,https://www.reddit.com/r/learnSQL/comments/b8nlrg/is_sql_right_for_my_uses/
42,Vidyakant,1554273972,b8uk4r,0,2, ,learnSQL,How To Convert STRING To INT In SQL SERVER,1.0,https://tutorialspoint4all.com/how-to-convert-string-to-int-in-sql-server/
43,KingOfKings132465,1554293635,b8x64t,7,13,"Hello,

New to this subreddit. I'm trying to learn SQL by myself in order to land a better job. So far, is going really slow trying to work with online tutorials. I understand the code easily, the problem lies in writing it.

Any insights on what would be the best approach to learn it in a interactive way?

Many thanks",learnSQL,Learning SQL by yourself,1.0,https://www.reddit.com/r/learnSQL/comments/b8x64t/learning_sql_by_yourself/
44,MoNeenja31,1554307004,b8zri9,8,1,"So I've created a function to determine the existence of a zip code in a table. I have a table called ""ZIPCODE"" and a columun called ""ZIP"".  For this function, I want it to return a boolean value of true or false whether the zip code exists or not. However, I get this error:

&amp;#x200B;

PLS-00103: Encountered the symbol ""13501"" when expecting one of the following:     ( begin case declare exit for goto if loop mod null pragma    raise return select update while with &lt;an identifier&gt;

&amp;#x200B;

So the issue occurs after a input a zip. This is my code so far below:

&amp;#x200B;

CREATE OR REPLACE FUNCTION zip\_existence

RETURN number IS

&amp;#x200B;

/\*

CURSOR current\_zip IS

SELECT ZIP

FROM ZIPCODE;

\*/

&amp;#x200B;

bool number (2) := 0;

&amp;#x200B;

BEGIN

&amp;zip\_input;

FOR record\_current\_zip IN current\_zip LOOP

IF record\_current\_zip = zip\_input THEN

bool := 0;

DBMS\_OUTPUT.PUT\_LINE('Zipcode in use!');

IF record\_current\_zip != zip\_input  THEN

bool := 1;

DBMS.OUTPUT.PUT\_LINE('Zipcode not in use');

END IF;

END IF;

RETURN boolean;

END loop;

END;

&amp;#x200B;",learnSQL,[PL/SQL] Issues with validating the existence of a zip code,1.0,https://www.reddit.com/r/learnSQL/comments/b8zri9/plsql_issues_with_validating_the_existence_of_a/
45,punkmuppet,1554328132,b947y0,6,2,"I'm trying to create an application to track some books, I want the user to be able to add a book by filling in a form, with various fields, the relevant ones being Author, and Book Title. These are in separate tables with their own Ids.

I've created an associative table to add multiple books to individual authors. I want to know how to create the associative table automatically using sql. I think I need to look up the Id of the entered Author and store it somehow, then get the Id of the new book, then add them to the Associative table?

Although I get the theory I am far from being able to get this myself and I would appreciate it if someone could give me an example of how this can be done.

",learnSQL,Help creating a complicated sql query/command,1.0,https://www.reddit.com/r/learnSQL/comments/b947y0/help_creating_a_complicated_sql_querycommand/
46,YZYog,1554357351,b98y2f,9,6,"I am wondering how can I prepare for this position? I feel like my weakest part would be optimizing through database performance monitoring as I have never done that before.

My responsibilities are:

Writing performance SQL queries based on provided business logic

Ensure the integrity and cleanliness of data in the live environments by analysis and correction

Development of stored procedures, tables, indexes, functions and views to enhance our products

Work closely with the product management team and other developers to provide insight into complex data sets

Locate process improvement and optimization opportunities which can be found through database performance monitoring
",learnSQL,First Entry Job,1.0,https://www.reddit.com/r/learnSQL/comments/b98y2f/first_entry_job/
47,ritesh1928,1554374126,b9b2xd,0,1,[removed],learnSQL,Top SQL Interview Questions and Answers,1.0,https://www.reddit.com/r/learnSQL/comments/b9b2xd/top_sql_interview_questions_and_answers/
48,skinandearth,1554408148,b9hlu1,0,1,"I’m dumb and don’t pay attention in class, but now I’m facing the consequences. I’m doing my homework and once i put my code in sql and put GO idk where my code goes. How can i look back and edit it? Is editing it in the browse and structure tabs the same? My assignment also says “submit all create table/insert statements”

Does that mean i export the text ?

Pls halp",learnSQL,How do you edit your SQL text in phpmyadmin?,1.0,https://www.reddit.com/r/learnSQL/comments/b9hlu1/how_do_you_edit_your_sql_text_in_phpmyadmin/
50,danielmajors,1554441281,b9n5py,13,2,"I'm having trouble with the GROUP BY clause in 2 homework problems. I feel they both make sense but don't get where I went wrong:

SELECT cl.CountryCode, 
co.Name AS Country,
ci.District AS District
FROM city AS ci
JOIN country AS co
JOIN countrylanguage AS cl
ON	ci.CountryCode = co.Code
AND cl.countrycode = co.Code
WHERE cl.language = 'Spanish'
AND cl.IsOfficial = 'T'
GROUP BY city.District
ORDER BY Country, ci.District;


SELECT  co.Name AS Country,
cl.Language AS 'Language'
FROM city AS ci
JOIN country AS co
JOIN countrylanguage AS cl
ON	ci.CountryCode = co.Code
AND cl.countrycode = co.Code
GROUP BY co.name
HAVING ((Count(countrylanguage.Language) &gt; 1);

Any guidance is much appreciated. 
",learnSQL,Need Help with GROUP BY clause,1.0,https://www.reddit.com/r/learnSQL/comments/b9n5py/need_help_with_group_by_clause/
51,Vidyakant,1554449873,b9o8io,0,1, ,learnSQL,Memory Brokers In SQL Server,1.0,https://tutorialspoint4all.com/memory-brokers-in-sql-server/
0,Triteleia,1549404551,anjdup,0,1,"Hi, everyone,

&amp;#x200B;

I'm trying to follow the procedure in this post [https://stackoverflow.com/questions/43870/how-to-concatenate-strings-of-a-string-field-in-a-postgresql-group-by-query](https://stackoverflow.com/questions/43870/how-to-concatenate-strings-of-a-string-field-in-a-postgresql-group-by-query) where i'll get result shown in fig1 from the results (fig 2)of a recursive query (fig 3).

&amp;#x200B;

The query I'm trying out to concatenate the index columns is in fig 4. It runs without an error, but it doesn't concatenate only giving the result shown below fig 4. Related may be the master table, which is a view and the sql for its creation is in fig 5. I've tried different selections on the top line of the concatenation query instead of [h.id](https://h.id) and h.index, like [t.id](https://t.id) and t.index or [adj.id](https://adj.id) and many combinations, and when I type in certain ones or try to use sid, I get this error:

&amp;#x200B;

 ERROR:  column reference ""sid"" is ambiguous LINE 1: select h.sid, string\_agg(h.index::varchar,', ')from (select ... 

&amp;#x200B;

Thank you, sorry for all the figures. Also thanks to all in this and similar subs, especially /u/mage2k and /u/boy_named_su for help with the query in fig 3.

&amp;#x200B;

&amp;#x200B;

Fig 1 (desired results)

&amp;#x200B;

|   id       | index   |     loc  |  meristem\_name |

 \------------+-----------+-----------------+---------------------------

|220973 |2, 6241 | ARG-M03 |   OMU-12-5698-B  |

&amp;#x200B;

&amp;#x200B;

Fig 2 (recursive query results)

&amp;#x200B;

   id         |       sid     | index   |   loc   |  meristem\_name|

\-------------+-------------+-----------+----------------+--------------------------

  220973 | 006560  |      2      |    S-19-1    | OMU-12-5698-B   |

\-------------+-------------+-----------+----------------+-------------------------- 

  220973 | 006273  |   6241  |    S-19-2    | OMU-12-5698-B   |

&amp;#x200B;

Fig 3 (recursive query)

&amp;#x200B;

select \* from (with recursive expr1 as (

select

id, sid || '|' || id as path, sid

from adj r1

where

not exists (select id from adj r2 where r2.id=r1.sid)

union all

select

[current.id](https://current.id) as id,

previous.path || '|' || [current.id](https://current.id) as path,

current.sid as sid

from adj current

join expr1 as previous on current.sid = [previous.id](https://previous.id)

)

select, path, id, sid

from expr1

where id='220973'

order by path

&amp;#x200B;

&amp;#x200B;

Fig 4 (concatenation query)

&amp;#x200B;

select h.path, string\_agg(h.index::varchar,', ')from (select \* from (with recursive expr1 as (

select

id,

sid || '|' || id as path,

sid

from adj r1

where

not exists (select id from adj r2 where r2.id=r1.sid)

union all

select

[current.id](https://current.id) as id,

previous.path || '|' || [current.id](https://current.id) as path,

current.sid as sid

from adj current

join expr1 as previous on current.sid = [previous.id](https://previous.id)

)

select 

  path,

id,

sid

from expr1

where id='220973'

order by

  path)t

  join master mm on mm.id=t.sid) as h

  group by h.path

&amp;#x200B;

Fig 5  ('master' table view)

&amp;#x200B;

create view master as with basetable as (select [a.id](https://a.id),a.sid,v.varname as variety,

a.gryr as year,l.coord as loc,c.tru as meristem\_name,i.iid as index,

c.cloname as clone

FROM adj a

	left join var v on v.varid=a.varid

	left join clone c on c.clonid=a.clonid

	left join inx i on [i.id=a.id](https://i.id=a.id)

	left join loc l on l.locid=a.locid)

select bt.\*  

from basetable bt

&amp;#x200B;

&amp;#x200B;",learnSQL,Help with Concatenation Query,1.0,https://www.reddit.com/r/learnSQL/comments/anjdup/help_with_concatenation_query/
1,levelworm,1549512845,anzsng,3,1,"Hi experts,

I'm wondering if there is a list of common business problems that data/business analysts always run into AND are non-trivial. It's difficult to define non-trivial but let's exclude anything that can be dealt with a simple `SELECT` with maybe an aggregate function, a `WHERE` and a `GROUP BY` clause. Simple joins can also be excluded.

Here is what from top of my head. Note that I was given access to the db for only a few weeks and I never used SQL before that, so my *non-trivial* examples could be quite trivial for you.

1. **Grab all users registered in a certain month, and track their activity X days after registration.**

This is actually one of the key KPIs we track. Basically we need to grab all new users for say 2019-Jan and then track each of for X days, and then aggregate the revenues/logins/etc.

2. **Put all new users of month Y into buckets.**

Say you want to divide all users into ""Active"", ""In Risk"" and ""Lost"". How you define these buckets is important as the difficulty of queries change with those.

For a big database without a first\_join\_time column for each user, it is also challenging to define ""new"" users. If I define it as whoever has some activity in month Y but 0 before that, I might need to query years of data to check if the user is ""new"". I'd use business sense to limit the time frame of the query (say only check for 3 months) but I'm not sure if it's the best idea.

**Note**

I figured that sometime it's easier to use a simple query to get myself a dump, and then import the dump into Power BI for more complex analysis.

&amp;#x200B;

What's your user cases? I'm pretty sure there are more complex ones but I only have very limited experience with SQL and our databases.",learnSQL,A selection of non-trivial common queries used in business world,1.0,https://www.reddit.com/r/learnSQL/comments/anzsng/a_selection_of_nontrivial_common_queries_used_in/
2,IDELTA86I,1549519603,ao0q8y,10,1,"I have a query that needs to pick only one matching record based on rank, however some of the data does not contain unique records, and i am getting multiple ranks equaling 1. Is there an additional method to only use one of each row when duplicates occur? Example code below:

    CREATE Table #Reddit(
    ID INT IDENTITY(1,1) PRIMARY KEY,
    REDDIT_KEY INT,
    REDDIT_USER VARCHAR(MAX),
    KARMA INT);
    
    INSERT INTO #Reddit VALUES
    
    (1, 'USER1', 3000),
    (2, 'USER2', 3000),
    (3, 'USER3', 3000),
    (3, 'USER3', 3000),
    (3, 'USER3', 3000),
    (4, 'USER4', 3000),
    (5, 'USER5', 3000)
    
    SELECT * INTO #REDDIT2 FROM(
    
    SELECT DENSE_RANK() OVER(PARTITION BY REDDIT_KEY ORDER BY REDDIT_USER DESC) AS RANK,
    REDDIT_KEY, REDDIT_USER, KARMA FROM #Reddit) A
    
    SELECT * FROM #REDDIT2

results from code:

&amp;#x200B;

|RANK|REDDIT\_KEY|REDDIT\_USER|KARMA|
|:-|:-|:-|:-|
|1|1|USER1|3000|
|1|2|USER2|4000|
|1|3|USER3|5000|
|1|3|USER3|5000|
|1|3|USER3|5000|
|1|4|USER4|6000|
|1|5|USER5|7000|

&amp;#x200B;

Desired Result:

&amp;#x200B;

&amp;#x200B;

|RANK|REDDIT\_KEY|REDDIT\_USER|KARMA|
|:-|:-|:-|:-|
|1|1|USER1|3000|
|1|2|USER2|4000|
|1|3|USER3|5000|
|1|4|USER4|6000|
|1|5|USER5|7000|

&amp;#x200B;

Many thanks in advance",learnSQL,Isolate one row when Dense_Rank duplicates Rank 1,1.0,https://www.reddit.com/r/learnSQL/comments/ao0q8y/isolate_one_row_when_dense_rank_duplicates_rank_1/
3,levelworm,1549689677,aopd7u,2,1,"Hi experts,

I'm using the \[AdventureWorks2017\].\[Sales\].\[SalesOrderHeader\] from the AdventureWorks database. I only need two columns from it: CustomerID and OrderDate.

The structure of the table is that each CustomerID may have multiple orders, and each order has an OrderDate.

What I want to do is to list all orders from customers who have the largest count of orders. I do get the query but I feel that it's overly complicated and maybe I can remove one layer of sub query.

    SELECT
        S1.CustomerID,
        S1.OrderDate
    FROM [AdventureWorks2017].[Sales].[SalesOrderHeader] AS S1
        --Use an inner join to choose CustomerID in the sub query
        INNER JOIN
        	(
            	SELECT
            		S2.CustomerID,
            		COUNT(S2.OrderDate) AS CountSales
            	FROM [AdventureWorks2017].[Sales].[SalesOrderHeader] AS S2
            	GROUP BY S2.CustomerID
                    --Choose CustomerID ONLY if they match maximum number of order counts
            	HAVING COUNT(S2.OrderDate) =
            	(
            		SELECT
            			MAX(S4.[Count of Sales])
            		FROM
            			(
                                        --Grab CustomerID list with Count of Sales
                			    SELECT
                				S3.CustomerID,
                				COUNT(S3.OrderDate) AS 'Count of Sales'
                			    FROM [AdventureWorks2017].[Sales].[SalesOrderHeader] AS S3
                			    GROUP BY S3.CustomerID
            			) AS S4
            	)
        	) AS S5 ON S5.CustomerID = S1.CustomerID

From inside:

1. gives a distinct list of CustomerID and their Count of Sales;

2.  grabs the maximum value

3.  re-scan the whole table to obtain a distinct list of CustomerID who has maximum value of Order Count

4.  And finally using an Inner Join to show the orders

&amp;#x200B;

I'm not sure about the physical plan but if looking at the query, step 1, 3 and 4 all query the full table, which I think can be optimized. Can you please share your thoughts? Thanks in advance!",learnSQL,Ways to simplify a query,1.0,https://www.reddit.com/r/learnSQL/comments/aopd7u/ways_to_simplify_a_query/
4,BikeGuzunova,1549903426,api3k4,0,1,"[Build Responsive Website Using HTML5, CSS3, JS And Bootstrap](https://twitter.com/backe_f/status/1093859666872852480)",learnSQL,"Special Offer Build Responsive Website Using HTML5, CSS3, JS And Bootstrap save 88% off",1.0,https://www.reddit.com/r/learnSQL/comments/api3k4/special_offer_build_responsive_website_using/
5,BikeGuzunova,1549904083,api7ra,0,1,"[Build Responsive Website Using HTML5, CSS3, JS And Bootstrap](https://twitter.com/backe_f/status/1093859666872852480)",learnSQL,"Special Offer Build Responsive Website Using HTML5, CSS3, JS And Bootstrap save 88% off",1.0,https://www.reddit.com/r/learnSQL/comments/api7ra/special_offer_build_responsive_website_using/
6,karinamarochkina,1549986536,apunnl,0,1, ,learnSQL,"Special Offer Build Responsive Website Using HTML5, CSS3, JS And Bootstrap save 88% off",1.0,https://twitter.com/backe_f/status/1095321050835898368
7,Mr_AQ,1550101586,aqd9cd,14,1,"A colleague of mine has sent me a snippet of SQL. I know about the `SELECT`, `COUNT`, `WHERE`, and `AS` keywords of SQL; but I am not clear about the second `Select` word (line 2) in parentheses after the `SELECT` in line 1. Also please tell me what the dot notation (`RQ.SBD`) and comma notation (`RQ,SBD`) mean in the line after the four vertical dots.

    SELECT
    (Select count * from SBD where SBDType='SBD' and IsActive=1  and CustomerID=31 and [State]=4) as ModeAgent,
    :
    :
    (Select count(Distinct RQ.SBD) from Requests RQ,SBD where RQ.IsAgent=0 and SBD.SBDType='SBD' and SBD.IsActive=1 and SBD.ID=RQ.SBD and SBD.CustomerID=31 and DATEDIFF ( minute , [Date] , GETUTCDATE() )&lt;=1440) as WithIssues 
    FROM SBDCustomers where  SBDCustomersID=31

NOTE: The four vertical dots represent some lines that I have omitted here.",learnSQL,Can someone please explain this SQL snippet?,1.0,https://www.reddit.com/r/learnSQL/comments/aqd9cd/can_someone_please_explain_this_sql_snippet/
8,Vidyakant,1550130216,aqhd8i,2,1, ,learnSQL,Easiest way to find or Identify Blocking Queries in SQL Server,1.0,https://tutorialspoint4all.com/easiest-way-to-find-or-identify-blocking-queries-in-sql-server/
9,yashica_,1550170396,aqn59j,3,1," http://intellipaat-youtube.clickable.cards/card/9DPefU""",learnSQL,"In this Introduction to database video you will understand what is a database, what are the various types of database architecture and also introduction to SQL in brief. Must Watch",1.0,https://www.reddit.com/r/learnSQL/comments/aqn59j/in_this_introduction_to_database_video_you_will/
10,Mr_AQ,1550234128,aqw4sy,10,1,"I have read some posts about getting started with learning SQL and related things, in which people usually recommend installing and *configuring* Microsoft SQL Server Management Studio Express edition along with SQL Server (Developer edition) to practice at home. Is it possible to practice on SQLite instead of on SSMS? What would I be missing, if I do so? I want to do so because SQLite is easier (and smaller?) to install and configure.",learnSQL,SQLite for learning &amp; practicing Databases/SQL at home?,1.0,https://www.reddit.com/r/learnSQL/comments/aqw4sy/sqlite_for_learning_practicing_databasessql_at/
11,Vidyakant,1550299527,ar6aoo,1,2, ,learnSQL,Identifying Lead blocker With Blocking Chain in SQL Server,1.0,https://tutorialspoint4all.com/identifying-lead-blocker-with-blocking-chain-in-sql-server/
12,bitsofshit,1550353270,ardeic,0,2,"How do I make the following change consistent? Is there a script functionality for sqlite? (Sorry, newcomer)

[https://www.sqlite.org/undoredo.html](https://www.sqlite.org/undoredo.html)

Are there any other ways to perform this feature w/o triggers?

&amp;#x200B;",learnSQL,Undoing changes in sqlite3,1.0,https://www.reddit.com/r/learnSQL/comments/ardeic/undoing_changes_in_sqlite3/
13,levelworm,1550354230,ardk2n,5,7,"Hi experts,

I have a computational-heavy query and need to simplify or find another way to do it.

Basically I'm looking into all members who login-ed in 2018-10, and track their activities in previous 100 days. The problem is  each row may have different ""first Oct login date"" so the query is going very slow.

Here is the code:

(For member\_login db, it has two columns of interest, one is `email` which contains member email info, and the other is `login_time` which records the datetime of each login event)

    DECLARE @date_begin date = '2018-10-01';
    DECLARE @date_end date = '2019-10-31';
    
    DECLARE @active_threshold int = -100	--Considered as new member if no login in previous 100 days
    
    WITH 
    member_to_investigate AS
    (
    	SELECT
    		l.email,
    		MIN(l.login_time) AS first_login
    	FROM member_login AS l
    	WHERE l.login_time BETWEEN @date_begin AND @date_end
    	GROUP BY l.email
    )
    SELECT
    	mti.email,
    	mti.first_login,
    	DATEADD(day, @active_threshold, mti.first_login) AS check_begin,
    	DATEADD(day, -1, mti.first_login) AS check_end
            (
                SELECT
                    COUNT(l.login_time)
                FROM member_login AS l
                WHERE l.member_login BETWEEN
                    DATEADD(day, @active_threshold, mti.first_login)
                    AND
                    DATEADD(day, -1, mti.first_login) AS check_end
                    AND
                    l.email = mti.email
            ) AS check_count  
    FROM
        member_to_investigate AS mti

The query in `WITH` alone will return about 80+ million records.

I think the scalar sub-query is causing the problem (I think `l.email =` [`mti.email`](https://mti.email) is very slow but I'm not sure), and maybe a JOIN is faster. However I'm not sure how to write a JOIN for this case, as each row has its own `check_begin` and `check_end`.

&amp;#x200B;",learnSQL,Find number of logins in 100 days before first login in 2018-10 for each member,1.0,https://www.reddit.com/r/learnSQL/comments/ardk2n/find_number_of_logins_in_100_days_before_first/
14,Triteleia,1550599109,asd90j,2,2,"I have a main inventory table 

\--------------------------------------------------------

id (inventory ID)  PK

sid (source ID/parent ID, which is last year's id that produced this year's plant identified by this year's id)

varid (variety id tied linking variety table) FK

clonid (linking clone table) FK

locid (linking location table)  FK

gryr (grow year)

&amp;#x200B;

&amp;#x200B;

I have a state government testing table 

\--------------------------------------------------------

id PK

iid (test number id)

&amp;#x200B;

&amp;#x200B;

Location table

\------------------------

locid PK

facid FK

common\_loc\_name

loc\_coordinate

&amp;#x200B;

I query the parent's state test number by left joining with the inventory table on sid and view this year's test number by left joining by id.

&amp;#x200B;

How would I view the location of the parent of a plant? I view this year's location of a plant by left joining the inventory table with location with locid, is there a query using sid that may  link the parent's location a year prior to the locid ?

&amp;#x200B;

The same locations and locid exists across years. For example plant Carmen with id of 5023 can exist on location 52 which  has a coordinate of ARL-001-025 and the next year plant Vixen can be planted in the same plot, the 25th position of the 1st row of Arlow field.

&amp;#x200B;

Thank You for reading.

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;",learnSQL,Query for Last Year's Location,1.0,https://www.reddit.com/r/learnSQL/comments/asd90j/query_for_last_years_location/
15,babbagack,1550604267,ase9ee,2,7,"Hi!

So I’ve done some SQL in a Postgres environment.  Are there significant differences in SQL for a MySQL DB environment.

Also, any good resources for SQL in MySQL is appreciated",learnSQL,Differences for SQL on a MySQL DB and a Postgres SQL? Sources for SQL on MySQL,1.0,https://www.reddit.com/r/learnSQL/comments/ase9ee/differences_for_sql_on_a_mysql_db_and_a_postgres/
16,bitsofshit,1550607696,asewk8,1,1,"Where is the FD in this case?

CREATE ASSERTION student-name
CHECK (NOT EXISTS
(SELECT * FROM students AS s1,
students AS s2
WHERE s1.sid = s2.sid
AND s1.name &lt;&gt; s2.name))",learnSQL,How functional dependencies work,1.0,https://www.reddit.com/r/learnSQL/comments/asewk8/how_functional_dependencies_work/
17,roshanraj956,1550660862,asn3hu,2,0, ,learnSQL,Inner Join SQL | SQL Inner Join Tutorial | Inner Join in SQL | Intellipaat,1.0,https://www.youtube.com/attribution_link?a=m4q2wanqqJ0&amp;u=%2Fwatch%3Fv%3DtEIcjjPycj8%26feature%3Dshare
18,DEM_DRY_BONES,1550728026,aszh3s,2,3,"Hello everyone,

I have been struggling with this for some time.  I apologize if I'm breaking any rules - let me know - I can't find a FAQ and I'm not sure if it's me or the redesign.

I'm trying to basically create a project schedule using SQL.  

&amp;#x200B;

Here's what I have right now:

    Project    |    Resource    |    Average Hours Per Week    |    End Date
    A                Frank                    5                    3/6/2019
    A                Bill                    10                    3/6/2019
    B                Janet                   10                    3/15/2019
    B                Frank                    5                    3/15/2019
    B                Bill                     5                    3/15/2019

I also have a calendar table (not sure if necessary):

    Week Begin     week	year
    2019-01-01	1	2019
    2019-01-06	2	2019
    2019-01-13	3	2019
    2019-01-20	4	2019

&amp;#x200B;

Here's what I would like to end up with (today is 2/20):

    Resource    | Week of 2/18    |   Week of 2/25    |    Week of 3/4    |    Week of 3/11    |  
    Frank             10                   10                10                    5
    Bill              15                   15                15                    5
    Janet             10                   10                10                    10

If there are no other entries in my table, further weeks would show zero hours.

Now, in my mind there are two components:

1. Build the projection of projects/resources/average hours/end date for every week for every project and resouce (struggling with how to do this or if it's possible - thinking it would be a case statement to populate the hours until the date threshold is met?
2. Pivot the date data into columns
   1. I can likely handle this in the reporting platform (Zoho) if step one is done - and I think I could do the SQL anyways, but I can't clear step 1

Any guidance would be very helpful here.",learnSQL,Sum of averages over a timeframe,1.0,https://www.reddit.com/r/learnSQL/comments/aszh3s/sum_of_averages_over_a_timeframe/
19,roshanraj956,1550738815,at0whz,0,0,Watch this video to have a clear understanding of Full Joins. ,learnSQL,Full Join SQL | What is Full Join in SQL | SQL Full Join | Intellipaat,1.0,https://www.reddit.com/r/learnSQL/comments/at0whz/full_join_sql_what_is_full_join_in_sql_sql_full/
20,roshanraj956,1550740898,at15jp,0,3," 

Want to learn all about Full Joins? Click on this video!

https://youtu.be/J2NPKB3O-bo",learnSQL,Full Join SQL | What is Full Join in SQL | SQL Full Join | Intellipaat,1.0,https://www.reddit.com/r/learnSQL/comments/at15jp/full_join_sql_what_is_full_join_in_sql_sql_full/
21,Vidyakant,1550745398,at1p79,0,3, ,learnSQL,"Identify the culprit who dropped or altered tables,procedures or databases in SQL Server",1.0,https://tutorialspoint4all.com/identify-the-culprit-who-dropped-or-altered-tablesprocedures-or-databases-in-sql-server/
22,AshamedAmoeba,1550758383,at3le4,4,8,"I am from a non-technical background. Learnt MS Excel in 2009 by following Mike Girvin's videos that were easy to follow on my laptop (I used to practice the examples shown in his videos on my computer even as the video kept running). Fast forward to 2019, I made decent progress in my career (every office has an excel go-to guy, I'm the one at my place). With my career having stalled and nowhere to go, I am desperate to give it another boost (read, better paying jobs) by learning SQL (VBA and Python). Can anyone please help me with a resource that would help me install SQL on my system and follow the examples as I watch it on video.",learnSQL,Need resource to learn SQL which has this:,1.0,https://www.reddit.com/r/learnSQL/comments/at3le4/need_resource_to_learn_sql_which_has_this/
23,___AJ___,1550792887,ataa5a,3,2,"Hi! I was wondering whether filtering tables before joining would be good practice or not. For example I did the following for an exercise online:

```
select id, mdate, count(*)
from game join (select * from goal where teamid='GER') a on id=matchid
group by id, mdate
```

Would it be better practice to just join the tables and then filter using the 'where' clause? Or would filtering before joining be better? Or does it not make much of a difference
",learnSQL,Filtering Joins Question,1.0,https://www.reddit.com/r/learnSQL/comments/ataa5a/filtering_joins_question/
24,B4rrow,1550873748,atnnad,6,5,"I just got home from a job interview and they asked me to complete a project with a given excel file with 3 columns with ID/Dates/Origin. 
I've already constructed a table in PopSQL but my issue is importing the excel data into my SQL table. I've been watching tutorials on how to do it for the last hour but unfortunately none of them were big helps. 
Does anyone have any advice on how to proceed? ",learnSQL,"New to SQL, got a job interview with a take home project, just have a few questions",1.0,https://www.reddit.com/r/learnSQL/comments/atnnad/new_to_sql_got_a_job_interview_with_a_take_home/
25,yuletide2018,1550942979,atxs4b,0,1,"Hello all!  
Working through the NSS table on SQLZOO - [https://sqlzoo.net/wiki/NSS\_Tutorial](https://sqlzoo.net/wiki/NSS_Tutorial) \-  and I can't get what a number of fields are about and how they are calculated. The fields concerned are A\_NA, CI\_MIN, CI\_MAX, SAMPLE and AGGREGATE.  
Can anyone help me figure them out?  
Thank you!",learnSQL,NSS Table on SQLZOO,1.0,https://www.reddit.com/r/learnSQL/comments/atxs4b/nss_table_on_sqlzoo/
26,monkeysexmonsters,1551125842,auprv8,7,2,"SELECT persons.name, hobbies.name 
FROM persons 
JOIN hobbies 
ON persons.id = hobbies.person_id;

I’m having an issue understanding the reasoning behind one part of the above statement. (it's from an exercise on khan academy called bobbies hobbies) 

What I don’t understand is how I can specify columns from two different tables (hobbies and persons), but then only select from persons? 

",learnSQL,Explicit inner joins syntax,1.0,https://www.reddit.com/r/learnSQL/comments/auprv8/explicit_inner_joins_syntax/
27,Meursaulty,1551151793,auufo3,0,1,"Hey in Postgres was wondering if there was a way to grab a character before a space(Without a subquery or cte), for example with the name ‘John Doe’ I want to grab just the letter n. Been racking my brain trying to think of a way, STRPOS won’t go negative which way the only way I could come up with. ",learnSQL,Extract character after a space,1.0,https://www.reddit.com/r/learnSQL/comments/auufo3/extract_character_after_a_space/
28,Meursaulty,1551153729,auur3m,2,2,"Hey in Postgres was wondering if there was a way to grab a character before a space(Without a subquery or cte), for example with the name ‘John Doe’ I want to grab just the letter n. Been racking my brain trying to think of a way, STRPOS won’t go negative which way the only way I could come up with.  Thanks.",learnSQL,Extract character before a space,1.0,https://www.reddit.com/r/learnSQL/comments/auur3m/extract_character_before_a_space/
29,jmerlinb,1551198689,av1cxd,3,10, ,learnSQL,Most frequently mentioned words in the top 1000 StackOverflow questions tagged #SQL [x-post /r/DataArt],1.0,https://i.imgur.com/LNpu0Tw.png
30,Hope-for-Hops,1551283682,avf37y,5,2,"I didn’t know where else to post this. r/Databasehelp is apparently dead. If this would fit in r/learn programming, let me know.



I’m at a small, understaffed company that’s in the middle of transitioning to a new website. The old one, which currently has no support, produces very unhelpful reports that require a lot of manual data entry and Excel magic to make useable. 

Specifically, the reports do not fetch all of the information I know is available in the DB that we need in the report. Several hours are spent each day tediously searching for the data piecemeal through different pages of the website. Due to a huge surge in business, this process is increasingly unworkable due to the time and effort it requires.

I picked up SQL before I took this job a few months ago and am hoping that I might be able to query it myself to get the info we need for the reports. Unfortunately, I did not go very far with it. My knowledge of servers is limited, so I need to be careful, and I am unsure how to approach our IT company for help.

How would I go about asking our offsite IT company that manages the database for help toward the goal of pulling this additional data?

If some kind of read-only access isn’t feasible, the nature of my work only requires that a portion of the newest records in the DB to be queried; IOW, I don’t need archival records or to have a 100% up-to-date records either.

If what I’m thinking is pie in the sky, what options are not? 

If I need to do further reading, please point me in the right direction if you can. I don’t even know which terms to use, as my searches online have not been fruitful.

Thanks for your help.",learnSQL,How to Request Read-only Access or Copy of DB?,1.0,https://www.reddit.com/r/learnSQL/comments/avf37y/how_to_request_readonly_access_or_copy_of_db/
31,JoshBurnsTech,1551334663,avnrca,1,3, ,learnSQL,SQL Server Indexes – Usage Script (Tutorial),1.0,https://www.youtube.com/watch?v=ekOTr1nrLSA&amp;t=410s
32,bitsofshit,1551386387,avvwcr,3,5,"How does the following stmt go wrong?

&amp;#x200B;

SELECT WINNER FROM nobel\_win WHERE (YEAR= 1970) AND (

SUBJECT  NOT IN 'Physiology' AND SUBJECT  NOT IN  'Economics' )",learnSQL,Correct NOT IN Syntax,1.0,https://www.reddit.com/r/learnSQL/comments/avvwcr/correct_not_in_syntax/
33,iliketacobell,1551447757,aw5140,2,5,"I don't do much with SQL, but I've been tasked at my company to pull a report out of our EMR database. I've pulled everything I need, but I'm going to need to do a lot of manual ""excel work"" to get the rows just right.

The query returns two rows for each resource_ID. The only difference is that there is a table (i.e. resource_phone) that contains a separate row for each resource if it is a fax or phone line.

So I have two rows for each resource_ID with a resource_type of W or F (work phone or fax). Some don't have a fax and vice versa.

I can't figure out a way to create one row that will put a work phone under a column titled (work phone) if it exists, and the same for fax (if it exists).

Is there some sort of SELECT/Boolean/JOIN thing I can do?

Ex. 
RES_BASIC table
RESOURCE_ID|RESOURCE_NAME
:--|:--
345|HospitalA
425|HospitalB
341|HospitalC


RES_PHONE table
RES_ID|PHONE_TYPE|PHONE_NO
:--|:--|:--
345|W|555-123-4567
345|F|555-111-1234
425|W|555-888-8888
341|W|512-456-4564
341|F|111-111-1111",learnSQL,Joining Tables Into One Row,1.0,https://www.reddit.com/r/learnSQL/comments/aw5140/joining_tables_into_one_row/
34,seisvelas,1551471875,aw9a9v,9,10,I'm looking for something really interactive and entertaining. Does such a thing exist for SQL?,learnSQL,Are there any very fun learning resources for SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/aw9a9v/are_there_any_very_fun_learning_resources_for_sql/
35,bitsofshit,1551670075,ax2cvg,3,2,"Using SQLITE, so cannot use having w/o group by, which messes up all my results. Any way to form the query differently or reshape this one?

my query :

```

SELECT *,COUNT(*) AS moved FROM salaries
WHERE (yearID BETWEEN 2011 AND 2016)
AND moved IN 
(SELECT COUNT(playerID) FROM salaries
GROUP BY playerID
HAVING COUNT(playerID) &gt; 1)

```

### Salaries table Schema

```
yearID         Year
teamID         Team
lgID           League
playerID       Player ID code
salary         Salary
```",learnSQL,Find players traded within last 5 years - SQLITE,1.0,https://www.reddit.com/r/learnSQL/comments/ax2cvg/find_players_traded_within_last_5_years_sqlite/
36,Indulgence16,1551728463,axbchp,1,3,"Hi, I'm having some trouble wrapping my head around remaking databases. I have a  book database that includes only one table, where all of the authors data is included after each book. I'm trying to remake this database in order to have an author table and a book table. I made the author table using CREATE TABLE AUTHORS AS
SELECT AUTHOR_NAME,   AUTHOR_SURNAME, AUTHOR_BIRTHDATE. If I now want to remake the book table, how do I add the foreign key so that the author of each book will be the correct one? Sorry if it's confusing",learnSQL,Set value for foreign key,1.0,https://www.reddit.com/r/learnSQL/comments/axbchp/set_value_for_foreign_key/
37,Vidyakant,1551864152,axwxe1,0,2, ,learnSQL,Dirty Pages in SQL Server,1.0,https://tutorialspoint4all.com/what-is-dirty-pages-in-sql-server/
38,JoshBurnsTech,1551881002,axz5p6,2,1,"This video Provides an in-depth installation Step by Step Guide on ""How to Install SQL Server 2019 with Microsoft Configuration Best Practices""

[https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=1094s](https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=1094s)

I provide Expert Level Installation and Configuration Tips, which I have implemented for numerous Clients. On UpWork, I have earned over $400,000 across 75 different Client Jobs and I'm Ranked as the Top Freelancer in the IT and Networking Category as well.

\*\*\*\* Section Times in Video \*\*\*\*

Download SQL Server 2019 [0:30](https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=30s)

Install SQL Server 2019 [2:11](https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=131s)

Download SSMS [13:45](https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=825s)

Install SQL Server Management Studio [14:19](https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=859s)

Configure SQL Server 2019 (Best Practices) [14:52](https://www.youtube.com/watch?v=Aff9jwSPRTU&amp;t=892s)",learnSQL,Install SQL Server 2019 – Step by Step Guide (Best Practices),1.0,https://www.reddit.com/r/learnSQL/comments/axz5p6/install_sql_server_2019_step_by_step_guide_best/
0,1617373776f7264,1546731105,aczo8c,5,1,"Are there any hands on practical resources for learning data engineering with sql (preferably plsql). I'm mostly interested in data cleansing, pipelines, query optimisation, etl error handling in the context of large databases (mostly non-relational)?",learnSQL,Recommended data engineering resources?,1.0,https://www.reddit.com/r/learnSQL/comments/aczo8c/recommended_data_engineering_resources/
1,most_humblest_ever,1546921283,adqhl7,10,1,"SQL noob here. At work I have 4 databases in SQL Server Studio with a few tables that are updated by a variety of different methods (API calls, manual file drops, querying other databases).

I am constantly bumping into issues where the tables are not current. I need to be aware of the last refresh date as well as the last event date. Refresh date will relate to our data engineering processes and event date will relate to customer behavior, depending on the table. If either is off, I will need to take action. 

Is there a clean way to write a script or use some other tool or functionality to get max refresh\_date and max event\_date across a bunch of databases and tables? 

I may also want to compare against a variable, like today's date, and see how ""outdated"" the data is compared to that anchor date. 

I am aware I can write a script per database like this [https://stackoverflow.com/questions/20611310/query-across-multiple-databases-on-same-server](https://stackoverflow.com/questions/20611310/query-across-multiple-databases-on-same-server), but it seems a little wonky. I may have around 20 tables or so that I would like to check. I can break this into smaller queries if needed though. ",learnSQL,"SQL Server - checking data ""freshness""",1.0,https://www.reddit.com/r/learnSQL/comments/adqhl7/sql_server_checking_data_freshness/
2,Knell123,1546930495,adrnvq,3,1,"getting the error message:  

1. Unrecognized data type. (near ""DECMIAL"" at position 505)

&amp;#8203;

    CREATE PROCEDURE spWhatCanIAfford(@budget DECMIAL(19,4))
    AS
    BEGIN
    SELECT service_name, service_price
    FROM services
    WHERE service_price &lt;= @budget
    ORDER BY service_price ASC
    END;
    
    -- executes the procedure
    EXEC spWhatCanIAfford 15.00;

Really confused as to what im doing wrong",learnSQL,"HELP, don't know why I'm getting datatype error",1.0,https://www.reddit.com/r/learnSQL/comments/adrnvq/help_dont_know_why_im_getting_datatype_error/
3,Triteleia,1546964425,advtwh,6,1,"Thanks to efforts from this sub and others like it, I've been able to use the recursive query below in postgresql for \[this\]([https://imgur.com/tZUbWEs](https://imgur.com/tZUbWEs)) table for keeping track of plant propagation that should be split into two (one table as just id and sid and another table called testing for testing information). 

&amp;#x200B;

id is the child id and sid is the source/parent id so that the ancestors could be listed for every plant. ""nn"" is the node name that corresponds to \[this\]([https://imgur.com/0XUKWiG](https://imgur.com/0XUKWiG)) family tree (directed acyclic graph) and the rest would be information on testing for diseases.

&amp;#x200B;

I have it combined into one because selecting the columns that aren't id or sid in the recursive query the way it is below seems to be the only way to keep the rows from doubling in number. 

&amp;#x200B;

If I split the table up with id as the key, how would I query it and still only have 31 rows of information returned?

And anyone know how to have the same outputs for the recursive query if there were no nulls in the first 3 sids?

&amp;#x200B;

Under the query is text of the csv  that can be copied into excel to recreate the data in the image.

&amp;#x200B;

Thank you so much.

&amp;#x200B;

CREATE TABLE jhelp (

 id VARCHAR,

 sid varchar,

 nn integer,

 loc varchar,

 test varchar,

 sampdate varchar,

 tid varchar,

 rez varchar);

COPY public.""jhelp"" from 'C:\\Users\\triteleia\\Desktop\\Main\_5\\Tableau\\joinhelp.csv' delimiter ',' CSV header;

Select \* FROM jhelp;

&amp;#x200B;

 with recursive ancestors as ( 	

select

id,

id as path,

sid,nn,loc,test,sampdate,tid,rez

  	from jhelp

  	where

sid is null

  	union all

  	select

[current.id](https://current.id) as id,

previous.path || '|' || [current.id](https://current.id) as path,

current.sid as sid, current.nn, current.loc, current.test, current.sampdate,current.tid, current.rez

  	from jhelp current

  	join ancestors as previous on current.sid = [previous.id](https://previous.id)

)

select 

path,

id,

sid,nn,loc,test,sampdate,tid,rez

from ancestors

order by nn",learnSQL,Joining Help,1.0,https://www.reddit.com/r/learnSQL/comments/advtwh/joining_help/
4,theiinsilence10,1546981329,adywf5,5,1,"Hi learnSQL,

&amp;#x200B;

I wrote an SQL Query:

&amp;#x200B;

Select \[Table1\].\[ColumnA\_Name\], \[Table1\].\[ColumnB\_ForeignKeyA\], \[Table1\].\[ColumnC\_ForeignKeyB\], Sum(\[Table1\].\[ColumnC\_ColumnToSum\]),  \[Table2\].\[ColumnA\_Name\]

From \[Table1\]

INNER JOIN \[Table2\] ON \[Table1\].\[ColumnB\_ForeignKeyA\] = \[Table2\].\[ColumnB\_ForeignKeyA\] AND \[Table1\].\[ColumnB\_ForeignKeyA\] = \[Table2\].\[ColumnB\_ForeignKeyA\] 

GROUP BY  \[Table1\].\[ColumnA\_Name\]

&amp;#x200B;

Before Joining the Sum(\[Table1\].\[ColumnC\_ColumnToSum\]) provides me the correct answer (matches DB) but after I added the Join and \[Table2.ColumnA\], it is a significantly higher number (than the DB value)

&amp;#x200B;

Does anyone know what I am doing wrong?

&amp;#x200B;",learnSQL,Confusion Joining Tables,1.0,https://www.reddit.com/r/learnSQL/comments/adywf5/confusion_joining_tables/
5,objetpetitaaa,1547188510,aesmxg,5,1,"I would like to return values from column A based on values on column B. I know the list of the values on column B I want to use. The values are in varchar. I think I need to convert them to int in order to use with « where x in (1, 2, 3 ...) » Could you please help me with the query? 

Select column_A from tablename
Where column_B in (1, 2, 3, ...)

The query above didn’t work. ",learnSQL,"Help: Where x in (1, 2, 3...)_varchar to int",1.0,https://www.reddit.com/r/learnSQL/comments/aesmxg/help_where_x_in_1_2_3_varchar_to_int/
6,sqlcommand1,1547317325,afa1sc,1,1," 

# Find Sql injection

You can follow the steps below to find the SQL injection vulnerability.

* To find the sql vulnerability, you must have a dork list.
* You should search on dork with Google.

*How to search sql injection on Google?*

[find Sql injection vulnerabilities](http://sqlcommand.info/how-to-find-sql-injection-vulnerabilities/)",learnSQL,How to find Sql injection vulnerabilities,1.0,https://www.reddit.com/r/learnSQL/comments/afa1sc/how_to_find_sql_injection_vulnerabilities/
7,Vita-Malz,1547401778,aflq65,4,1,"Hello everyone, I'm currently at the end of my ideas. It's supposedly a very simple task, I'm currently studying for my exam. My goal is to find the student with the best grade for each subject. and display their name, the subject and the grade. 

TLDR: The correct (min) grades are displayed, but I only receive the same student for each row (wrong correspondence to grades)

    create table exams(
        examID VARCHAR(3) primary key,
        subject VARCHAR(20),
        teacher VARCHAR(20)
        );
    create table students(
        studentID VARCHAR(6) primary key,
        name VARCHAR(20),
        major VARCHAR(20),
        foreign key(major) references major(major)
        );
    create table examdetails(
        examID VARCHAR(3),
        studentID VARCHAR(6),
        grade DOUBLE,
        primary key(examID, studentID),
        foreign key(examID) references exams(examID),
        foreign key(studentID) references students(studentID) 
        );
    create table major(
        major varchar(20) primary key,
        dept varchar(3),
        foreign key(dept) references department(dept)
        );
    create table department(
        dept varchar(3) primary key,
        dean varchar(20)
        );
        
        
    insert into students 
    values ('22','Hans','economics'), ('33','Peter','economics'), ('44','Klaus','IT'), ('55','Gunther','mathematics');
    insert into examdetails 
    values 
    ('1','22',3.0),
    ('1','33',4.0),
    ('1','44',2.5),
    ('1','55',2.0),
    
    ('2','22',1.0),
    ('2','33',5.0),
    ('2','44',3.5),
    ('2','55',1.5),
    
    ('3','22',4.0),
    ('3','33',4.0),
    ('3','44',3.5),
    ('3','55',2.5),
    
    ('4','22',5.0),
    ('4','33',4.0),
    ('4','44',4.5),
    ('4','55',3.0);

So my endgoal is to display students.name, examdetails.examID and examdetails.grade

&amp;#x200B;

The query I currently have looks like this:  


    select examdetails.examID, min(examdetails.grade) as bestgrade, examdetails.studentID
    from examdetails
    group by examdetails.examID;

I know that I am currently lacking the join, I am also not displaying the students.name column at all right now.

&amp;#x200B;

My problem now is that while the correct grades are displayed per subject (2.0, 1.0, 2.5, 3.0), each row gets student number 22 assigned to it, which it shouldn't. The (incorrect) current results table I get is this:

&amp;#x200B;

|examID|bestgrade|studentID|
|:-|:-|:-|
|1|2.0|22|
|2|1.0|22|
|3|2.5|22|
|4|3.0|22|

&amp;#x200B;

I hope I am getting my point across properly. Thanks in advance for any help.

&amp;#x200B;

*There might be some reference mistakes because I decided to translate column names from German into English for your convenience.*",learnSQL,"Finding the lowest value for each category - wrong students, correct grades?",1.0,https://www.reddit.com/r/learnSQL/comments/aflq65/finding_the_lowest_value_for_each_category_wrong/
8,incubateshovels,1547489565,afyjhe,2,1,"So I have two statements. The first is: *Create Table Student (ID, name, GPA, photo)* and the other is *Create Table College (name string, state char(2), enrollment integer)*. 

How is SQL able to determine what to do with ID, name, GPA and photo? And why do I need to declare name as string in the second one but not the first?",learnSQL,Quick question I had about statements to create tables,1.0,https://www.reddit.com/r/learnSQL/comments/afyjhe/quick_question_i_had_about_statements_to_create/
9,side-acct,1547607199,aggo8s,4,1,"Hey guys,

I'm pretty new to SQL and had some questions:

&amp;#x200B;

&amp;#x200B;

1. If I have a varchar type column with values between 1 and 20 or 'S', would the most efficient query to get row values between 1-5 or S be the following:

&amp;#x200B;

Select \* from my\_table where my\_column = 'S' or my\_column like '1-5';

&amp;#x200B;

&amp;#x200B;

I'm not actually sure how to get the rows where the values are between 1 and 5.

&amp;#x200B;

&amp;#x200B;

2. If my column shows a value like 500,000 and I run a query like Select \* from my\_table where my\_column = 500000, that should work right? In other words, SQL will ignore the comma?

&amp;#x200B;

&amp;#x200B;

Thanks!",learnSQL,Some Basic SQL questions regarding querying and data types,1.0,https://www.reddit.com/r/learnSQL/comments/aggo8s/some_basic_sql_questions_regarding_querying_and/
10,Triteleia,1547751138,ah11oh,0,1,"I placed the data for each table below so it could be copied and pasted for replication.

My problem is that I use the below postgresql query to get an ancestor list for table 1 (id is current year id and sid is the parent id for that plot of plants) and then left join it to table 2 to get other information (pathology test results). Since I always know the source of all plants how do it get the same 31 row output if the parents for that dataset have an sid and I include it? 

&amp;#x200B;

For example if plot 5000 had an sid of 4000 instead of null, 5001 had 4001, and 5013 had 4002. I tried removing the WHERE sid is NULL part, but then the query returns 86 rows. Currently, I leave the ultimate parents without source info in order to run the queries, I'd rather not do so.



&amp;#x200B;

select t.sid,table2.\* from (WITH RECURSIVE ancestors(id,path) AS (

SELECT id

, id::TEXT as path,sid

FROM table1

WHERE sid IS NULL

UNION ALL

SELECT [D.id](https://D.id)

, (DR.path || ',' || [D.id](https://D.id)::TEXT) as path, D.sid

FROM table1 D

JOIN ancestors DR ON [DR.id](https://DR.id) = D.sid

)

SELECT id,path, sid

FROM ancestors)

t

left join table2 on [t.id=table2.id](https://t.id=table2.id)

order by [table2.id](https://table2.id)

&amp;#x200B;

THANK YOU

&amp;#x200B;

\*\*TABLE 1:\*\*

id	sid

5000	\\N

5001	\\N

5013	\\N

5018	5000

5018	5013

5019	5013

5020	5022

5021	5022

5022	5013

5026	5013

5027	5026

5030	5001

5031	5030

5032	5031

5033	5030

5034	5033

5050	5001

5051	5001

5052	5001

5070	5032

5070	5050

5082	5018

5082	5019

5082	5101

5095	5034

5095	5052

5101	5026

5102	5026

5103	5027

5107	5027

&amp;#x200B;

\*\*Table 2:\*\*

&amp;#x200B;

id	nodename	location	tested	testdate	testid	testresult

5000	2	Aruba	yes	10/15/2018	1236	negative

5001	3	Alaska	yes	10/15/2018	1236	negative

5013	1	Argentina	yes	10/15/2018	1236	negative

5018	4	Table 2	yes	10/15/2018	1236	negative

5019	6	Table 2	yes	12/1/2018	1345	negative

5020	12	Table 1	yes	11/20/2018	1345	negative

5021	11	Table 1	yes	11/20/2018	1345	negative

5022	5	Table 1	yes	11/20/2018	1345	negative

5026	7	Room 7	yes	11/20/2018	1345	negative

5027	8	Room 7	yes	11/20/2018	1345	negative

5030	20	Room 9	yes	11/20/2018	1345	negative

5031	21	Room 9	yes	11/20/2018	1345	negative

5032	22	Room 9	yes	11/20/2018	1345	negative

5033	23	Room 9	yes	11/20/2018	1345	negative

5034	24	Room 9	yes	11/20/2018	1345	negative

5050	18	Room 9	yes	9/5/2018	15897	negative

5051	17	Room 9	yes	9/5/2018	15897	negative

5052	16	Room 9	yes	9/5/2018	15897	negative

5070	19	Room 9	yes	9/5/2018	15897	negative

5082	15	House 1	yes	9/5/2018	15897	negative

5095	25	House 1	yes	9/5/2018	15897	pos(RRV)

5101	14	Room 7	yes	9/5/2018	15897	pos(RRV)

5102	13	Room 7	yes	9/5/2018	15897	negative

5103	10	Room 7	yes	9/5/2018	15897	negative

5107	9	Room 7	yes	9/5/2018	15897	negative",learnSQL,Recursive Query Modification,1.0,https://www.reddit.com/r/learnSQL/comments/ah11oh/recursive_query_modification/
11,levelworm,1547789833,ah7a0f,0,1,"Hi experts,

I'm trying to replicate the example shown here:

[https://www.youtube.com/watch?v=OLvX1n7F5nM](https://www.youtube.com/watch?v=OLvX1n7F5nM)

&amp;#x200B;

I found out that if I use RIGHT OUTER JOIN then I get whole rows of NULL values:

    SELECT P.* FROM Production.Product AS P
    RIGHT OUTER JOIN Production.ProductModel AS PM
    	ON P.ProductModelID = PM.ProductModelID
    

This puzzles me, as I know that on the right side, Production.ProductModel contains unique values from 1-128 (actually it's the primary key of this table), and there are no whole NULL value rows on right side, so why does the RIGHT OUTER JOIN gives extra 9 rows of NULL values?",learnSQL,Newbie question on RIGHT JOIN with AdventureWork database,1.0,https://www.reddit.com/r/learnSQL/comments/ah7a0f/newbie_question_on_right_join_with_adventurework/
12,Triteleia,1547830953,ahcir2,0,1, ,learnSQL,Database Design for items that move around in set locations,1.0,https://www.reddit.com/r/Database/comments/ahc2d4/database_design_for_items_that_move_around_in_set/
13,Kingofnofappers,1547927591,ahpj8i,4,1,"So I need to create a view called student_view with the following parameters for two give tables. how do I do this?

There are two tables:

table1: team:
team_id (int)
team_name (alphanumeric)
team_score (int)

table2: school_students
id (int) -&gt; same as team_id
student_id (int)
student_name (alphanum)

need to create a view called team_view which shows pairs of students in same team. every row in the view shows students who are in at least 3 teams together and the team average score is greater than 100

the view should follow below format:
good view (student_id1, student_id2, number_of_collabs, av_team_score)

if pairs of similar students are identical, eg(102,200) and (200,102), the row with pair (102,200) is kept. also, a pair should not have two same ids ex (101,101)

",learnSQL,how to create a view and execute this?,1.0,https://www.reddit.com/r/learnSQL/comments/ahpj8i/how_to_create_a_view_and_execute_this/
14,yuletide2018,1548059666,ai87ct,2,1,"So it is my understanding that any database index is essentially a copy of a fraction of a table, am I correct? A number of copied rows plus a pointer to the corresponding rows in the indexed table. Would that be an oversimplification that is actually wrong or do I capture the main point?",learnSQL,What is a Database Index?,1.0,https://www.reddit.com/r/learnSQL/comments/ai87ct/what_is_a_database_index/
15,Triteleia,1548085713,aibayp,3,1," 

Hi,

I'm planning a postgresql database with a portion shown like the below:

inventory\_table

\-----------------------------

inventory\_id

variety\_id

clone\_id

location\_id

grow\_year

location\_table

\--------------------

location\_id

coordinate

common\_name

In which a location coordinate is composed of 4 groups of 3 digits separated by a dash. For example, in ARG-S02-001-015, ARG is the facility name, ""S02"" is the room, growing field, or greenhouse name, and ""001"" is the 1 of most likely 3 rows of plots in a greenhouse or row of tables, or the row number in a field. Finally ""015"" is the number of plots away from an agreed upon direction within that row, either 15 away from the main entrance of the greenhouse or from the start of the field row. The location\_table would have a location for every possible coordinate even partial coordinates, say a location\_id just for the general coordinate of ARG-S02 instead of the more specific ARG-S02-002-011, since sometimes pots in a greenhouse are so numerous and briefly held there's not reason to have to find and/or differentiate each one past knowing particular ones are somewhere in the house.

If I wanted to write queries that return all the positions in ARG-S02 (house 2 in facility ARG) left joined with information on the inventory table, would I have to split the location coordinate into at least 3 columns every time and select based on the facility and house column?

Or should I enter the coordinate as 4 columns and anytime I wanted the coordinate, I'd use concatenation and when I needed filtering I'd simply use the already existing columns. I want to not have to enter the coordinate twice, but then again this solution seems the simplest.

Or is the structure of that part of the database wrong, should I make tables for the first 2 parts of the coordinate, instead of location\_id more like:

inventory\_table

\--------------------------

inventory\_id

facility\_id

facility\_table

\---------------------

facility\_id

facility\_name (3 digit abbrevation)

house\_id

house table

\------------------------

facility\_id

house\_id

house\_name (3 digit name)

Row and position table

\------------------

PK a combination of facility\_id and house\_id (?) and row-and-position as one unit combination?

But how would I input location information easily? Is there a data structure or query that I'm not thinking of that would better hold this type of location information?

&amp;#x200B;

Thank You.",learnSQL,"Concatenate, Extract/Split_to, or Triggers?",1.0,https://www.reddit.com/r/learnSQL/comments/aibayp/concatenate_extractsplit_to_or_triggers/
16,mattstoicbuddha,1548176339,aiotmj,8,1,"So I have a query that is getting data from several different tables:

journalsjournals\_metauserspermissions

&amp;#x200B;

It gets journals, then we use a left join to get the journals\_meta, then an inner join to get the users data (I honestly don't know if this is 100% the best way to do it, it's just what has worked), and finally use a \`where in (subquery)\` for permissions.

&amp;#x200B;

It almost works beautifully, except for the permissions.  The last bit of the query (I can paste the whole query if somebody needs it) is this:  


`where \`journals\`.\`id\` = 53 and \`journals\`.\`owner\` = 6 or \`journals\`.\`id\` in (select \`journal_id\` from \`permissions\` where \`user_id\` = 6)`  


If I change the \`journal\_id\` bit up there to \`id\`, it pulls the ID of that row in \`permissions\`, and spits out the data accordingly (although it isn't what I need).  If I change it to journal\_id, I get nothing back. If I run that subquery as a query directly in MySQL Workbench, it returns a column of journal\_id's.

&amp;#x200B;

So the question, I guess, is: what am I missing here? Why does \`id\` work, but not \`journal\_id\`? What do I need to change to make it work? I even tried to select journal\_id as id, to no avail.",learnSQL,"Seems so close, yet so far",1.0,https://www.reddit.com/r/learnSQL/comments/aiotmj/seems_so_close_yet_so_far/
17,Triteleia,1548276429,aj4arj,2,1,"Hi, thanks to a response from about logging changes, I created a trigger in the inventory table  to log the old and new location\_id  from a change in the inventory table . Below are what the tables look like. My question is how to represent the trigger and the location\_log table in an ER diagram?

&amp;#x200B;

inventory table

inv\_id|inv\_sid|var\_id|clone\_id|location\_id|md|grow\_yr

&amp;#x200B;

location table

location\_id|location\_name|location\_coord|facility\_id

&amp;#x200B;

location log table

inv\_id|move\_id|new\_location|old\_location|edit\_type|move\_date

&amp;#x200B;

I'm drawing it like \[this\](

    https://imgur.com/5s0OBGm

)  for now. ",learnSQL,ER diagram triggers,1.0,https://www.reddit.com/r/learnSQL/comments/aj4arj/er_diagram_triggers/
18,NChoiryMeyendz,1548363573,ajh3t7,2,1,"I need to understand how to read a report in SQL and identify the database table column of any given parameter.


Im very new at this. I don't have anyone to go to. I can't go through studying this RIGH NOW because I have to deliver this ""cross-walk"" yesterday. So I need you guys to help me Understand how the hell I am reading this test result to get the location of the fields.

first:
The report looks like this (Its text):

--Test parameters
--p_ToDate = 09/5/2016
--p_FromDate = 08/24/2017
--p_RosterType = BBRQ01 (Room Roster), BBQN02 (HoC Roster), BBQN03 (Perns Roster)
--p_FacilityId = 2493250109497285219 (CHEVY CHEZ VI)
--p_FacilityType = FTD001 (Bond Level 2) OR leave blank as NULL
--p_CaseType = RCT17000 (Bonds Infants inclusive) OR leave blank as NULL

WITH parm AS
(
--For PL/SQL
--SELECT (SELECT date_id FROM cares_rpt.time_dim WHERE date_in_year = TO_DATE('&amp;toDate', 'MM/DD/YYYY')) AS p_ToDateId,
--       (SELECT date_id FROM cares_rpt.time_dim WHERE date_in_year = TO_DATE('&amp;fromDate', 'MM/DD/YYYY')) AS p_FromDateId,
--       TO_DATE('&amp;toDate', 'MM/DD/YYYY') AS p_ToDate,
--       TO_DATE('&amp;fromDate', 'MM/DD/YYYY') AS p_FromDate,
--       UPPER('&amp;rosterType') AS p_RosterType,
--       '&amp;facilityId' AS p_FacilityId,
--       UPPER('&amp;facilityTypes') AS p_FacilityType,
--       UPPER('&amp;caseTypes') AS p_CaseType
--  FROM dual
--For iReport
SELECT (SELECT date_id FROM cares_rpt.time_dim WHERE date_in_year = TO_DATE($P{toDate}, 'MM/DD/YYYY')) AS p_ToDateId,
       (SELECT date_id FROM cares_rpt.time_dim WHERE date_in_year = TO_DATE($P{fromDate}, 'MM/DD/YYYY')) AS p_FromDateId,
       TO_DATE($P{toDate}, 'MM/DD/YYYY') p_ToDate,
       TO_DATE($P{fromDate}, 'MM/DD/YYYY') p_FromDate,
       $P{rosterType} p_RosterType,
       $P{facilityTypes} p_FacilityType,
       $P{caseTypes} p_CaseType

I can read this and figure out the field ""address""/""path"" based on select statement structure:
(SELECT date_id FROM cares_rpt.time_dim WHERE date_in_year = TO_DATE('&amp;toDate', 'MM/DD/YYYY')) AS p_ToDateId
I read it as:
SELECT [column] FROM [Database.table] WHERE [column=value] AS [reporting value]

so I mapped them in this way:

Report Element	Column Description   	Database	Table		Column	
	
p_ToDate 				cares_rpt.	time_dim	date_in_year
p_FromDate				cares_rpt.	time_dim	date_in_year

but there are only two of these full statements which reference two of the six values (parameters) in the outermost query. SO I'm guessing that at this level I don't look for the fields associated with those 4 extra parameters. From here down there are joins and so on, so I would need to begin understanding joing and more complex SQL syntax to get through it. Right now I am trying to be as comprehensive as possible about dealing with the low hanging fruit.  

If I'm wrong about my ""hypothesis"" please let me know. Please Clear up any confusion I may have if you can see it based on what I am posting. 
",learnSQL,Field Mapping / Crosswalk for a noob,1.0,https://www.reddit.com/r/learnSQL/comments/ajh3t7/field_mapping_crosswalk_for_a_noob/
19,YZYog,1548523457,ak2umj,1,1,"SELECT DISTINCT Salary AS ""SecondHighestSalary""
        FROM Employee
        ORDER BY Salary DESC
        OFFSET 1 ROWS
        FETCH NEXT 1 ROWS ONLY

How can I get that to return null instead of """" if there is no second highest salary?",learnSQL,How can I get this to return null for this one case?,1.0,https://www.reddit.com/r/learnSQL/comments/ak2umj/how_can_i_get_this_to_return_null_for_this_one/
20,Acid_Monster,1548606484,akdhnm,16,1,"Apologies in advance as this is possible a very stupid question, but what do you do with the outputted results of SQL queries?

I'm just starting out learning SQL and i have a strong background in Excel. But in excel everything is displayed and altered in the application very intuitively for my mind. In SQL i don't quite understand what you are doing with the results of queries you run. And how you manage your environment tidily in the program. 

For a basic example say i pull the top 1000 unique rows of a specific table. The results are shown in the bottom window of SSMS with the query in the top window. Then what? And what do you do with the query after you've used it? As if i keep it there it just re-executes, but if i delete it then its gone forever..

Again sorry if this is a stupid question, i did Google but its hard to find the right question to ask to find the answer.

Thanks in advance",learnSQL,What do you do with the SQL query results?,1.0,https://www.reddit.com/r/learnSQL/comments/akdhnm/what_do_you_do_with_the_sql_query_results/
21,SubmergedSublime,1548793459,al49w7,3,1,"I have a CSV that includes the following form of Data (This is all fake data; homework assignment)

&amp;#x200B;

CustNo,CustFirstName,CustLastName,CustStreet,CustCity,CustState,CustZip,CustBal

C0954327,Sheri,Gordon,336 Hill St.,Littleton,CO,80129-5543,230.00

C1010398,Jim,Glussman,1432 E. Ravenna,Denver,CO,80111-0033,200.00

C8574932,Wally,Jones,411 Webber Ave.,Seattle,WA,98105-1093,""1,500.00""

&amp;#x200B;

I have used the following MYSQL script:

LOAD DATA INFILE 'C:/MBA 6320/Week 1 RDM/Customers.csv'

INTO TABLE customer

FIELDS TERMINATED BY ',' ENCLOSED BY '""'

LINES TERMINATED BY '\\r\\n'

IGNORE 1 ROWS

&amp;#x200B;

But I am receiving the following error:

Error Code: 1366. Incorrect decimal value: '1,500.00' for column 'CustBal' at row 7

&amp;#x200B;

This is driving me batty.   That last line of the sample above is row 7.  The table column is DECIMAL(10,2).  


My testing shows me that the comma is the problem; if I remove the comma from ""1500.00"" in the CSV it works perfectly.  But my google searches all return problems dealing with swapping commas and periods as the decimal indicator.  I've spent an hour and can't figure it out, and feel real stupid as it doesn't seem like this should be hard -\_-  Sigh.",learnSQL,Load Data from CSV to Decimal; CSV-values are monetary values with commas,1.0,https://www.reddit.com/r/learnSQL/comments/al49w7/load_data_from_csv_to_decimal_csvvalues_are/
22,Lotton,1548806710,al6lnp,9,1,I have an interview in a couple days and during the phone interview they asked me a basic sql question (difference between inner and left join for those curious). I was wondering if there was a site to review more advanced queries and possible practice problems because I have not touched sql in 2 years and I really want this job,learnSQL,Interview prep,1.0,https://www.reddit.com/r/learnSQL/comments/al6lnp/interview_prep/
23,FreeFreddieHugs,1548815428,al7yas,4,1,"I'm currently working my way through a SQL book using PgAdmin 4 on Mac

&amp;#x200B;

`insert into char_data_types`

`values`

	`('abc', 'abc', 'abc'),`

	`('defghi', 'defghi', 'defghi');`

`copy char_data_types to 'C:\Directory\typetest.txt'`

`with (format csv, header, delimiter '|');`

&amp;#x200B;

I copied a simple file path to put where it says Directory, but when I run the query I get this error returned:

&amp;#x200B;

ERROR:  relative path not allowed for COPY to file

&amp;#x200B;

How do I fix this? ",learnSQL,Error with Copying to a File Path,1.0,https://www.reddit.com/r/learnSQL/comments/al7yas/error_with_copying_to_a_file_path/
24,yashica_,1548848590,albvvf,1,1, ,learnSQL,"People who want to learn SQL proficiently will find this tutorial very useful. This tutorial explains the delete and truncate statement, their syntax along with how to delete the record from the table.",1.0,https://youtu.be/9FFyaPvJ4Fk
25,kadify,1548860718,aldiyc,15,1,"I have a table with duplicate records and I want to delete the rows with API numbers that do NOT have a 0. For example:

Given the following table:
     ID    API 
     1     0111
     2     111
     3     0112
     4     113

So I want to delete row 2 because row 1 has the same API with the addition of the 0 in front of the API number. How should I got about starting to do this? I only know basic SQL and I haven't been able to find a question that had a similar problem when I searched. 
",learnSQL,How do I delete rows that have a similar but not necessarily the same value?,1.0,https://www.reddit.com/r/learnSQL/comments/aldiyc/how_do_i_delete_rows_that_have_a_similar_but_not/
26,salam55,1548906009,allcc6,9,1,"I'm teaching myself SQL and am having issues on Step 1. On ""connect to server"" I'm being asked for a ""server name."" I'm just doing this at home, so I'm not clear what server is being asked for. ",learnSQL,"""Server name""",1.0,https://www.reddit.com/r/learnSQL/comments/allcc6/server_name/
27,Cap_Addition,1548948994,alqn1s,2,1,"Hi all,

I'm making a Java program that implements a SQL database that I need to import onto MySQL workbench. 

I'm trying to follow the tutorial posted on here: [http://www.luv2code.com/2014/03/21/connect-to-mysql-database-with-java-jdbc/](http://www.luv2code.com/2014/03/21/connect-to-mysql-database-with-java-jdbc/)

I don't understand the part where he says ""You will need to create the database table. Run the following SQL script in your MySQL admin tool""

Like I know what he wants me to do but I just don't know into which section to copy and paste that data into. 

I so far have created a database user with login credentials but am not sure how to follow the second step. 

Any advice would be appreciated!!!

&amp;#x200B;

&amp;#x200B;",learnSQL,How to create a database table with already given data?,1.0,https://www.reddit.com/r/learnSQL/comments/alqn1s/how_to_create_a_database_table_with_already_given/
28,levelworm,1548972539,aluwdi,4,1,"Hi experts,

I have a query to grab all unique members who joined between 2018-07-01 and 2018-09-30. The relevant table columns are:

email | logins

&amp;#x200B;

Basically email contains all user emails and logins contain datetime of each login.

Business side informs me that users usually have a life time less than 3 months, so from a high level my query is like this:

(pseudo code - SELECT emails that have logins between 0701 and 0930 but no login between 0401 and 0630)

    SELECT DISTINCT subq1.email
    FROM (SELECT email
          FROM table
          WHERE date is between '2018-07-01' and '2018-09-30'
          GROUP BY email) AS subq1
    WHERE subq1.email NOT IN (SELECT DISTINCT subq2.email
                              FROM (SELECT email
                                    FROM table
                                    WHERE date is between '2018-04-01' and '2018-06-30'
                                    GROUP BY email) AS subq2
    ORDER BY subq1.email ASC

&amp;#x200B;

I'm a newbie but this is probably a very lame query so I'm wondering if I can re-write to improve the performance? Thanks! I don't have access to execution plan or other methods but I think it would be better to look at the code first.",learnSQL,Is there a way to optimize this SQL query?,1.0,https://www.reddit.com/r/learnSQL/comments/aluwdi/is_there_a_way_to_optimize_this_sql_query/
29,webdevnick22,1549045743,am54kw,3,1,"I'm not a beginner, I know of indexes and how they work yadda yadda. I'm not looking for an absolute beginner's guide to them. I'm looking for a guide that could help me improve my strategy and analysis of tables/queries and determining which columns I should index. Does anyone have any sites or book recommendations?",learnSQL,Is there a guide for knowing how to create an index [intermediate level],1.0,https://www.reddit.com/r/learnSQL/comments/am54kw/is_there_a_guide_for_knowing_how_to_create_an/
30,asdf0123,1549138215,amhugw,0,1, ,learnSQL,[PostgreSQL] Noob question about returning multiple rows of data,1.0,https://www.reddit.com/r/SQL/comments/amhqv7/postgresql_noob_question_about_returning_multiple/
31,roytrilok91,1549260434,amysgz,0,1, ,learnSQL,How to recover query files in SQL Server Management Studio after crashes?,1.0,https://tutorialspoint4all.com/how-to-recover-query-files-in-sql-server-management-studio-after-crashes/
0,breakthechain4,1544112019,a3p6zy,18,1,"I'm having trouble understanding this and looking it up doesn't really answer my question. I know it's a coding language used for relational databases but how can I actually use it?


For instance, I know VBA and use it because it's integrated into excel and I can automate a lot of tasks, open up applications, manipulate spreadsheets, etc..


I started to practice SQL but I don't understand how I can use it right now. The websites just show exercises but what is the primary purpose? Really not grasping the big picture.


Is there a SQL application I use to write code and execute like VBA? Open programs, control excel, etc? Is that how it works? I have Oracle and know that they are related so any direction in this would be great. I'm not a web developer or anything - business analyst type of guy.",learnSQL,Can someone explain what is SQL and how to use it?,1.0,https://www.reddit.com/r/learnSQL/comments/a3p6zy/can_someone_explain_what_is_sql_and_how_to_use_it/
1,cafryyn,1544128273,a3ryay,3,1,"Let's say I'm taking an inventory of plants in my warehouse. I have the following table:

&amp;#x200B;

|*PLANT*|*COLOR*|HEIGHT |
|:-|:-|:-|
|FLOWER|PURPLE|2|
|FLOWER|GREEN|1|
|BEANS|BLUE|1|
|FLOWER|PURPLE|2|
|BEANS|RED|1|
|BEANS|BLUE|1|

&amp;#x200B;

And I want to write a query that returns me the most common color and height combination for each plant. So really I want my answer to only show:

&amp;#x200B;

&amp;#x200B;

|PLANT |COLOR|HEIGHT|
|:-|:-|:-|
|FLOWER|PURPLE|2|
|BEANS|BLUE|1|

&amp;#x200B;

I'm very lost on how to go about writing this, other than to start here:

&amp;#x200B;

SELECT plant, color, height COUNT (\*)

FROM \`inventory\`

GROUP BY plant, color, height

HAVING COUNT(\*) &gt;= 1

ORDER BY COUNT(\*) DESC;

&amp;#x200B;

but not sure if this even helps and where I would go from here.

Any help is appreciated!

&amp;#x200B;

&amp;#x200B;",learnSQL,How to return the most frequently occurring row values?,1.0,https://www.reddit.com/r/learnSQL/comments/a3ryay/how_to_return_the_most_frequently_occurring_row/
2,sahilgreen,1544219113,a44gkp,5,1,"I have been spending a lot of time on how to best interact with SQL Server from my Access front end. I recently migrated to SQL Server for backend Access tables.

There are a few points which I think I understand but I am not sure.

&amp;#x200B;

1) After migrating to SQL Server linked tables, every forms and reports worked just fine and I did not have to make any changes to SQL , because JET-SQL is translated by the ODBC-connection to T-SQL for SQL server.

2)However, leaving it this way might not be the best solution because every time I make a SQL request to SQL Server JET-SQL must be translated to T-SQL which takes time.

3)Pass trough queries  are helpful because it passes through this conversion process without a need to make changes which saves time

I am hoping that my understanding is correct up to this point. What I am more unclear on is what difference does it make on data retrieval when using pass through vs regular Jet SQL to communicate with the SQL server

Consider this SQL statement

`Select * from table1`

1) I am guessing there is not much  point in converting this to pass through query

`Select * from table1 where ID=3000`

2)What happens in this case if there is no pass through query? I found in some discussion where people are saying that the entire table is pulled to Access first and then the query is ran. I am not sure if this is true as there is no need to do this as Jet SQL is converted to T-SQL automatically anyways.

In some other discussions I found that people are saying that only write pass through queries if the SQL statement is complex or has multiple tables. Why is this the case? What difference does it make if the SQL statement is complex or not if it is being converted to T-SQL automatically?

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;",learnSQL,Confusion using pass through query,1.0,https://www.reddit.com/r/learnSQL/comments/a44gkp/confusion_using_pass_through_query/
3,hazrd510,1544303764,a4enz5,0,1,"On (7) what does it mean to temporarily remove p9 from NEWPRODUCT?

My guess was to use VIEW.

    &gt; dbGetQuery(lab9db, ""select * from NEWPRODUCT"")
      PROD_NO   NAME  COLOR
    1      p1  PANTS   BLUE
    2      p2  PANTS  KHAKI
    3      p3  SOCKS  GREEN
    4      p4  SOCKS  WHITE
    5      p5 SHIRTS  WHITE
    6      p9  SOCKS ORANGE
    &gt; dbSendQuery(lab9db, 'create view TEMPVIEW as select * from NEWPRODUCT where not PROD_NO = ""p9"" ')
    &lt;SQLiteResult&gt;
      SQL  create view TEMPVIEW as select * from NEWPRODUCT where not PROD_NO = ""p9"" 
      ROWS Fetched: 0 [complete]
           Changed: 0

&amp;#x200B;

https://i.redd.it/8bwvfewhd4321.png",learnSQL,HW PROBLEM VIEW,1.0,https://www.reddit.com/r/learnSQL/comments/a4enz5/hw_problem_view/
4,rawleym,1544366677,a4lf6e,4,1,"Starting a new role as a PM in a fintech (I’m actually a Mechanical Engineer and my only background regarding products was my internship at a major bank)

I already know how to code at a very basic level with python (got up to classes and data analysis with pandas, numpy and mat plot lib), enough to understand feasible solutions and understand many of the words/terms the devs in my team use, but recently I decided I need to learn a little bit about SQL to help validating some new features before launching them.

Any online course you guys recommend for someone in my situation, given my background? It can be free or paid (preferably free, no need for any certificate, but if it’s a good one I would gladly pay for the certificate), but I really need one that starts from scratch because I’ve never handled with SQL.
",learnSQL,Best online course for beginners,1.0,https://www.reddit.com/r/learnSQL/comments/a4lf6e/best_online_course_for_beginners/
5,RaduZaharia94,1544468736,a4ymvr,1,1,"I study SQL Oracle and done a lot of exercises in HR schema (queries,sub-queries,joins , etc ) . What kind of project or where do i find projects for SQL ORACLE ? I start learning Pl/SQL maybe you can recommend me a project to do there .Thanks for reading you . I wish you a good day .",learnSQL,What kind of project i can create in SQL Oracle to put it on my cv ? Where do i find projects ? I'm on my way learning Pl/SQL,1.0,https://www.reddit.com/r/learnSQL/comments/a4ymvr/what_kind_of_project_i_can_create_in_sql_oracle/
6,AskingForAFriend1738,1544498366,a52zne,9,1,"So far I have a function that accepts a course registration number as a parameter, checks through the course enrollment table and tallies up num students enrolled, dropped, or withdrawn. How can I return these values in a table? Does it make sense to declare a table inside the function, or is there a better way to return these 3 pairs of values?

Thanks

[https://paste.ee/p/OYYIo#JKJz5VQPMIyLJKVOr9oC5dMgNIrXtDao](https://paste.ee/p/OYYIo#JKJz5VQPMIyLJKVOr9oC5dMgNIrXtDao)",learnSQL,How can I return a table of declared variables in a user defined function?,1.0,https://www.reddit.com/r/learnSQL/comments/a52zne/how_can_i_return_a_table_of_declared_variables_in/
7,SEATW,1544637369,a5kifp,2,1,I’d like to practice basic SQL queries but am not sure where to start. Is it as simple as downloading MS SQL Server and pulling in free data sets from online? How do I best go about this?,learnSQL,A couple questions about setting up an offline SQL environment.,1.0,https://www.reddit.com/r/learnSQL/comments/a5kifp/a_couple_questions_about_setting_up_an_offline/
8,YZYog,1544668661,a5p7ui,20,1,"So basically I have to validate that Zip (INT) and Street Address (VARCHAR) are valid. This is what my teacher said:  

You have to check if an INT value is plugged in the INT input parameter of a procedure and inserted into the INT column. If you plugged in a none INT into an INT parameter the procedure would not execute and throw an error; if you try to insert a none INT into an INT column the system would not execute and throw an error.

There all kinds possibilities for street free text: there are building numbers, apartment numbers, sections, P.O.Box etc.

As I already discussed multiple times in class: We always try our best to do validation checking when update/insert new data into database which include but not limited to: if the column is an FK use lookup/validation table; if it is phone number, zip, SSN always check if they are all digital; if it is email always check if it is like '%@%.%

&amp;#x200B;

This is my currently stored procedure that I have created: [https://pastebin.com/HPRW2Gaj](https://pastebin.com/HPRW2Gaj) . I am curious as how I would do this verification for ZIP and Address. Any help is appreciated!",learnSQL,How can I perform validation checking on this?,1.0,https://www.reddit.com/r/learnSQL/comments/a5p7ui/how_can_i_perform_validation_checking_on_this/
9,AskingForAFriend1738,1544738326,a5y6qn,7,1,"Table layout: [https://imgur.com/a/NQmcYMN](https://imgur.com/a/NQmcYMN)

My cursor is in a stored procedure that takes studentId as input, and fails them in all their corresponding classes.

[https://paste.ee/p/KJmUn#K1L5KBFlbMTA6xburTAzcotgd9l2TASE](https://paste.ee/p/KJmUn#K1L5KBFlbMTA6xburTAzcotgd9l2TASE)

I specified this so I'm not sure what is going wrong: 

`SELECT MidTermGrade, FinalGrade FROM CourseEnrollment WHERE StudentId = @studentId`  			

`OPEN CSR` 			

`FETCH NEXT FROM CSR`  

I know this is a bad usage of cursors, but it's an assignment. ",learnSQL,Why is my cursor iterating over every row in table instead of the ones I specify?,1.0,https://www.reddit.com/r/learnSQL/comments/a5y6qn/why_is_my_cursor_iterating_over_every_row_in/
10,grahamcrackeri,1544895606,a6h2yw,6,1,"Hey guys!

Complete SQL newbie, never touched the stuff before. I really want to learn it.

Ideally, I want to start learning it intensively starting next week. Can anyone give me any sources/tips/advice/insights to get me started? 

Thank you guys!",learnSQL,SQL Newbie,1.0,https://www.reddit.com/r/learnSQL/comments/a6h2yw/sql_newbie/
11,grahamcrackeri,1544936792,a6mgky,5,1,"Hey guys! 

I made a post about wanting to learn SQL intensively etc. and the response I got from you guys was great!

The question I am still left with is that how do I practice SQL on Mac? 

I was reading on google that the MicrosoftSQL Server can only be set up on a windows computer, is this true? Does this mean I can’t access the full power of SQL on Mac? How should I go about learning SQL on Mac in regards to the best resources, tools, etc.? 

Sorry for so many questions, I just couldn’t find the answers I was looking for. Thank you guys so much in advance!",learnSQL,SQL on Mac,1.0,https://www.reddit.com/r/learnSQL/comments/a6mgky/sql_on_mac/
12,sullyj3,1545143536,a7bjhn,0,1,"`sqlite&gt; .tables`

`Story     StoryTag`

`sqlite&gt; .schema Story`

`CREATE TABLE Story (title Text, content Text);`

`sqlite&gt; .schema StoryTag`

`CREATE TABLE StoryTag(`

  `storyid INTEGER,`

  `tag TEXT,`

  `FOREIGN KEY(storyid) REFERENCES Story(rowid)`

  `PRIMARY KEY(storyid, tag)`

`);`

`sqlite&gt; select title, tag from story join storytag on story.rowid = storytag.storyid;`

`another test title|sex`

`test title|violence`

`sqlite&gt; select title, tag from story natural join storytag;`

`test title|sex`

`test title|violence`

`another test title|sex`

`another test title|violence`",learnSQL,sqlite3: Confused why this inner join isn't the same as a natural join,1.0,https://www.reddit.com/r/learnSQL/comments/a7bjhn/sqlite3_confused_why_this_inner_join_isnt_the/
13,yuletide2018,1545144628,a7bouu,4,1,"Hello all!  
Do these two syntax examples always deliver the same result set?  

SELECT table1.column1 FROM table1  
JOIN table2 ON table1.column2 = table2.column1  
WHERE condition;  

VERSUS  

SELECT table1.column1 FROM table1  
JOIN table2 ON table1.column2 = table2.column1  
AND condition;  

I mean, how is it possible to set a condition using AND rather than WHERE?",learnSQL,AND and WHERE fulfilling the same purpose?,1.0,https://www.reddit.com/r/learnSQL/comments/a7bouu/and_and_where_fulfilling_the_same_purpose/
14,yuletide2018,1545212705,a7l07h,2,1,"Hello everyone!  
I'm trying to practice querying the well-known Northwind database in MS SQL Server and there's this problem that I actually solved, but the answer key shows an alternative that I'd like to figure out.  
The problem is simple. It says: ""Create a report that shows the unit price, quantity, discount, and the calculated total price using these three fields."" So I just applied CASE for those rows where there's no discount, and it worked fine, but here's the answer suggested by the designers of that problem.  

SELECT UnitPrice, Quantity, Discount, UnitPrice * Quantity * (1-Discount) AS TotalPrice  
FROM ""Order Details"";  

Could you please break down how (1-Discount) works in this query? I'm a beginner, so if possible, use simpler terms. It'd be cool if you provide some more examples of when this structure might be useful.  
Thank you!",learnSQL,1 for true?,1.0,https://www.reddit.com/r/learnSQL/comments/a7l07h/1_for_true/
15,Triteleia,1545329757,a80puj,1,1,[removed],learnSQL,General and Specific Questions on Recursive Queries and Database Model,1.0,https://www.reddit.com/r/learnSQL/comments/a80puj/general_and_specific_questions_on_recursive/
16,IDELTA86I,1545348719,a83yl9,0,1,"Hi all.

For some reason i can access nested data from a Json file im importing.

I can get to the first layer by the insert, but the rest are coming up null, and not sure why as the 'first' section is actually nested on the same indent so not sure where im going wrong here?

First post is code, second is the JSON sample.

&amp;#x200B;

Any advice/causes would be appreciated

&amp;#x200B;

    USE Test1
    GO
    IF OBJECT_ID('tempdb..#API') IS NOT NULL DROP TABLE #API;
    GO
    CREATE TABLE #API(
    [property_address_councilArea]	 NVARCHAR(MAX)	NULL,
    [property_address_councilAreaId]	 NVARCHAR(MAX)	NULL,
    [property_address_isDerivedUnit]	 NVARCHAR(MAX)	NULL,
    [property_forSalePropertyCampaignadvertisementId]	 NVARCHAR(MAX)	NULL,
    [property_forSalePropertyCampaignagency_company_companyName]	 NVARCHAR(MAX)	NULL,
    [property_forSalePropertyCampaignagency_phone_phoneNumber]	 NVARCHAR(MAX)	NULL);
    DECLARE @#API VARCHAR(MAX)
    SELECT @#API = BulkColumn FROM OPENROWSET(BULK'C:\Users\jmcarthur\Desktop\Hills Python Project\API_DATA.JSON', SINGLE_BLOB) J
    INSERT INTO #API SELECT *
    FROM OPENJSON(@#API)
    WITH(
    [property_address_councilArea]	NVARCHAR(MAX)		'$.property.address.councilArea',
    [property_address_councilAreaId]	NVARCHAR(MAX)		'$.property.address.councilAreaId',
    [property_address_isDerivedUnit]	NVARCHAR(MAX)		'$.property.address.isDerivedUnit')
    SELECT * FROM #API

&amp;#x200B;

//\* AND NOW THE JSON FILE

&amp;#x200B;

\[

  {

""property"":{

""address"":{

""councilArea"":""EXAMPLE"",

""councilAreaId"":EXAMPLE,

""isDerivedUnit"":false,

""singleLine"":""123 EXAMPLE ST "",

""startNumber"":000,

""street"":{

""extension"":""ROAD"",

""id"":219968,

""locality"":{

""id"":4192,

""name"":""ADAW"",

""postcode"":{

""id"":101842,

""name"":""0000"",

""singleLine"":""0000 NSW"",

""state"":""NSW""

},

""singleLine"":ADAW NSW 0000""

},

""name"":""EXAMPLE"",

""nameAndNumber"":""000 EXAMPLE ROAD "",

""singleLine"":""Glebe Road Adamstown NSW 2289""

},

""unitNumber"":2

},

""forSalePropertyCampaignList"":\[

{

""advertisementId"":00000000,

""agency"":{

""company"":{

""companyName"":""EXAMPLE""

},

""phone"":{

""phoneNumber"":""000000000""

}

},

""agent"":{

""agent"":""EXAMPLE"",

""phone"":{

""phoneNumber"":""00000000""

}

},

""daysListed"":0,

""daysOnMarket"":0,

""firstPublishedPrice"":""EEXAMPLE"",

""fromDate"":""0"",

""isActiveCampaign"":false,

""latestAdvertisementPrice"":0,

""listingMethod"":""EXAMPLE"",

""priceDescription"":""$EXAMPLE"",

""saleDate"":""EXAMPLE"",

""toDate"":""EXAMPLE""

},

{

""advertisementId"":0,

""agency"":{

""company"":{

""companyName"":""EXAMPLE""

}

},

""agent"":{

""agent"":""0"",

""phone"":{

""phoneNumber"":""0""

}

},

""daysListed"":5,

""daysOnMarket"":7,

""firstAdvertisementPrice"":0,

""firstPublishedPrice"":""$0"",

""fromDate"":""2013-07-30"",

""isActiveCampaign"":false,

""latestAdvertisementPrice"":000,

""listingMethod"":""EXAMPLE"",

""percentPriceVariationAtSale"":-3.08,

""percentPriceVariationFirstToLast"":0.0,

""priceDescription"":""$EXAMPLE"",

""saleDate"":""2013-08-05"",

""toDate"":""2013-08-03""

},

{

""advertisementId"":EXAMPLE,

""agency"":{

""company"":{

""companyName"":""EXAMPLE""

}

},

""daysListed"":0,

""daysOnMarket"":48,

""firstAdvertisementPrice"":0,

""firstPublishedPrice"":""$0"",

""fromDate"":""0"",

""isActiveCampaign"":0,

""latestAdvertisementPrice"":0,

""listingMethod"":""0"",

""percentPriceVariationAtSale"":-0,

""percentPriceVariationFirstToLast"":-1.83,

""priceDescription"":""$0"",

""saleDate"":""204"",

""toDate"":""200""

}

\],

""id"":7951804,

""occupancyType"":""Rented"",

""propertySubType"":""Unit"",

""propertyType"":""UNIT"",

""saleList"":\[

{

""agency"":{

""company"":{

""companyName"":""EXAMPLE""

}

},

""contractDate"":""2018-10-31"",

""isAgentsAdvice"":true,

""isArmsLength"":true,

""isPriceWithheld"":false,

""isReaRecentSale"":false,

""isStandardTransfer"":true,

""price"":437000,

""saleMethod"":""Normal Sale"",

""settlementDate"":""2018-10-31"",

""transferId"":45606936,

""type"":""Unknown""

},

{

""agency"":{

""company"":{

""companyName"":""EXAMPLE""

}

},

""contractDate"":""2013-08-05"",

""isAgentsAdvice"":false,

""isArmsLength"":true,

""isPriceWithheld"":false,

""isReaRecentSale"":false,

""isStandardTransfer"":true,

""price"":315000,

""saleMethod"":""Normal Sale"",

""settlementDate"":""2013-08-30"",

""transferId"":34096541,

""type"":""Unknown""

},

{

""agency"":{

""company"":{

""companyName"":""0""

}

},

""contractDate"":""2008-01-24"",

""isAgentsAdvice"":false,

""isArmsLength"":true,

""isDerivedAgency"":true,

""isPriceWithheld"":false,

""isReaRecentSale"":false,

""isStandardTransfer"":true,

""price"":212000,

""settlementDate"":""2008-02-28"",

""transferId"":33220976,

""type"":""Unknown""

},

{

""contractDate"":""2000-11-27"",

""isAgentsAdvice"":false,

""isArmsLength"":true,

""isPriceWithheld"":false,

""isReaRecentSale"":false,

""isStandardTransfer"":true,

""price"":108000,

""settlementDate"":""2000-12-20"",

""transferId"":29171975,

""type"":""Unknown""

},

{

""contractDate"":""1991-09-02"",

""isAgentsAdvice"":false,

""isArmsLength"":true,

""isPriceWithheld"":false,

""isReaRecentSale"":false,

""isStandardTransfer"":true,

""price"":100000,

""settlementDate"":""1991-09-02"",

""transferId"":29173218,

""type"":""Unknown""

}

\]

},

&amp;#x200B;",learnSQL,Access Nested SQL Data,1.0,https://www.reddit.com/r/learnSQL/comments/a83yl9/access_nested_sql_data/
17,graciousgroob,1545778962,a9j6rk,2,1,"Was looking at the data types available in sql [here (w3schools)](https://www.w3schools.com/sql/sql_datatypes.asp) and noticed the number pop up twice for maximum length of certain data types. I bet myself that it was some power of 2, but took the log and it was 31.9999997 or something like that. I was wondering if anyone knows why that is, does it have something to do with how memory is allocated?",learnSQL,"Why is log_2(4,294,967,295) very slightly less than 32?",1.0,https://www.reddit.com/r/learnSQL/comments/a9j6rk/why_is_log_24294967295_very_slightly_less_than_32/
18,javatpoints,1546087594,aakyeh,0,1, ,learnSQL,Difference between DBMS and RDBMS,1.0,https://javatpoint.tumblr.com/post/181134949368/daa-need-of-algorithm-javatpoint
19,Triteleia,1546634337,acmdju,4,1,"For this \[graph\]([imgur.com/0XUKWiG](https://imgur.com/0XUKWiG)) that should be read from top down (i.e. 19 is not the parent of 22, but its child).

My table is an adjacency list with the root nodes as null parent id (called sid in my table)

I use the postgreql query below to get the ancestors of all the nodes. It works a bit too well with results like Fig 1 for node 25 instead of what I manually trim it down after copying the results to a csv (Fig 2).

&amp;#x200B;

&amp;#x200B;

Ancestor Query

WITH RECURSIVE ancestors(id, path) AS (

SELECT id

, id::TEXT as path

FROM addc

UNION ALL

SELECT [D.id](https://d.id/)

, (DR.path || '|' || [D.id](https://d.id/)::TEXT) as path

FROM addc D

JOIN ancestors DR ON [DR.id](https://dr.id/) = D.sid

)

SELECT path,[addc.id](https://addc.id/),addc.sid,addc.nn

FROM ancestors

INNER JOIN addc on [ancestors.id=addc.id](https://ancestors.id%3Daddc.id/)

order by nn

\--Where id is child, sid is parent, nn is node name, and addc is the table name--

&amp;#x200B;

&amp;#x200B;

Fig 1

&amp;#x200B;

https://i.redd.it/tc7jz9ldwg821.png

Fig 2

&amp;#x200B;

https://i.redd.it/usew2sxewg821.png

&amp;#x200B;

Is there a way to get Fig 2 results by modifying my query? I don't know how to use arrays, but would that help?

&amp;#x200B;

&amp;#x200B;

Thank you

&amp;#x200B;

&amp;#x200B;

I think I have a slight clue. The query below returns depth/levels, maybe it, or something like it can be used to isolate paths that occur only at that depth?

&amp;#x200B;

&amp;#x200B;

with recursive tr(""id"", sid, level) as (

select redhelp.id, redhelp.sid, 1 as level

from redhelp union all

select redhelp.id, tr.sid, tr.level + 1

from redhelp join

tr

on redhelp.sid = tr.""id""

)

select \*

from (select tr.\*,

max(level) over (partition by id) as maxlevel

from tr

) tr

where level = maxlevel;",learnSQL,Help with Query for Directed Acyclic Graph,1.0,https://www.reddit.com/r/learnSQL/comments/acmdju/help_with_query_for_directed_acyclic_graph/
0,Vendredi46,1541412199,9ucazx,6,1,"Here's a preview. Underlined are primary and composite keys. 

Let me know if there's anything to be changed?

(also what sort of constraints should I expect and deletion rules?)

https://drive.google.com/open?id=1KOw9l4iW9oZVNPqlLDG4gTl4wlqpmdwq",learnSQL,Is my logical design for a small library system is goon enough?,1.0,https://www.reddit.com/r/learnSQL/comments/9ucazx/is_my_logical_design_for_a_small_library_system/
1,AskingForAFriend1738,1541456612,9uib0o,4,1,"Made a stored procedure, it shows up in the programmability folder, but when I try and execute it says it could not find the sp.

&amp;#x200B;

My SP: [https://paste.ee/p/b0nkA#ARLxvGAtUTBVFBuUqv9s4lIxpTQSMSqW](https://paste.ee/p/b0nkA#ARLxvGAtUTBVFBuUqv9s4lIxpTQSMSqW)

I've tried things like:

EXEC sp1 '01-HJPotter',1

EXEC sp1 ('01-HJPotter',1)

sp1 '01-HJPotter',1

&amp;#x200B;

To no avail",learnSQL,How do I execute my stored procedure?,1.0,https://www.reddit.com/r/learnSQL/comments/9uib0o/how_do_i_execute_my_stored_procedure/
2,geoffdevitt,1541527386,9uqond,0,1, ,learnSQL,Business and Data Analysis with SQL | Udemy | Promo Discount,1.0,https://www.udemy.com/business-and-data-analysis-with-sql/?couponCode=WHATDATA10
3,Railgun5,1541602005,9v00hg,1,1,"So I've been trying to set up a script in Access using the SQL query editor, and I'm getting a headache from dealing with this weird cut-down version of SQL it uses.  I have the following code (which I'm assuming is written correctly, but just bear with me here):

    SELECT CASE
      WHEN Alpha.A=Alpha.B THEN Alpha.A
      WHEN Alpha.A IS NOT NULL AND Alpha.B IS NULL THEN Alpha.A
      WHEN Alpha.A IS NULL AND Alpha.B IS NOT NULL THEN Alpha.B
      END
    FROM Alpha

And going by what I'm finding online, I should rewrite it like this for Access:

    SELECT *
    SWITCH(
      (Alpha.A=Alpha.B), Alpha.A,
      (Alpha.A IS NOT NULL AND Alpha.B IS NULL), Alpha.A,
      (Alpha.A IS NULL AND Alpha.B IS NOT NULL), Alpha.B
    ) as [Correct Answer]
    FROM Alpha

But running that I just get ""Syntax error (missing operator) in query expression"", followed by everything from the * to the closing parentheses of the SWITCH function.  What am I doing wrong?",learnSQL,How do I replace CASE with SWITCH?,1.0,https://www.reddit.com/r/learnSQL/comments/9v00hg/how_do_i_replace_case_with_switch/
4,YZYog,1541703691,9vctse,2,1,"https://imgur.com/a/tr4Mq6H

CREATE TABLE CourseSchedule(

	CRN INT PRIMARY KEY IDENTITY(1,1),

	CourseCode INT FOREIGN KEY REFERENCES CourseCatalogue(CourseCode) NOT NULL,

	CourseNumber INT FOREIGN KEY REFERENCES CourseCatalogue(CourseNumber) NOT NULL,

	Section INT NOT NULL,

	SemesterId INT FOREIGN KEY REFERENCES SemesterInfo(SemesterId) NOT NULL,

	LocationId INT FOREIGN KEY REFERENCES ClassRoom(ClassRoomId)

)

I am mainly curious because of the double FK1, is this correct? I am getting an error where the two FK1s would be",learnSQL,How would I go about creating this table? I am getting an error,1.0,https://www.reddit.com/r/learnSQL/comments/9vctse/how_would_i_go_about_creating_this_table_i_am/
5,MshipQ,1541708082,9vdhwx,4,1,"So I'm working with 2 tables, Movies and Reviews.

Movies has the columns mID &amp; title

Reviews has rID, mID, rating, name, date

and I need to write a query that returns the name of the reviewer and title of the film for any cases where a movie was reviewed twice by the same reviewer and they increased their rating.

I've managed to do this using a self join and an inner join, but there is something I don't quite understand about this answer.

Here's the query:

SELECT 
movies.title, Reviews.name
FROM ratings A, ratings B

INNER JOIN movies ON B.mID=movies.mID 

WHERE A.rID=B.rID 
		AND A.mID=B.mID 
		AND B.ratingDate&gt;A.ratingDate 
		AND B.Stars&gt;A.Stars;

What I don't understand is that why in the ON clause of the inner join does it have to be 'ON B.mID=movies.mID' and not 'ON AmID=movies.mID' (when I tried it this way first I got error code 1054. unknown column 'A.mID' in on clause)

As you might be able to tell I'm quite new to writing SQL queries, sorry if I havn't made my problem too easy to understand. Thanks for any help.
",learnSQL,Quick question about a query I don't quite understand.,1.0,https://www.reddit.com/r/learnSQL/comments/9vdhwx/quick_question_about_a_query_i_dont_quite/
6,Prince_Willian,1541782966,9vm60p,2,1,"Hi, I'm starting to learn SQL and I have a task that I can't complete.

I'm supposed to get the ""**Name**"" of the ""**Customer**"" with the most ""**Expensive Order**"".

    Here is my code so far:
SELECT Customers.CustomerName, Orders.OrderID, Products.Price * OrderDetails.Quantity AS 'Total' FROM Orders INNER JOIN Customers ON Orders.CustomerID=Customers.CustomerID INNER JOIN Products ON OrderDetails.ProductID=Products.ProductID INNER JOIN OrderDetails ON OrderDetails.OrderID=Orders.OrderID Group By OrderDetailID 

 

I'm trying this on W3chools Premade Database:

[https://www.w3schools.com/sql/trysql.asp?filename=trysql\_select\_in](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_in)

This is what I accomplished so far.  
It shows the CustomerName, His orders, The Price. but I need to ADD all the prices for the same Customer to one line and from that pick the highest order.

When I try to sum the total it doesn't do a thing and when I use ""Group By CustomerName"" It shows wrong numbers.  
The good details are:  
""Name=Wilman Kala"", ""OrderID=10248"", ""Total=566""  
""Name= Frankenversand "", ""OrderID= 10267 "", ""Total=5,040""",learnSQL,Find the Customer With the most Expensive Order,1.0,https://www.reddit.com/r/learnSQL/comments/9vm60p/find_the_customer_with_the_most_expensive_order/
7,AskingForAFriend1738,1541988483,9w9t67,5,1,"Making a function that takes courseId and numericalGrade as inputs and spits back out the text of the grade description. For example: courseId 1 and numericalGrade 50 will give back ""Troll"".

DB layout: [https://imgur.com/a/X3zpgB6](https://imgur.com/a/X3zpgB6)

I have this so far but I'm not sure how to add the parameters to the if statement to make it not hard coded. As in, how would I grab the values in the two tables and use them to compare them to the inputs?

[https://paste.ee/p/h8Moh#oE0K8wD3y4m2TgFQZero8CaE9Dcn1I1l](https://paste.ee/p/h8Moh#oE0K8wD3y4m2TgFQZero8CaE9Dcn1I1l)

&amp;#x200B;

Thanks",learnSQL,What goes inside the IF ELSE statements for this function?,1.0,https://www.reddit.com/r/learnSQL/comments/9w9t67/what_goes_inside_the_if_else_statements_for_this/
8,KarthikMgk,1542000753,9wb8ka,0,1,[removed],learnSQL,why I'm not able to add foreign key here??? Your thoughts on it...,1.0,https://www.reddit.com/r/learnSQL/comments/9wb8ka/why_im_not_able_to_add_foreign_key_here_your/
9,Railgun5,1542131832,9wrclm,3,1,"So my data looks something like this

    User    |    Items
    001     |    Apples, Oranges
    002     |    Apples, Bananas, Oranges
    003     |    Mangos, Bicycles, Oranges, Orangutans

And I want my end result to look something like this:

    User    |    Items
    001     |    Apples
    001     |    Oranges
    002     |    Apples
    002     |    Bananas
    002     |    Oranges
    003     |    Mangos
    003     |    Bicycles
    003     |    Oranges
    003     |    Orangutans

Is there a way to do this in Access SQL alone?  A lot of the answers I've found use VBA or are intended to work with strings with the same number of items, but unfortunately I don't have that luxury.  And there's no way for me to split them up manually, unless there's a way to do hundreds of thousands of data points in a snap.",learnSQL,Turning a delimited string into a series of rows,1.0,https://www.reddit.com/r/learnSQL/comments/9wrclm/turning_a_delimited_string_into_a_series_of_rows/
10,Sakata28,1542299614,9xcqb4,11,1,"Hey All 

Udemy has a big sale going on right now for ""Black Friday"" and i have enjoyed using some of these courses before to learn other topics. I want to get into SQL and go the DBA route just wondering if anyone has any recommended courses or material i should focus on? 

&amp;#x200B;

Thank you in advanced for the help. ",learnSQL,Best online material for learning SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/9xcqb4/best_online_material_for_learning_sql/
11,kwoo997,1542316348,9xfce3,4,1,"We're learning SQL in my database management class and for some reason, generating random numbers is confusing to me. One of my homework questions asks me to ""create two columns, one with a random number between 1 and 100, and another between 1/10 and 1. Include any aliases when needed. Limit the output to 2 decimal places."" I don't know how to do this with a decimal (1/10) as the starting number for the range. Can anyone explain this to me? ",learnSQL,Random Number Generation,1.0,https://www.reddit.com/r/learnSQL/comments/9xfce3/random_number_generation/
12,FriendlyCartoonist,1542327658,9xgylv,2,1, ,learnSQL,what's the point of DISTINCT ON?,1.0,https://www.reddit.com/r/learnSQL/comments/9xgylv/whats_the_point_of_distinct_on/
13,nonymer,1542646652,9yijmv,1,1,"  

If you are a novice at SQL or would like help troubleshooting your SQL query, here’s a [blog post](https://medium.com/@lalitha.rad/get-the-help-you-need-with-your-sql-query-when-you-need-it-a4f89a19de31) that shows how you can jointly write SQL online with anybody on your team.

&amp;#x200B;",learnSQL,Would you like to learn SQL from an advanced user on your team?,1.0,https://www.reddit.com/r/learnSQL/comments/9yijmv/would_you_like_to_learn_sql_from_an_advanced_user/
14,mrsystem101,1542680654,9ynpnf,0,1, ,learnSQL,TSQL Variables in Stored Procedures,1.0,https://www.essentialsql.com/programming-stored-procedures-working-with-variables/
15,KateKlenk,1542714010,9yrf5d,1,1, ,learnSQL,The Ultimate MySQL Bootcamp: Go from SQL Beginner to Expert Now Black Friday Deals 94% off,1.0,https://www.facebook.com/permalink.php?story_fbid=224617961598685&amp;id=224616258265522&amp;
16,patrickmcgranaghan,1543085679,a012in,4,1,"I'm working on the [sqlteaching.com](https://sqlteaching.com) practice problems, but I am completely stuck on the [multiple joins problem](https://www.sqlteaching.com/#!multiple_joins). No matter what I try it either says the query is not valid or it fails. 

Here's the solution I'm trying to get to work so far, but it's failing:

SELECT character.name, actor.name
FROM character 
INNER JOIN character_tv_show
ON character.id = character_tv_show.character_id
INNER JOIN character_actor
ON actor.id = character_actor.actor_id;

Can someone please take a look at this and help me figure out what I'm doing wrong?",learnSQL,Need help with SQLTeaching multiple join problem,1.0,https://www.reddit.com/r/learnSQL/comments/a012in/need_help_with_sqlteaching_multiple_join_problem/
17,grahamcrackeri,1543129286,a06ixz,5,1,As mentioned above complete beginner and would love to start learning. What are the absolute best resources to learn SQL? Thanks!,learnSQL,Hello complete beginner to SQL,1.0,https://www.reddit.com/r/learnSQL/comments/a06ixz/hello_complete_beginner_to_sql/
18,BrendaAAllmon,1543503363,a1i080,1,1, ,learnSQL,Special offer 200+ SQL Interview Questions 90% off,1.0,https://www.facebook.com/permalink.php?story_fbid=2303985286500588&amp;id=2303983386500778&amp;
19,AskingForAFriend1738,1543536026,a1mzdu,0,1,"[https://paste.ee/p/YMdfK#ZVvsUZHR87kSecu0Tzfy3ocDWU9pQ068](https://paste.ee/p/YMdfK#ZVvsUZHR87kSecu0Tzfy3ocDWU9pQ068)

This is what i have so far, but I don't think I can use this syntax. I am trying to enclose INSERT, UPDATE, DELETE if statements all in one trigger. Is this possible?",learnSQL,"How to create a trigger that operates on INSERT, UPDATE, DELETE",1.0,https://www.reddit.com/r/learnSQL/comments/a1mzdu/how_to_create_a_trigger_that_operates_on_insert/
20,AskingForAFriend1738,1543541194,a1npf3,0,1," I am trying to make a trigger that handles updates, inserts, and deletes all one one. I am new to this area and wanted to know if I'm thinking about this right. So when an update/insert/delete is applied to a table, the system creates a temporary table including the new information before sending the changes over? Assuming this is true, we can check if there are contents in these temporary tables to see if an update, insert, or delete has taken place?

This is what I have so far

[https://paste.ee/p/FgUd8#WbWKWPgyyOmPA1kqdrDRJ3na4gH2QAzg](https://paste.ee/p/FgUd8#WbWKWPgyyOmPA1kqdrDRJ3na4gH2QAzg)

db: [https://imgur.com/a/Ryuh8Mx](https://imgur.com/a/Ryuh8Mx)

I want to handle the cases where

a.	When inserting a new record, update the Courses table’s OpenSeats for the course into which the student is being enrolled.

b.	When deleting a record, update the Courses table’s OpenSeats for the course from which the student was deleted.

&gt;c.	If an update happened on the CourseId (student switched courses), adjust the Courses table’s OpenSeats accordingly.

&amp;#x200B;",learnSQL,"Creating a trigger to handle updates, inserts, and deletes",1.0,https://www.reddit.com/r/learnSQL/comments/a1npf3/creating_a_trigger_to_handle_updates_inserts_and/
21,BinnyBit,1543649276,a2132g,3,1,I'm having difficulty find a resource to follow that covers creating SQL lookup tables (and easy to comprehend for a beginner). Any help is appreciated.,learnSQL,How do I create a lookup table?,1.0,https://www.reddit.com/r/learnSQL/comments/a2132g/how_do_i_create_a_lookup_table/
22,real-cosmopolitan,1543654283,a21ini,2,1,"I am using Oracle (the application express) and getting this error:

&gt; **ORA-00936: missing expression**

when I enter to following code:

    INSERT INTO appeals
         VALUES (appeal_id_seq.NEXTVAL, :crime_id, TO_DATE(:filing_date, 'DD MON YYYY'), TO DATE(:hearing_date, 'DD MON YYYY'), default);

The appeals table has both the filing\_date and the hearing\_date fields set as date objects. Is there anyone who can suggest why I might get the above error?

Thank you in advance!",learnSQL,sql missing expression error when using to_date function and substitution variable in insert statement,1.0,https://www.reddit.com/r/learnSQL/comments/a21ini/sql_missing_expression_error_when_using_to_date/
23,cbscbscbs,1543786636,a2hllp,2,1," 

Given a table with schema: 

\[ ID(int), Name(varchar), Class(varchar), Test Date(date), Score(int)\] 

where ID and name correspond to each other.

How would I write a SQL(MySQL) query to return *the 2 MOST RECENT results for each student?*

Output Format:

\[ Name, Most recent date, most recent score, prior date, prior score\]

In particular, I'm having trouble figuring out how to get the two attempts on the same line for each student.",learnSQL,Returning multiple of the same columns in query from single table,1.0,https://www.reddit.com/r/learnSQL/comments/a2hllp/returning_multiple_of_the_same_columns_in_query/
24,YZYog,1543808528,a2krv3,5,1,"Here is my Database: https://imgur.com/a/6wfhpH6

I am trying to create a view that contains the following: employee’s name, ID, benefit’s type, benefit coverage, employee premium and employer premium.

Now this is a lot to take in, and I am only used to doing very simple views.

I was thinking of doing something like:

CREATE VIEW Benefits

AS

SELECT FirstName, LastName, BenefitTypeId, BenefitCoverId, EmployeePremium, EmployerPremium

FROM _____ JOIN ____

ON ____

I get extremely stuck with the joins, and where to start. Do you guys have any recommendations on how to begin with these joins?",learnSQL,How Can I Create This View?,1.0,https://www.reddit.com/r/learnSQL/comments/a2krv3/how_can_i_create_this_view/
25,TribalMethods,1543929339,a30kqh,2,1,"Greetings everyone!

I've always struggled with SQL type languages so any help with this is greatly appreciated.

I'm using a plugin for the music player called MediaMonkey. It allows you to create all sorts of crazy automatic playlists using it's custom SQL language. Unfortunately, it's very complex &amp; the documentation is confusing (at least to me.)

&amp;#x200B;

Below is the somewhat straightforward script which selects 500 unique tracks from 11 different genre's of my choosing then creates a playlist with the results. 

&gt;[Songs.ID](https://Songs.ID) IN (SELECT [Songs.ID](https://Songs.ID) FROM Songs, (SELECT DISTINCT GenresSongs.IDGenre AS IDGenre FROM GenresSongs) AS G1 WHERE [Songs.ID](https://Songs.ID) IN (SELECT [Songs.ID](https://Songs.ID) FROM Songs, GenresSongs WHERE [Songs.ID](https://Songs.ID) = GenresSongs.IDSong AND GenresSongs.IDGenre = G1.IDGenre ORDER BY Random() LIMIT 500)) AND &lt;Genre&gt; IN ('Alternative', 'Asian Music', 'Dance', 'Electro', 'Folk', 'Metal', 'Pop', 'Punk', 'Rap/Hip Hop', 'Reggae', 'Rock')

What I need to do, is modify it so that it cannot pick more than 5 tracks per artist... But I cannot figure out how for the life of me! This problem has been bugging me for so long I do not mind donating $5 USD (via PayPal) to whoever solves this first :)

&amp;#x200B;

&amp;#x200B;

The documentation for the plugin can be found here:[https://west-penwith.org.uk/misc/MagicNodes.pdf](https://west-penwith.org.uk/misc/MagicNodes.pdf)

The rest of the info can be found here:

[**http://www.mediamonkey.com/forum/viewtopic.php?t=19168**](http://www.mediamonkey.com/forum/viewtopic.php?t=19168)

&amp;#x200B;",learnSQL,Help with custom SQL language (Magic Nodes) + Reward.,1.0,https://www.reddit.com/r/learnSQL/comments/a30kqh/help_with_custom_sql_language_magic_nodes_reward/
0,GarySingletary,1538966045,9mb254,3,1,"There are three data tables: A, B and C. A and B share a common variable, ID1. B and C share a common variable, ID2. Please write a query using MySQL syntax to get the following result: all the rows from Table B where ID1 is in Table A and remove the rows where ID2 is in Table C.",learnSQL,Three Table Query,1.0,https://www.reddit.com/r/learnSQL/comments/9mb254/three_table_query/
1,Redimo,1539029905,9mihgt,2,1,"Hello everybody.

I hope I am right here and searched correctly. I havent found anything yet, but here I go:

Currently we are not using SQL in class, we are using examples and formulating the SQL Calls as mathematical expressions and solving them.

Whilst that is a good insight in how it works, I am failing to see a connection between the SQL Queries and the mathematical expressions. For some examples, these expressions are full of Joins and so on, but in SQL its just some simple SELECTs.

Does anyone know of any documentation or can steer me in the direction of seeing what SQL Querie does what mathematical expression? 

Thanks a lot!",learnSQL,Looking for Documentation on SQL Queries,1.0,https://www.reddit.com/r/learnSQL/comments/9mihgt/looking_for_documentation_on_sql_queries/
2,AskingForAFriend1738,1539035437,9mj75e,0,1,"I know you can type this ""IDENTITY(0,1)"" but where would I even type it in the editor? Also, is there a way to set the primary key to auto gen with the GUI?

[https://imgur.com/a/w89ejLB](https://imgur.com/a/w89ejLB)",learnSQL,How to auto generate primary keys,1.0,https://www.reddit.com/r/learnSQL/comments/9mj75e/how_to_auto_generate_primary_keys/
3,MavSidharth,1539074849,9mnhcu,3,1,"Any resources through which I can understand how SQL indexes work? 

Videos, blogs anything will do !! 

Diagrammatic explanation will do wonders!! ",learnSQL,Resources to understand SQL indexes,1.0,https://www.reddit.com/r/learnSQL/comments/9mnhcu/resources_to_understand_sql_indexes/
4,Jinjjaoh,1539196734,9n26yx,2,1,"i'm currently making a forum, which i want to show my threads by the last post.

**SELECT** reponse.date\_creation\_reponse, sujets.date\_creation\_sujets,sujets.titre\_sujets **from** reponse  
**join** sujets **on** reponse.id\_sujets = sujets.id\_sujets  
**join** usager u **on** reponse.username = u.username  
**ORDER BY** date\_creation\_reponse **desc** ;

I have 3 tables and I want to put order them by the DATE

&amp;#x200B;

&amp;#x200B;",learnSQL,SQL Queries for Forum-Like Website,1.0,https://www.reddit.com/r/learnSQL/comments/9n26yx/sql_queries_for_forumlike_website/
5,roytrilok91,1539198307,9n2fks,0,1, ,learnSQL,How to find and set max degree of parallelism (MaxDOP) based on available CPU in SQL Server ?,1.0,http://ms-sqlserver-dba.blogspot.com/2018/10/how-to-find-and-set-max-degree-of.html
6,roytrilok91,1539248191,9n87m9,0,1, ,learnSQL,How to find out Who dropped login from SQL Server?,1.0,https://ms-sqlserver-dba.blogspot.com/2018/10/how-to-find-out-who-dropped-login-from.html
7,AskingForAFriend1738,1539307369,9nfy23,1,1,"Lupin has been fired. Assign his classes to Hagrid. Remove Lupin from the database.

&amp;#x200B;

Current code:

UPDATE Courses

SET Faculty = Users.LastName('16-Rhagrid')

WHERE LastName like 'Lupin'

  


Layout:

[https://imgur.com/a/oEkOmab](https://imgur.com/a/oEkOmab)

&amp;#x200B;

Thanks",learnSQL,How can I access a value from another table and set it as the foreign key?,1.0,https://www.reddit.com/r/learnSQL/comments/9nfy23/how_can_i_access_a_value_from_another_table_and/
8,seabee494,1539365357,9nma2b,4,1,"I have an existing table with several columns and several records. I am wanting to copy all the records from this table to a new identical table that I made (that has all similar columns except two of them are now primary keys). However, the existing table has some records that are null values in the two columns that I’m using as primary keys in the new table, as well as duplicate records in those two columns as well. How can I copy the existing table to the new one, ignoring any null values in either one of the two columns as well as duplicate records. ",learnSQL,Copy existing table into new table but ignore duplicates,1.0,https://www.reddit.com/r/learnSQL/comments/9nma2b/copy_existing_table_into_new_table_but_ignore/
9,jah-lahfui,1539535145,9o453a,7,1,"Hey guys a bit of a doubt where i need confirmation,

Entity 1 has the follow attributes: Name, Address, Age, Phone, Car.

The last was if the Entity 1 only exist if Entity 1 has a Car which makes the Car an entity since if Entity 1 has Car, Car will have Model and Year. Am i Right?

And will i do when creating tables? Creating Table Entity 1
(sid, Name (...), CAR) this last attribute makes sense to appear here? 
I'm very beginner here !",learnSQL,Doubt w/ tables,1.0,https://www.reddit.com/r/learnSQL/comments/9o453a/doubt_w_tables/
10,zohan360,1539767218,9owyzb,2,1,"Hi all,
I'm new here and new to SQL. I'm struggling endlessly with a task i've been given and hoping someone can help.

I have a table with lots of products and lots of repetitions of products coming from two tables, but they have different minimum order quantities. I need to select the ones with the best order quantities. here's an example of what I'm looking for.

itemCode        OEMCode           MinOrderQty    VLGX

BLW/B495       FILTER/LF3620    6                   NULL

DN/P55-2100  FILTER/LF3620    2                    NULL

FG/LF3620      FILTER/LF3620    0                   SO

Okay so the item codes are from different suppliers for the same OEM code. I need to select ONLY ONE row. The row I select must have a sensible MinOrderQty (not negative, not null etc), it must have a VLGX code of NULL, and of the lot I must select the smallest one.

So from the table above, I am looking for the middle one. It has a VLGX of null, a valid MinOrderQty, and it is the smaller of the two. Any idea?",learnSQL,"Multiple products, some with the same OEM code but difference order qty sizes. Need to select certain sizes",1.0,https://www.reddit.com/r/learnSQL/comments/9owyzb/multiple_products_some_with_the_same_oem_code_but/
11,nishanth_29,1540186714,9qav5s,0,1,"I need to merge the \`comment\` columns based on the row with the column name \`ID\` I had a SQL query in order to merge replies to the commented posts considering count values to the replied posts i.e, \`comment\_counts\`. I require to display nested comments within a single thread from the news feed post.

Below is my SQL query 

&amp;#x200B;

        SELECT DISTINCT ft.ID as ID, ft.userid, ft.content, ft.timestamp, ft.comments as comment_counts, ftc.comment, ftc.timestamp as comment_timestamp, uq.username, uq.avatar 
        FROM users uq, feed_item ft 
        LEFT JOIN feed_item_comment ftc ON ftc.postid = ft.ID 
        LEFT JOIN user_friends uf ON uf.friendid = ftc.userid 
        LEFT JOIN users u ON u.ID = uf.friendid WHERE uq.ID = ft.userid AND ft.userid
        IN 
        (SELECT u.ID FROM users u WHERE u.ID 
        	IN (SELECT uf.friendid FROM user_friends uf WHERE uf.status = '2' AND uf.userid = 1) 
        		OR 
        		u.ID 
        		IN (SELECT uf.userid FROM user_friends uf WHERE uf.status = '2' AND uf.friendid = 1) 
        		OR
        		u.ID = '"".$this-&gt;user-&gt;info-&gt;ID.""'
        ) ORDER BY ft.ID DESC, ftc.timestamp DESC

&amp;#x200B;

&amp;#x200B;

**Actual Result:**

This was the result obtained from the above query 

[Click Here](http://www.sqlfiddle.com/#!9/b71b68/3/0) 

*For the single news feed post with multiple comments displaying in separate feeds with nested comments.* 

*Although nested comments were displaying repeatedly. But with separate news feed thread*

&amp;#x200B;

&amp;#x200B;

**By using pivot Expected Result:**

[Click Here](https://dbfiddle.uk/?rdbms=mariadb_10.3&amp;fiddle=7a3847b43e4486836285bc4e0cc83c1b)

*I need to display only nested comments (not repeated) with only one single news post as a thread* 

*For instance for single news feed with the message ""How are you doing"" as I have commented with ""Fine"" and ""Not Good""*  

*For the post ""How are you doing"" it is repeating twice. Because I have commented twice with the text ""Fine"" and ""Not Good""*  

*How should I need to prevent nested comments repeated twice within the single news feed as a thread.*

    select id, userid,content,timestamp,comment_count,
    min(case when seq=1 then comment end) as comment1,
    min(case when seq=1 then comment_timestamp end) as commenttime1,
    min(case when seq=2 then comment end) as comment2,
    min(case when seq=2 then comment_timestamp end) as commenttime2
    from
    (
    select *,row_number() over(partition by id,userid order by comment_timestamp) as seq from 
    (SELECT DISTINCT ft.ID as ID, ft.userid, ft.content, ft.timestamp, ft.comments as comment_count, ftc.comment, ftc.timestamp as comment_timestamp, uq.username, uq.avatar FROM users uq,
    feed_item ft 
    LEFT JOIN feed_item_comment ftc ON ftc.postid = ft.ID
    LEFT JOIN user_friends uf ON uf.friendid = ftc.userid 
    LEFT JOIN users u ON u.ID = uf.friendid WHERE uq.ID = ft.userid AND ft.userid
    IN 
    (SELECT u.ID FROM users u WHERE u.ID 
    IN (SELECT uf.friendid FROM user_friends uf WHERE uf.status = '2' AND uf.userid = 1) 
    OR u.ID IN 
    (SELECT uf.userid FROM user_friends uf WHERE uf.status = '2' AND uf.friendid = 1) 
    OR
    u.ID = 1
    )ORDER BY ft.ID DESC, ftc.timestamp DESC)X)Y
    group by id, userid,content,timestamp,comment_count

&amp;#x200B;

**But for the Dynamic values for the replies &amp; timestamp to the posts i.e for comment\_count &gt; 2. How am I supposed to approach to your query Since I have appended** `(7, 2, 14, 'Not Bad After All your efforts!', '08:13:10', 0, 0, 0);` **to the** **feed\_item\_comment** **table** 

&amp;#x200B;

[**Click Here**](https://dbfiddle.uk/?rdbms=mariadb_10.3&amp;fiddle=ef5f82f345d1d4dcd871036535d3d468) 

For the feed\_item\_comment with comment as a reply value = `Not Good`  for the posted content value = `How are you doing?` from the feed\_item table It should be displayed appending to the next column as a part of dynamic replies to the commented post. Thereby creating a new column itself automatically to the replies to the post. Will, you could assist me in doing so?

1. **How am I suppose to write the Dynamic Pivot SQL query in order to merge the rows from results obtained in order to get the desired/expected results?**
2. **How to convert MariaDB 10.3 to MySQL 5.6 Both the hard coded columns which had been writing  Dynamic Pivot SQL query to MySQL 5.6**

&amp;#x200B;",learnSQL,An issue in writing dynamic pivot and converting MariaDB 10.3 to MySQL 5.6,1.0,https://www.reddit.com/r/learnSQL/comments/9qav5s/an_issue_in_writing_dynamic_pivot_and_converting/
12,captain-pluto,1540300492,9qoul1,0,1,"Hi, I'm having a basic problem with sql
I have a list of vehicles and with AJAX I am passing the id of this table and the id_client
What I need is to insert everything from the ""thing"" column (all with that subcategory_id) into the pieces_client column, along with the id_client

the tables would be like this (kinda) and the third table would be the result

vehicles
id | subcategory
:- | :-
35 | car
36 | bus
37 | plane

pieces
id | subcategory_id | thing
:- | :-
1 | 35 | wheels
2 | 35 | pedal
3 | 36 | stairs
4 | 37 | wings
4 | 37 | round windows

client_pieces
id | id_client | pieces_client
:- | :-
1 | 6 | wheels
2 | 6 | pedal
",learnSQL,Problem inserting data from a specific column of a table inside another column into a different table,1.0,https://www.reddit.com/r/learnSQL/comments/9qoul1/problem_inserting_data_from_a_specific_column_of/
13,AskingForAFriend1738,1540332956,9qtq4g,4,1,"SELECT \*

FROM Orders

INNER JOIN Customers

ON Orders.CustomerID=Customers.CustomerID;",learnSQL,How can I join two tables without having the ID repeat?,1.0,https://www.reddit.com/r/learnSQL/comments/9qtq4g/how_can_i_join_two_tables_without_having_the_id/
14,IDELTA86I,1540347026,9qvl63,2,1,"I am trying to match data from a temp table, to a joined table, I have 4 records, 3 genuine and 1 fake, i need the fake to appear in the query results, even if it's null or blank

I can get the Join to work, but every time i run the query, it skips over the fake record as it does not exist.

Is there a way to force it to return a NULL result?

&amp;#x200B;

    CREATE TABLE ##PROP(
    ID int IDENTITY(1,1) PRIMARY KEY,
    ExternalPropertyID int NULL);
    INSERT INTO ##PROP
    VALUES
    (000001), --Real
    (000002), --Real
    (111111),--Fake
    (000003) --Real
    SELECT ID, ##PROP.ExternalPropertyID, [ODS].[Property].[PropertyID] FROM ##PROP
    INNER JOIN [ODS].[PROPERTY] ON [ODS].[Property].[ExternalPropertyID] = ##PROP.ExternalPropertyID
    ORDER BY ID

&amp;#x200B;

&amp;#x200B;

This is what i expect to occur

|ID|ExternalPropertyID|PropertyID|
|:-|:-|:-|
|1|000001|1234|
|2|000002|5687|
|3|111111|NULL|
|4|000003|91011|

&amp;#x200B;

This is what returns

|ID|ExternalPropertyID|PropertyID|
|:-|:-|:-|
|1|000001|1234|
|2|000002|5687|
|4|000003|91011|

&amp;#x200B;

Appreciate any help :)

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;

&amp;#x200B;",learnSQL,Return Null if no data found - using MS-SQL,1.0,https://www.reddit.com/r/learnSQL/comments/9qvl63/return_null_if_no_data_found_using_mssql/
15,AskingForAFriend1738,1540413033,9r3esa,6,1,"I am trying to list all employees (names and IDs only) and their corresponding managers (names only). I have every piece except the manager names. Right now I'm only grabbing manager EmployeeIDs. How can I convert the EmployeeID to names? Thanks

[https://imgur.com/a/cDYpg4Y](https://imgur.com/a/cDYpg4Y)",learnSQL,How can I get the name from the corresponding ID in this query?,1.0,https://www.reddit.com/r/learnSQL/comments/9r3esa/how_can_i_get_the_name_from_the_corresponding_id/
16,IDELTA86I,1540438793,9r6rf4,1,1, ,learnSQL,Return most recent record based on date in column Version 2,1.0,https://www.reddit.com/r/SQL/comments/9r6qpr/return_most_recent_record_based_on_date_in_column/
17,Mjms93,1540462543,9r8yz5,0,1,"basically I have the following

Id | Time | Heart Rate
---------|----------|----------
Person1 | B1 | C1
Person1 | B2 | C2 
Person1 | B2 | C2 
Person1 | B2 | C2 ",learnSQL,Make multiple tables out of one,1.0,https://www.reddit.com/r/learnSQL/comments/9r8yz5/make_multiple_tables_out_of_one/
18,Mjms93,1540463292,9r91gw,4,1,"I'm an absolute beginner and basically I have the following, sorted by Id

Id | Time | Heart Rate
---------|----------|----------
Person1 | 13:00 | 90
Person1 | 13:40 | 94
Person1 | 15:00 | 86 
Person2 | 12:40 | 98 
Person2 | 13:00 | 99
Person3 | 14:00 | 88 
Person3 | 15:00 | 90 


And I want a following output or something similar

Id | Time | Heart Rate
---------|----------|----------
 | 13:00 | 90
Person1 | 13:40 | 94
 | 15:00 | 86 

Id | Time | Heart Rate
---------|----------|----------
Person2 | 12:40 | 98 
  | 13:00 | 99

Id | Time | Heart Rate
---------|----------|----------
Person3 | 14:00 | 88 
  | 15:00 | 90 

Is this póssible? For context, I need to make a prediction model based on time series but I have troubles getting the data for a python code ",learnSQL,Make Multiple Tables out of one,1.0,https://www.reddit.com/r/learnSQL/comments/9r91gw/make_multiple_tables_out_of_one/
19,Reborn-leech,1540641406,9rtpru,0,1,"Each time I want to use Sql plus, It opens the console, I want to have the white editor like this [one] (http://www.orafaq.com/wiki/images/thumb/f/f2/Sqlplus.jpg/400px-Sqlplus.jpg).",learnSQL,How to open the text editor on sql plus and not the console,1.0,https://www.reddit.com/r/learnSQL/comments/9rtpru/how_to_open_the_text_editor_on_sql_plus_and_not/
20,AskingForAFriend1738,1540680222,9rygmr,2,1,"I'm trying to create a view that contains student first name, last name, and name of courses they are enrolled in.

I know how to access first/last, but am stuck on getting the actual course name. I believe I have to use a join, just not too sure how to go about it.

Incomplete query. 

&amp;#x200B;

CREATE VIEW View\_1 AS

SELECT Users.FirstName, Users.LastName -- , course name here

FROM Users

&amp;#x200B;

&amp;#x200B;

DB Layout

[https://imgur.com/a/BVaPd6O](https://imgur.com/a/BVaPd6O)",learnSQL,How to get course names based on courseID in a view,1.0,https://www.reddit.com/r/learnSQL/comments/9rygmr/how_to_get_course_names_based_on_courseid_in_a/
21,already-redit,1540736842,9s3isb,6,1,"I'm having issues getting the Join clause to work. I have two tables: INDIVIDUAL and ADDRESS with the same ADDR\_ID column. Here's what I have so far:

&amp;#x200B;

SELECT first\_name, last\_name, addr\_id

FROM individual JOIN address

&amp;#x200B;

This keeps giving me incorrect syntax here 'ADDRESS' and I'm not exactly sure what to do at this point.",learnSQL,SQL joins,1.0,https://www.reddit.com/r/learnSQL/comments/9s3isb/sql_joins/
22,dinkiwinkii,1540764835,9s7aij,3,1,"select all the records from the **Customers** table plus all the matches in the **Orders** table. 

SELECT \*

FROM Orders

RIGHT JOIN Customers

ON Orders.CustomerID=Customers.CustomerID;

&amp;#x200B;

&amp;#x200B;

the page i was using  to learn sql says :

Error 1: could not prepare statement (1 RIGHT and FULL OUTER JOINs are not currently supported)

I just wanna make sure my logic is correct as well as the statements.",learnSQL,is this correct? I just wanna make sure there is nothing wrong with this SQL code.(very basic),1.0,https://www.reddit.com/r/learnSQL/comments/9s7aij/is_this_correct_i_just_wanna_make_sure_there_is/
23,ben_it,1540835116,9sfd93,6,1,"I know there's a list of SQL resources on Reddit already, but I thought I'd compile a list of introductory SQL resources from various places into one spot.

This article contains 59 tutorials for learning SQL. It has text-based tutorials, video tutorials, YouTube videos, paid courses, and interactive tutorials.

I've also included a shortlist which mentions the tutorials I recommend, influenced by Reddit.

Here's the full list:
https://www.databasestar.com/learn-sql/

Let me know if you have any additional resources or feedback on this list. Thanks!",learnSQL,59 Resources for Learning SQL,1.0,https://www.reddit.com/r/learnSQL/comments/9sfd93/59_resources_for_learning_sql/
24,BI_Hokie,1540838548,9sfxnq,1,1,"When I first started learning SQL, I had a fairly easy time grasping the basic concepts. But when introduced to the subquery, I had a hard time grasping the concept. I am more of a visual learner, and it was hard for me to visualize the concept of a query within a query. A colleague of mine put together a simple tutorial of the subquery that I found very helpful and thought I would pass along to anyone who may find it useful.

The tutorial visualizes a subquery with an interactive GIF that goes step by step through the query to the final result. What I found most useful is the GIF goes from the initial table, displays the subquery table, and then completes the final query. While the example problems are very basic, I found that visualizing the subquery table helped me a ton in understanding the steps between the main table and the final result. 

I have attached a link to the tutorial [here](https://dataschool.com/how-sql-subqueries-work/), and would love to hear if anyone finds this useful or has any comments regarding the tutorial!",learnSQL,Understanding how SQL Subqueries Work Visually with Animated GIFs,1.0,https://www.reddit.com/r/learnSQL/comments/9sfxnq/understanding_how_sql_subqueries_work_visually/
25,dinkiwinkii,1541032912,9t4r50,1,1,"(I want the results of this code but in the country Mexico)

this is the code and you can test it here: [https://www.w3schools.com/sql/trysql.asp?filename=trysql\_select\_all](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)

&amp;#x200B;

SELECT Orders.OrderDate, Customers.CustomerName

FROM Orders

INNER JOIN Customers ON Orders.CustomerID=Customers.CustomerID

ORDER BY Orders.OrderDate ASC

&amp;#x200B;

the problem is when i want to add WHERE.

for example adding (WHERE Country = 'Mexico') doesn't work.

any ideas,?

&amp;#x200B;",learnSQL,How may i add WHERE in this code ?,1.0,https://www.reddit.com/r/learnSQL/comments/9t4r50/how_may_i_add_where_in_this_code/
26,AskingForAFriend1738,1541384942,9u9o2l,9,1,"There are repeats in the table since a student can be enrolled in multiple courses. Will the if statement check through each occurrence where the StudentId in the table matches the @studentId input parameter, or will it stop after the first hit? Thanks

DB: [https://imgur.com/a/6DHlcwV](https://imgur.com/a/6DHlcwV)

Query Fragment: 

	IF (SELECT CourseId FROM CourseEnrollment WHERE @studentId = StudentId) = @courseId

		BEGIN

			print 'The student is already enrolled'

		END

&amp;#x200B;

Also, are my parens in the right places? I am trying to grab the CourseId and compare it to @courseId.",learnSQL,Will this search through every instance WHERE @studentId = StudentId?,1.0,https://www.reddit.com/r/learnSQL/comments/9u9o2l/will_this_search_through_every_instance_where/
0,ayeandone,1536353739,9dygza,2,4,"I have a SQL query that orders by date.

    SELECT people.namefirst, people.namelast, people.playerid, halloffame.yearid, collegeplaying.playerid FROM 
    people 
    INNER JOIN halloffame ON people.playerid = halloffame.playerid INNER JOIN collegeplaying ON 
    collegeplaying.playerid = people.playerid INNER JOIN schools ON collegeplaying.schoolid = schools.schoolid 
    WHERE 
    schools.schoolstate = ‘CA’ order by halloffame.yearid DESC;

So I'm ordering by date in this query. However how would I break ties on date and order by schoolid, playerid?",learnSQL,How to break ties in order by,1.0,https://www.reddit.com/r/learnSQL/comments/9dygza/how_to_break_ties_in_order_by/
1,RebelSaul,1536541100,9ei7fc,3,3,"Hello, 

I'm trying to get my head around this query. It's nested and correlated but I get lost in the middle: 

    
    SELECT * FROM Movies WHERE Length_minutes &gt;= (SELECT Length_minutes FROM Movies p1 WHERE
    (SELECT count(*) FROM Movies p2 WHERE p2.Length_minutes &gt;= p1.Length_minutes) &lt;=
         (SELECT 0.1 * count(*) FROM Movies)
    );
    

I see where it's getting the number for the top ten cut off but I don't get the greater than and less than comparison. What is it exactly comparing to filter? 

&amp;#x200B;

Much thanks! ",learnSQL,Can someone help explain this top percentile query for me?,1.0,https://www.reddit.com/r/learnSQL/comments/9ei7fc/can_someone_help_explain_this_top_percentile/
2,Awais22000,1536578173,9em574,0,3, ,learnSQL,SQL View Create Alter &amp; Drop,1.0,https://bitalksbi.com/sqlview/
3,eran0801,1536644508,9euusp,0,1,"I have 3 tables author, title, and authorTitle. I need to return a result from tbl author that depends on data from tbl title. And these two tbls are related by tbl authorTitle.

tbl author contains authorID

tbl authorTitle contains authorID and titleID

tbl title contains titleID

Looking for some direction on how to return a set of data from a table once removed!",learnSQL,Using three tables,1.0,https://www.reddit.com/r/learnSQL/comments/9euusp/using_three_tables/
4,Vendredi46,1537155544,9ggzaq,0,7,"For a passed homework, I was required to work with data to build an relationship model. However, we haven't been taught how to actually build it in object tables, so likely what I thought of is inaccurate. I've built an Sql diagram based on the following requirements:

•	The firm has a number of sales offices in several states. Attributes of sales office include Office_Number (identifier/key) and Location. 


•	Each sales office is assigned one or more employees. Attributes of employee include Employee_ID (identifier/key) and Employee_Name. An employee must be assigned to only one sales office. 


•	For each sales office, there is always one employee assigned to manage that office. An employee may manage only the sales office to which he/she is assigned. 


•	The firm lists property for sale. Attributes of property include Property_ID (iden¬tifier) and Location. Components of Location include Address, City, State, and Zip_Code. 


•	Each unit of property must be listed with one (and only one) of the sales offices. A sales office may have any number of properties listed, or may have no proper¬ties listed. 


•	Each unit of property has one or more owners. Attributes of owners are Owner_ID (identifier) and Owner_Name. An owner may own one or more units of property. An attribute of the association between property and owner is Percent_Owned. 
 

My diagram:

https://drive.google.com/file/d/1vhlooqyH5j_whgD4fQxVhNaq7ohf2dxo/view?usp=sharing

So before I proceed, I wonder if I correctly represented these requirements in my ER?

Next, using (still learning) Oracle Sql Developer, I tried to transfer these into tangible database objects, and I have the following questions:

https://drive.google.com/file/d/1vOMOliq7pv5IrAT8pnEFvJokcNu3G1Av/view?usp=sharing


1. How is a multivalue field represented in a table object? Is it a separate table called ""Location"".

2. How do you represent optional tables? Is this done by making the primary key nullable?

3. In my relationship between the office and the employee, how am i supposed to translate this sort of double connection? I thought it would be to create a foreign key of the sub table to reflect the requirements above. (One office, many employees, one of which is a manager)

4. Many to many is resolved as a linking table, correct? Though, does it connect exclusively to the linking table, or it also connects to the final sub table as it is in my object model.


Thanks in advance!
 (Cross posted to Learn Programming)",learnSQL,Having trouble translating an SQL diagram to actual tables,1.0,https://www.reddit.com/r/learnSQL/comments/9ggzaq/having_trouble_translating_an_sql_diagram_to/
5,PalmettoSpur,1537299966,9gy32n,2,3,"We’re calculating the number of days an employee worked.  We need:
1) Employees who started working at the beginning of this fiscal year who are still working up to this present date (GETDATE()), and

2) Employees who started working at the beginning of this fiscal year and resigned BEFORE today (emp.end_date)

This is just one column.  We have about 20 other columns we’re pulling in, so we’re using a nested select to create this one column.

Right now, our nested select successfully pulls in everyone, but it assumes everyone is still working.  We need to add in a CASE statement to find out when people have resigned before today (GETDATE() &gt; emp.end_date) and make the correct calculation.

Our nested query looks like:
(SELECT COUNT(prc.prcd_type) FROM prcald AS prc WHERE prc.prcd_date BETWEEN emp.fy_date AND GETDATE())

That gets us our currently employed.  We just need to somehow say GETDATE() &gt; emp.end_date?  Run the same nested SELECT as above, but between emp.fy_date and emp.end_date.

I’ve tried building this about five different ways, but they’ve all failed.  Any help would be mich appreciated!",learnSQL,Case statement inside a nested select?,1.0,https://www.reddit.com/r/learnSQL/comments/9gy32n/case_statement_inside_a_nested_select/
6,kovlin,1537313110,9gzx83,1,7,"I need to prepare for an advanced database course as part of an undergrad degree. More over, my career intention will have me using SQL heavily, so I need to know this for more than just passing the class. 

While I got an A in the introductory database course, I was never confident in my ERD modeling. Is there a good way to practice this skill?",learnSQL,What’s the best way to practice ERDs?,1.0,https://www.reddit.com/r/learnSQL/comments/9gzx83/whats_the_best_way_to_practice_erds/
7,222Botany,1537434161,9hdp79,2,7,"Im trying brush up on my SQL skills by building a data from some sports statistics data I have got.

I have a few different tables of player stats, game conditions etc...

The issue that i have is that the player lineups are all stored with a line per game and all the positions listed across the page. I need to join this to another table of player stats so i need to do some sort of pivot/unpivot.


GameID | HomeTeam | AwayTeam | Player1 | Player2 | etc...
---|---|----|----|----|----
123 | dragons| tigers| playername | playername | etc...
456| cats | eagles | playername | playername | etc...
789| dogs| bears| playername | playername | etc...


I need to convert the above to this...


GameID | HomeTeam | AwayTeam |Player |
---|---|----|----
123 | dragons| tigers| player1name | 
123 | dragons| tigers| player2name | 
123 | dragons| tigers| player3name |
456| cats | eagles | player1name | 
456| cats | eagles | player2name | 


Any help would be appreciated?

",learnSQL,Help with Pivot/Unpivot,1.0,https://www.reddit.com/r/learnSQL/comments/9hdp79/help_with_pivotunpivot/
8,JacksonBrnBoxerBoy,1537550422,9hs3bq,3,2,"I need help, I'm new to SQL and I'm stuck in a bad way. I'm taking a class from Stone Creek Learning. It's perry good. So I went step by step to Install MYSQL Community server and now I'm stuck. I can get cmd pomet to recognize the path I change the path in environment variables to the bin folder inside MYSQL  program file (or at least I think did) but I go to cmd to recognize the prompt command it keeps coming back an err. I'm not really sure if I'm asking the right question or not, because I'm new and very lost. Could y'all please help me.",learnSQL,Newbie needs help,1.0,https://www.reddit.com/r/learnSQL/comments/9hs3bq/newbie_needs_help/
9,UF8FF,1537557154,9ht3zi,1,2,"Hey everyone,

My girlfriend is currently going through a SQL course and frankly the lecture notes the professor provided aren't too in-depth so I am taking a stab at helping her make sense of it but I'm no SQL genius so we could use some help. Could someone check my logic here?

&amp;#x200B;

Primary Key: an attribute that helps define the record.

Foreign Key: A Key in another record that is the primary from another record.

Partial Key: Only part of a composite key

Composite Key: One or more fields \*which include a foreign key\* to define the record

&amp;#x200B;

The example we have: (italics denote primary key, Strike through denotes Foreign key)

&amp;#x200B;

EMPLOYEE

&amp;#x200B;

|*employee\_ID*|employee\_Name||
|:-|:-|:-|


&amp;#x200B;

DEPENDENT

&amp;#x200B;

|*first\_Name*|*middle\_Initial*|*last\_Name*|~~employee\_ID~~|date\_Of\_Birth|gender|
|:-|:-|:-|:-|:-|:-|


&amp;#x200B;

Now if I take first\_Name and middle\_Initial, those together are just a partial key, right? And since a record can only have one primary key the following is a ""composite key"" which is the primary key for that record; right?

|*first\_Name*|*middle\_Initial*|*last\_Name*|~~employee\_ID~~|
|:-|:-|:-|:-|


&amp;#x200B;

The DEPENDENT is a weak entity because the composite key requires employee\_ID, is that right?

&amp;#x200B;

Thank you for taking the time to help us out!",learnSQL,"Primary, Partial, Composite keys and entities help",1.0,https://www.reddit.com/r/learnSQL/comments/9ht3zi/primary_partial_composite_keys_and_entities_help/
10,knotordie,1537786700,9igxyd,2,6,"Hi, I have this string - 

    H$Time (22)$QuarterDayNumber (92)

, and I need to substring only everything inside first '$' and second '$', in this case I need to get only this - Time (22). What are the different ways of dividing these types of strings? I know there is a way with using SUBSTRING and CHARINDEX functions, and possibly also PATINDEX, but are there any more ways? And which is the most optimal?

&amp;#x200B;

Thanks a lot",learnSQL,Substring of a string - the easiest way?,1.0,https://www.reddit.com/r/learnSQL/comments/9igxyd/substring_of_a_string_the_easiest_way/
11,throwaway2015010,1537800049,9iih4h,0,1,"I have a db2 oracle assignment due and I am unsure how to answer some of the questions. 

I have included the questions here with the questions I am not sure about in bold. 


**Add the primary key constraints to Boats, Submarines and battles.** 

How many boats were damaged or destroyed in time between the times when the Australian and New Zealand boats were attacked? 


List the commander who have damaged or destroyed 4 or more boats.

List the heaviest boat damaged or destroyed from each country.

Which commander had the longest time between attacks?

**Which commander had the shortest time between attacks?**

Show the submarine and name of boat attacked for the last attack in 1943.

Show the submarine and name of ship for the 8th Canadian ship attacked.

List the total tons of boats sunk or damaged for each of the 4 countries

**List the total number of boats sunk or damaged for each of the 4 countries , order from least to greatest number of boats.**


List the last boats (by date) sunk or damaged for each of the 4 countries.

List the commander with the last boats sunk or damaged in the war (by date).

sql for table [table](https://codeshare.io/5z9nrb)",learnSQL,Help with homework,1.0,https://www.reddit.com/r/learnSQL/comments/9iih4h/help_with_homework/
12,roytrilok91,1537987730,9j5bsd,0,1, ,learnSQL,How can non-sysadmin user change their own password in SQL Server?,1.0,https://ms-sqlserver-dba.blogspot.com/2018/09/how-can-non-sysadmin-user-change-their.html
13,YZYog,1538343126,9ka80c,5,4,"1.	List all employee names in the following format: LAST NAME, first name. (Uppercased last name, followed by comma and space, followed by lowercased first name).

This is what I have:

SELECT UPPER(LastName), LOWER(FirstName)
FROM Employees

It prints the Last name in upper case and first name in lowercase, but  I am not sure how to make it appear in a single string with the ', '",learnSQL,How Can I Do This?,1.0,https://www.reddit.com/r/learnSQL/comments/9ka80c/how_can_i_do_this/
14,analytics_science,1538508342,9ktqpr,4,1,"Hi all, I'm a teacher at a local university, teaching in the evenings while working full time as a data scientist. I teach both SQL and python to newbies. Having been in a technical field for decades, I'm having trouble connecting to students and understanding their needs.

My question is -- What do you look for when trying to learn SQL? 

* Are you looking for a platform that is simple to setup (or can run off your browser)?
* Are you looking for guided tutorials?
* Are you looking for problem sets and lots of them?
* Are you looking for a platform that's similar (if not identical) to what industry uses?

What features in platforms makes you choose to sign up with them?

Thanks in advance.",learnSQL,[QUESTION] What do you look for in a platform to teach you SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/9ktqpr/question_what_do_you_look_for_in_a_platform_to/
15,AskingForAFriend1738,1538511376,9ku72t,2,1,[https://imgur.com/a/Mm4cA7x](https://imgur.com/a/Mm4cA7x),learnSQL,Is this how I would find average for all the rows?,1.0,https://www.reddit.com/r/learnSQL/comments/9ku72t/is_this_how_i_would_find_average_for_all_the_rows/
16,roytrilok91,1538546742,9kyk2n,0,1, ,learnSQL,What is Dedicated Admin Connection (DAC)? How to Establish Dedicated Administrator Connection(DAC) in SQL Database Server ?,1.0,http://ms-sqlserver-dba.blogspot.com/2018/09/what-is-dedicated-admin-connection-dac.html
17,BI_Hokie,1538672929,9ldt8j,2,1,"When I first starting learning SQL, I struggled with understanding JOINs as many of us do. I am more of a visual learner, and it was difficult for me to picture what is going on between tables that are joined. 

I came across this resource that visualizes JOINs using GIFs and it helped me a ton. It goes step by step comparing the two tables that are being joined and what the output tables looks like using visual indicators and colors. Feel free to check them out and let me know if they are useful!

[INNER JOIN](https://dataschool.com/common-sql-join-types-inner-join/)

[LEFT JOIN](https://dataschool.com/common-sql-join-types-left-right-join/)

[FULL OUTER JOIN](https://dataschool.com/common-sql-join-types-full-outer-join/)

[UNION](https://dataschool.com/common-sql-join-types-union/)",learnSQL,Learning SQL Joins Visually with GIFs,1.0,https://www.reddit.com/r/learnSQL/comments/9ldt8j/learning_sql_joins_visually_with_gifs/
18,Vervain7,1538686162,9lfrvk,1,1,"I am not sure if SQL is the best method for what i am trying to do but I assume it is. No one on my team knows SQL and i do not know it well enough to make this happen. I am pulled an excel spreadsheet into Access , as i do not have SQL Server. I have never done this in Access nor have much experience with it. 

&amp;#x200B;

I have an excel spreadsheet of some data.  some columns are Department\_Name  and Service\_Date and Customer\_ID

&amp;#x200B;

I am trying to pull all data that occurs in X Department\_Name when there is a Service\_date that occurred within the previous 6 months in any other department name for the same Customer\_Id.

&amp;#x200B;

I can not figure it out. I tried filtering out X Department\_name, then joining it on customer\_Id and using a where statement on the date but i get a 1 to many relationship. For example the customer had many Service\_dates in another department so it counts the service in X Department many times (non unique).

&amp;#x200B;

Any help is appreciated. Thank you 

&amp;#x200B;",learnSQL,sql help non homework,1.0,https://www.reddit.com/r/learnSQL/comments/9lfrvk/sql_help_non_homework/
0,sarfraz123,1533650212,95bujh,1,2,"Hello!

I'm working out of Oracle and I am looking to return multiple rows out of my sub query.  

Can anyone help me with this. This is what I have and its telling me I'm missing a ""right parenthesis"" but for all I know this can be all jacked up (still new to this)  

Select  

ID,  

(Select  

Table1\_code || ' - ' || Table2\_desc  

From  

Table1,  

Table2  

Where  

Table1\_code = Table2\_code  

And  

Table1\_seq\_no   

IN  

(Select  

Table1\_code || ' - ' || Table2\_desc  

From  

Table1,  

Table2  

Where  

Table1\_code = Table2\_code  

LIMIT 10  

Any help would be greatly appreciated. I'm looking to return more than one ""Table1\_code and Table2\_desc IF it exists, if it doesn't exist it doesn't have to bring back anything.  

Thank you LOTS!",learnSQL,Help with returning Multiple Rows!,1.0,https://www.reddit.com/r/learnSQL/comments/95bujh/help_with_returning_multiple_rows/
1,sarfraz123,1533651349,95c04c,2,2,"Hello!

I'm working out of Oracle and I am looking to return multiple rows out of my sub query.

Can anyone help me with this. This is what I have and its telling me I'm missing a ""right parenthesis"" but for all I know this can be all jacked up (still new to this)

Select

ID,

(Select

Table1\_code || ' - ' || Table2\_desc

From

Table1,

Table2

Where

Table1\_code = Table2\_code

And

Table1\_seq\_no

IN

(Select

Table1\_code || ' - ' || Table2\_desc

From

Table1,

Table2

Where

Table1\_code = Table2\_code

LIMIT 10

Any help would be greatly appreciated. I'm looking to return more than one ""Table1\_code and Table2\_desc IF it exists, if it doesn't exist it doesn't have to bring back anything.

Thank you LOTS!",learnSQL,Help returning back multiple rows!,1.0,https://www.reddit.com/r/learnSQL/comments/95c04c/help_returning_back_multiple_rows/
2,LeprechaunBeard,1533665239,95e0xs,2,6,"Hey everyone!

I'm currently working with multiple Excel sheets that are connected through PowerQuery and loaded into PowerBI. I collect product information from multiple marketplaces for analysis. I believe there is a better, more scaleable way to design this, but don't know where to start. I have beginner experience querying databases, but have never set up a data warehouse or database.

Do you have any suggestions for how to get started with this?

Thanks!",learnSQL,Database Design Help,1.0,https://www.reddit.com/r/learnSQL/comments/95e0xs/database_design_help/
3,baconpopsicle23,1533776890,95rz4l,4,8,"Hello everyone, I am currently taking Databases 1 and I am sucking bad at it... The code I need help with is last weeks homework which I couldn't get to work, so, I thought I'd just wait for this week's answer sheet for that HW.. Well, turns out I can't even get the answer sheet schema to work; I keep getting ""Column 'librarycard' cannot be null"" even after I changed the NOT NULL to NULL for librarycard. Can anyone help me understand what I have to do to allow librarycard column to be NULL?

Thank you!

    
    create table book (
    title varchar(60) not null,
    author varchar(40),
    cost decimal(10,2),
    isbn_number integer not null
    );
    alter table book add unique (isbn_number);
    alter table book add primary key (isbn_number);
    create table bookcopy (
    Isbn_number integer,
    publicationdate date,
    sequence integer);
    alter table bookcopy add primary key (isbn_number, sequence);
    alter table bookcopy add CONSTRAINT bookcopy_uniq UNIQUE (ISBN_number, sequence);
    alter table bookcopy add CONSTRAINT book_fkey FOREIGN KEY (isbn_number) REFERENCES book (isbn_number)
    ON DELETE CASCADE;
    create table borrower (
    librarycard integer null,
    name char(40),
    address char(40),
    postalcode char(20),
    phonenumber char(20),
    membershipdate date);
    alter table borrower add primary key (librarycard);
    create table librarian (
    librarianid integer,
    name char(40),
    phonenumber char(20),
    supervisor integer);
    alter table librarian add primary key (librarianid);
    create table booklended (
    librarycard integer null,
    checkoutdate date not null,
    returndate date,
    ISBN_number integer not null, 
    sequence integer not null,
    librarianid integer not null
    );
    alter table booklended add PRIMARY KEY (ISBN_number, sequence, librarycard, checkoutdate);
    alter table booklended add CONSTRAINT booklended_uniq UNIQUE (ISBN_number, sequence, librarycard,
    checkoutdate);
    alter table booklended add CONSTRAINT borrower_fkey FOREIGN KEY (librarycard) REFERENCES borrower
    (librarycard) ON DELETE CASCADE;
    alter table booklended add CONSTRAINT librarian_fkey FOREIGN KEY (librarianid) REFERENCES librarian
    (librarianid) ON DELETE CASCADE;
    alter table booklended add CONSTRAINT bookcopy_fkey FOREIGN KEY (isbn_number, sequence) REFERENCES
    bookcopy (isbn_number, sequence); 
    insert into book (isbn_number, title, author, cost) values (1441438, 'Alice in Wonderland','Lewis
    Carroll',7.95);
    insert into book (isbn_number, title, author, cost) values (6006374, 'A First Course in Database Systems
    (3rd ed.) ', 'Jeffrey Ullman',99.49);
    insert into book (isbn_number, title, author, cost) values (3523323, 'Database System Concepts ',
    'Abraham Silberschatz',119.67);
    insert into book (isbn_number, title, author, cost) values (1429477, 'Grimm’s Fairy Tales', 'Jacob
    Grimm',26.99);
    insert into book (isbn_number, title, author, cost) values (1486025, 'A Tale of Two Cities' ,'Charles
    Dickens',7.95);
    insert into book (isbn_number, title, author, cost) values (1853602, 'War and Peace','Leo Tolstoy',7.99);
    insert into book (isbn_number, title, author, cost) values (1904129, 'The Scarlet letter','Nathaniel
    Hawthorne',7.95);
    insert into book (isbn_number, title, author, cost) values (1593832, 'Pride and Prejudice', 'Jane
    Austen',7.95);
    insert into book (isbn_number, title, author, cost) values (1538243, 'Pride and Prejudice','Jane
    Austen',7.95); 
    
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1441438 ,1, '1997-05-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (6006374 ,1, '2007-10-06');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (6006374 ,2, '2007-10-06');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (3523323 ,1, '2010-01-27');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1429477 ,1, '2004-02-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1429477 ,2, '2004-02-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1429477 ,3, '2004-02-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1429477 ,4, '2004-02-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1486025 ,1, '2010-12-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1853602 ,1, '2007-09-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1853602 ,2, '2010-09-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1904129 ,1, '2009-10-01');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1593832 ,1, '2004-09-20');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1538243 ,1, '2004-09-20');
    insert into bookcopy (isbn_number, sequence, publicationdate) values (1538243 ,2, '2004-09-20'); 
    
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Samil Shah','123 Home st',62989, '555-1212', '2008-02-01');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Tim Jones', '3435 Main st.',54232,'555-2934','2011-07-13');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Sue Smith', '2176 Baker st.',43542,'555-6723','2005-05-10');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Jeff Bridges', '176 Right st. ',28460,'555-1745','2010-06-20');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Steve Smith', '435 Main St. ',28454,'555-6565','2005-05-18');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Arun Goel', '34 Home St. ',56234,'555-4889','2008-03-15');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Jane Doe', '65 Water St. ',42358,'555-4581','2011-09-07');
    insert into borrower (librarycard, name, address, postalcode, phonenumber, membershipdate) values
    (null, 'Jim Jones', '23 Hill Drive',85423,'555-7891','2010-11-23'); 
    
    insert into booklended (librarycard, checkoutdate, returndate, isbn_number, sequence, librarianid)
    values (2,'2010-12-01','2013-10-20',1441438,1,1);
    insert into booklended (librarycard, checkoutdate, returndate, isbn_number, sequence, librarianid)
    values (5,'2010-12-01','2010-10-01',6006374,2,2);
    insert into booklended (librarycard, checkoutdate, returndate, isbn_number, sequence, librarianid)
    values (2,'2010-12-01','2012-01-20',3523323,1,2); 
    insert into booklended (librarycard, checkoutdate, returndate, isbn_number, sequence, librarianid)
    values (7,'2010-12-01','2015-01-27',1429477,1,3);
    insert into booklended (librarycard, checkoutdate, returndate, isbn_number, sequence, librarianid)
    values (6,'2010-12-01','2015-07-01',1853602,2,4);
    insert into booklended (librarycard, checkoutdate, returndate, isbn_number, sequence, librarianid)
    values (3,'2010-12-01','2015-08-23',1904129,1,2); ",learnSQL,Can't figure this out! :(,1.0,https://www.reddit.com/r/learnSQL/comments/95rz4l/cant_figure_this_out/
4,SuperSinestro,1533830371,95xp4k,3,5,"First I would like to say that I am aware that i could do a different stored procedure for each table, but i really wanted to accomplish this dynamically.  So here is the stored procedure. 

If i were to choose say 'Quicksilver' for my RecipeName, it will throw a SqlException that says 'Quicksilver' is not a valid column name.  

    CREATE PROCEDURE ViewRecipeByName(
    @Recipe VARCHAR(50),
    @TableName VARCHAR(50)
    )
    AS
    DECLARE @SQL NVARCHAR(4000)

    SET @SQL = 
    'SELECT 
         RecipeName, 
         RecipeLevel, 
         NumberCrafted, 
         Difficulty, 
         Durability, 
         MaximumQuality, 
         Crystals, 
         Materials 
    FROM ' + @TableName + ' where RecipeName = ' + @Recipe
    
    EXEC SP_EXECUTESQL @SQL

Now I assume that a few of you might not be familiar with C#, but i'm going to go ahead and post the two methods here as well so you can get an idea of what i'm trying to accomplish here.

     private static void AlchemistRecipes()
            {
                DataAccess da = new DataAccess();
                XIVCrafting item = new XIVCrafting();
                string TableName = ""AlchemistRecipes"";
                Console.WriteLine(""Enter a recipe"");
                string Recipe = Console.ReadLine();

                da.ViewRecipeByName(Recipe, TableName);

                Console.WriteLine($""{item.name} | {item.Crystals} | 
    {item.Materials}"");
            Console.ReadLine();
             }

And my Data Access


    public XIVCrafting ViewRecipeByName(string RecipeName, string TableName)
            {
                XIVCrafting Crafting = new XIVCrafting();
                using (SqlConnection lConnection = new 
    SqlConnection(_ConnectionString))
                {
                    SqlCommand lCommand = new SqlCommand(""ViewRecipeByName"", 
    lConnection);
                lCommand.CommandType = CommandType.StoredProcedure;
                lCommand.Parameters.AddWithValue(""@Recipe"", RecipeName);
                lCommand.Parameters.AddWithValue(""@TableName"", TableName);
                try
                {
                    lConnection.Open();
                    SqlDataReader Reader = lCommand.ExecuteReader();

                    while (Reader.Read())
                    {
                        Crafting = new XIVCrafting
                        {
                            name = Reader.GetString(0),
                            RecipeLevel = Reader.GetString(1),
                            NumberCrafted = Reader.GetString(2),
                            Difficulty = Reader.GetString(3),
                            Durability = Reader.GetString(4),
                            MaximumQuality = Reader.GetString(5),
                            Crystals = Reader.GetString(6),
                            Materials = Reader.GetString(7)
                        };
                    }
                }
                catch(SqlException ex)
                {
                    StreamWriter lWriter = new StreamWriter(_ErrorLog, true);
                    lWriter.Write(""{0} || {1} {2}"", DateTime.Now, ex.Message, Environment.NewLine);
                    lWriter.Close();
                }
                catch(Exception ex)
                {
                    StreamWriter lWriter = new StreamWriter(_ErrorLog, true);
                    lWriter.Write(""{0} || {1} {2}"", DateTime.Now, ex.Message, Environment.NewLine);
                    lWriter.Close();
                }
                finally
                {
                    lConnection.Close();
                }
                return Crafting;
            }

",learnSQL,"My first run at parameterized sql and i'm getting 'Invalid Column Name' but it's on a value parameter, not a column.",1.0,https://www.reddit.com/r/learnSQL/comments/95xp4k/my_first_run_at_parameterized_sql_and_im_getting/
5,bzarnal,1533887347,964yr2,1,2,"I am just practising a bit of SQL, and ran into such a command:    

  (This causes infinite insertions if the primary key constraint is absent.)

insert into relation select \* from relation; 

The explanation relating this says(in my book) that: we perform some selections as the insertions is being done, and that evaluating the select statement beforehand would avoid such issues.    

But I don't understand the order in which this is evaluated. First, a the subquery select \* from relation is evaluated, right? And then the resulting query is slapped into 'relation' table, right? Then how is it causing infinte insertions, if the primary key constraint is absent?",learnSQL,infinite insertions using select *,0.76,https://www.reddit.com/r/learnSQL/comments/964yr2/infinite_insertions_using_select/
6,1playerpiano,1533957846,96dj1g,3,3,"I am looking at [this](http://www.vertabelo.com/blog/technical-articles/again-and-again-managing-recurring-events-in-a-data-model) tutorial about how to represent recurring calendar events in a database. I have made some modifications to allow for things like ""repeat weekly on Monday, Wednesday, and Friday"". The database diagram is [here](https://imgur.com/a/518BoGr)

My problem is this: I can't seem to wrap my head around how to query the database for calendar events that fall within a given week.

My application automatically shows the current week, so how would I query the database to get only the events for that week? And then, users can click next or back to jump forward or backward by one week, so I would need to re-query the database for a new timeframe.

Any help with the logic would be greatly appreciated.",learnSQL,How to query a database to get calendar events for a specific week (details inside),1.0,https://www.reddit.com/r/learnSQL/comments/96dj1g/how_to_query_a_database_to_get_calendar_events/
7,William_B_Skates,1533979024,96fbts,4,25, ,learnSQL,"Hi, I'm the author of SQL: Programming for Beginners &amp; Intermediates and my book is free for a limited time from 11/08 to 15/08. Share your thoughts!",0.81,https://www.amazon.com/dp/B07GBGYYCN
8,JadedPoint,1534030285,96kvqa,1,5,"I am learning SQL and MDX for one of my courses and have 1 question that is stumping me. Essentially I think I just need to create a concatenated dimension column of two columns, but can't figure out how to do this in MDX. Any thoughts?

For each product list quantity sold by suppliers in Madison to consumers in Chicago versus quantity sold by suppliers in Chicago to consumers in Madison (result columns will be: product name, quantity Madison\_Chicago, quantity Chicago\_Madison? ",learnSQL,"New to SQL/MDX - Can you ""concatenate""?",1.0,https://www.reddit.com/r/learnSQL/comments/96kvqa/new_to_sqlmdx_can_you_concatenate/
9,Mikeylatz,1534384707,97o88v,7,20,"* Want to learn SQL for data science. 
* Complete beginner to CS. 
* Ultimately would love to use the same online site to then learn Python, but not required. 
* Trying to get a job in data analysis. 
* Any good recommendations would be unbelievably appreciated because I can't find a good program and tutorials without paying are hard to come by. 
* Not looking for bootcamps or anything with a start date. Would like something that I can access ASAP and with no deadlines or enrollment dates

Thank you!!!",learnSQL,Best Online Program To Learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/97o88v/best_online_program_to_learn_sql/
10,PalmettoSpur,1534681556,98jvzx,2,2,"Greetings!

I posted here about a week ago on what type of database to build for a project.  I ended up going with MySQL.

I'm trying to figure out how to add/delete an item from a favorites menu with a single click.

As an example, I'm building with React/Redux on the front-end, and it's connecting to Express/Node/MySQL on the back-end.  When a user sees a button for something they like and hit the ""favorite"" button, I want it to add it to their favorites in the database.  If it's already in the database, I want to remove it from their favorites in the database.  (The heart will light up red when it's favorited, so they'll know when they do and don't have it stored in favorites.)

My question is, how do I do this?  How do I set it up so that it'll add and/or remove a favorite with a click?  I know the SQL query to insert an item, and I know the SQL query to remove an item.  But how do I give Node the logic to figure out which it needs to do?

My database structure looks (more or less) like:

    Users:
    * user_id (PK)
    * name
    * city
    etc.

    Bicycles:
    * bicycle_id (PK)
    * name
    * city
    * state
    etc.

    UserFavorites:
    * user_id
    * bicycle_id

Thanks in advance!",learnSQL,Adding/deleting on a click?,1.0,https://www.reddit.com/r/learnSQL/comments/98jvzx/addingdeleting_on_a_click/
11,smurfseverywhere,1534781556,98uy1m,3,2,"Hi Everyone

I'm relatively new to SQL (I've done basic queries but nothing to complex) and I'm trying to reformat some data to fit visualization purposes but I'm really struggling. 

I currently have a table with a record number, a value, and a start and end date. I want to turn it into a table with a record number and a ""running date"" - which is all the days including and between the start and end date - that splits the value. So move from:

|Record | Start Date | End Date|Value|

|XYZ | 01/01/2018|1/3/2018|$3|

to:

|Record | Running Date | Daily Value|

|XYZ | 01/01/2018|$1|

|XYZ | 01/02/2018|$1|

|XYZ | 01/03/2018|$1|

The hard part for me is taking the range of dates and converting that to rows. Does anyone have any ideas on how I can go about this?",learnSQL,New to SQL; Trying to turn date range into multiple rows with a day in each row,1.0,https://www.reddit.com/r/learnSQL/comments/98uy1m/new_to_sql_trying_to_turn_date_range_into/
12,cocainesmoothies,1534804562,98y7c6,11,8,"I have been working as a data analyst for 6 months. All of our data is kept in a data warehouse that produces its own reports. All i do is download the datasheet, tabulate it, and visualize it. Of course along the way manipulating the data to answer any company questions. 

Now we all have goals set so we can move forward with our careers. I recently got a little 2nd part time with loads of down time, the ad even said, ""perfect for students with online classes"". 
My question is Im trying to learn SQL and I feel like I understand database theory, is there somewhere I can learn syntax and how to query? Or should I just start with the many options this sub has already provided? 
Any insight would be very helpful, thank you. ",learnSQL,I am somehow a Data analyst without knowing SQL.,1.0,https://www.reddit.com/r/learnSQL/comments/98y7c6/i_am_somehow_a_data_analyst_without_knowing_sql/
13,WildListen,1534976938,99htcb,1,15,"Theres an app on the apple iOS store called SoloLearn that has a great course on SQL (along with some programming languages such as Java, Python etc) its totally free and tbh if it wasnt I think it would be worth paying for. I assume its also available for Android. ",learnSQL,Just wanted to share a really good app I found,1.0,https://www.reddit.com/r/learnSQL/comments/99htcb/just_wanted_to_share_a_really_good_app_i_found/
14,Abe_Linkoln,1535048459,99ptzm,5,9,"Hi, I've been going through SQL bolt and now. I want to get some real life practice. I have a ton of magic the gathering cards and want to build my own personal database. What do I need to download to start?",learnSQL,What do I need to download to get started building my own database? (magic cards in this case),1.0,https://www.reddit.com/r/learnSQL/comments/99ptzm/what_do_i_need_to_download_to_get_started/
15,Awais22000,1535373210,9aojh8,0,6, ,learnSQL,SQL Queries Practice &amp; SQL Commands,1.0,https://bitalksbi.com/sql-queries-practice/
16,palesunshine99,1535388355,9aqkgv,11,16,"Does anyone know which is the best way to learn SQL? also, how to get a software to start practicing? Thanks. ",learnSQL,"Does anyone know which is the best way to learn SQL? also, how to get a software to start practicing?",1.0,https://www.reddit.com/r/learnSQL/comments/9aqkgv/does_anyone_know_which_is_the_best_way_to_learn/
17,pastapantry,1535496013,9b3kyi,0,1,"Hi everyone,

I'm trying to create a View with a column that displays the total amount for each group of invoices (by company name)

&amp;#x200B;

The Table:

    +---------+------------+-------+-------------+----------+-------------+-------------+
    | BatchID | InvoiceNum | PONum | InvoiceDate | DueDate  | CompanyName | TotalAmount |
    +---------+------------+-------+-------------+----------+-------------+-------------+
    |     123 |       1234 | a123  | 12/01/17    | 12/02/17 | Company1    |       10.50 |
    |     123 |       1241 | a456  | 12/02/17    | 12/03/17 | Company1    |       10.50 |
    |     123 |       8653 | a789  | 12/03/17    | 12/04/17 | Company1    |       10.50 |
    |     456 |       5678 | a901  | 12/04/17    | 12/05/17 | Company2    |       20.50 |
    |     456 |       9732 | a234  | 12/05/17    | 12/06/17 | Company2    |       20.50 |
    |     456 |       7563 | a567  | 12/06/17    | 12/07/17 | Company2    |       20.50 |
    |     789 |       9012 | a890  | 12/07/17    | 12/08/17 | Company3    |       30.50 |
    |     789 |       5345 | a345  | 12/08/17    | 12/09/17 | Company3    |       30.50 |
    |     789 |       5321 | a678  | 12/09/17    | 12/10/17 | Company3    |       30.50 |
    +---------+------------+-------+-------------+----------+-------------+-------------+
    

My view should have a final column called SumTotal, and it should total the TotalAmount column for all rows, grouped by BatchID

&amp;#x200B;

So it should look like this:

    +---------+------------+-------+-------------+----------+-------------+-------------+----------+
    | BatchID | InvoiceNum | PONum | InvoiceDate | DueDate  | CompanyName | TotalAmount | SumTotal |
    +---------+------------+-------+-------------+----------+-------------+-------------+----------+
    |     123 |       1234 | a123  | 12/01/17    | 12/02/17 | Company1    |       10.50 |    31.50 |
    |     123 |       1241 | a456  | 12/02/17    | 12/03/17 | Company1    |       10.50 |    31.50 |
    |     123 |       8653 | a789  | 12/03/17    | 12/04/17 | Company1    |       10.50 |    31.50 |
    |     456 |       5678 | a901  | 12/04/17    | 12/05/17 | Company2    |       20.50 |    61.50 |
    |     456 |       9732 | a234  | 12/05/17    | 12/06/17 | Company2    |       20.50 |    61.50 |
    |     456 |       7563 | a567  | 12/06/17    | 12/07/17 | Company2    |       20.50 |    61.50 |
    |     789 |       9012 | a890  | 12/07/17    | 12/08/17 | Company3    |       30.50 |    91.50 |
    |     789 |       5345 | a345  | 12/08/17    | 12/09/17 | Company3    |       30.50 |    91.50 |
    |     789 |       5321 | a678  | 12/09/17    | 12/10/17 | Company3    |       30.50 |    91.50 |
    +---------+------------+-------+-------------+----------+-------------+-------------+----------+
    

From what I have been reading, this should be do-able using a SUM(TotalAmount) OVER (PARTITION BY BatchID)

&amp;#x200B;

Currently, the view is defined as:

    SELECT DISTINCT 
                             [Batch ID@User] AS BatchID, [Invoice Number@User] AS Invoice, [PO Number@User] AS PONumber, [Invoice Date@User] AS Date, [Due Date@User] AS Due, [Company Name@User] AS Company, [Total Amount@User] AS Total
    FROM            dbo.[1bfb0049aa634d53b96e4ecf40001e0b@User]

So I tried to add 

    , SUM(CAST([Total Amount@User] as float)) OVER(PARTITION BY [Batch ID@User]) AS SumTotal

after ""AS Total"", however I'm getting a message ""SQL text cannot be represented in the grid pane and diagram pane."" I hit Ignore to this message. Then when I run the view, the SumTotal column is the sum of all invoices in the view, not grouped by the BatchID.

I'm reading [here](https://docs.microsoft.com/en-us/sql/t-sql/queries/select-over-clause-transact-sql?view=sql-server-2017) under **Example B**, the **Total** column is the sum of the **OrderQty** column partitioned by **SalesOrderID**. This is exactly what I'm trying to accomplish, and it looks like I'm using the same query, but I could be way off. SQL is not my strong suit!!

Any hints?

Thanks guys!",learnSQL,SUM OVER PARTITION BY help!!,1.0,https://www.reddit.com/r/learnSQL/comments/9b3kyi/sum_over_partition_by_help/
18,IDELTA86I,1535499956,9b43uc,2,2,"Hi All.

I have the following query in MS Sql:

    UPDATE BOOK3 SET [CODE_ANSWER] = 'YES' 
    WHERE [SALE_DATE] BETWEEN FROM_DATE AND TO_DATE 
    AND [PROCESSED_DATE] NOT BETWEEN FROM_DATE AND TO_DATE

Which checks if the SALE\_DATE is within the date range, and PROCESSED\_DATE is not, and if so, returns YES.

I did the calculations manually in the last column, and each of these rows should be YES, but are returning anything, 

&amp;#x200B;

|FROM\_DATE|TO\_DATE|SALE\_DATE|PROCESSED\_DATE|CODE\_ANSWER|MANUAL ANSWER|
|:-|:-|:-|:-|:-|:-|
|2018-06-17|2018-07-17|2018-07-16|2018-07-17||YES|
|2018-06-17|2018-07-17|2018-06-20|2018-07-17||YES|
|2018-06-17|2018-07-17|2018-07-16|2018-07-17||YES|
|2018-06-17|2018-07-17|2018-07-05|2018-07-17||YES|

I had a look online, but could find no indication that you can't combine a Between and Not Between statement.

&amp;#x200B;

Any thoughts on what i might be missing? 

&amp;#x200B;

Cheers :)",learnSQL,"Using ""BETWEEN"" and 'NOT BETWEEN"" in the same query not returning correct data",1.0,https://www.reddit.com/r/learnSQL/comments/9b43uc/using_between_and_not_between_in_the_same_query/
19,FamSC2,1535553375,9b9tpl,1,5,"Hi, 

I am not sure how to phrase the problem. But my source data has overlapping field like follows:

account code 1 | account 1

Entry1 | date1 | amount1

Entry2 | date2 | amount2

account code 2 | account 2

Entry3| date3 | amount3

I would like to format to the following:

account code 1 | account 1 |date1 |entry1 | amount1

account code 1 | account 1 |date2 |entry2 | amount2

account code 2 | account 2 |date3 |entry3 | amount3",learnSQL,"New to SQL, how to insert ""move down"" data",1.0,https://www.reddit.com/r/learnSQL/comments/9b9tpl/new_to_sql_how_to_insert_move_down_data/
20,Ewolnevets,1535935114,9ch04i,4,7,"Hey guys, I'm making this thread because after three of my own attempts, I'm still unsuccessful (I believe) in installing the MS SQL Server 2014 for use in my Database &amp; SQL class. I have basically zero experience with this kind of stuff but want to learn, and I can't use the recommended download link of SQL 2017 Express because my OS is windows 7.

Is it possible someone could give me a comprehensive or step by step on what to install and how to do it? I would be eternally grateful. The program I have installed now seems to be titled SQL Server 2014 Import and Export data but doesn't look anything like the program used in class. 

Any help would be amazing, thank you in advance",learnSQL,[Request] Help with installing Microsoft SQL Server 2014,1.0,https://www.reddit.com/r/learnSQL/comments/9ch04i/request_help_with_installing_microsoft_sql_server/
21,0x41dmin,1536103775,9d0v5s,6,5,"SELECT rank FROM admin\_users WHERE name = 'Mike';

I keep getting...

&amp;#x200B;

\[SQL\]SELECT rank FROM admin\_users WHERE name = Mike;

\[Err\] 1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM admin\_users WHERE name = Mike' at line 1

&amp;#x200B;

Thank you,

&amp;#x200B;

&amp;#x200B;",learnSQL,Whats wrong with this query,1.0,https://www.reddit.com/r/learnSQL/comments/9d0v5s/whats_wrong_with_this_query/
0,mr-bope,1530924492,8wp9kb,11,3,"I have the following query, which returns prices for a product ID.

I can have prices for one product from 2 different tables. The primary is `price2`, however if this one isn't set it will default to `price1` which always is set.

	SELECT 
	`products`.`wo_id`,
	`products`.`fty_id`,
	`products`.`price` AS price1,
	
	`product_attributes`.`fty_id`,
	`product_attributes`.`cat_id`,
	`product_attributes`.`design_id`,
	`product_attributes`.`season_id`,
	
	`products_u_ids`.`u_id`,
	`products_u_ids`.`link_id`,
	
	`product_designs`.`design_id`,
	`product_designs`.`brand_id`,
	
	COALESCE(`product_pricing`.`u_id`, NULL) AS price2_u_id,
	COALESCE(`product_pricing`.`currency`, NULL) AS price2_currency,
	COALESCE(`product_pricing`.`price`, NULL) AS price2,
	COALESCE(`product_pricing`.`formula_id`, NULL) price2_formula_id,
	COALESCE(`product_pricing`.`vat_calculated`) AS price2_vat_calculated,
	COALESCE(`product_pricing`.`vat_id`, NULL) AS price2_vat_id,
	COALESCE(`product_pricing`.`timestamp_valid`, NULL) price2_timestamp_valid, 
	
	COALESCE(`product_price_formulas`.`formula_id`, NULL) AS price2_formula_id,
	COALESCE(`product_price_formulas`.`formula`, NULL) AS price2_formula,
	
	COALESCE(`global_vat_tariffs`.`vat_id`, NULL) AS price2_vat_id,
	COALESCE(`global_vat_tariffs`.`percentage`, NULL) AS price2_vat_tariff
	
	FROM `products`
	
	LEFT JOIN `product_attributes`
	ON `products`.`fty_id` = `product_attributes`.`fty_id`
	
	LEFT JOIN `products_u_ids`
	ON `product_attributes`.`fty_id` = `products_u_ids`.`link_id`
	
	LEFT JOIN `product_designs` 
	ON `product_attributes`.`design_id` = `product_designs`.`design_id`
	
	LEFT JOIN `product_pricing`
	ON `products_u_ids`.`u_id` = `product_pricing`.`u_id`
	
	LEFT JOIN `product_price_formulas` 
	ON `product_pricing`.`formula_id` = `product_price_formulas`.`formula_id`
	
	LEFT JOIN `global_vat_tariffs` 
	ON `product_pricing`.`vat_id` = `global_vat_tariffs`.`vat_id`
	
	LEFT OUTER JOIN (
	SELECT `product_pricing`.`u_id`, MAX(`timestamp_valid`) AS MaxDate
	FROM `product_pricing`
	WHERE `product_pricing`.`timestamp_valid` &lt;= UTC_TIMESTAMP
	GROUP BY `product_pricing`.`u_id`
	) AS temp ON temp.u_id = `product_pricing`.`u_id` AND temp.MaxDate = `product_pricing`.`timestamp_valid`
	
	WHERE `products`.`wo_id` IN ('028284', '018305', '031536')


With `price2` this query does something much more important though. And thats price scheduling in advanced, so the price would change based on the time. To accomplish this I am setting this timestamp `product_pricing`.`timestamp_valid`; this way I can get the latest price for `product_pricing`.`timestamp_valid` &lt;= to the current time (UTC_TIMESTAMP).

I am doing this here:

	LEFT OUTER JOIN (
	SELECT `product_pricing`.`u_id`, MAX(`timestamp_valid`) AS MaxDate
	FROM `product_pricing`
	WHERE `product_pricing`.`timestamp_valid` &lt;= UTC_TIMESTAMP
	GROUP BY `product_pricing`.`u_id`
	) AS temp ON temp.u_id = `product_pricing`.`u_id` AND temp.MaxDate = `product_pricing`.`timestamp_valid`

And this is where my problem originates.

Inside `product_pricing` I can have multiple entries for a single ID.
The `LEFT OUTER JOIN` above is supposed to only return 1 result where the `product_pricing`.`timestamp_valid` &lt;= UTC_TIMESTAMP.

But it returns all entries for a single ID.

This is what it returns: https://i.stack.imgur.com/Xv3dA.png

You can see multiple entries for u_id: 911544. It returns both, because thats how many there are in the database.
But it needs to return only 1 per ID. And in this case if we assume the current date is 2018-7-7 it needs to return the price2 = 40 EUR.

And this is what it should return: https://i.stack.imgur.com/a7HhB.png",learnSQL,"Stuck with my SQL query, please help",1.0,https://www.reddit.com/r/learnSQL/comments/8wp9kb/stuck_with_my_sql_query_please_help/
1,GrenadeGreg,1531091993,8x5r8t,7,2,"I'm trying to write a constraint for a table that only allows a column named ""filename"" to accept entries that contain '.docx', '.doc', '.pdf', and '.txt.' I've tried this code:

 ALTER TABLE DOCS ADD CONSTRAINT DOCS\_EXTENSION\_CHK CHECK(FILENAME IN('.docx', '.doc', '.pdf', '.txt'));

but I need the constraint to also allow the name of the file before the extension to be anything, like 'xxxxx.docx'.

If anyone could help me out I would really appreciate it.",learnSQL,How could I write a constraint that only accepts values that contain specific text?,1.0,https://www.reddit.com/r/learnSQL/comments/8x5r8t/how_could_i_write_a_constraint_that_only_accepts/
2,sarfraz123,1531226804,8xor3a,2,2,"Hey, hoping someone could help me.

So basically what I'm trying to do is write a report thats run by an activity date. When something in my table is updated in the last 7 days, itll show up on my report run every saturday for the past 7 days (if something was updated).

I hope this makes sense. I'm pretty lost since this is something new to me. (obviously a beginner).

So I'm assuming its something like:

Select \* from \*\*\*\*

where \*\*\*\*\_activity\_date ....?

Do I use SYSDATE in this instance? or begin/end date?

Thank you lots!",learnSQL,Help with SQL statement regarding dates,1.0,https://www.reddit.com/r/learnSQL/comments/8xor3a/help_with_sql_statement_regarding_dates/
3,FuzzyGunna,1531261790,8xtzcv,2,7, ,learnSQL,I'm learning SQL and have made a mock database of a store that sells Unicorn Farts. I had to show it to someone who truly understands. Enjoy!,1.0,https://www.khanacademy.org/computer-programming/spin-off-of-project-design-a-store-database/4556741320933376
4,Jake1122,1531334109,8y260i,5,2,"https://imgur.com/a/lzxr3Pk

So from what I understand entities are basically just different tables. This diagram shows the relationship between the entities.

But, when we actually product an SQL schema, how are we representing this relationship?

I've only learned the basic queries so I'm trying to understand if we're doing some type of ""table join"" on these relationships or are we just visualizing their relationship without actually using it in 'code'?",learnSQL,Question about how Entity Relationship Diagrams are actually created using SQL,1.0,https://www.reddit.com/r/learnSQL/comments/8y260i/question_about_how_entity_relationship_diagrams/
5,hesitantrice,1531393901,8y8ts6,1,4,"&gt; SELECT  *
&gt; FROM  question_list
&gt; WHERE topic_id
&gt; LIKE: topicId1 OR topic_id LIKE: topicId2
&gt; LIMIT 20

So basically, the code is a simplified version of my SQL query, which pulls in 20 questions based on the topics the user selected. The user can select a max of 10 topics in one go, and the query is dynamically built using PHP string concatenation. 

I need to show a roughly equal number of questions per topic, so say for two topics, it shows 10 each.

The issue is that

A) I'm not sure what the default behaviour is for mySQL - does it automatically find 10 of  topicId1 and 10 of  topicId1, or is it just determined by whatever my ORDER BY clause is.

B) Is there anyway to edit my sql query to achieve my goal, so I can avoid having to run one query for each topic? 

C) If there's three topics, it will have to be 6, 6, 7 for example so I'm assuming I'll need the modulo operator somewhere, right?",learnSQL,[MySQL] Is it possible to use ratios / proportions in SELECT queries to get a certain number of rows for each WHERE clause,1.0,https://www.reddit.com/r/learnSQL/comments/8y8ts6/mysql_is_it_possible_to_use_ratios_proportions_in/
6,Ezaco,1531830054,8zkn9w,1,2,"Not sure if that title made sense, but here is my code:

\`while($row2 = mysqli\_fetch\_array($userList)):; ?&gt;

    &lt;div class=""row""&gt;
    
    	&lt;div class=""col-sm-2 left-spacer""&gt;&lt;/div&gt;
    
    	&lt;div class=""col-sm-2""&gt;&lt;?php echo $row2['user_uid'];?&gt;&lt;/div&gt;
    
    	&lt;div class=""col-sm-2""&gt;&lt;?php echo $row2['user_first']. "" "" . $row2['user_last'];?&gt;&lt;/div&gt;
    
    	&lt;div class=""col-sm-2""&gt;&lt;?php echo $row2['user_email'];?&gt;&lt;/div&gt;
    
    	&lt;div class=""col-sm-4""&gt;
    
    		&lt;?php 
    
    			if ($row2['access'] == 0) {
    
    
    				$usernm = $row2['user_uid'];
    
    				echo ""&lt;form action='' method='post'&gt;
    
    				&lt;input type='hidden' id='user' 'name='user' value=$usernm&gt;
    
    				&lt;button name='makecon' id='makecon' class='adminconbutton'&gt;Make Controller&lt;/button&gt;
    
    				&lt;/form&gt;"";
    
    					if (isset($_POST['makecon'])) {
    
    						$dewwit = mysqli_query($conn2,""UPDATE users SET access = 1 WHERE user_uid = $usernm"");
    
    
    					}
    
    			}
    
    			elseif ($row2['access'] == 1) {
    
    				echo ""&lt;button&gt;Remove as Controller&lt;/button&gt;"";
    
    				echo ""&lt;button&gt;Make Admin&lt;/button&gt;"";
    
    			}
    
    			elseif ($row2['access'] == 2) {
    
    				echo ""&lt;button&gt;Make Normal&lt;/button&gt;"";
    
    				echo ""&lt;button&gt;Remove Admin&lt;/button&gt;"";
    
    			}
    
    		?&gt;
    
    
    	&lt;/div&gt;
    
    &lt;/div&gt;
    
    &lt;?php endwhile; ?&gt;`

Essentially what I'm trying to do is have this code output the list of users that are in the database, and display a button next to their name based on their current access level (0, 1, 2). This part works.

Then I (or anyone else), as the admin, will be able to click that button and it will update that user's access level. This part doesn't work.

The VALUE part does fill, I can confirm that by making the ITEM not hidden. The $DEWWIT query also works if I replace the variable with a username instead and click the button. What seems to not be working is the pre-filled VALUE with the username carrying through the POST. I've tried this with the code both inside the IF (like it current is) and above all the code (with my includes).

Can anyone give me any insight?",learnSQL,Using While Loop Array Data as Form Value,1.0,https://www.reddit.com/r/learnSQL/comments/8zkn9w/using_while_loop_array_data_as_form_value/
7,CheesecakeTruffles,1531845550,8zmpjj,2,3,"Anyone able to explain what this means?

WHERE year % 2 = 0

The context is that this returns every even value in the given column (year). I don't understand why. ",learnSQL,Math question,1.0,https://www.reddit.com/r/learnSQL/comments/8zmpjj/math_question/
8,CheesecakeTruffles,1531951636,8zzxew,6,3,"Hello!

I'm having a doozy of a time figuring out the logic for this one...

Say I've got two tables that are formatted the same way. T1 and T2. 

They each have a ""ManagerName"" Column. 

I want to return only the rows in T2 that have different values in the manager name column than T1. 

So far I have something to the effect of:

Select * FROM T2 
UNION T1 
WHERE T2.ManagerName &lt;&gt; T1.ManagerName

But... this doesn't work. It works in reverse if I manually supply it with a parameter, though. ",learnSQL,Comparing different values in same name column,1.0,https://www.reddit.com/r/learnSQL/comments/8zzxew/comparing_different_values_in_same_name_column/
9,justplainandsimple,1532225747,90ukib,2,6,"I have two tables:
c: id, name, created, updated
i: id, bid amount, bid count, bidding started, bid ended, created, updated

I want to figure out items belonging to which category got the most bids over specific amount and on specific date? I have these but neither works.

SELECT c.id as ID, COUNT(c.name) as NAME
FROM c
LEFT JOIN i
ON i.id = c.id
WHERE bid_amount &gt; amount and bidding_started = 'date'
GROUP BY c.id, c.name;

or

SELECT i.id, COUNT(bid_count) as given_bids, date(i.created) as given_date
FROM  i
LEFT JOIN c
on c.id = i.id
WHERE bid_amount &gt; amount and bidding_started = 'date'
GROUP BY bid_count;

thank you",learnSQL,Help with SQL statement please,1.0,https://www.reddit.com/r/learnSQL/comments/90ukib/help_with_sql_statement_please/
10,Collrain,1532334219,915asd,6,4,"...Lets say I have a table. First column is names: Gordon, Alan, Amy, Sandra etc. These names can repeat on multiple rows, e.g. there could be 5 rows which are for Alan. 

Second column contains fruit but also other things: Banana, Orange, Apple, Grape, Wood, Metal, Ball.

I want the total number of ""Names"" that have at least 1 piece of fruit......but I also want the total of any of those ""Names"" which also had 'Ball'.

Hopefully that makes enough sense?

",learnSQL,I'm not even sure how to ask this.....,1.0,https://www.reddit.com/r/learnSQL/comments/915asd/im_not_even_sure_how_to_ask_this/
11,HuskyOctopus,1532625820,92494p,1,1,"I'm looking to set up a pivot query, but after some Google-Fu and reading I still am not finding an explanation that helps me understand how to execute this best. [Here is a snapshot](https://imgur.com/a/I85DpqA) I made of what I'm trying to accomplish (before and after of what the data should look like). Anyone have an idea of how to approach this?",learnSQL,Help understanding Pivot Query,1.0,https://www.reddit.com/r/learnSQL/comments/92494p/help_understanding_pivot_query/
12,x_Lele,1533210670,93ylb7,7,7,"Hi there!

I am being encouraged to learn SQL, and would like some advice on courses that are available for beginners within the UK.

When I say beginner, I have never compiled SQL nor do I understand it, I can just about create Access Databases but this is fully self taught. 

I have looked at some local institutes and found something called an MTA but unsure if this is going to cover the knowledge I need, I can see it leads into a MCSA... 

I am looking at something short term that can run alongside my work or that work can send me to for 1-2weeks etc. 

I need to understand and be able to manage SQL databases and create SSRS reports.

",learnSQL,Complete SQL beginner - Advice?,1.0,https://www.reddit.com/r/learnSQL/comments/93ylb7/complete_sql_beginner_advice/
13,CheesecakeTruffles,1533242992,9433yu,4,5,"So, I've advanced a bit in the world of dealing with silly amounts of data....

Now I need help figuring out how to concatenate all distinct values in one column that correlate to a single value in another. 

It seems that concat() doesn't work in access so I'm not sure what kind of operator to use. ",learnSQL,Concatenate in msft access,1.0,https://www.reddit.com/r/learnSQL/comments/9433yu/concatenate_in_msft_access/
0,Protectereli,1528302659,8p227y,2,2,"Hello, I work for a camera company as an IT tech.  We have a database of camera photos that save a bunch of information about each photo.  We only need a photo to be saved every 10 minutes ( it pulls the time from an XML file on a computer) sometimes the time is mistakenly set to save the photo every 1 minute instead of every 10, when this happens another tech will have to go through the database and manually delete about 9 photos until the times are roughly ten minutes apart.

Is there a script I can write that could get the post time of cameras until they find 2 cameras ten minutes apart, and then delete everything else? and keep deleting them until they are 10 minutes apart?  Almost like a sorting method.

So if camera ID 15 posts 10 photos at these times

5:00

5:01

5:02

5:03

5:10

Could I perform some mathematical calculation to eliminate 5:01 \- 5:03 and so on?

Thank you, I code c# as a hobby but am unfamiliar with the capabilities of SQL",learnSQL,Seeking help solving work problem with SQL commands.,1.0,https://www.reddit.com/r/learnSQL/comments/8p227y/seeking_help_solving_work_problem_with_sql/
1,lauchs,1528414367,8pf36g,4,5,"Hi folks!  


I'm essentially trying to trick a visualization program into doing something it doesn't want to do.  


I have a select (in a view) which pulls a dozen or so columns for a series of IDs. Each ID and combination of values is unique. However, for several of these columns, I need to add additional rows which are identical except the result in the column in question is 'All'.  


Being a SQL novice, my gut is saying to copy the entire select statement, then union it to a similar one with the column changed. But, this would make my script and runtime 6 times larger (6 columns necessary.) Anyone have a better or more interesting way to do this?   


Apologies if this is the wrong sub!  


Appreciate any and all help!",learnSQL,Trying to add dummy values to existing pull,1.0,https://www.reddit.com/r/learnSQL/comments/8pf36g/trying_to_add_dummy_values_to_existing_pull/
2,raj_technews,1529043941,8r8tfz,0,10, ,learnSQL,SQL for Beginners. Learn basics of SQL in 1 Hour,1.0,https://www.youtube.com/watch?v=7Vtl2WggqOg
3,clamchowderz,1529372330,8s4zqe,2,10,"Last week, during an interview I was asked to work out a SQL problem on the whiteboard. 

The question: ""Find the ___ rate by customer who is active"". 

Two tables:

1. JOIN tables via primary key
2. WHERE to filter for customers who are: active
3. GROUP BY x,y
4. Calculate rate within SELECT

I failed at writing the query. I aggregated on the wrong variable and GROUP BY x, not 'x' and 'y'.

When I got home, I could answer the question, no problem.

What do other people do to help them prepare for SQL interviews that require using the whiteboard?



",learnSQL,SQL Interviews: The Whiteboard,1.0,https://www.reddit.com/r/learnSQL/comments/8s4zqe/sql_interviews_the_whiteboard/
4,bitsofshit,1529539792,8snb6r,1,6,"Any way to resolve command here:

SELECT 

concat(contactFirstName,' ',contactLastName) Fullname

AS 'Concat'

FROM

customers

;

Tried shifting statements around but no dice still.",learnSQL,Statement error,1.0,https://www.reddit.com/r/learnSQL/comments/8snb6r/statement_error/
5,GreatMonkeyGod,1529674865,8t1eug,4,3,"My current query.

    SELECT
    CustomerID
    ,OrderMethod
    ,sum(amount - cost) as [GP$]
    ,(sum(Amount)) / (count(DISTINCT OrderNumber)) [AOV]
    ,count(distinct OrderNumber) [Orders]
    FROM sales as s
    join customers as c on c.customerid = s.customerid
    WHERE OrderMethod in ('Telephone','Website')

Here is my current query. I'm trying to cut my number of rows in half by pivoting the OrderMethods Telephone and Website so that my columns look like this:

CustomerID, Telephone GP, Telephone AOV, Telephone Orders, Website GP, Website AOV, Website Orders

-------------------------

Any help is much appreciated, thanks!",learnSQL,Need help with Pivoting some metrics,1.0,https://www.reddit.com/r/learnSQL/comments/8t1eug/need_help_with_pivoting_some_metrics/
6,lordquas3hunna,1530427120,8v85vn,1,3,"Im having an issue with this problem I have for an assignment. Im supposed to make a loop that goes in and adds the time 6:21pm to all times but I have no idea how to go about such a thing. I tried mking a cursor but I keep getting input errors. I know this is an easy problem so I thought this subreddit would be a good place to go. 

this is what I have so far (keep in mind its unfinished)

DECLARE
  cnt NUMBER=: 0;
  newdt shipping.ship_date%type:= ship_date+ newhr +newmin;
  newhr shipping.ship_date%type:= INTERVAL '18' hour;
  newmin shipping.ship_date%type:= INTERVAL '20' minute;
  shipdt shipping.ship_date&amp;type;
  
  CURSOR CSR is
  
  SELECT
    sh.ship_date
  
  FROM 
    shipping sh
  
  WHERE
   ship_date= to_date('00:00:00','HH24:MI:SS')
   
  FOR UPDATE
  OF sh.ship_date
  
  BEGIN
  OPEN CSR;
  
  LOOP
  
  FETCH CSR INTO ship_dt;
  
EXIT WHEN CSR% NOT FOUND;
cnt := cnt+1;
  
  if( ship_dt = like '00:00:00')
    then 
      update SHIPPING
      set ship_dt=newdt
      WHERE CURRENT OF CSR;
    END IF;
    END LOOP;
    END; ",learnSQL,Help with a problem,1.0,https://www.reddit.com/r/learnSQL/comments/8v85vn/help_with_a_problem/
7,caitto,1530568566,8vmnk7,4,3,"I have had a learning experience come up about creating loops and trying to replace portions of a string with a new value. The below scripting seems like it would get the job done but I feel it is clumsy and there has got to be a better way. Any tips appreciated

    BEGIN TRY
    DROP TABLE #NewNames
    END TRY
    BEGIN CATCH SELECT 1 END CATCH
    CREATE TABLE #NewNames
    (
    id INT PRIMARY KEY,
    NewLevel VARCHAR(50) NOT NULL,
    OldLevel VARCHAR(50) NOT NULL,
    )
    INSERT INTO #NewNames
    VALUES (15,'152','H52'),
    (16,'153','H53'),
    (17,'154','H54'),
    (18,'170','H70'),
    (19,'171','H71'),
    (20,'172','H72'),
    (21,'173','H73'),
    (22,'174','H74'),
    (23,'175','H75'),
    (24,'176','H76'),
    (25,'177','H77'),
    (26,'180','H80'),
    (27,'181','H81'),
    (28,'182','H82'),
    (29,'183','H83'),
    (30,'184','H84'),
    (31,'185','H85'),
    (32,'190','H90'),
    (33,'191','H91'),
    (34,'192','H92'),
    (35,'193','H93'),
    (36,'194','H94'),
    (37,'017','N17'),
    (38,'018','N18'),
    (39,'019','N19'),
    DECLARE @CurrentLevel NVARCHAR(50), @OldLevel NVARCHAR(50), @NewLevel NVARCHAR(50), @LoopCount INT
    SET @Loopcount = 16
    WHILE @Loopcount &lt;= (SELECT count(ID) FROM #NewLevelNames)
    BEGIN
    SET @OldLevel = (SELECT OldLevel FROM #NewlNames WHERE id = @LoopCount)
    SET @NewLevel = (SELECT NewLevel FROM #NewNames WHERE id = @LoopCount)
      DECLARE ALCURSOR CURSOR FOR (Select Name From Levels)  
    
      OPEN ALCURSOR  
    
      FETCH NEXT FROM ALCURSOR INTO @CurrentLevel  
    
    
    
      WHILE @@FETCH\_STATUS = 0 BEGIN  
    
      FETCH NEXT FROM ALCURSOR INTO @CurrentLevel  
    
      END  
    
    
    
      CLOSE ALCURSOR  
    
      DEALLOCATE ALCURSOR  
    SET @LoopCount = @Loopcount + 1
    END
    GO",learnSQL,[MS SQL] Best way to replace,1.0,https://www.reddit.com/r/learnSQL/comments/8vmnk7/ms_sql_best_way_to_replace/
0,Bennypea,1526094245,8itcyi,0,3,"Hey Ive got the question:

https://imgur.com/a/gGqWbFS

My answers are:
C)	
Parts_Red &lt;- (SELECTION SYM) color = ‘Red’ (P)
Sup_Red &lt;- (Parts_Red ⋈ P# = P# SPJ)
Proj_Red &lt;- (Sup_Red ⋈ J# = J# J)
Result &lt;- (PROJECTION SYM) Jname (Proj_Red)

D)	

Lon_Proj &lt;- (SELECTION SYM) city = ‘London’ (J)
Proj_Quant &lt;- (Lon_Proj ⋈ J# = J# SPJ)
Result &lt;-  (PROJECTION SYM) AVG(QTY) (Proj_Quant)

Am I doing it properly?


Thanks.",learnSQL,Relational Algebra help?,1.0,https://www.reddit.com/r/learnSQL/comments/8itcyi/relational_algebra_help/
1,fatman1991,1526906052,8l0grz,2,1,"I have two tables:
sales_order Table
id_sales_order	first_name	  last_name      created_at
1	                   James	  Grey	       2018-01-23
2	                    Jean	  Xavier	       2017-12-20
3	                     Jean	   Grey	        2017-12-13

sales_order_item Table
id_sales_order_item	fk_sales_order	sku	       paid_price
1	                                        1	ABC1234	10.25
2	                                   	1	DEF1234	20.00
3	                                   	2	GHI1234	300.00
4	                                   	3	JKL1234	40.00
5	                                   	3	MNO9876	50.00
6	                                   	3	PQR9876	60.00


With the above, how can I can the following result:
B.	Write a SQL query to obtain the following result 

id_sales_order	id_sales_order_item	first_name	   last_name
2	                              3	              Jean	      Xavier

solely by searching by the first_name and last_name?
Every time I try, I can't seem to figure out how to get the id_sales_order_item column to show up as well.

Any help guys?

",learnSQL,New to SQL - Need help with this simple query!,1.0,https://www.reddit.com/r/learnSQL/comments/8l0grz/new_to_sql_need_help_with_this_simple_query/
2,Raging_bullpup,1527260649,8m2fpw,3,1,"I have an interview where SQL is a part of the job, a data analyst, but I do not have SQL programming experience. They obviously know I do not have experience with SQL (I have used ‘R’ in college classes). What are some concepts, terms, maybe an easy starter guide that I could use to impress them and show I’ve done my homework. 

Thanks for any help! ",learnSQL,SQL quick hits,1.0,https://www.reddit.com/r/learnSQL/comments/8m2fpw/sql_quick_hits/
3,need_4_data,1527271224,8m3sj5,11,10,"Hello all. I am a recent graduate with my PhD in psychology and I am looking to expand my skills and knowledge base regarding various different data structures and programs. I have a relatively decent background in statistics, but zero experience using anything besides point\-and\-click user\-interfaces \(e.g., SPSS, Amos, Excel\).   


As I've begun my job search, I have noticed that a lot of the job postings either indicate a preference for SQL, or outright require it. I have begun the task of trying to teach myself SQL but I find even with the most basic tutorials I readily get lost because I have no background in understanding the language of coding. What would you all suggest? Should I begin with an incredibly basic ""programming"" tutorial and then move on to SQL? Is SQL where I should be starting? Are there courses available that start at an even more basic level?  


Any help/pointers would be appreciated! Thanks :\)",learnSQL,Learning SQL with no programming/coding background,1.0,https://www.reddit.com/r/learnSQL/comments/8m3sj5/learning_sql_with_no_programmingcoding_background/
4,ciarandeceol,1528199523,8oq640,1,2,"Its been over a year since I used SQL and currently do not have access to any SQL databases.   


On a job application, there were a few coding questions which were fine, but there was one SQL question which I am attempting from memory. Can somebody confirm my answer is correct? Thank you.  


"" There are three data tables: A, B and C. 

A and B share a common variable, ID1. 

B and C share a common variable, ID2. 

Please write a query using MySQL syntax to get the following result: all the rows from Table B where ID1 is in Table A and remove the rows where ID2 is in Table C""  


SELECT \* FROM TableB

INNER JOIN ID1 ON TableA.ID1 = TableB.ID1  

WHERE NOT EXISTS 

\(SELECT \* FROM TableB 

INNER JOIN ID2 ON TableB.ID2 = TableC.ID2\)  ",learnSQL,Can somebody check this answer?,1.0,https://www.reddit.com/r/learnSQL/comments/8oq640/can_somebody_check_this_answer/
5,chris_shpak,1528295489,8p12oy,0,4, ,learnSQL,Solving Business Problems with SQL Window Functions,1.0,https://statsbot.co/blog/sql-window-functions-tutorial/
0,zendakin,1523314159,8b2rkc,1,2,"Hey all, I'm trying to write a query finding all the salespersons names that do not have orders with a company.

The query I have is:

    SELECT Name
    FROM Salesperson
    JOIN Orders ON orders.salesperson_id = Salesperson.ID
        WHERE cust_id &lt;&gt; 4
    GROUP BY Name;

While this somewhat works, I feel that I should be more explicit. If you could help guide me to where I am going wrong, I'd appreciate the help. What I am expecting to see is...

    Abe
    Chris
    Dan
    Joe

The tables are:

SalesPerson

    ID    Name    Age    Salary
    1	Abe	61	140000
    2	Bob	34	44000
    5	Chris	34	40000
    7	Dan	41	52000
    8	Ken	57	115000
    11	Joe	38	38000

Customer

    ID    Name    City    Industry
    4	Samsonic	plesant	J
    6	Panasung	oaktown	J
    7	Samony	Jackson	B
    9	Orange	Jackson	B

Orders

    Number    Date    cust_id    salesperson_id    amount
    10	1996-08-02	4	2	540
    20	1999-01-30	4	8	1800
    30	1995-07-14	9	1	460
    40	1998-01-29	7	2	2400
    50	1998-02-03	6	7	600
    60	1998-03-02	6	7	720
    70	1998-05-06	9	7	150


",learnSQL,Finding orders with exclusion,1.0,https://www.reddit.com/r/learnSQL/comments/8b2rkc/finding_orders_with_exclusion/
1,nnmrts,1523337799,8b59at,0,6, ,learnSQL,"[crosspost] Learned MySQL basics the past week to get a 1.7k€ job, one day left. What is the best I can do right now?",1.0,https://www.reddit.com/r/SQL/comments/8b4qnp/mysql_learned_mysql_basics_the_past_week_to_get_a/
2,wontu3,1523479481,8bkftl,0,1,"i'm running a query to try and figure out the count of customer references. currently, the database does not have a drop down or search menu for this option and that is not a possiblity at the moment. so while many of the records can be grouped together as (example) john doe, i want to be able to group up people who misspell it as a jhn doe. is there any simple way to do this besides using a bunch of text wrapping lines?",learnSQL,Query to help with grouping possible misspells,1.0,https://www.reddit.com/r/learnSQL/comments/8bkftl/query_to_help_with_grouping_possible_misspells/
3,S_Quiz_L,1523480134,8bkiy3,0,3,"Hello all, 

I’m a final year computer science student who has created an Android App to teach children SQL for my dissertation. Its used to reinforce learning and has been used successfully in a local school. 

I'm looking for people who teach or want to learn SQL to give my app a go.

You can download it from the link below and give feedback via google play.
https://play.google.com/store/apps/details?id=draganddrop.android.Douglas.com.SQuizL&amp;hl=en_GB

Its free and requires no sign up.

Thanks all!
",learnSQL,Educational SQL Android App,1.0,https://www.reddit.com/r/learnSQL/comments/8bkiy3/educational_sql_android_app/
4,polllyyy,1523547019,8br1fw,0,6, ,learnSQL,Modern ETL Tools: Overview &amp; Pricing,1.0,https://statsbot.co/blog/etl-tools-list/
5,spitfiredd,1523631774,8bztt8,2,8,"Most programming languages there is some sort of common idiom for structuring a project/app/module. 

Are there any resources for applying these concepts to databases and its codebase?",learnSQL,How do you structure a database codebase?,1.0,https://www.reddit.com/r/learnSQL/comments/8bztt8/how_do_you_structure_a_database_codebase/
6,[deleted],1524275535,8dss1j,0,1,[deleted],learnSQL,"[HELP] No matter what I do, trying to create a tablspace in SQL results in ""Invalid parameter"" error.",1.0,https://www.reddit.com/r/learnSQL/comments/8dss1j/help_no_matter_what_i_do_trying_to_create_a/
7,jsd2358,1524664346,8etpju,1,3,Could someone explain partition by? I am not quite understanding it...,learnSQL,Partition by,1.0,https://www.reddit.com/r/learnSQL/comments/8etpju/partition_by/
8,[deleted],1524695003,8exor7,0,1,[deleted],learnSQL,Creating a value for new customers,1.0,https://www.reddit.com/r/learnSQL/comments/8exor7/creating_a_value_for_new_customers/
9,xXnoynacXx,1524709216,8ez8su,3,1,"I'm making a forum and need to find out how many replies are in a category

so there's categories \-\&gt; threads \-\&gt; replies

categories table has column ID

threads table has column category\_id

replies table has column thread\_id

so basically what i need to do is, using the $ID from categories, find out how many replies are in the category...",learnSQL,help me solve this issue im bad with sql,1.0,https://www.reddit.com/r/learnSQL/comments/8ez8su/help_me_solve_this_issue_im_bad_with_sql/
10,molode,1524740688,8f1s2z,0,8, ,learnSQL,Open source ETL: Apache NiFi vs Streamsets,1.0,https://statsbot.co/blog/open-source-etl/
11,vlad9727,1524824074,8fajrf,7,3,"Hello. I got a problem that i cant get the hang of.
I posted here the tables: https://i.imgur.com/wRHXXcz.png
In short, I should print out the Publishers that published books written by at least the authors registered by the Publisher &lt;publisher_name&gt;. How would I do that?
What would u suggest? 
",learnSQL,help with sql query,1.0,https://www.reddit.com/r/learnSQL/comments/8fajrf/help_with_sql_query/
12,sonnynomnom,1524832316,8fb9oc,11,21, ,learnSQL,Codecademy Launched Learn SQL from Scratch!,1.0,https://www.codecademy.com/pro/intensive/learn-sql-from-scratch
13,WilliamTheStudious,1525051040,8fvw2y,2,6,"I understand that the very back end of any application is the most important. However, I have recently finished a Database Coding course at a community college and the class and book was focused on MS SQL Server. which database would be a good one to learn first and implement? Please say why. If you have time, drop some differences of some databases. ",learnSQL,Which Database/SQL Variant to Learn First,1.0,https://www.reddit.com/r/learnSQL/comments/8fvw2y/which_databasesql_variant_to_learn_first/
14,228quest,1525210884,8gc6aa,2,3,"https://sqlbolt.com/lesson/select_queries_with_outer_joins

Currently following this. I have a question regarding the last exercise. (To reach this exercise, select ""solution"" until the last task is highlighted).

&gt;List all buildings and the distinct employee roles in each building (including empty buildings) 

This is the question and this is the solution they have provided

&gt;SELECT DISTINCT building_name, role

&gt;FROM buildings

&gt;LEFT JOIN Employees

&gt;ON building_name = building

This is the definition of JOIN they have listed above.

&gt;When joining table A to table B, a LEFT JOIN simply includes rows from A regardless of whether a matching row is found in B. The RIGHT JOIN is the same, but reversed, keeping rows in B regardless of whether a match is found in A. Finally, a FULL JOIN simply means that rows from both tables are kept, regardless of whether a matching row exists in the other table.

My question is...

Since we are selecting FROM the buildings table. I assume the Buildings table is ""table A"".

So we select all the distinct building names in there which gives us the entire list.

After, we do LEFT JOIN employees... Does this add all the values from table ""employees"" to table ""building"" even if there is no match? Or is it the other way around?

",learnSQL,Question regarding JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/8gc6aa/question_regarding_join/
15,alexei2,1525348792,8gpthz,6,3,"Hi,

I have very, very basic SQL knowledge want to improve my SQL skills. 

There are a plethora of online courses, but I want to set myself a target, to make sure that I'm actually learning and progressing.

I've seen some comments in this sub say that taking exams for SQL or getting certified is a waste of money and not required for jobs, so hoping that someone here can help with some ways that I could track my progress, and maybe set goals to reach in 6/12/24 months time?

Thanks",learnSQL,How to assess and measure your SQL progress,1.0,https://www.reddit.com/r/learnSQL/comments/8gpthz/how_to_assess_and_measure_your_sql_progress/
16,Night-Channels,1525632318,8hhano,1,4,"I'm not sure how to approach this question on SQLZoo. 

[http://sqlzoo.net/wiki/Helpdesk\_Medium\_Questions](http://sqlzoo.net/wiki/Helpdesk_Medium_Questions)

It is # 9 and reads as the following.

For each shift show the number of staff assigned. Beware that some roles may be NULL and that the same person might have been assigned to multiple roles \(The roles are 'Manager', 'Operator', 'Engineer1', 'Engineer2'\). 

**Schema like this:**

https://i.redd.it/vomjtqs86aw01.png

**Expected Outcome of this:**

|Shift\_Date|Shift\_type|# of Staff assigned|
|:-|:-|:-|
|2017\-08\-12|Early|4|
|2017\-08\-12|Late|4|
|2017\-08\-13|Early|3|
|2017\-08\-13|Late|2|
|2017\-08\-14|Early|4|
|2017\-08\-14|Late|4|
|2017\-08\-15|Early|4|
|2017\-08\-15|Late|4|
|2017\-08\-16|Early|4|
|2017\-08\-16|Late|4|

I'm thinking ill have to do some type of count on the specific staff codes themselves to find their # of shifts but not really sure how to even approach this. ",learnSQL,SqlZoo Helpdesk Question Help,1.0,https://www.reddit.com/r/learnSQL/comments/8hhano/sqlzoo_helpdesk_question_help/
0,WilliamTheStudious,1520450502,82qyh5,7,4,"Hello! I am in a SQL class and we just began aggregate functions and the using the GROUP BY and HAVING clause. I cannot for the life of me grasp on what is going on with rhe GROUP BY and HAVING clause. 
My undrrstanding is this: FROM specifies the table, SELECT retrieves columns from the table, the GROUP BY clause groups all of the same instance of the arguement (Ex. GROUP BY lastName) into a groups. If there are three last names of Jones the  all three of those would be grouped. Is that correct?",learnSQL,Understanding How HAVING and GROUP BY works,1.0,https://www.reddit.com/r/learnSQL/comments/82qyh5/understanding_how_having_and_group_by_works/
1,Awais22000,1520515760,82xh3d,0,4,"Hello future &amp; present database experts let's discuss Stored Procedure And Function In SQL With Examples. Today ,  We will discuss

* What is Stored Procedure in SQL
* Stored Procedure Syntax
* How to run Stored Procedure in SQL
* User-Defined Functions &amp; SQL Functions.
* Difference between Stored Procedures &amp; Functions in SQL Server.",learnSQL,Stored Procedure And Function In SQL With Example,1.0,https://www.reddit.com/r/learnSQL/comments/82xh3d/stored_procedure_and_function_in_sql_with_example/
2,NsfwOlive,1520538709,830efc,0,4,"Hello!

I'm trying to figure out how I can check if a relation (like {A-&gt;D, AB-&gt;C, D-&gt;E}) is a 3NF or a BCNF. I don't really understand what the difference is, or how to check it.

I also did a decomposition on the above relation, and I ended up with R1(A,B,C) and R2(A,D,E), but how can I know if this is a lossless decomposition?",learnSQL,"Trying to understand 3NF, BCNF, and lossless decompositions.",1.0,https://www.reddit.com/r/learnSQL/comments/830efc/trying_to_understand_3nf_bcnf_and_lossless/
3,NsfwOlive,1520601561,836lu4,0,3,"Hello!

So I'm trying to understand how to write queries. There are these three queries that I want to write, but I can't quite get them to work. (I included the tables near the end of the post):

* A) A query that return a list of pairs of people sharing an office.

* B) A query that returns meetings, where the number of attendees who have not declined exceeds the capacity of the meeting room.

* C) A query that retrieves the names of all people with a meeting on 22nd of August 2013.

For A, I tried this, but it also returns nothing:

    SELECT DISTINCT p1.name, p2.name
    FROM People p1, People p2
    WHERE p1.name != p2.name AND p1.office = p2.office AND p1.office != NULL

And for B, I wrote a query that gets the meeting IDs and the number of  participants, but I don't understand how I can compare it with the rooms, and return only the rooms that exceeds the capacity.

    SELECT meetid, COUNT(*) 
    FROM Participants 
    WHERE status != 'd' 
    GROUP BY meetid

For C, I wrote this which works, but I'd like to know if there is a beter, or more effective way to write it:

    SELECT name 
    FROM     people p 
    WHERE userid IN (
        SELECT DISTINCT pa.pid 
        FROM participants pa 
        WHERE meetid IN (
            SELECT meetid 
            FROM Meetings m 
            WHERE m.date = ""2013-08-22""
        )
    )

Thanks in advance!

#_______________________________

#Tables:

**People**

    CREATE TABLE `People`(
        `name` VARCHAR(40),
        `office` VARCHAR(15),
        `userid` VARCHAR(15),
        `group` CHAR(3)
    );
*userid: unique user name, name: ordinary name, group: vip, tap, phd, office: a room or NULL*

**Rooms**

    CREATE TABLE Rooms (
        room VARCHAR(15),
        capacity INT
    );
*room: the name of a room, capacity: the number of people that it will hold*

**Participants**

    CREATE TABLE `Participants`(
        meetid INT,
        pid VARCHAR(15),
        status CHAR(1)
    );
*meetid: the id of the meeting, pid: a userid or a room, status: u(nknown), a(ccept), d(ecline)*

**Meetings**

    CREATE TABLE `Meetings`(
        `meetid` INT,
        `date` DATE,
        `slot` INT,
        `owner` VARCHAR(15),
        `what` VARCHAR(40)
    );
*meetid: a unique id, date: the date of the meeting, slot: 8,9,…,18, owner: the userid of the owner of the meeting, what: a textual description of the meeting*
",learnSQL,I am having trouble writing Queries in MySQL,1.0,https://www.reddit.com/r/learnSQL/comments/836lu4/i_am_having_trouble_writing_queries_in_mysql/
4,tiendatscorpy,1520974107,847jme,7,3,"Hey guys, absolute beginner here, first time posting. Currently working on designing a database for an university's portal, where students can sign up for courses. Here's what I have come up with. https://imgur.com/a/01Hj9. But my friend has suggested that this is too complicated to show the relationships between tables. Anyone has ideas on how to clarify them? Thank you for reading!",learnSQL,"[Database design] How to illustrate one-to-one,one-to-many, many-to-many relationships between tables",1.0,https://www.reddit.com/r/learnSQL/comments/847jme/database_design_how_to_illustrate/
5,dearpetra,1521120446,84mfnj,0,6, ,learnSQL,Loading Terabytes of Data from Postgres into BigQuery,1.0,https://statsbot.co/blog/postgres-to-bigquery-etl/
6,Awais22000,1521461991,85j10o,0,2,"MS SQL Group By Clause in SQL is used with [aggregate functions](https://bitalksbi.com/sql-aggregate/) to group data based on columns. Before , we jump to details of the Group By clause let’s try to understand about grouping. SQL is based on set-theory and whenever you’re composing a query you treat a table as a whole &amp; not row-by-row. Similarly , when we use aggregate functions we have to group the sets . This way you will have aggregated view of the set",learnSQL,MS SQL Group By Clause | SQL Beginner Guide,1.0,https://www.reddit.com/r/learnSQL/comments/85j10o/ms_sql_group_by_clause_sql_beginner_guide/
7,blackbelt21,1521634441,861kzz,15,2,"Big Picture: I have a python script that is configured to run once a day automatically, it is set up so that it returns 1 random record from the database per day... I'd like to implement the functionality to never return a duplicate row - so once a row has been returned by the query, it will become ineligible to be selected in other days' queries from that point moving forward.

A potential idea I had to accomplish this was to somehow store the recordIDs from the returned queries into a list &amp; reference the said list in the query in order to exclude them from being returned once they have been initially used.

Does my potential idea sound like the most efficient way to go about this? Do you have an alternative/better idea? Would love to hear!

Thanks!",learnSQL,I'd like to store the rows I return in a separate table (ultimately used to avoid returning duplicates).,1.0,https://www.reddit.com/r/learnSQL/comments/861kzz/id_like_to_store_the_rows_i_return_in_a_separate/
8,blackbelt21,1521665381,865phg,5,3,"Here's my query:

    'SELECT msg FROM Motivational ORDER BY RANDOM() LIMIT 1;'

This will return a random record ... let's say the recordid is 30 ... How would i update this query to contain the functionality of storing the resulting recordID returned (in this case 30) into another table?

I'm doing this for the sake of being able to ultimately reference the other table in order to implement a NOT IN clause, to avoid returning duplicate recordIDs from my select statement.

If you need any more information, please let me know!",learnSQL,SQLite: Need to store resulting recordID returned from query into another table.,1.0,https://www.reddit.com/r/learnSQL/comments/865phg/sqlite_need_to_store_resulting_recordid_returned/
9,Awais22000,1521708306,86a0wi,0,4, ,learnSQL,MS SQL Having Clause | SQL Beginner Guide | BI Talks BI,1.0,https://bitalksbi.com/mssql-having
10,[deleted],1521714138,86ag2n,0,1,[deleted],learnSQL,"Insert to table, update if exists - Without PK (PostgreSQL)",1.0,https://www.reddit.com/r/learnSQL/comments/86ag2n/insert_to_table_update_if_exists_without_pk/
11,dearpetra,1521725316,86bhho,0,4, ,learnSQL,Scalable Select of Random Rows in SQL,1.0,https://statsbot.co/blog/select-random-rows-sql/
12,Optimesh,1521927920,86w91w,1,3,"Trying to understand how ACID works in MySQL. Looking for help understanding why two instances temporarily get out of sync when the following scenario with transactions happens.

User creates two instances as root and a simple database is created with the following on instance1:

    create database testdb;
    use testdb;
    create table table1(
    id int unsigned auto_increment primary key,
    value1  int
    ) ENGINE = INNODB;
    
    INSERT INTO table1 (value1) VALUES (414),(368),(84), 
    (221),(288),(705),(195),(203),(460),(358);

Autocommit is left on by default. In instance1 user runs partial transaction without commit:

    start transaction; 
    insert into table1(value1) values(40);
    Now, in the instance2, as expected, there are only 10 rows.


User runs query to check number of rows in instance1:

    SELECT COUNT(*) FROM table1; 

And gets 11 rows. Is this because the select query re-enables autocommit and adds the 11th row? Why doesn't the 11th row make it to instance2 then? Also running another query in instance1 after this (delete query) seems to remove the extra 11th row, and gets the two instances back in sync. Can someone explain why they temporarily get out of sync?",learnSQL,How does ACID work in MySQL?,1.0,https://www.reddit.com/r/learnSQL/comments/86w91w/how_does_acid_work_in_mysql/
13,Awais22000,1522132840,87gaqb,0,4,"MS SQL Query Execution Order or SQL order of operations determines the sequence in which SQL clauses are executed by database engine . This helps in writing the error free and optimised queries .This SQL Query Processing is applied from a basic query to a thousands lines of queries , our database engine uses this execution order . See below the MS SQL Query Execution Order

* FROM
* ON
* OUTER
* WHERE
* GROUP BY
* HAVING
* SELECT
* DISTINCT
* ORDER BY
* TOP
[See Examples ](https://bitalksbi.com/ms-sql-query-execution-order/)",learnSQL,MS SQL Query Execution Order | SQL Beginner Guide,1.0,https://www.reddit.com/r/learnSQL/comments/87gaqb/ms_sql_query_execution_order_sql_beginner_guide/
14,chris_shpak,1522236724,87r5ks,0,2, ,learnSQL,How to Create a Table in SQL (CREATE TABLE),1.0,https://data36.com/create-table-sql/
15,KeyYam,1522377970,8877qx,3,4,"This is somewhat crossposted in another subreddit but then I realized that the crux of my question is straight sql.

For Example:

    UPDATE users
    SET city='New York',
        interests=''
    WHERE id=1
Can I write SQL to ignore setting the 'interest' column since the value is an empty string?

EDIT: fix SQL 

UPDATE: A case statement is what I was looking for. I also realized that my question was not clear. This SQL is part of a prepared statement. I want to partially update a user but by test my parameters for empty strings.",learnSQL,Is it possible to detect an empty string?,1.0,https://www.reddit.com/r/learnSQL/comments/8877qx/is_it_possible_to_detect_an_empty_string/
16,eurodollars,1522683066,89067t,6,3,"Assume my columns are Customer_ID, Address, Description, Phone and I have a total of 5,000 rows.  If I have a list of 30 Customer_IDs is there a query I can run instead of swapping out the Customer_ID in a WHERE clause each time?

EDIT: I guess this would be like looping through an array if that helps clear up my question",learnSQL,Run a query on a list,1.0,https://www.reddit.com/r/learnSQL/comments/89067t/run_a_query_on_a_list/
17,porthoshsc,1522771995,89ffnx,2,7,"Hi

Does anyone know where I can find a SQL visualiser that will show what a query does to an actual dataset, line by line please?

For example, [this](https://imgur.com/tK1HQQP) would show [this](https://imgur.com/tqfBANh) activity for a given line or group of lines.

All the visualisers I've found just show the generic (none dataset) activity, such as [this](https://imgur.com/Gj7dzHL).",learnSQL,Where can I find a SQL visualiser?,1.0,https://www.reddit.com/r/learnSQL/comments/89ffnx/where_can_i_find_a_sql_visualiser/
18,HibbidyHooplah,1522788597,89ifv2,1,3,"Hi, I am trying to build a trigger for my database (sqlite3) but it seems more complicated than I am used to. I would like to update a specific column (increment it by 1) if a different column in another table is incremented by 1.
something like TRIGGER UPDATE column1 IF column2 changes. I need to figure out the proper syntax to accomplish this.",learnSQL,Trigger syntax sqlite3 python,1.0,https://www.reddit.com/r/learnSQL/comments/89ifv2/trigger_syntax_sqlite3_python/
19,NsfwOlive,1522925506,89yopu,2,2,"I have nothing to test it on, but I would like to know if this compiles correctly.

I'd like to get the name of all stores, that sells all pizzas. 

[tables](https://i.imgur.com/SMriBNl.png)

    SELECT name
    FROM STORE
    WHERE count(
        SELECT store_name 
        FROM SELLS 
        WHERE store_name == name
    ) == count(
        SELECT * 
        FROM PIZZA
    )
",learnSQL,Is this a valid query?,1.0,https://www.reddit.com/r/learnSQL/comments/89yopu/is_this_a_valid_query/
20,trumtra,1522938286,8a04b0,0,1, ,learnSQL,How the Evolution of Data Warehouses is Changing ETL,1.0,https://statsbot.co/blog/etl-vs-elt/
0,onestupidquestion,1517886650,7vkfrp,0,3,"I'm working with CMS's Medicare SNF cost reports for FY2016 ([available here](https://www.cms.gov/Research-Statistics-Data-and-Systems/Downloadable-Public-Use-Files/Cost-Reports/Cost-Reports-by-Fiscal-Year.html)). Basically, these are a database representation of the cost reports filed by every nursing home in the country that receives Medicare funding; they contain a bunch of financial information, including a high-level look at cost centers.

The data is stored primarily in 2 tables with ~3.5m records each: the alphanumeric table and the numeric table. There are only 5 fields in each table:


* Report ID (serves as primary key for the report table, which is primarily metadata about when the reports were filed, updated, etc. I don't need the data from this table for anything else)
* Worksheet ID
* Line number
* Column number
* The actual data field

Reference documents are available in a PDF, so it's relatively easy to find costs like dietary expenses, nursing wages, etc. on the actual worksheets. Pulling out individual items is trivial; find the worksheet, line, and column where the data lives, and do a query that looks something like:


    SELECT data FROM alphatable
        WHERE worksheet = 'S200001'
        AND line = '00200'
        AND column = '00100'


The issue is when I want to pull out two different data fields at once. For example, if I want to find nursing wages by zip code, I don't know how to put the pieces together. In most of the examples I've found, this data would either be in different tables or at least different fields, so I could use JOIN or other operators.

Any help would be appreciated. Thanks!",learnSQL,SQL Server 2017 - Medicare Cost Reports,1.0,https://www.reddit.com/r/learnSQL/comments/7vkfrp/sql_server_2017_medicare_cost_reports/
1,se7ensquared,1517953750,7vqxzx,2,1,"In the following code, what does the ""N"" in front of the file location indicate? I've searched and can't find any information on it.


    OPENROWSET(BULK N'C:\Text1.txt', SINGLE_BLOB)

Thanks!
",learnSQL,[T-SQL] OPENROWSET() function argument quick question,1.0,https://www.reddit.com/r/learnSQL/comments/7vqxzx/tsql_openrowset_function_argument_quick_question/
2,Oxford89,1517963295,7vs2ql,6,9,"#What is SQL?


Structured Query Language (SQL) is a computer language used for relational database management and data manipulation. It's mostly used to write “queries” to interact with data stored in tables. Tables are the the primary objects found within a database.

&amp;nbsp;

#What is a Table?


A table is a collection of related data in a structured format. Tables consist of rows (records) and columns (fields, attributes). The data within a table is stored with different data types like strings, integers, and dates. Tables are uniquely named inside of a database. 

##Table Example

**CITY_CENSUS:**

CITY | STATE | POPULATION
:- | :- | :-
New York | New York | 8,550,405
Chicago | Illinois | 2,695,598
San Diego | California | 1,394,928
Austin | Texas | 931,830

&amp;nbsp;

#Data Types


A data type defines the type of values that a column can contain. Once set, a column can **only** hold values of that particular type. Data types determine the disk space needed for storage as well as the speed at which that data can be retrieved. They are also important for data integrity. For example, we wouldn’t want letters in a field intended to hold timestamps.

##Basic Data Types

Data Type | Description | Example
:- | :- | :-
INTEGER | Whole numbers, no decimal values. | 10
VARCHAR | Variable length character. Allows letters, numbers, and many symbols. | John: $36
DATETIME | Stores date and time values. | 01/01/2017 12:00:00
DECIMAL | Decimal numbers. The scale, or number of decimal places, can be defined. | 99.20
BOOLEAN | Stores TRUE or FALSE values. In SQL Server, this is known as BIT (1 or 0). | TRUE

&amp;nbsp;

#What is a Database?
A database is a collection of tables that can be related via common attributes. Like tables, databases also have unique names. Databases may also contain other objects, like “views” and “stored procedures”.

&amp;nbsp;

#Querying Data
To view data stored within a table, we must query it. Querying is how we retrieve data stored inside of a database. Queries are like asking the database a question.

&amp;nbsp;

**Question:** *What is the capital of New York?*

We can use the table below to easily find that the answer is *Albany*. But how would we write a SQL query to do that?

&amp;nbsp;

**STATE_FACTS:**

STATE | COUNTRY | POPULATION | CAPITAL_CITY
:- | :- | :- | :-
New York | United States | 19,795,791 | Albany
Illinois | United States | 12,801,539 | Springfield
California | United States | 39,250,017 | Sacramento
Texas | United States | 27,862,596 | Austin

##Writing a SQL Query##

The syntax for writing a query is simple:


    SELECT [COLUMNS]
    FROM [TABLE]
    WHERE [CONDITION]

&amp;nbsp;
	
* SELECT statement
 * What columns do we want to view in our output?
 * Use an asterisk (*) to return all columns
* FROM statement
 * What table is the information stored within?
* WHERE statement
 * What conditions do we want to specify of the data?
 * This statement is optional
 * Chain conditions using **AND** and **OR** operators
 * Isolate conditions using parantheses

&amp;nbsp;

**SQL Query:** What is the capital of New York?

    SELECT CAPITAL_CITY, STATE
    FROM STATE_FACTS
    WHERE STATE = 'New York'

**Results:**

CAPITAL_CITY | STATE
:- | :-
Albany | New York

&amp;nbsp;

#Querying Multiple Tables - SQL Join
The data we need is often stored across multiple tables. With SQL, that’s not a problem because we can easily JOIN tables together based on common attributes to retrieve information from both. 

##Joining Tables Together
Joins append columns from one table to another. The basic syntax is below.

    SELECT *
    FROM [TABLE 1] 
    JOIN [TABLE 2]
        ON [TABLE 1].[COLUMN A] = [TABLE 2].[COLUMN B]

&amp;nbsp;

* JOIN Statement
 * What is the additional table you would like to query?
 * Must be accompanied by an ON statement
 * There are several different types of joins
* ON statement
 * What are the common attributes that are equivalent between the two tables?

##Aliasing
To make joins easier to write (and read), we can assign a working name to tables and columns. Table aliases can be used to replace the full table name when referencing columns in that table. Column aliases affect the column output name in query results.

    SELECT [T2].[COLUMN C] AS EXAMPLE
    FROM [TABLE 1] AS [T1]
    JOIN [TABLE 2] AS [T2]
        ON [T1].[COLUMN A] = [T2].[COLUMN B]

&amp;nbsp;

* AS Statement
 * Follows the actual column or table name and immediately precedes the new alias name

##JOIN Example

**SQL Query:** How does each city's population in our earlier CITY_CENSUS table compare to their state's population from our STATE_FACTS table?

    SELECT CC.CITY, 
    CC.STATE, 
    CC.POPULATION AS CITY_POPULATION, 
    SF.POPULATION AS STATE_POPULATION
    FROM CITY_CENSUS AS CC
    INNER JOIN STATE_FACTS AS SF
        ON CC.STATE = SF.STATE

**Results:**

CITY | STATE | CITY_POPULATION | STATE_POPULATION
:- | :- | :- | :-
New York | New York | 8,550,405 | 19,795,791
Chicago | Illinois | 2,695,598 | 12,801,539
San Diego | California | 1,394,928 | 39,250,017
Austin | Texas | 931,830 | 27,862,596

&amp;nbsp;

#Basic SQL for Day 2 Beginners Preview 

##Primary JOIN Types
The three main JOIN types are listed below along with how they will affect your query results. I will create another post to further explain JOIN's sometime soon!

**INNER JOIN**

* Return rows where a common entry exists in both tables
* If a row in either table cannot be joined to the other table, it will not be included in the results.

**LEFT JOIN**

* Return all rows from “left” table in the results
* Only include rows in the “right” table if they have a common entry in the “left” table

**RIGHT JOIN**

* Return all rows from “right” table in the results
* Only include rows in the “left” table if they have a common entry in the “right” table",learnSQL,Introduction to Basic SQL for Day 1 Beginners,1.0,https://www.reddit.com/r/learnSQL/comments/7vs2ql/introduction_to_basic_sql_for_day_1_beginners/
3,Coollow13,1517972101,7vt0ns,3,1,"Hi, I am not a data analyst (though I am self-learning), I work in an auto production facility and I will be working with our Data team to improve/create reporting. I have a functional knowledge of SQL, and technical knowledge in databases. My database knowledge is mostly through understanding the how and where the data comes from, but not how they made it happen exactly. I have a mid-high level of spreadsheets (Sheets and Excel), but I don't want to rest on that. However, I am an expert in my field and they are not.
 

The team will be relying on bringing our experience together, and I want to make sure we can understand each other effectively to prevent miscommunication. What resources could I use to better communicate and collaborate with high-level SQL professionals? Thank you.",learnSQL,Collaborating with Data Analysts,1.0,https://www.reddit.com/r/learnSQL/comments/7vt0ns/collaborating_with_data_analysts/
4,Oxford89,1518036593,7vzaru,3,15,"Welcome back! If you haven't yet reviewed [Introduction to Basic SQL for Day 1 Beginners](https://www.reddit.com/r/learnSQL/comments/7vs2ql/introduction_to_basic_sql_for_day_1_beginners/?ref=share&amp;ref_source=link) then I encourage you to do so before continuing. This post covers the four primary join types and how they affect query output results. 

#Primary JOIN Types
To refresh, joins tie tables together based on common attributes. This allows us to retrieve information from both tables in our query results set.

&amp;nbsp; 

**INNER JOIN**

* Return rows where a common entry exists in both tables
* If a row in either table cannot be joined to the other table, it will not be included in the results.

**LEFT JOIN**

* Return all rows from “left” table in the results
* Only include rows in the “right” table if they have a common entry in the “left” table

**RIGHT JOIN**

* Return all rows from “right” table in the results
* Only include rows in the “left” table if they have a common entry in the “right” table

**FULL JOIN**

* Return all rows from both tables even if a common entry does not exist in both

#Practical Join Examples

Consider the two example tables below and how each JOIN type affects our query results. These tables mimic the type of data you might encounter in a transactional sales database.

&amp;nbsp;

**CUSTOMERS:**

CUSTOMER_ID | CUSTOMER_NAME
:- | :-
1 | Smoke Pit
2 | Don's Place
3 | RL Law Firm

**ORDERS:** 

ORDERS | CUSTOMER_ID | AMOUNT | DATE
:- | :- |:- |:-
1 | 1 | 50.00 | 01/05/2016
2 | 2 | 75.00 | 01/06/2016
3 | 1 | 63.00 | 02/05/2016
4 | 1 | 100.00 | 03/05/2016
5 | 2 | 10.00 | 04/01/2016
6 | 1 | 24.00 | 04/05/2016
7 | 4 | 99.00 | 04/07/2016

&amp;nbsp;

##INNER JOIN##

**SQL Query:**

    SELECT A.CUSTOMER_ID, 
    A.CUSTOMER_NAME,
    B.ORDER_ID, 
    B.AMOUNT, 
    B.DATE 
    FROM CUSTOMERS A
    INNER JOIN ORDERS B
        ON A.CUSTOMER_ID = B.CUSTOMER_ID

**Results:**

CUSTOMER_ID | CUSTOMER_NAME | ORDER_ID | AMOUNT | DATE
:- | :- |:- |:- |:-
1 | Smoke Pit | 1 | 50.00 | 01/05/2016
1 | Smoke Pit | 3 | 63.00 | 02/05/2016
1 | Smoke Pit | 4 | 100.00 | 03/05/2016
1 | Smoke Pit | 6 | 24.00 | 04/05/2016
2 | Don's Place | 2 | 75.00 | 01/06/2016
2 | Don's Place | 5 | 10.00 | 04/01/2016

**Explanation:** An inner join would not include results for “RL Law Firm” because there are not any orders under that CUSTOMER_ID in the ORDERS table.

##LEFT JOIN##

**SQL Query:**

    SELECT A.CUSTOMER_ID, 
    A.CUSTOMER_NAME,
    B.ORDER_ID, 
    B.AMOUNT, 
    B.DATE 
    FROM CUSTOMERS A
    LEFT JOIN ORDERS B
        ON A.CUSTOMER_ID = B.CUSTOMER_ID

**Results:**

CUSTOMER_ID | CUSTOMER_NAME | ORDER_ID | AMOUNT | DATE
:- | :- |:- |:- |:-
1 | Smoke Pit | 1 | 50.00 | 01/05/2016
1 | Smoke Pit | 3 | 63.00 | 02/05/2016
1 | Smoke Pit | 4 | 100.00 | 03/05/2016
1 | Smoke Pit | 6 | 24.00 | 04/05/2016
2 | Don's Place | 2 | 75.00 | 01/06/2016
2 | Don's Place | 5 | 10.00 | 04/01/2016
3 | RL Law Firm |  |  | 

**Explanation:** A left join would include a row for “RL Law Firm” but would not have any corresponding data from the ORDERS table since there are no orders for that CUSTOMER_ID.

##RIGHT JOIN##

**SQL Query:**

    SELECT A.CUSTOMER_ID, 
    A.CUSTOMER_NAME,
    B.ORDER_ID, 
    B.AMOUNT, 
    B.DATE 
    FROM CUSTOMERS A
    RIGHT JOIN ORDERS B
        ON A.CUSTOMER_ID = B.CUSTOMER_ID

**Results:**

CUSTOMER_ID | CUSTOMER_NAME | ORDER_ID | AMOUNT | DATE
:- | :- |:- |:- |:-
1 | Smoke Pit | 1 | 50.00 | 01/05/2016
1 | Smoke Pit | 3 | 63.00 | 02/05/2016
1 | Smoke Pit | 4 | 100.00 | 03/05/2016
1 | Smoke Pit | 6 | 24.00 | 04/05/2016
2 | Don's Place | 2 | 75.00 | 01/06/2016
2 | Don's Place | 5 | 10.00 | 04/01/2016
  |  | 7 | 99.00 | 04/07/2016

**Explanation:** A right join would include a row for ORDER_ID = 7 but would not have any corresponding data from the CUSTOMERS table since there is not a CUSTOMER_ID = 4 in that table.

##FULL JOIN##

**SQL Query:**

    SELECT A.CUSTOMER_ID, 
    A.CUSTOMER_NAME,
    B.ORDER_ID, 
    B.AMOUNT, 
    B.DATE 
    FROM CUSTOMERS A
    FULL JOIN ORDERS B
        ON A.CUSTOMER_ID = B.CUSTOMER_ID

**Results:**

CUSTOMER_ID | CUSTOMER_NAME | ORDER_ID | AMOUNT | DATE
:- | :- |:- |:- |:-
1 | Smoke Pit | 1 | 50.00 | 01/05/2016
1 | Smoke Pit | 3 | 63.00 | 02/05/2016
1 | Smoke Pit | 4 | 100.00 | 03/05/2016
1 | Smoke Pit | 6 | 24.00 | 04/05/2016
2 | Don's Place | 2 | 75.00 | 01/06/2016
2 | Don's Place | 5 | 10.00 | 04/01/2016
3 | RL Law Firm |  |  | 
  |  | 7 | 99.00 | 04/07/2016

**Explanation:** A full join would include a row for “RL Law Firm” despite the fact that it has no ORDERS and a row for ORDER_ID = 7 even though CUSTOMER_ID = 4 does not exist in CUSTOMERS.",learnSQL,Basic SQL for Day 2 Beginners - Joins,1.0,https://www.reddit.com/r/learnSQL/comments/7vzaru/basic_sql_for_day_2_beginners_joins/
5,vikaskalwani,1518444076,7x0wf3,0,2, ,learnSQL,Community Curated PL/SQL Resources,1.0,https://hackr.io/tutorials/learn-sql
6,ellarr,1518617915,7xiaet,0,1, ,learnSQL,How to learn intermediate level of T-SQL at the price of a one day breakfast ?,1.0,https://www.udemy.com/t-sql-training/?couponCode=TSQL_10
7,karaokelove,1519343090,7zjjo6,2,2, ,learnSQL,Question about Joins,1.0,https://www.reddit.com/r/SQLServer/comments/7zjfsu/question_about_joins/
8,Jit2op,1519413408,7zqmdu,0,2, ,learnSQL,"New Job task involves me using SQL, Would like to learn more - Job doesn't have resources for it",1.0,https://www.reddit.com/r/SQL/comments/7zqiz3/new_job_task_involves_me_using_sql_would_like_to/
9,mgdmw,1519467371,7zvsgw,0,8, ,learnSQL,A Beginner’s Guide to the True Order of SQL Operations,1.0,https://blog.jooq.org/2016/12/09/a-beginners-guide-to-the-true-order-of-sql-operations/
10,Optimesh,1519685074,80hafv,5,2,"Let's start with an example. 

This would work:

    SELECT item, price, avg(price), price - avg(price) FROM item

(I know the avg(price) would give the same value for every row, this is for sake of illustration).

This, however, will not (at least on Postgres):

    SELECT item, price, avg(price) as average_price, price - average_price FROM item


Doesn't it make sense that it _should_ work? Don't I calculate the same value (avg(price) ) twice in the first query, and if the second would work I'll only calculate it once?

Appreciate your insights",learnSQL,Why can't you reference a column by its alias in the same SELECT query?,1.0,https://www.reddit.com/r/learnSQL/comments/80hafv/why_cant_you_reference_a_column_by_its_alias_in/
11,octopodesrex,1519854819,80zzd5,3,2,"I'm trying to learn joins and I'm using PHPMyAdmin to practice with MySQL, installed through XAMPP. Currently I am attempting to match countries to their capitals, the IDs for each match.

Whenever I write this code:

    SELECT countries.id, countries.country, capitals.city 
    FROM countries 
    INNER JOIN capitals ON countries.ID = capitals.ID;


It looks great, all the proper capitals match the countries. I check the table for countries and nothing has changed. I even tried creating a new table from the joined results, selecting all, but it just copies the ID and country only, not the capitals.

Am I missing a step?
 
EDIT: Renamed the ID columns to unique names (CountryID and CityID) but no change. Updated Query:

    SELECT countries.countryid, countries.country, capitals.city 
    FROM countries 
    INNER JOIN capitals ON countries.countryid = capitals.cityid;

[Here are the results on my query](https://i.imgur.com/O3gdjVC.png)",learnSQL,Not saving data in table on INNER JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/80zzd5/not_saving_data_in_table_on_inner_join/
12,GoatSex_IkeaCrumpets,1520247232,82555t,0,1,"I'm working on a site where a user can take a multiple choice quiz, and I want the questions for each quiz to be randomly selected from my database.

The questions are stored in the table 'quiz_questions' like this;

question_id| quiz_id | question_text
---|---|----
1| 1| Question 1
2| 1 | Question 2
3| 1| Question 3

The answer choices are stored in the table 'quiz_question_option' like this;



quiz_ques_opt_id| quiz_ques_id | answer_text | is_correct | comment_text
---|---|----|----|----
1 | 1| question 1 answer 1| 1| correct
2 | 1| question 1 answer 2| 0| incorrect
3 | 2| question 2 answer 1| 0 | incorrect
4 | 2| question 2 answer 2| 1 | correct
5 | 2| question 2 answer 3| 0 | incorrect

I want to select 5 random questions from quiz_questions and then get all the answer options for these questions.

I tried the following however it was selecting 5 answer options rather than 5 questions.

    SELECT quiz_questions.question_id, quiz_questions.question_text, quiz_question_option.answer_text, quiz_question_option.is_correct, quiz_question_option.comment_text FROM quiz_questions INNER JOIN quiz_question_option ON quiz_questions.question_id = quiz_question_option.quiz_ques_id ORDER BY RAND() LIMIT 5;",learnSQL,Question about getting random results and limits,1.0,https://www.reddit.com/r/learnSQL/comments/82555t/question_about_getting_random_results_and_limits/
13,Awais22000,1520259547,8267xl,0,2, ,learnSQL,What Is View In SQL,1.0,https://bitalksbi.com/sqlcreatesqlaltersqldropstatement/
0,tonlou,1515624152,7pjfpg,2,1,"I have a small sql database which contains customers, products and orders.

Im trying to find those customers who ordered 2 specific items. I managed to do a query which finds people who either ordered iphone7 or iphone8 (these are those specific items that I'm looking for) but what I need is a query which only returns people who ordered both iphones.

Here is what I have tried so far: https://pastebin.com/hGmQvvXA

",learnSQL,Query to find customers who ordered two different items,1.0,https://www.reddit.com/r/learnSQL/comments/7pjfpg/query_to_find_customers_who_ordered_two_different/
1,farcical88,1515647779,7plvhw,5,1,"I've seen a few posts recommending one just set up something local and start tinkering as a good way to get one's feet wet.

I was going to install MS SQL Server 2017 Express but a colleague at work suggested the dev edition since both are free.

For all practical purposes I'm not going to be likely pushing express anywhere near its limits but is there any reason to choose one or the other?

Thanks!",learnSQL,"Best free local development environment--SQL Express, or Dev Ed?",1.0,https://www.reddit.com/r/learnSQL/comments/7plvhw/best_free_local_development_environmentsql/
2,tommy_23,1515683385,7pop3e,0,1, ,learnSQL,Understanding Transactions in SQL,1.0,http://codingsight.com/understanding-transactions-in-sql/
3,[deleted],1515786646,7pz60v,2,2,[deleted],learnSQL,I need some direction for a project.,1.0,https://www.reddit.com/r/learnSQL/comments/7pz60v/i_need_some_direction_for_a_project/
4,6months_to_60k,1515903226,7q9pbu,5,2,"Let's say I want to INSERT into table X. What's the best way to know all the columns ahead of time? I'm just learning now so I'm doing manual INSERTs. Even if it were embedded in a program though, I'd need to know all the fields, right? (edit: all the fields that disallow nulls, or which I know have an acceptable default value... but still...)

I can expand the columns node of table X to view them when writing a query. 

I can also do a 'select top 1000' on table X and copy and paste the list. This looks to the best option when there are a large number of fields.

Is there a better way than these two?",learnSQL,Basic question: Is there a better way to know what fields are in a table before I INSERT?,1.0,https://www.reddit.com/r/learnSQL/comments/7q9pbu/basic_question_is_there_a_better_way_to_know_what/
5,TGEL0,1516289028,7rae3y,2,3,"So, there are a lot of options for SQL newbies to learn the basics (and some more advanced stuff).

But where do you go if you have already a solid understanding of SQL? Is there a community for SQL like Kaggle?",learnSQL,Not so basic SQL,1.0,https://www.reddit.com/r/learnSQL/comments/7rae3y/not_so_basic_sql/
6,zendakin,1516570378,7s0pmn,6,3,"Hey all,

I have a table that looks like this. 




account_id | quarter | revenue
---|---|----
1|Q1-2016|$500
1|Q2-2016|$400
1|Q3-2016|$350
1|Q4-2016|$600
1|Q1-2017|$1000
1|Q2-2017|$650
1|Q3-2017|$890

What I'm trying to get to is something that looks like this

account_id|2016|Q1-2017|Q2-2017|Q3-2017
---|---|---|---|----
1|$1850|$1000|$650|$890

but I'm not sure how to do that. I think I need to create a PIVOT from the table above but not really sure. Any advice on how I can get this done?

Thanks in advance,",learnSQL,Looking for help to create a pivot from a table,1.0,https://www.reddit.com/r/learnSQL/comments/7s0pmn/looking_for_help_to_create_a_pivot_from_a_table/
7,FabianGaussling,1516627505,7s5puo,0,0,"
Hi,

check out an free excerpt of my latest book SQL Basics on my BLOG: http://bi-solutions.gaussling.com/sql_basics_excerpt/

If you like it, you can purchase it on Amazon. I also appreciate Reviews on my book. So if you like to review the complete book just send me a personal message. You receive a free copy of the book in order to review it.

Check it out and learn SQL the easy way!

Fabian",learnSQL,Free excerpt: SQL Basics - Learn SQL the easy way,1.0,https://www.reddit.com/r/learnSQL/comments/7s5puo/free_excerpt_sql_basics_learn_sql_the_easy_way/
8,Skoskk,1516742462,7shu5y,3,2, ,learnSQL,[MS SQL] I’m newer to SQL and am trying to get the correct join language for this relational database. They should all be inner joins. Can anyone help out?,1.0,https://i.redd.it/vh4417tjwvb01.jpg
9,headyyeti,1517495764,7uj4cs,4,2,"I have been working in SQL for years, but I now need to build a new DB for my company and need to learn design specifically. Any good resources?",learnSQL,Any good books/videos/courses for Database Design specifically?,1.0,https://www.reddit.com/r/learnSQL/comments/7uj4cs/any_good_booksvideoscourses_for_database_design/
10,dearpetra,1517498015,7ujdgs,0,3, ,learnSQL,Using SQL to Estimate Customer Lifetime Value (LTV) without Machine Learning,1.0,https://statsbot.co/blog/calculating-customer-lifetime-value-sql-example
11,OracleMine,1517592270,7usvgd,0,1, ,learnSQL,This Single SQL Query Solved My Sudoku In Seconds,1.0,http://oraclemine.com/sql-query-solved-sudoku-seconds/
0,cs_stud,1512653216,7i6fzt,3,2,"Hi, I want to design a crow foot model erd but I'm not sure what software/website to use. I want to design the diagram first rather than creating the database and generating the ERD. Any help?",learnSQL,What's the best software/website to design an ERD?,1.0,https://www.reddit.com/r/learnSQL/comments/7i6fzt/whats_the_best_softwarewebsite_to_design_an_erd/
1,nikulasoskarsson,1512908083,7itm0o,1,2,"Basically what this procedure will do is take a id of a student as a parameter. It will then check a table that holds all the info of the student and see what courses he is in. It will then output based on what courses he is from another table that will show what courses he has to take next semester. Example would be if he was in math101 he would get a output with math201.




[This](https://imgur.com/a/lGIcC) is the table with the info on the student and [this](https://imgur.com/a/DxdZA) has the info on the courses. Basically I want to select ""EÐL203"", ""FOR3L3U"", ""GSF2B3U"" AND ""STÆ203"" because of what this person is already in.


Tried to solve it by using multiple if statements but it got very confusing as well as selecting multiple data enteries based on current data.",learnSQL,Need help writing a mysql stored procedure.,1.0,https://www.reddit.com/r/learnSQL/comments/7itm0o/need_help_writing_a_mysql_stored_procedure/
2,samiali123,1513169517,7jiz3d,0,1, ,learnSQL,"""PostgreSQL: Advanced SQL Queries and Data Analysis"" Course - 100% OFF",1.0,https://youronlinecourses.net/udemy-postgresql-course/
3,Optimesh,1513254464,7jr9gp,3,4,"Is there a way to know how much / what % of time is taken by each component of the query?

Appreciate pointers and help! 

Note: this is a general question for learning how to attack this problem whenever I meet it, not query specific.",learnSQL,How can I identify what makes my query slow?,1.0,https://www.reddit.com/r/learnSQL/comments/7jr9gp/how_can_i_identify_what_makes_my_query_slow/
4,bellamira,1513286901,7juv9b,1,3,"
**Players Table**

Player (id) | Name
---|---
1 | Ann
2 | Leslie
3 | Ron
4 | Tom

&amp;nbsp;


**Matchups Table**

Match (id) | Winner (players.id) | Loser (players.id)
---|---|----
1 | 1 | 2
2 | 3 | 4
3 | 1 | 4
4 | 2 | 3

&amp;nbsp;

What I need to do is get a new table or view that shows **players.id, players.name, number wins, number matches played**

&amp;nbsp;

I am coming up short on figuring out how to join these two tables to make that happen. I was thinking something like the following but I know that's not right - it doesn't work for the matchups.loser - it just gives me the same id as the winner. 

Maybe I need another view as a stepping stone to get there?

&amp;nbsp;

    SELECT 
    
    players.id, players.name, COUNT(matchups.winner) AS wins, (COUNT(matchups.winner) + COUNT(matchups.loser)) AS matches_played
    
    FROM players LEFT JOIN matchups ON players.id = matchups.winner
    
    GROUP BY players.id
    
    ORDER BY wins DESC",learnSQL,Noob - need help with (what I think is) a complicated join problem,1.0,https://www.reddit.com/r/learnSQL/comments/7juv9b/noob_need_help_with_what_i_think_is_a_complicated/
5,Skoskk,1513348444,7k01iz,2,4, ,learnSQL,[MS SQL] I am trying to get the correct join language to join these tables. They should all be inner joins. Can anyone help with the code?,1.0,https://i.redd.it/1jw3nf0ek3401.jpg
6,EVLMSQL,1513606339,7klfkj,6,3,"I am trying to build a query which checks whether data exists or does not exist in another table. 

I know its a where query but how do you structure a where XYZAttribute does not exist?",learnSQL,Where data does not exist query advice required.,1.0,https://www.reddit.com/r/learnSQL/comments/7klfkj/where_data_does_not_exist_query_advice_required/
7,[deleted],1513767723,7l0pqt,0,1,[deleted],learnSQL,[TSQL] Can anyone help me with the attached query?,1.0,https://www.reddit.com/r/learnSQL/comments/7l0pqt/tsql_can_anyone_help_me_with_the_attached_query/
8,[deleted],1514488548,7mop2g,0,1,[deleted],learnSQL,"[TSQL] My first function, getting weird syntax errors.",1.0,https://www.reddit.com/r/learnSQL/comments/7mop2g/tsql_my_first_function_getting_weird_syntax_errors/
9,[deleted],1514492562,7mp52x,0,2,[deleted],learnSQL,[TSQL / C#] ExecuteScalar() Getting a null reference no matter what.,1.0,https://www.reddit.com/r/learnSQL/comments/7mp52x/tsql_c_executescalar_getting_a_null_reference_no/
10,DIARRHEA_EXORCISM,1514861415,7njm61,10,3,"What is a decent free SQL program I can download to just practice coding? I am also interested in working with the Northwind database to use as sample data.

I've been brushing up lately and was using codeacademy website but not sure I want to pay 200 to upgrade to get the rest of the exercises",learnSQL,Looking for a free SQL software,1.0,https://www.reddit.com/r/learnSQL/comments/7njm61/looking_for_a_free_sql_software/
11,GGalhardo,1515086466,7o4gs7,3,4,"Hi, I am an Engineer and I am currently trying to update myself and learn new skills. I am trying to find a way to learn SQL by myself, but there is so much information out there that I don't even know where is the step 1. Could somebody help me or suggest me any step-by-step to someone who has never used SQL before?",learnSQL,Learn SQL from scratch,1.0,https://www.reddit.com/r/learnSQL/comments/7o4gs7/learn_sql_from_scratch/
0,Andre380,1509983069,7b5xh7,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #91,1.0,https://www.reddit.com/r/learnSQL/comments/7b5xh7/sql_prep_daily_challenge_91/
1,Tilt567,1510069451,7bdz9a,5,2,"Hello, I am new to sql and having been doing the practices on sqlzoo to improve myself. I am not too familiar with the ALL/ANY operator and was hoping someone could explain to me why this works.

Select the code that shows the name, region and population of the smallest country in each region

table
bbc
name	region	area	population	gdp
Afghanistan	South Asia	652225	26000000	
etc...

the answer is..

 SELECT region, name, population FROM bbc x WHERE population &lt;= ALL (SELECT population FROM bbc y WHERE y.region=x.region AND population&gt;0)

the nested select statement looks like a Cartesian join, and I dont understand why population &lt;= all returns only the lowest in the region.

Thanks

",learnSQL,Need help explaining why this works,1.0,https://www.reddit.com/r/learnSQL/comments/7bdz9a/need_help_explaining_why_this_works/
2,Andre380,1510156409,7bm69x,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #93,1.0,https://www.reddit.com/r/learnSQL/comments/7bm69x/sql_prep_daily_challenge_93/
3,BRAF-V600E,1510175137,7boeia,4,5,"In a few months time I'll be going into a new job where I'll be expected to have a good understanding of building and working with SQL databases, specifically MySQL databases. I have limited experience with SQL, and I'd still consider myself a beginner.

Ultimately I'd like to be as prepared as possible when beginning the job, which means that I'd like to learn as much as possible about SQL before then. I have enjoyed using books from No Starch Press to learn about other programming languages, but unfortunately, they don't seem to have an SQL book out yet. I've found a [book by O'Reilly]( https://www.amazon.com/Learning-SQL-Master-Fundamentals/dp/0596520832/ref=sr_1_6?ie=UTF8&amp;qid=1510174980&amp;sr=8-6&amp;keywords=sql) that looks promising, and I'm not sure if that would be a good resource.

So I'm open to suggestions. I have about two months to devote to learning on a part-time basis, so what would work best here?",learnSQL,Best resource to learn SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/7boeia/best_resource_to_learn_sql/
4,Andre380,1510330511,7c220r,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #95,1.0,https://www.reddit.com/r/learnSQL/comments/7c220r/sql_prep_daily_challenge_95/
5,GentlemanSch,1510346277,7c3t81,3,5, ,learnSQL,What would be the best way to organize data such as this in a SQL database?,1.0,https://i.redd.it/vzml33e9l7xz.png
6,Andre380,1510761454,7d50d1,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #98,1.0,https://www.reddit.com/r/learnSQL/comments/7d50d1/sql_prep_daily_challenge_98/
7,Andre380,1510933993,7dluy9,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #100,1.0,https://www.reddit.com/r/learnSQL/comments/7dluy9/sql_prep_daily_challenge_100/
8,Andre380,1511192859,7e9qcq,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #101,1.0,https://www.reddit.com/r/learnSQL/comments/7e9qcq/sql_prep_daily_challenge_101/
9,Davy_Jones_XIV,1511341024,7epkip,2,5,What is the best book to learn sql for beginners?,learnSQL,Best Book for Beginners,1.0,https://www.reddit.com/r/learnSQL/comments/7epkip/best_book_for_beginners/
10,Andre380,1511368024,7es5kv,0,1,[removed],learnSQL,SQL Prep - Free Daily Challenge #1,1.0,https://www.reddit.com/r/learnSQL/comments/7es5kv/sql_prep_free_daily_challenge_1/
11,ConcernedCarry,1511424447,7ey5cn,7,2,"So basically for class I need to create an SQL statement that is A SELECT statement that returns only 10 records and only the first and last names from the CONTACT table for contacts who are married, and ORDERS the records in DESCENDING order, based on the last names.

I'm working with an MySQL Database aswell.

An row of the contact table looks like
  https://pastebin.com/hJHL4pFU

Now my plan of attack on this one found the matching list names with COUNT &gt; 1 or something of the sort but, I'm at a loss on how to determine where they differ on the Title to determine if they are married. This is a toy problem and is no way for anything serious other than my homework, so if you know any quick and dirty tricks or can push me in the right direction please respond. It will be greatly appreciated!",learnSQL,New To SQL Need Help with a query for Assignment,1.0,https://www.reddit.com/r/learnSQL/comments/7ey5cn/new_to_sql_need_help_with_a_query_for_assignment/
12,Andre380,1511453410,7f0l7t,0,1,[removed],learnSQL,SQL Prep - Free Daily Challenge #1,1.0,https://www.reddit.com/r/learnSQL/comments/7f0l7t/sql_prep_free_daily_challenge_1/
13,molode,1512056178,7gn4yg,0,2, ,learnSQL,How to make customer retention analysis with SQL the right way,1.0,https://blog.statsbot.co/customer-retention-analysis-93af9daee46b
14,Irish15n,1512083674,7gqk4k,5,3,"Ive been interested in coding for awhile and SQL would actually help my day to day job the most at this time. Is there a course or site that is the best to learn? Ive tried a few free ones so far, but nothing that has been that special to help things stick. 
I know theres a lot of articles about which is best, but there appears to be an overload of sites an opinions on sites to sort through. Appreciate any tips!",learnSQL,Best course to learn SQL,1.0,https://www.reddit.com/r/learnSQL/comments/7gqk4k/best_course_to_learn_sql/
15,bdrilling33,1512102610,7gsl6x,1,2,"I am finding the max of a column:

    Select max (column)
    From table

This returns a nvarchar ab-c0000123

How would I go about adding 1 to this,which should return ab-c0000124",learnSQL,Add 1 to nvarchar,1.0,https://www.reddit.com/r/learnSQL/comments/7gsl6x/add_1_to_nvarchar/
0,B3infoarena,1507372564,74u5v3,2,6, ,learnSQL,"Learn SQL :What is SQL Database , What is SQL Tables , And How it is Implemented.",1.0,http://www.techdoge.in/2017/10/learn-sql-what-is-sql-database-what-is.html
1,B3infoarena,1507483404,7530v0,0,4, ,learnSQL,"Learn SQL : How to create DataBase in MySQL, Tables in MySQL database and How To Insert Data In The Database.",1.0,http://www.techdoge.in/2017/10/learn-how-to-create-database-in-mysql.html
2,Nyubu,1507510336,755ois,2,3,"CREATE TABLE Flights (

fid int,

year int,

month_id int,

day_of_month int,

day_of_week_id int,

carrier_id varchar(20),

flight_num int,

origin_city varchar(50),

origin_state varchar(50),

dest_city varchar(50),

dest_state varchar(50),

departure_delay float,

taxi_out float,

arrival_delay float,

canceled int,

actual_time float,

distance float,

constraint pkFlights primary key (fid),

**Foreign key (carrier_id) references Carrier(cid),**

**Foreign key (month_id) references Months(mid),**

**Foreign key (day_of_week_id) references Weekdays(did)**

);

CREATE TABLE Carrier (

cid varchar(20),

name varchar(50),

constraint pkCarrier primary key (cid)

);

CREATE TABLE Months (

mid int,

month varchar(20),

constraint pkMonths primary key (mid)
);

CREATE TABLE Weekdays (

did int,

day_of_week varchar(20),

constraint pkWeekdays primary key (did)

);


-------------------------------------------------------------------------------
Whenever I try to select from one table meeting the criteria of another, nothing pulls up. For instance, the statement:

select A.name from Carrier A where A.cid in (select B.carrier_id from Flights B where B.origin_city=""Boston MA"" and B.dest_city=""Los Angeles CA"");

- Basically, I want to get the name of the carrier (stored in Carrier table) that has flown from Boston MA to Los Angeles CA using the carrier_id (stored in Flights Table). I don't see anything wrong with this statement, so I'm assuming it had something to do with the referencing done with the foreign keys.

Side-note: I'm a beginner.

Thank you in advance!",learnSQL,Is there something wrong with the foreign key constraint here? (sqlite),1.0,https://www.reddit.com/r/learnSQL/comments/755ois/is_there_something_wrong_with_the_foreign_key/
3,Andre380,1507655775,75ijf6,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #72,1.0,https://www.reddit.com/r/learnSQL/comments/75ijf6/sql_prep_daily_challenge_72/
4,Andre380,1507743885,75qqo3,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #73,1.0,https://www.reddit.com/r/learnSQL/comments/75qqo3/sql_prep_daily_challenge_73/
5,Andre380,1507825062,75y24m,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #74,1.0,https://www.reddit.com/r/learnSQL/comments/75y24m/sql_prep_daily_challenge_74/
6,Andre380,1507916947,766h5e,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #75,1.0,https://www.reddit.com/r/learnSQL/comments/766h5e/sql_prep_daily_challenge_75/
7,Andre380,1508259669,76zx9j,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #77,1.0,https://www.reddit.com/r/learnSQL/comments/76zx9j/sql_prep_daily_challenge_77/
8,koolkeano,1508273288,771iyy,1,3,"So I started learning sql, finished a handful of tutorials and now I want to use it!

I set myself the task of importing my google address book into mysql and getting rid of some of the rubbish. This contact list has been built up by hotmail, gmail, possibly facebook and manually in my phone. Due to this there are a bunch of different fields that are used for each version. Not that this causes an issue when I need to text or email as it comes up with a list of emails or phone numbers but for the sake of learning sql I'd like to have as many golden records as I can.

so current progress, I have found that all of my people can be singled out with soundex and the length of their first name. But what do I do now.

I'd like to make something that looks for the same soundex AND first name then combines the values of all matching rows into one.

It doesn't have to be neat, and I have less than 100 entries so it'll take no time to run anything, I just want it to work and for me to get it. 

any ideas?",learnSQL,"Having difficulty with a beginner project, trying to combine duplicates",1.0,https://www.reddit.com/r/learnSQL/comments/771iyy/having_difficulty_with_a_beginner_project_trying/
9,Andre380,1508346908,7781rt,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #78,1.0,https://www.reddit.com/r/learnSQL/comments/7781rt/sql_prep_daily_challenge_78/
10,Andre380,1508434744,77g132,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #79,1.0,https://www.reddit.com/r/learnSQL/comments/77g132/sql_prep_daily_challenge_79/
11,no_4,1508702069,782ijc,3,1,"I don't think it matters...but this is with T-SQL:

I just ran my first sucessful CTE in order to group by the result of a CASE statement.  Then when looking up CTEs, I found this example: 

    WITH Employee_CTE (EmployeeNumber, Title)
    AS
    (SELECT NationalIDNumber,
            JobTitle
     FROM   HumanResources.Employee)
    SELECT EmployeeNumber,
           Title
    FROM   Employee_CTE

What's the purpose of the (EmployeeNumber, Title) part near the beginning?  Just readability? 

Thanks!",learnSQL,"What's the purpose of data in parentheses at the beginning of a CTE? e.g. WITH Employee_CTE (EmployeeNumber, Title)",1.0,https://www.reddit.com/r/learnSQL/comments/782ijc/whats_the_purpose_of_data_in_parentheses_at_the/
12,koproller,1508749963,786j79,4,2,"This used to work:  

     create view enrollmentview as
     select *
     from college
     where enrollment &gt;= (SELECT AVG(enrollment) FROM college);   
    
not the system gives a 1046 error, unless I write this:   

     create view standard.enrollmentview as
     select *
     from standard.college
     where enrollment &gt;= (SELECT AVG(enrollment) FROM standard.college);     
    
Does anyone knows what I did wrong? 
",learnSQL,"[MYSQL] I always referenced relations with the name of the database, today I need to prefix them ""standard."". What did I do wrong?",1.0,https://www.reddit.com/r/learnSQL/comments/786j79/mysql_i_always_referenced_relations_with_the_name/
13,Andre380,1508777290,78917r,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #81,1.0,https://www.reddit.com/r/learnSQL/comments/78917r/sql_prep_daily_challenge_81/
14,krika293,1508797433,78bdjx,11,3,So I have a table called MenuItem and a table called Ingredient. Their relationship is One MenuItem to many ingredients and on that relationship I have an attribute called Quantity. My problem is trying to represent that in SQL. Should I do it as a foreign key or is there another way?,learnSQL,Trying to represent an attribute on a relationship in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/78bdjx/trying_to_represent_an_attribute_on_a/
15,AMart83,1508813699,78czjg,8,3,"Here's my situation (I'm a noob and using H2):

1. I create a table. Then forget that I need a primary key.

2. I add a column for the primary key but I forgot to add it as a primary key.

3. Go to add it as a primary key. BUt I forgot to put NOT NULL when I created it.

4. Go set it to NOT NULL. But I get a message that it contains NULL values.

5. Go set every value in the column to 0. Go to set it to NOT NULL. SUCCESS!

6. Go to add the primary key. But I get this error: 

&gt; Unique Index or Primary Key violation.

I'm inferring that the problem is the column that I want to use the primary key for has all the values set to 0. 

I'd appreciate it if someone could help me out. 
",learnSQL,H2: How do you add a primary key to an existing table?,1.0,https://www.reddit.com/r/learnSQL/comments/78czjg/h2_how_do_you_add_a_primary_key_to_an_existing/
16,Andre380,1508950542,78p08c,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #83,1.0,https://www.reddit.com/r/learnSQL/comments/78p08c/sql_prep_daily_challenge_83/
17,[deleted],1508956545,78ppmv,0,1,[deleted],learnSQL,Is it bad practice to not declare the datatype size?,1.0,https://www.reddit.com/r/learnSQL/comments/78ppmv/is_it_bad_practice_to_not_declare_the_datatype/
18,no_4,1508959463,78q20y,4,2,"Hi, 

So say there are 2 tables.  Here are very simplified versions (I think all that's relevant?)

The first has a list of transactions and the date-time they went out

**Transaction Table**

    Pmt ID    VendorID      PaymentDate
     1             1        2017-10-01 00:14:42
     2             2        2017-09-03 00:08:23

The second table has a list of those VendorIDs, and everytime the associated email changed.  It could have changed tons of times. 

**Audit Table**

    VendorID       Email                CreateDateUTC
    1              a@gmail.com          2016-01-01 17:51:08
    1              b@gmail.com          2016-03-03 12:40:03
    2              li@gmail.com         2017-03-30 05:40:03


So say I want to know - what email did payment ID 1 go to?  So I need to find from the audit table, what email was active at the date-time payment ID 1 went out.  

Manually - sure, I could scan through the audit table, and see what email was active at the date-time of the payment.   But how could I automate this?  I'm assuming join the audit table to the payment table, but how to join based on the time frame? 

EDIT:  So that say, I could get a *full* list of every payment, and the email it went to?   In my particular situation, I'm trying to answer 'which Pmt IDs went to a given email, like - which pmt IDs went to test@gmail.com'.  ",learnSQL,"Joining a Transaction table, to an audit table",1.0,https://www.reddit.com/r/learnSQL/comments/78q20y/joining_a_transaction_table_to_an_audit_table/
19,Andre380,1509038671,78x3ki,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #84,1.0,https://www.reddit.com/r/learnSQL/comments/78x3ki/sql_prep_daily_challenge_84/
20,[deleted],1509070415,790do1,1,2,[deleted],learnSQL,Adventure Works database query help,1.0,https://www.reddit.com/r/learnSQL/comments/790do1/adventure_works_database_query_help/
21,hellowowo,1509120393,79478i,4,2,"I started learning SQL by completing the free tutorial on Codecademy, by doing and repeating the exercises on Sqlzoo daily to get the little/easy things down to be second nature, w3schools, and completed a Udemy course on MySQL that taught the basics and the beginnings of advanced queries.


Preparing for the future, I’d like to gain more advanced SQL skills (indexes, other than ad hoc) and knowledge so that I can actually be a competitive candidate when looking for a Data Analyst position to being with.  When it comes to learning, I’m more of a Jack-of-all-trades kind of person until I know what area or field I know I want to go into.  With that, my questions are:


* Are there any courses/resources that you’ve personally taken and can recommend to learn more the more advanced areas SQL?
 
* What skills/programs/aspects of data analysis should I learn, that will expand on what I can do with SQL to make me more well-rounded (common things I see are SSAS/SSIS/SSRS and BI, but which first and why)?

* As a general question (or specific if you’d like), what should I prioritize in terms of learning to make sure I’m learning all the essentials to be successful in this field?  For example, should I learn a new RDBMS program before learning SSRS vice versa, or something like I should finish learning the basics of SQL then learning Python to help with data scraping, and so on.


There’s so much out there and I want to make sure I’m using my time efficiently learning the right things at the right time.  A bit overwhelmed with all that can be done.  Thanks for any help or insight you’re able to provide!
",learnSQL,What to learn/prioritize next after learning the basics? Need guidance.,1.0,https://www.reddit.com/r/learnSQL/comments/79478i/what_to_learnprioritize_next_after_learning_the/
22,Andre380,1509124732,794mgh,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #85,1.0,https://www.reddit.com/r/learnSQL/comments/794mgh/sql_prep_daily_challenge_85/
23,BullShifts,1509204165,79anq0,5,2,I'm learning sql and I'd like to try large databases to practice with. I have the lahman2016 baseball one which has a lot of info. Any other ideas would be welcomed.,learnSQL,Free publicly available large dump files?,1.0,https://www.reddit.com/r/learnSQL/comments/79anq0/free_publicly_available_large_dump_files/
24,Andre380,1509384448,79p8nr,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #86,1.0,https://www.reddit.com/r/learnSQL/comments/79p8nr/sql_prep_daily_challenge_86/
25,Andre380,1509469117,79x3w6,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #87,1.0,https://www.reddit.com/r/learnSQL/comments/79x3w6/sql_prep_daily_challenge_87/
26,Andre380,1509558759,7a5a13,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #88,1.0,https://www.reddit.com/r/learnSQL/comments/7a5a13/sql_prep_daily_challenge_88/
27,Andre380,1509644750,7ad754,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #89,1.0,https://www.reddit.com/r/learnSQL/comments/7ad754/sql_prep_daily_challenge_89/
28,MasterGeese,1509721330,7ajxpg,4,2,"The topic of a ""Box Select"" came up in an interview a few days ago, and after I had explained to the interviewer that it was not a function I had used before, the interviewer was kind enough to explain that it was a function that iterates over the result of a SELECT statement, allowing the output of the SELECT to be processed in chunks.

However, I cannot find even the slightest trace of this functionality over Google. Does anyone know if this function has a name other than ""box select"", or where I can find more information about it?",learnSQL,What is a Box Select?,1.0,https://www.reddit.com/r/learnSQL/comments/7ajxpg/what_is_a_box_select/
29,Andre380,1509733037,7al8rb,0,1,[removed],learnSQL,Check out our top steps for launching your data career!,1.0,https://www.reddit.com/r/learnSQL/comments/7al8rb/check_out_our_top_steps_for_launching_your_data/
0,Excellerates,1504731303,6yigdr,4,3,"--8. Show the productname of all products that contain an apostrophe mark. In the second column, show what the productname 
--would look like if the apostrophe were removed. Use the REPLACE function.

SELECT		ProductName
FROM		Products
WHERE		ProductName LIKE '%''%'
REPLACE(	ProductName,'''','') AS [Apostrophe Removed]

This is what I'm currently trying. I can get either WHERE or REPLACE to return but can't get them both to return results without an error. 
Is there an order you must follow while using clauses and functions?
",learnSQL,Simple SQL Question. Just started learning.,1.0,https://www.reddit.com/r/learnSQL/comments/6yigdr/simple_sql_question_just_started_learning/
1,Andre380,1504804583,6yomqc,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #49,1.0,https://www.reddit.com/r/learnSQL/comments/6yomqc/sql_prep_daily_sql_challenge_49/
2,Andre380,1504892099,6ywa0s,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #50,1.0,https://www.reddit.com/r/learnSQL/comments/6ywa0s/sql_prep_daily_sql_challenge_50/
3,Andre380,1505149798,6zgrds,0,1,[removed],learnSQL,FREE SQL Prep - Daily SQL Challenge #51,1.0,https://www.reddit.com/r/learnSQL/comments/6zgrds/free_sql_prep_daily_sql_challenge_51/
4,Andre380,1505236355,6zodda,0,1,[removed],learnSQL,FREE SQL Prep - Daily SQL Challenge #52,1.0,https://www.reddit.com/r/learnSQL/comments/6zodda/free_sql_prep_daily_sql_challenge_52/
5,Andre380,1505322947,6zw03u,0,1,[removed],learnSQL,FREE SQL Prep - Daily SQL Challenge #53,1.0,https://www.reddit.com/r/learnSQL/comments/6zw03u/free_sql_prep_daily_sql_challenge_53/
6,Andre380,1505409834,703qbz,0,1,[removed],learnSQL,FREE SQL Prep - Daily SQL Challenge #54,1.0,https://www.reddit.com/r/learnSQL/comments/703qbz/free_sql_prep_daily_sql_challenge_54/
7,Andre380,1505755014,70wha9,0,1,[removed],learnSQL,FREE SQL Prep - Daily SQL Challenge #56,1.0,https://www.reddit.com/r/learnSQL/comments/70wha9/free_sql_prep_daily_sql_challenge_56/
8,Soundofawesome,1505855115,7164qd,4,1,"Hey hey,

On mobile ATM... sorry for the poor formatting. 

I have two attributes I need to combine but one needs to be reordered. So far I have the combine correct, but I'm not sure how to separate and reorder the string.

I'm hoping to use the comma as a delimiter. 

Currently it's...

EmpID      | EmpName

xxxx          | l.name, f.name

But needs to be in the order:

Name

empid - f.name l.name

All in a one column called name... I looked up substring but quickly realized I was out of my element.

",learnSQL,Using Delimiters,1.0,https://www.reddit.com/r/learnSQL/comments/7164qd/using_delimiters/
9,Andre380,1505927723,71ckf9,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #58,1.0,https://www.reddit.com/r/learnSQL/comments/71ckf9/sql_prep_daily_challenge_58/
10,Andre380,1506013991,71km54,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #59,1.0,https://www.reddit.com/r/learnSQL/comments/71km54/sql_prep_daily_challenge_59/
11,porkyfly,1506016707,71kxto,2,1,"    SELECT description, pci FROM business_column WHERE pci = TRUE 
    AND description != ""Check if the columns gets registered successfully for pt test2""",learnSQL,What's wrong with this SQL statement?,1.0,https://www.reddit.com/r/learnSQL/comments/71kxto/whats_wrong_with_this_sql_statement/
12,Dalriata,1506047898,71o6by,3,6,"So I have to take a database course this semester in college and, well, the teacher is... I mean, he seems like he's new, so I don't hold it against him, but he's not a very good teacher. We don't have a textbook or anything (should have been a red light when I saw it), so I feel like it falls upon my shoulders to do some old-fashioned autodidactism. 

We're using Postgre in class, and for now we're using TOAD Data Modeler along with it (he said we're going to use something else in the future but hasn't alluded to what that may be). What should I do to teach myself this course in lieu of trying to follow along a teacher who frankly isn't very good?

EDIT: I suppose I'll add this, for future people who see this post. I found https://pgexercises.com/ already through my own googling, so I might use that for the purpose of practicing.",learnSQL,Best resource to learn PostgreSQL?,1.0,https://www.reddit.com/r/learnSQL/comments/71o6by/best_resource_to_learn_postgresql/
13,xyno19,1506082500,71qlay,5,6,"Apologies if this is an absolute moronic thing to ask... but I've searched all over internet and found absolutely nothing related to my issue. I did a short course on SQL ages ago in university, have forgotten most of it, but some of the basics are still in my head. I just have no idea how to this specific task... 

Basically I've been sent a data chart, with peoples names, email addresses, how much they've spent, registration date etc. All of this is in an excel file, there are 3 separate sections too. I'm supposed to write down SQL commands that I'd use for things like ""show all data where registration date greater than or equal to x"". 

Now my issue is, how do I actually do SQL in microsoft excel on a mac? From what I've seen its impossible? When I click on new database query in excel it just gives me a bunch of unrelated options like how to connect to external database and all that. I'm just interested in trying out each SQL command and checking if it works or not? Is there a way to do this? I must mention that I'm also on a mac (in case there are any issues with that I've got parallels installed so could jump on windows side if needed). Why aren't there any guides on how to do this online? So far I've found nothing relevant that would even aim to query SQL commands in excel. Am I supposed to use some other application to open up the excel tables? ",learnSQL,"So I've got an SQL assignment to do, but no idea how I'm supposed to accomplish it with what I've got?",1.0,https://www.reddit.com/r/learnSQL/comments/71qlay/so_ive_got_an_sql_assignment_to_do_but_no_idea/
14,Andre380,1506100606,71sga5,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #60,1.0,https://www.reddit.com/r/learnSQL/comments/71sga5/sql_prep_daily_challenge_60/
15,Andre380,1506359791,72dwkh,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #61,1.0,https://www.reddit.com/r/learnSQL/comments/72dwkh/sql_prep_daily_challenge_61/
16,shaikatustc09,1506413655,72iyq3,0,1, ,learnSQL,SQL,1.0,https://ora11g12c.blogspot.com
17,Andre380,1506446651,72lwos,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #62,1.0,https://www.reddit.com/r/learnSQL/comments/72lwos/sql_prep_daily_challenge_62/
18,PM_ME_A_WEBSITE_IDEA,1506470970,72ol45,1,1,"So I'm making a website that will have ""posts"" with ""tags"" that will be used to help user's search for posts or sort them. The ""tags"" will be strings. I'm wondering if anyone could help me figure out how to structure my database effectively for this functionality!

My initial thought:

- Let the user enter their own tags when submitting a post
- The tags get stored as CSV in a column in the post's row in the `posts` table (just in case I need them later)
- At the same time, for each tag submitted with the post, a row is added to the `tags` table with the tag itself and the post's id
- When a user searches for something, I run each word in the search query through the `tags` table and look for matches, count up the amount of matches per post ID, and return those back based on match count, descending

I had another idea where I might have a table of pre-defined tags, and users can select from those, but that's less ideal for the end user (even though it's probably more ideal for myself).

Am I close? I plan to only allow each tag to be one word, and run a match query against each word in a search query. I'll work out multi-word tags and matches later, I just want to start small with this.",learnSQL,"How to structure a post ""tagging"" system effectively?",1.0,https://www.reddit.com/r/learnSQL/comments/72ol45/how_to_structure_a_post_tagging_system_effectively/
19,shaikatustc09,1506487645,72q2fc,0,1, ,learnSQL,User privilege,1.0,https://ora11g12c.blogspot.com/2017/08/oracle-database-tutorial-08-how-to-give.html?m=1
20,Andre380,1506706308,739d2y,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #65,1.0,https://www.reddit.com/r/learnSQL/comments/739d2y/sql_prep_daily_challenge_65/
21,Andre380,1506964752,73u6xk,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #66,1.0,https://www.reddit.com/r/learnSQL/comments/73u6xk/sql_prep_daily_challenge_66/
22,Giga_eat_to_byte,1507214999,74gfq1,1,1,"Attend an online, synchronous class with a live instructor to learn the basics of SQL! Thursday, 10/19 from 6-9 PM (EDT).Registration is $89.

Class description:
Structured Query Language (SQL) is the language used by countless organizations and applications to interact with relational databases. In this online interactive class, you’ll learn how to create and load sets of data (tables) in a relational database system and query for data in one or more tables. Let’s download a free database server and start talking to it! This online class is best suited for folks in entry-level IT roles, aspiring IT professionals and web developers and business “power users” who have query, report or analysis responsibilities. System requirements: Windows PC with 1 GB of RAM and 3 GB of hard disk space, Skype account (free), speaker, microphone, webcam (optional). Login instructions sent upon registration.

This class is being offered through Main Line School Night, a non-profit, Philadelphia-area adult education program.",learnSQL,Online intro to SQL with a live instructor,1.0,https://www.reddit.com/r/learnSQL/comments/74gfq1/online_intro_to_sql_with_a_live_instructor/
23,Andre380,1507223638,74hem4,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #68,1.0,https://www.reddit.com/r/learnSQL/comments/74hem4/sql_prep_daily_challenge_68/
24,Andre380,1507311625,74p8ce,0,1,[removed],learnSQL,SQL Prep - Daily Challenge #70,1.0,https://www.reddit.com/r/learnSQL/comments/74p8ce/sql_prep_daily_challenge_70/
0,Andre380,1502126141,6s701g,0,1,[removed],learnSQL,FREE Daily SQL Challenge #26,1.0,https://www.reddit.com/r/learnSQL/comments/6s701g/free_daily_sql_challenge_26/
1,Andre380,1502212884,6sezxo,0,1,[removed],learnSQL,FREE Daily SQL Challenge #27,1.0,https://www.reddit.com/r/learnSQL/comments/6sezxo/free_daily_sql_challenge_27/
2,Andre380,1502298985,6smybt,0,1,[removed],learnSQL,FREE Daily SQL Challenge #28,1.0,https://www.reddit.com/r/learnSQL/comments/6smybt/free_daily_sql_challenge_28/
3,chairmanlaue,1502339591,6sr0vo,1,3,"I'm building a project where I store retail locations in one table - and their business hours in a separate table. I *think* it's a relatively sane model. 

What I'd like to achieve is to be able to do a check if an outlet is open at a given date and time - and if it is - return a full set of hours (basically every business_hours row for the `outlet_id`(s) that match.

I have no problem with the first part - validating that given a time/date I can return the business hours for that time/date - but I'm stumped on the latter part. Is this logic possible in one query? Or am I better off just writing a query to check the condition and a second to retrieve the other rows that match an outlet? I have very basic SQL knowledge - so I figured this might be the place to ask.


My table structure is as such:
    
    CREATE TABLE IF NOT EXISTS business_hours (
      id                  BIGSERIAL PRIMARY KEY,
      outlet_id           BIGINT NOT NULL,
      weekday             SMALLINT NOT NULL,
      open                TIME WITHOUT TIME ZONE,
      close               TIME WITHOUT TIME ZONE,
      season              DATERANGE
      FOREIGN KEY (outlet_id) REFERENCES outlets(id)
    );    


",learnSQL,Can this be done in one query?,1.0,https://www.reddit.com/r/learnSQL/comments/6sr0vo/can_this_be_done_in_one_query/
4,Andre380,1502386112,6suv6s,0,1,[removed],learnSQL,FREE Daily SQL Challenge #29,1.0,https://www.reddit.com/r/learnSQL/comments/6suv6s/free_daily_sql_challenge_29/
5,Andre380,1502472408,6t2oel,0,1,[removed],learnSQL,FREE Daily SQL Challenge #30,1.0,https://www.reddit.com/r/learnSQL/comments/6t2oel/free_daily_sql_challenge_30/
6,___AJ___,1502573126,6tb2tf,1,2,"I'm working on a problem which asks *""Which countries have a GDP greater than every country in Europe?""* 
What I came up with:

    SELECT country FROM world 
    WHERE continent NOT IN ('Europe') 
        AND gdp > ALL (SELECT gdp FROM world WHERE continent IN 
        ('Europe') AND gdp IS NOT NULL)

Is

    WHERE continent NOT IN ('Europe')

good practice for optimizing code or does the compiler take care of this? 
",learnSQL,Optimizing code,1.0,https://www.reddit.com/r/learnSQL/comments/6tb2tf/optimizing_code/
7,InternetWeakGuy,1502722717,6tmy7z,1,10,Just looking for regular sql data reporting type stuff rather than creating databases or anything in programming.,learnSQL,"Anywhere that's good for SQL drills? Haven't touched SQL in a few years and currently getting calls about SQL jobs in my area that I want to apply for, would be good to dust off the cobwebs prior to interviews.",1.0,https://www.reddit.com/r/learnSQL/comments/6tmy7z/anywhere_thats_good_for_sql_drills_havent_touched/
8,Andre380,1502731042,6tnvhy,0,1,[removed],learnSQL,FREE Daily SQL Challenge #31,1.0,https://www.reddit.com/r/learnSQL/comments/6tnvhy/free_daily_sql_challenge_31/
9,Andre380,1502817525,6tvlrs,0,1,[removed],learnSQL,FREE Daily SQL Challenge #32,1.0,https://www.reddit.com/r/learnSQL/comments/6tvlrs/free_daily_sql_challenge_32/
10,BBQQueen,1502830272,6tx3c7,1,7,"I am currently learning SQL (specifically Oracle Database 12c SQL) and would like to challenge myself with exercises. Specifically, I am looking for exercises pertaining to the use of PIVOT & UNPIVOT, START WITH & CONNECT BY, and possibly ROLLUP & CUBE.
What are some great resources for SQL exercises that pertain to these practices and possibly other practices as well?",learnSQL,Looking for Great Resources for Specific SQL Practice Exercises,1.0,https://www.reddit.com/r/learnSQL/comments/6tx3c7/looking_for_great_resources_for_specific_sql/
11,Andre380,1502903811,6u3jix,0,1,[removed],learnSQL,FREE Daily SQL Challenge #33,1.0,https://www.reddit.com/r/learnSQL/comments/6u3jix/free_daily_sql_challenge_33/
12,Andre380,1503077997,6ujfwy,0,1,[removed],learnSQL,FREE Daily SQL Challenge #35,1.0,https://www.reddit.com/r/learnSQL/comments/6ujfwy/free_daily_sql_challenge_35/
13,snoopydoopyz,1503321997,6v2w1h,1,5,"Guys, I have been on most tutorials online and they good at teaching the basics, easy stuff like joins and basic aggregates and functions. And that's all. Can people please!! suggest advanced* tutz as I have job tests and they have more complex questions with for example rank order and complex cte. Any good tutz that helps you would be appreciated?",learnSQL,Learning Advanced SQL!! Tutz (everything is basic),1.0,https://www.reddit.com/r/learnSQL/comments/6v2w1h/learning_advanced_sql_tutz_everything_is_basic/
14,Andre380,1503335309,6v4c6z,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #36,1.0,https://www.reddit.com/r/learnSQL/comments/6v4c6z/sql_prep_daily_sql_challenge_36/
15,Andre380,1503594920,6vsbih,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #39,1.0,https://www.reddit.com/r/learnSQL/comments/6vsbih/sql_prep_daily_sql_challenge_39/
16,JavaAndMIPS,1503921067,6wivxa,8,2,"I dropped out of university before I took a class on SQL and I never want to go back.  I have a bunch of Java projects, but I need experience with SQL to improve my job prospects.  Most of my projects are related to ROM hacking and I can't think of anything interesting I could do with SQL.  I don't have to deal with huge amounts of data in my projects.

1. What is SQL used for, besides web pages and institutional databases?

2. What sort of SQL database management system should I use?  MariaDB looks best to me because it's the most mature open-source DBMS, but I don't know enough to make an informed decision.

3. What resources exist for learning SQL?

4. In what circumstances are database query languages superior to general-purpose programming languages?
",learnSQL,Java programmer here. Where do I begin?,1.0,https://www.reddit.com/r/learnSQL/comments/6wivxa/java_programmer_here_where_do_i_begin/
17,Andre380,1503940849,6wkv8x,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #41,1.0,https://www.reddit.com/r/learnSQL/comments/6wkv8x/sql_prep_daily_sql_challenge_41/
18,Andre380,1504026710,6wsnr5,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #42,1.0,https://www.reddit.com/r/learnSQL/comments/6wsnr5/sql_prep_daily_sql_challenge_42/
19,Andre380,1504112985,6x0lle,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #43,1.0,https://www.reddit.com/r/learnSQL/comments/6x0lle/sql_prep_daily_sql_challenge_43/
20,Andre380,1504199626,6x87z0,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #44,1.0,https://www.reddit.com/r/learnSQL/comments/6x87z0/sql_prep_daily_sql_challenge_44/
21,Andre380,1504286242,6xfzht,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #45,1.0,https://www.reddit.com/r/learnSQL/comments/6xfzht/sql_prep_daily_sql_challenge_45/
22,shaikatustc09,1504415505,6xreka,0,3, ,learnSQL,SQL Function,1.0,https://ora11g12c.blogspot.com/2017/08/class-1-oracle-11g-sql-statement-class-1.html?m=1
23,[deleted],1504482510,6xwplu,0,1,[deleted],learnSQL,How do I turn a secondary group by into columns?,1.0,https://www.reddit.com/r/learnSQL/comments/6xwplu/how_do_i_turn_a_secondary_group_by_into_columns/
24,Andre380,1504545028,6y1n25,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #46,1.0,https://www.reddit.com/r/learnSQL/comments/6y1n25/sql_prep_daily_sql_challenge_46/
25,Andre380,1504631606,6y9ff6,0,1,[removed],learnSQL,SQL Prep - Daily SQL Challenge #47,1.0,https://www.reddit.com/r/learnSQL/comments/6y9ff6/sql_prep_daily_sql_challenge_47/
0,dude_42,1499540395,6m2rg5,1,6,I just realized that my statements would run without it? So what's the point?,learnSQL,What does ';' do?,1.0,https://www.reddit.com/r/learnSQL/comments/6m2rg5/what_does_do/
1,oh_lympy,1499579068,6m5wdb,2,2,"    SELECT DISTINCT ProductName as Twenty_Most_Expensive_Products, UnitPrice
    FROM Products AS a 
    WHERE 20 &gt;= (SELECT COUNT(DISTINCT UnitPrice) 
                        FROM Products AS b
                        WHERE b.UnitPrice &gt;= a.UnitPrice)
    ORDER BY UnitPrice desc;

I'm currently taking a summer DB management and development course thats been condensed into five weeks, so I've had to cram a bunch of stuff pretty quickly.  I decided to hunt for some practice SQL stuff and a came across [these](http://www.w3resource.com/mysql-exercises/northwind/products-table-exercises/) problems.  Most of them were pretty easy, except this one. I don't get whats happening here. The count just returns a number, how is the outer query getting the correct top 20 unit prices? Also, is there a reason the ProductName and b.UnitPrice need to be distinct?",learnSQL,Some help on w3resource's NorthWind Product table exercise 8?,1.0,https://www.reddit.com/r/learnSQL/comments/6m5wdb/some_help_on_w3resources_northwind_product_table/
2,UUDD_UUDD,1499620125,6m8ks4,3,6,"Hi friends, super new to SQL. At this point I've gone through the Stanford Course and SQLZoo. I'm decent enough at actually manipulating the data with queries, but not at setting data up. 

I feel dumb for asking, but how do I convert EXCEL files into databases that can be read in MySQL/SQLite/etc?

",learnSQL,How the heck do I make databases from Excel?,1.0,https://www.reddit.com/r/learnSQL/comments/6m8ks4/how_the_heck_do_i_make_databases_from_excel/
3,Andre380,1499707286,6mfwig,0,1,[removed],learnSQL,FREE Daily SQL Challenge #6,1.0,https://www.reddit.com/r/learnSQL/comments/6mfwig/free_daily_sql_challenge_6/
4,Andre380,1499793492,6mnoge,0,1,[removed],learnSQL,FREE Daily SQL Challenge #7,1.0,https://www.reddit.com/r/learnSQL/comments/6mnoge/free_daily_sql_challenge_7/
5,hunter-nighteyes,1499818897,6mqeep,2,3,"Hello all,


I've been thinking over this for hours and hours and still can't figure this out... 


Basically what I want to do is for each client, depends on the status I would like to get how many hours is decreased.


For example, client ID 100 has 3 rows with different status of completed, new, decreased.
All I want to calculate is:
Decreased hours - Completed hours


Condition: completed jobs and decreased jobs always have 1 day difference.
e.g. ClientID 100 Completed jobs end date is 22/05 and decreased job's end date is 23/05


Here's the table:

ClientID	Status	StartDate	EndDate	HoursPerWeek


100    Completed    20/02/2016    22/05/2017    54


100    New    12/07/2017    24/12/2017    30


100    Decreased    23/05/2017    30/08/2017    27


120    Completed	26/11/2016	18/06/2017	112


120    Decreased	19/06/2017	20/10/2017	98.5




Is this achievable without using functions?

Many thanks!",learnSQL,[MSsql] Need a help on calculating numbers from different rows,1.0,https://www.reddit.com/r/learnSQL/comments/6mqeep/mssql_need_a_help_on_calculating_numbers_from/
6,Andre380,1499880932,6mviye,0,1,[removed],learnSQL,FREE Daily SQL Challenge #8,1.0,https://www.reddit.com/r/learnSQL/comments/6mviye/free_daily_sql_challenge_8/
7,daniel-set,1499887706,6mwaox,1,6,"First of all – I'm by no means a MySQL expert … all my knowledge comes from learning by doing. I wish that somebody sent me a link to a tutorial like the one I share today when I got started.

For me, the most important part of getting into MySQL was actually having a testing environment and the ability to import my excel/csv data to some tables. 

This is why I wrote the following tutorial. It's for bloody beginners working on a Mac (although the approach should work on windows as well). In the tutorial I show how you get set up with a testing environment that enables you to do your first local queries. 

I hope this approach helps someone out there:
[MySQL Mac Tutorial for Beginners – Setup &amp; First Query](http://technicalmarketing.guide/data-analysis/mysql-tutorial-for-beginners/)",learnSQL,[Tutorial] How to set up a MySQL testing environment (on a Mac) | IMHO the most important step to get started,1.0,https://www.reddit.com/r/learnSQL/comments/6mwaox/tutorial_how_to_set_up_a_mysql_testing/
8,Andre380,1499966480,6n32ub,0,1,[removed],learnSQL,FREE Daily SQL Challenge #9,1.0,https://www.reddit.com/r/learnSQL/comments/6n32ub/free_daily_sql_challenge_9/
9,Andre380,1500053245,6naiid,0,1,[removed],learnSQL,FREE Daily SQL Challenge #10,1.0,https://www.reddit.com/r/learnSQL/comments/6naiid/free_daily_sql_challenge_10/
10,Andre380,1500310846,6nudpv,0,1,[removed],learnSQL,FREE Daily SQL Challenge #11,1.0,https://www.reddit.com/r/learnSQL/comments/6nudpv/free_daily_sql_challenge_11/
11,dude_42,1500354256,6nyoc7,1,3,"So I'm going through the 2012 wrox Beginning Developer book. but I'm using SQL 2016 as well as management studio. I'm trying to upload the chaper 4db code but got some issues with compatibility of old ways to do it in SQL. I got message saying I could set it to compatibility to 80 and it will run. But I'd like to know how to set it up.

The issue is old school way of right and left join (*=, =*) respectively mine is a left join. So how do I update this bit of code to run.

    SELECT sso.SpecialOfferID, Description, DiscountPct, ProductID
    FROM Sales.SpecialOffer AS sso,
    Sales.SpecialOfferProduct AS ssop
    WHERE sso.SpecialOfferID *= ssop.SpecialOfferID
    AND sso.SpecialOfferID != 1",learnSQL,updating the old join *= to Left Join,1.0,https://www.reddit.com/r/learnSQL/comments/6nyoc7/updating_the_old_join_to_left_join/
12,Andre380,1500399025,6o2awg,0,1,[removed],learnSQL,FREE Daily SQL Challenge #12,1.0,https://www.reddit.com/r/learnSQL/comments/6o2awg/free_daily_sql_challenge_12/
13,[deleted],1500476081,6o8z42,0,1,[deleted],learnSQL,Creating multiple foreign keys,1.0,https://www.reddit.com/r/learnSQL/comments/6o8z42/creating_multiple_foreign_keys/
14,Andre380,1500485031,6o9zru,0,1,[removed],learnSQL,FREE Daily SQL Challenge #13,1.0,https://www.reddit.com/r/learnSQL/comments/6o9zru/free_daily_sql_challenge_13/
15,Andre380,1500572068,6ohth5,0,1,[removed],learnSQL,FREE Daily SQL Challenge #14,1.0,https://www.reddit.com/r/learnSQL/comments/6ohth5/free_daily_sql_challenge_14/
16,Andre380,1500659087,6opj8r,0,1,[removed],learnSQL,FREE Daily SQL Challenge #15,1.0,https://www.reddit.com/r/learnSQL/comments/6opj8r/free_daily_sql_challenge_15/
17,Andre380,1500916480,6p9t79,0,1,[removed],learnSQL,FREE Daily SQL Challenge #16,1.0,https://www.reddit.com/r/learnSQL/comments/6p9t79/free_daily_sql_challenge_16/
18,nakedUndrClothes,1501002846,6phlkx,3,5,"My table has 4 columns: ID, Name, Amount and Parent. The parent column is currently empty and needs to be populated with entries from the column ""Name"".
ID is a non unique column with multiple entries in the column 'Name' having the same ID. The goal is to find the maximum value entry in the column ""Amount"" for any ID and populate the column ""Parent"" with the entry in column ""Name"".  
I will post a picture of an example table in comments
",learnSQL,"Beginner SQL: Update a column, based on data from other column.",1.0,https://www.reddit.com/r/learnSQL/comments/6phlkx/beginner_sql_update_a_column_based_on_data_from/
19,Andre380,1501003428,6pho6h,0,1,[removed],learnSQL,FREE Daily SQL Challenge #17,1.0,https://www.reddit.com/r/learnSQL/comments/6pho6h/free_daily_sql_challenge_17/
20,Andre380,1501089764,6ppl39,0,1,[removed],learnSQL,FREE Daily SQL Challenge #18,1.0,https://www.reddit.com/r/learnSQL/comments/6ppl39/free_daily_sql_challenge_18/
21,Andre380,1501176328,6pxhp8,0,1,[removed],learnSQL,FREE Daily SQL Challenge #19,1.0,https://www.reddit.com/r/learnSQL/comments/6pxhp8/free_daily_sql_challenge_19/
22,Questly,1501187219,6pyrr4,2,3,I have worked with SQL for exactly the length of one college class period so I know some queries but not much else. I was asked to do some SQL Server exercises for a job application and I don't really know where to start. Is there program that displays the tables I am making and editing so I can figure this out?,learnSQL,Programs to use to run SQL queries and view tables?,1.0,https://www.reddit.com/r/learnSQL/comments/6pyrr4/programs_to_use_to_run_sql_queries_and_view_tables/
23,Jimmy_Lor,1501250959,6q40pp,1,9, ,learnSQL,SQL Server: Useful Tips for Newbies,1.0,http://codingsight.com/sql-server-useful-tips-for-newbies/
24,Andre380,1501262744,6q5bdi,0,1,[removed],learnSQL,FREE Daily SQL Challenge #20,1.0,https://www.reddit.com/r/learnSQL/comments/6q5bdi/free_daily_sql_challenge_20/
25,Andre380,1501521211,6qpuox,0,1,[removed],learnSQL,FREE Daily SQL Challenge #21,1.0,https://www.reddit.com/r/learnSQL/comments/6qpuox/free_daily_sql_challenge_21/
26,Andre380,1501607964,6qxq8p,0,1,[removed],learnSQL,FREE Daily SQL Challenge #22,1.0,https://www.reddit.com/r/learnSQL/comments/6qxq8p/free_daily_sql_challenge_22/
27,Andre380,1501780626,6rdtpj,0,1,[removed],learnSQL,FREE Daily SQL Challenge #24,1.0,https://www.reddit.com/r/learnSQL/comments/6rdtpj/free_daily_sql_challenge_24/
28,Andre380,1501867596,6rm0wq,0,1,[removed],learnSQL,FREE Daily SQL Challenge #25,1.0,https://www.reddit.com/r/learnSQL/comments/6rm0wq/free_daily_sql_challenge_25/
0,ellarr,1496930403,6g13zc,0,1, ,learnSQL,Microsoft SQL Server Business Intelligence Training,1.0,https://www.youtube.com/watch?v=SFla0LATQ_M
1,Andre380,1496942724,6g2e1o,0,1,[removed],learnSQL,FREE Daily SQL Challenge #87,1.0,https://www.reddit.com/r/learnSQL/comments/6g2e1o/free_daily_sql_challenge_87/
2,Andre380,1497289220,6gtsdf,0,1,[removed],learnSQL,FREE Daily SQL Challenge #88,1.0,https://www.reddit.com/r/learnSQL/comments/6gtsdf/free_daily_sql_challenge_88/
3,kwenzel1,1497371901,6h125u,0,6, ,learnSQL,What is a Dynamic Pivot Table?,1.0,https://www.essentialsql.com/create-dynamic-pivot-table-sql-server/
4,Andre380,1497374893,6h1el9,0,1,[removed],learnSQL,FREE Daily SQL Challenge #89,1.0,https://www.reddit.com/r/learnSQL/comments/6h1el9/free_daily_sql_challenge_89/
5,Andre380,1497460589,6h8xmd,0,1,[removed],learnSQL,FREE Daily SQL Challenge #90,1.0,https://www.reddit.com/r/learnSQL/comments/6h8xmd/free_daily_sql_challenge_90/
6,ellarr,1497494801,6hccfw,0,1, ,learnSQL,"SQL Server Contract, SubContracting, consulting,hire, ask your questions or doubts in SQL Server Querying, Developer, SSIS,SSAS and SSRS is provided by ellarr.com",1.0,http://ellarr.com/contract-subcontracting-consulting-hire-ask-questions-doubts-sql-server-querying-developer-ssis-ssas-ssrs/
7,Andre380,1497545592,6hg9sm,0,1,[removed],learnSQL,FREE Daily SQL Challenge #91,1.0,https://www.reddit.com/r/learnSQL/comments/6hg9sm/free_daily_sql_challenge_91/
8,Andre380,1497638123,6hofvw,0,1,[removed],learnSQL,FREE Daily SQL Challenge #92,1.0,https://www.reddit.com/r/learnSQL/comments/6hofvw/free_daily_sql_challenge_92/
9,Andre380,1497903063,6i90bs,0,1,[removed],learnSQL,FREE Daily SQL Challenge #93,1.0,https://www.reddit.com/r/learnSQL/comments/6i90bs/free_daily_sql_challenge_93/
10,Andre380,1497981041,6ifpbj,0,1,[removed],learnSQL,FREE Daily SQL Challenge #94,1.0,https://www.reddit.com/r/learnSQL/comments/6ifpbj/free_daily_sql_challenge_94/
11,adammayer50,1498052561,6ilw30,0,4, ,learnSQL,Sql training and certification online,1.0,http://www.learnbay.in/shop/courses/sql-training-courses-bangalore/
12,Andre380,1498064839,6in729,0,1,[removed],learnSQL,FREE Daily SQL Challenge #95,1.0,https://www.reddit.com/r/learnSQL/comments/6in729/free_daily_sql_challenge_95/
13,dude_42,1498082276,6ip4qt,4,5,"I made a table called NewTable and 4 columns 1-4
I then inserted numbers in column this worked but now I tried to insert a value and errors.

        INSERT INTO NewTable
        VALUES ""A""

The error I get is incorrect syntax",learnSQL,Why won't my insert work? Do I have to specify the row?,1.0,https://www.reddit.com/r/learnSQL/comments/6ip4qt/why_wont_my_insert_work_do_i_have_to_specify_the/
14,Andre380,1498151663,6iuxly,0,1,[removed],learnSQL,FREE Daily SQL Challenge #96,1.0,https://www.reddit.com/r/learnSQL/comments/6iuxly/free_daily_sql_challenge_96/
15,Andre380,1498237954,6j2kyd,0,1,[removed],learnSQL,FREE Daily SQL Challenge #97,1.0,https://www.reddit.com/r/learnSQL/comments/6j2kyd/free_daily_sql_challenge_97/
16,timothytavarez,1498239073,6j2pfb,4,3,"Hi /r/learnsql, 

I recently have been learning about the ease of setting up and using Azure SQL database (based on MS SQL) and I'm hoping other folks can learn about it too. I'm planning to use it as the backend for some upcoming web applications. Enjoy! 

https://www.azuredotjs.com/2017/06/21/intro-azure-sql-db/

Disclaimer: Microsoft employee. :)",learnSQL,Introduction to Azure SQL,1.0,https://www.reddit.com/r/learnSQL/comments/6j2pfb/introduction_to_azure_sql/
17,gcdes,1498486812,6jlcpx,0,16, ,learnSQL,Intro to SQL for Data Science,1.0,https://www.datacamp.com/courses/intro-to-sql-for-data-science
18,Andre380,1498497355,6jmhes,0,1,[removed],learnSQL,FREE Daily SQL Challenge #98,1.0,https://www.reddit.com/r/learnSQL/comments/6jmhes/free_daily_sql_challenge_98/
19,lalypopa123,1498570744,6jsqai,0,1, ,learnSQL,SQL Queries for Funnel Analysis,1.0,https://blog.statsbot.co/sql-queries-for-funnel-analysis-35d5e456371d
20,Andre380,1498582937,6ju2hl,0,1,[removed],learnSQL,FREE Daily SQL Challenge #99,1.0,https://www.reddit.com/r/learnSQL/comments/6ju2hl/free_daily_sql_challenge_99/
21,timothytavarez,1498657802,6k0ow2,0,3,"Hi folks,

I put together the steps for getting started with Azure SQL DB. I walk through the steps involved with setting up Azure CLI (at least on Mac OS X, but guide for other OS included) and then using Azure CLI to build out your Azure SQL Server and database.

You could of course do all the steps without Azure CLI (using the Azure Portal), but doing so programmatically can make the difference in speed in the future. : )

Enjoy and feel free to ask me any questions.

[Introduction to Azure SQL DB, Part 2: Setting up Azure SQL](https://www.azuredotjs.com/2017/06/27/setting-up-azure-sql-part-2/)",learnSQL,"Introduction to Azure SQL, Part 2",1.0,https://www.reddit.com/r/learnSQL/comments/6k0ow2/introduction_to_azure_sql_part_2/
22,Andre380,1498670453,6k229w,0,1,[removed],learnSQL,FREE Daily SQL Challenge #100,1.0,https://www.reddit.com/r/learnSQL/comments/6k229w/free_daily_sql_challenge_100/
23,Andre380,1498757504,6k9wqk,0,1,[removed],learnSQL,FREE Daily SQL Challenge #101,1.0,https://www.reddit.com/r/learnSQL/comments/6k9wqk/free_daily_sql_challenge_101/
24,Andre380,1498843909,6khf7q,0,1,[removed],learnSQL,FREE Daily SQL Challenge #102,1.0,https://www.reddit.com/r/learnSQL/comments/6khf7q/free_daily_sql_challenge_102/
25,Andre380,1499103919,6l1eyo,0,1,[removed],learnSQL,FREE Daily SQL Challenge #01,1.0,https://www.reddit.com/r/learnSQL/comments/6l1eyo/free_daily_sql_challenge_01/
26,Andre380,1499194507,6l8ypl,0,1,[removed],learnSQL,FREE Daily SQL Challenge #2,1.0,https://www.reddit.com/r/learnSQL/comments/6l8ypl/free_daily_sql_challenge_2/
27,[deleted],1499219187,6lb4g7,0,1,[deleted],learnSQL,How the fuck to I Install Adventure works,1.0,https://www.reddit.com/r/learnSQL/comments/6lb4g7/how_the_fuck_to_i_install_adventure_works/
28,dude_42,1499219938,6lb6j1,3,3,"So I downloaded the zip and the bak file. But when I open zip I don't see DDL script and CSV files it's talking about just data files ie address, address type, ect ect.
So how do I attach this to management studio?",learnSQL,Need Help connecting Adventure works,1.0,https://www.reddit.com/r/learnSQL/comments/6lb6j1/need_help_connecting_adventure_works/
29,Andre380,1499275403,6lfh8d,0,1,[removed],learnSQL,FREE Daily SQL Challenge #3,1.0,https://www.reddit.com/r/learnSQL/comments/6lfh8d/free_daily_sql_challenge_3/
30,zoultrex,1499286725,6lgrb0,3,3,"I don't see people talking about this website much, and it is very good, very similar to SQLzoo.

https://db.grussell.org

Enjoy
",learnSQL,Recommending an online website to practice SQL queries.,1.0,https://www.reddit.com/r/learnSQL/comments/6lgrb0/recommending_an_online_website_to_practice_sql/
31,Andre380,1499360967,6ln6i2,0,1,[removed],learnSQL,FREE Daily SQL Challenge #4,1.0,https://www.reddit.com/r/learnSQL/comments/6ln6i2/free_daily_sql_challenge_4/
32,TwistedPepperCan,1499362465,6lncxe,2,12,"I've been working with SQL for the guts of 8 years now and it's only recently I've come to understand the shallow depth of my understanding. 

I was ask questions like do I know the difference between a join and an apply and how are statistics calculated and a number of times had to patiently say ""I don't know"".

Is there anywhere people would recommend in order to do some significant upskilling. ",learnSQL,Where to go for more advanced learning?,1.0,https://www.reddit.com/r/learnSQL/comments/6lncxe/where_to_go_for_more_advanced_learning/
33,Andre380,1499447816,6lv4gz,0,1,[removed],learnSQL,FREE Daily SQL Challenge #5,1.0,https://www.reddit.com/r/learnSQL/comments/6lv4gz/free_daily_sql_challenge_5/
0,Andre380,1494265200,69zmju,0,1,[removed],learnSQL,FREE Daily SQL Challenge #66,1.0,https://www.reddit.com/r/learnSQL/comments/69zmju/free_daily_sql_challenge_66/
1,Andre380,1494351703,6a6zbq,0,1,[removed],learnSQL,FREE Daily SQL Challenge #67,1.0,https://www.reddit.com/r/learnSQL/comments/6a6zbq/free_daily_sql_challenge_67/
2,Andre380,1494438170,6aecbj,0,1,[removed],learnSQL,FREE Daily SQL Challenge #68,1.0,https://www.reddit.com/r/learnSQL/comments/6aecbj/free_daily_sql_challenge_68/
3,Andre380,1494524815,6alqgu,0,1,[removed],learnSQL,FREE Daily SQL Challenge #69,1.0,https://www.reddit.com/r/learnSQL/comments/6alqgu/free_daily_sql_challenge_69/
4,Andre380,1494611589,6asvdg,0,1,[removed],learnSQL,FREE Daily SQL Challenge #70,1.0,https://www.reddit.com/r/learnSQL/comments/6asvdg/free_daily_sql_challenge_70/
5,Andre380,1494869906,6bbuoj,0,1,[removed],learnSQL,FREE Daily SQL Challenge #71,1.0,https://www.reddit.com/r/learnSQL/comments/6bbuoj/free_daily_sql_challenge_71/
6,Andre380,1494956545,6bizos,0,1,[removed],learnSQL,FREE Daily SQL Challenge #72,1.0,https://www.reddit.com/r/learnSQL/comments/6bizos/free_daily_sql_challenge_72/
7,Andre380,1495042653,6bq8er,0,1,[removed],learnSQL,FREE Daily SQL Challenge #73,1.0,https://www.reddit.com/r/learnSQL/comments/6bq8er/free_daily_sql_challenge_73/
8,Andre380,1495129849,6bxu3c,0,1,[removed],learnSQL,FREE Daily SQL Challenge #74,1.0,https://www.reddit.com/r/learnSQL/comments/6bxu3c/free_daily_sql_challenge_74/
9,Andre380,1495217042,6c5byn,0,1,[removed],learnSQL,FREE Daily SQL Challenge #75,1.0,https://www.reddit.com/r/learnSQL/comments/6c5byn/free_daily_sql_challenge_75/
10,Professor762,1495329818,6cdzyt,3,2,"My professor gave us the following code to enter into put tables:
INSERT INTO hr.person_department (person_id, dept_id)
	VALUES (
  (SELECT person_id FROM hr.person WHERE UPPER(first_name) = 'JACK' AND UPPER(last_name) = 'SMITH'),
			(SELECT dept_id FROM hr.department WHERE UPPER(dept_name) = 'ENGINEERING'));

When I enter this into the Codio terminal it spits out: ""ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE UPPER(dept_name) = 'ENGINE
ERING'))' at line 4""

Any suggestions?",learnSQL,Having a MYSQL syntax error when inserting data into established tables. Need help!,1.0,https://www.reddit.com/r/learnSQL/comments/6cdzyt/having_a_mysql_syntax_error_when_inserting_data/
11,seands,1495416690,6ckcer,3,9,"Hi,

Do you guys think a new developer should start his database learning with MySQL, or go straight to Postgres? Goal is to learn full stack web development.",learnSQL,Start with MySQL or go straight to Postgres?,1.0,https://www.reddit.com/r/learnSQL/comments/6ckcer/start_with_mysql_or_go_straight_to_postgres/
12,dude_42,1495421188,6ckou3,4,2,"So I believe I need to get another machine, as I don't want to get parallels and install windows on my mac.
      What type of performance specs do I need to run and learn sql server?
Thanks ",learnSQL,"I'm learning SQL server, but I only have a macbook pro",1.0,https://www.reddit.com/r/learnSQL/comments/6ckou3/im_learning_sql_server_but_i_only_have_a_macbook/
13,pearlyriver,1495472959,6cok6c,1,4,"I've had 1 day of learning SQL so apologies but I've hit the wall. 

I have an sql file stored in desktop. Here's what I did in the terminal:

cd Desktop/

sqlite3 -init script.sql

In sqlite, I wrote: "".tables"" but nothing appeared. There's supposed to be a ""Loading resources from..."" line but there wasn't either.

I was following this [tutorial](https://blog.treasuredata.com/blog/2014/12/05/learn-sql-by-calculating-customer-lifetime-value-part-1/) and stumped at the setting up.  Any help is highly appreciated.

",learnSQL,How to import .sql file into sqlite3?,1.0,https://www.reddit.com/r/learnSQL/comments/6cok6c/how_to_import_sql_file_into_sqlite3/
14,Andre380,1495476036,6cow0p,0,1,[removed],learnSQL,FREE Daily SQL Challenge #76,1.0,https://www.reddit.com/r/learnSQL/comments/6cow0p/free_daily_sql_challenge_76/
15,birdie511,1495520082,6cswxo,0,1, ,learnSQL,Interactive SQL Course,1.0,https://sql.sqooled.com/
16,Andre380,1495562836,6cweb9,0,1,[removed],learnSQL,FREE Daily SQL Challenge #77,1.0,https://www.reddit.com/r/learnSQL/comments/6cweb9/free_daily_sql_challenge_77/
17,imhereforfun123,1495587881,6cyx1g,5,3,"I'm not really sure where to start when actually learning how to and ways to use a form of SQL.

I have used Sqlite3 on my Mac and have dabbled around with manually creating small tables and what not. Gone through the code academy sql tutorials as well.

I have MS SQL Server Express on my machine at work, but I don't really have much to do with it aside from download a sample database and import it and mess around with certain queries. Other than that, I am super confused as to what to really practice or how to use it.

Any other free tools or books to purchase that may be useful? I'm essentially just trying to learn SQL to add a skill to my resume ",learnSQL,Advice on general practice?,1.0,https://www.reddit.com/r/learnSQL/comments/6cyx1g/advice_on_general_practice/
18,Andre380,1495649369,6d3wbh,0,1,[removed],learnSQL,FREE Daily SQL Challenge #78,1.0,https://www.reddit.com/r/learnSQL/comments/6d3wbh/free_daily_sql_challenge_78/
19,Andre380,1495733652,6db5b1,0,1,[removed],learnSQL,FREE Daily SQL Challenge #79,1.0,https://www.reddit.com/r/learnSQL/comments/6db5b1/free_daily_sql_challenge_79/
20,dude_42,1496003547,6dvzmf,7,4, ,learnSQL,Is there a online simulator to practice t-sql. I'm waiting on a pc I purchased and only have a mac for next two weeks,1.0,https://www.reddit.com/r/learnSQL/comments/6dvzmf/is_there_a_online_simulator_to_practice_tsql_im/
21,insomniac1011,1496020809,6dxewj,4,5,"INSERT INTO OWNER (`Username`, `Password`, `Owner_Type`)
VALUES
( TonyAppleGate, TAG300, Individual),
(Alyssa1000, ssa1000,Individual),
(Mike_STEVEN, evenSteven,Compnay),
(joshua_Tree, treeMan200,Company),
(CarrolAdams123, rolad123,Individual),
(LucasMarcelis, caslis5,Company),
(MarcelisWallis97, lislis97,Individual),
(JohnAdams1735, nadams1735,Individual),
(MichealThompson, alson196,Company),
(PeterJenkins101, terkins101,Individual),
(EvaLucas1975, vacas1975,Individual),
(abdullaMohamed96, moham96,Company),
(JackColeson1990, leson90,Company),
(StevenGranger19, vengran19,Individual),
(ArtVanderlay, vanderlay89,Compnay),
(BaxterThomlinson, terson5001,Company),
(TrayTreyvon, rayvon2012,Company),
(KevinHendrix, indrix651,Company),
(TommyLee1930, Lee1930,Individual);


It keeps giving errors for the first username. The error is #1054 ",learnSQL,need help understanding what is happening in this INSERT query,1.0,https://www.reddit.com/r/learnSQL/comments/6dxewj/need_help_understanding_what_is_happening_in_this/
22,Andre380,1496164292,6e8onw,0,1,[removed],learnSQL,FREE Daily SQL Challenge #80,1.0,https://www.reddit.com/r/learnSQL/comments/6e8onw/free_daily_sql_challenge_80/
23,Andre380,1496250546,6egd1s,0,1,[removed],learnSQL,FREE Daily SQL Challenge #81,1.0,https://www.reddit.com/r/learnSQL/comments/6egd1s/free_daily_sql_challenge_81/
24,Andre380,1496336866,6eo55s,0,1,[removed],learnSQL,FREE Daily SQL Challenge #82,1.0,https://www.reddit.com/r/learnSQL/comments/6eo55s/free_daily_sql_challenge_82/
25,erwinmagritte,1496355375,6eq9ff,1,3, ,learnSQL,Here's a short video describing what B-Tree indices are and how they can help design tables and queries.,1.0,https://www.youtube.com/watch?v=NI9wYuVIYcA
26,Andre380,1496423484,6evpk6,0,1,[removed],learnSQL,FREE Daily SQL Challenge #83,1.0,https://www.reddit.com/r/learnSQL/comments/6evpk6/free_daily_sql_challenge_83/
27,Andre380,1496682745,6ffk1j,0,1,[removed],learnSQL,FREE Daily SQL Challenge #84,1.0,https://www.reddit.com/r/learnSQL/comments/6ffk1j/free_daily_sql_challenge_84/
28,Andre380,1496769103,6fn6s6,0,1,[removed],learnSQL,FREE Daily SQL Challenge #85,1.0,https://www.reddit.com/r/learnSQL/comments/6fn6s6/free_daily_sql_challenge_85/
29,Andre380,1496855822,6fuuwn,0,1,[removed],learnSQL,FREE Daily SQL Challenge #86,1.0,https://www.reddit.com/r/learnSQL/comments/6fuuwn/free_daily_sql_challenge_86/
0,Sweetguy4u3,1491773720,64fjuw,0,5, ,learnSQL,[FREE] AWS Certified Solutions Architect Complete E-Book Guide 2017,1.0,http://www.systeen.com/2017/04/08/free-aws-certified-solutions-architect-complete-e-book-guide-2017/
1,Andre380,1491850706,64lklz,0,1,[removed],learnSQL,FREE Daily SQL Challenge #47,1.0,https://www.reddit.com/r/learnSQL/comments/64lklz/free_daily_sql_challenge_47/
2,ellarr,1491889140,64p0in,0,1, ,learnSQL,Online SQL Server Query and Developer Training Course by Ellarr.com,1.0,http://ellarr.com/online-sql-server-query-and-developer-training/
3,Andre380,1491937484,64sy0j,0,1,[removed],learnSQL,FREE Daily SQL Challenge #48,1.0,https://www.reddit.com/r/learnSQL/comments/64sy0j/free_daily_sql_challenge_48/
4,lolrealism,1491943325,64tkoj,1,5,"I know it's a fairly new exam, but what was your best training material related to this exam?

I've been using older CBT Nuggets/Train Signal vids from the 70-461 exam, along with following with kudvenkat's youtube channel which has been pretty good thus far.",learnSQL,Preparing to take 70-761,1.0,https://www.reddit.com/r/learnSQL/comments/64tkoj/preparing_to_take_70761/
5,ellarr,1491973362,64w77n,0,1, ,learnSQL,Microsoft Business Intelligence Online Training,1.0,http://ellarr.com/microsoft-business-intelligence-online-training/
6,Andre380,1492026005,650gni,0,1,[removed],learnSQL,FREE Daily SQL Challenge #49,1.0,https://www.reddit.com/r/learnSQL/comments/650gni/free_daily_sql_challenge_49/
7,Andre380,1492109886,657ido,0,1,[removed],learnSQL,FREE Daily SQL Challenge #50,1.0,https://www.reddit.com/r/learnSQL/comments/657ido/free_daily_sql_challenge_50/
8,Andre380,1492198437,65eohc,0,1,[removed],learnSQL,FREE Daily SQL Challenge #51,1.0,https://www.reddit.com/r/learnSQL/comments/65eohc/free_daily_sql_challenge_51/
9,Andre380,1492451189,65x3lk,0,1,[removed],learnSQL,FREE Daily SQL Challenge #52,1.0,https://www.reddit.com/r/learnSQL/comments/65x3lk/free_daily_sql_challenge_52/
10,Andre380,1492536064,66491r,0,1,[removed],learnSQL,Check out our top steps for launching your data career!,1.0,https://www.reddit.com/r/learnSQL/comments/66491r/check_out_our_top_steps_for_launching_your_data/
11,Andre380,1492623715,66bs1m,0,1,[removed],learnSQL,FREE Daily SQL Challenge #53,1.0,https://www.reddit.com/r/learnSQL/comments/66bs1m/free_daily_sql_challenge_53/
12,Andre380,1492709869,66jaig,0,1,[removed],learnSQL,FREE Daily SQL Challenge #54,1.0,https://www.reddit.com/r/learnSQL/comments/66jaig/free_daily_sql_challenge_54/
13,Andre380,1492796147,66qpuj,0,1,[removed],learnSQL,FREE Daily SQL Challenge #55,1.0,https://www.reddit.com/r/learnSQL/comments/66qpuj/free_daily_sql_challenge_55/
14,dude_42,1492899525,66yrcg,3,1,"SELECT code 
  FROM airports 
  WHERE elevation &gt; 2000;

http://i.imgur.com/PWLzqMl.png Screen shot",learnSQL,Code cademy course What does code mean?,1.0,https://www.reddit.com/r/learnSQL/comments/66yrcg/code_cademy_course_what_does_code_mean/
15,kwenzel1,1492909510,66zkh8,0,9, ,learnSQL,What is a Stored Procedure?,1.0,https://www.essentialsql.com/what-is-a-stored-procedure/
16,Andre380,1493055387,67alb7,0,1,[removed],learnSQL,FREE Daily SQL Challenge #56,1.0,https://www.reddit.com/r/learnSQL/comments/67alb7/free_daily_sql_challenge_56/
17,Andre380,1493142549,67i775,0,1,[removed],learnSQL,FREE Daily SQL Challenge #57,1.0,https://www.reddit.com/r/learnSQL/comments/67i775/free_daily_sql_challenge_57/
18,Libraguy,1493176657,67lkhm,0,3, ,learnSQL,Logical Query vs Physical Query Execution Order,1.0,http://www.systeen.com/2017/04/26/logical-query-vs-physical-query-execution-order/
19,Andre380,1493316519,67xf0f,0,1,[removed],learnSQL,FREE Daily SQL Challenge #58,1.0,https://www.reddit.com/r/learnSQL/comments/67xf0f/free_daily_sql_challenge_58/
20,dude_42,1493399644,683zun,2,3,"http://i.imgur.com/EZJNjpM.png screen shot of code and problem.
I'm starting to get pissed at codecademy they aren't explaining shit about what they are doing. I'm confused about a.dep_month and other uses of a.dep and a at end up the parenth What are they doing? what do they stand for?
Thanks",learnSQL,Question on SQL a.dep,1.0,https://www.reddit.com/r/learnSQL/comments/683zun/question_on_sql_adep/
21,Andre380,1493403198,684dlk,0,1,[removed],learnSQL,FREE Daily SQL Challenge #59,1.0,https://www.reddit.com/r/learnSQL/comments/684dlk/free_daily_sql_challenge_59/
22,Shibby_Geo,1493409468,68513v,1,6,"Howdy Yall,

So I am trying to pull data from companies. I have 73 companies. Some companies have 84 data points, some have 65 data points.

If I want to pull data from rows 1 to 15 .. it is quite easy because every company as rows 1 to 15

    cur.execute(""SELECT companyid, MAX(price) FROM compiled WHERE companyid = i AND release BETWEEN 1 AND 15"")

in the above code, release refers to data point or row. release starts at 1 and works down to the largest row (65-84)

However, if I want to pull the last 10 points of data I am not sure how to do this because some companies last data row is 84 while others is 65.  Any Ideas?",learnSQL,Pulling data from an undefined row.,1.0,https://www.reddit.com/r/learnSQL/comments/68513v/pulling_data_from_an_undefined_row/
23,WestTexasOilman,1493533332,68e4bb,4,5,Thank you!,learnSQL,What websites would you suggest to someone who needs to learn SQL quickly online? Not looking for a tutor. Rather just open source options for self-teaching.,1.0,https://www.reddit.com/r/learnSQL/comments/68e4bb/what_websites_would_you_suggest_to_someone_who/
24,Andre380,1493659542,68nck9,0,1,[removed],learnSQL,Looking to start a career in data? Business Intelligence (BI) is one of the hottest data fields to get into.,1.0,https://www.reddit.com/r/learnSQL/comments/68nck9/looking_to_start_a_career_in_data_business/
25,Nadodan,1493664536,68nviu,0,3,"I have been trying to install SQL Server 2016 Express. However I keep getting an error. I've been using the Basic Install. 
The message I keep getting is.
Oops...
There was an error while checking Rules of Sql Server setup. 

I've tried running the installation as and Adminstrator and googling the message, but I can't see anything that pertains to my situation. The problem is taking place at the Running Rules... stage.

I also tried the Custom option, but all that did was download the files say it was going to start the install process and than just stopped. I'm not sure what the problem is.

I already the Microsoft SQL Management Studio 17 installed, could that be interrupting the installation? or could this be a problem on Microsoft side with their installations",learnSQL,Problem with installation.,1.0,https://www.reddit.com/r/learnSQL/comments/68nviu/problem_with_installation/
26,Andre380,1493746863,68umvc,0,1,[removed],learnSQL,FREE Daily SQL Challenge #62,1.0,https://www.reddit.com/r/learnSQL/comments/68umvc/free_daily_sql_challenge_62/
27,calisonic,1493749279,68uw77,1,5,"Can anyone recommend a legitimate, structured, online course that is self paced (non live instructor led) and geared towards getting certified and becoming an SQL DBA? Something I can go do the work along with and has practice assignments. Cheaper is better obviously but I don't mind paying for quality.  I paid for a course a couple years ago at the local community college, aced the class (in person class) but I did't recognize half of the content on the MS exam.  Would like to avoid doing that again.

Thanks.",learnSQL,Structured online course for DBA cert?,1.0,https://www.reddit.com/r/learnSQL/comments/68uw77/structured_online_course_for_dba_cert/
28,Andre380,1493837152,692axc,0,1,[removed],learnSQL,FREE Daily SQL Challenge #63,1.0,https://www.reddit.com/r/learnSQL/comments/692axc/free_daily_sql_challenge_63/
29,Andre380,1493919985,6992na,0,1,[removed],learnSQL,FREE Daily SQL Challenge #64,1.0,https://www.reddit.com/r/learnSQL/comments/6992na/free_daily_sql_challenge_64/
30,Andre380,1494005828,69g5jk,0,1,[removed],learnSQL,FREE Daily SQL Challenge #65,1.0,https://www.reddit.com/r/learnSQL/comments/69g5jk/free_daily_sql_challenge_65/
0,samflynn007,1489012780,5yb7hr,6,3,"I am new to SQL.

 I don't understand why ""where"" doesn't work on a new column 

For example


    SELECT player_name,
          case when state = 'CA' then 'yes'
          else 'no'
          end as is_from_cali
    FROM benn.college_football_players
    where is_from_cali = 'yes'          

This gives me error ""is_from_cali"" not found.

Won't life be easier if ""where"" worked with new columns?

There's obliviously a good reason behind this, could someone elaborate? 


Also it'll be great if you could provide me with an alternative to do this, with out ""where'.",learnSQL,"Why doesn't ""where"" work on newly created columns?",1.0,https://www.reddit.com/r/learnSQL/comments/5yb7hr/why_doesnt_where_work_on_newly_created_columns/
1,Andre380,1489081523,5yghed,0,1,[removed],learnSQL,FREE Daily SQL Challenge #26,1.0,https://www.reddit.com/r/learnSQL/comments/5yghed/free_daily_sql_challenge_26/
2,Andre380,1489170267,5ynqjw,0,1,[removed],learnSQL,FREE Daily SQL Challenge #27,1.0,https://www.reddit.com/r/learnSQL/comments/5ynqjw/free_daily_sql_challenge_27/
3,Andre380,1489425565,5z6a9d,0,1,[removed],learnSQL,FREE Daily SQL Challenge #23,1.0,https://www.reddit.com/r/learnSQL/comments/5z6a9d/free_daily_sql_challenge_23/
4,[deleted],1489456194,5z9cuo,0,2,[deleted],learnSQL,How to run/chunk/iterate long SQL query with Pandas?,1.0,https://www.reddit.com/r/learnSQL/comments/5z9cuo/how_to_runchunkiterate_long_sql_query_with_pandas/
5,Andre380,1489512010,5zdh1u,0,1,[removed],learnSQL,FREE Daily SQL Challenge #28,1.0,https://www.reddit.com/r/learnSQL/comments/5zdh1u/free_daily_sql_challenge_28/
6,Andre380,1489598814,5zkr9e,0,1,[removed],learnSQL,FREE Daily SQL Challenge #29,1.0,https://www.reddit.com/r/learnSQL/comments/5zkr9e/free_daily_sql_challenge_29/
7,Nelizzzz,1489666966,5zq8ye,0,4,"Hi,
SQL-noob here, trying to follow [this tutorial](https://anitagraser.com/2011/09/25/a-closer-look-at-alpha-shapes-in-pgrouting/).

My code (the last part):

    CREATE TABLE network.home_isodist (id serial, max_cost double precision);
    SELECT AddGeometryColumn('network','home_isodist','the_geom',28992,'POLYGON',2);
    INSERT INTO network.home_isodist (max_cost, the_geom) (
    SELECT 300, ST_SetSRID(the_geom,28992)
    FROM
    pgr_pointsaspolygon(
    'SELECT id, ST_X(geom) AS x, ST_Y(geom) AS y FROM network.temp where cost &lt; 300'));

I get an error: 

*ERROR:  column ""the_geom"" does not exist
LINE 4: SELECT 300, ST_SetSRID(the_geom,28992)
                               ^
HINT:  There is a column named ""the_geom"" in table ""home_isodist"", but it cannot be referenced from this part of the query.*

I'm kind of stuck here....what am I doing wrong?

Any help appreciated!
N.


",learnSQL,'column cannot be referenced from this part of the query'...what am I doing wrong,1.0,https://www.reddit.com/r/learnSQL/comments/5zq8ye/column_cannot_be_referenced_from_this_part_of_the/
8,Andre380,1489684991,5zrxoq,0,1,[removed],learnSQL,FREE Daily SQL Challenge #30,1.0,https://www.reddit.com/r/learnSQL/comments/5zrxoq/free_daily_sql_challenge_30/
9,Andre380,1489771769,5zyyxc,0,1,[removed],learnSQL,FREE Daily SQL Challenge #31,1.0,https://www.reddit.com/r/learnSQL/comments/5zyyxc/free_daily_sql_challenge_31/
10,kwenzel1,1489934216,60abm1,0,4, ,learnSQL,Introduction to the UPDATE statement,1.0,https://www.essentialsql.com/introduction-to-the-update-statement/
11,kwenzel1,1489934803,60ad72,0,3, ,learnSQL,Introduction to the Delete Statement,1.0,https://www.essentialsql.com/introduction-delete-statement/
12,kwenzel1,1489935683,60afnh,0,3, ,learnSQL,What is the Difference Between Merge and Update?,1.0,https://www.essentialsql.com/difference-merge-update/
13,Andre380,1490030171,60hszy,0,1,[removed],learnSQL,FREE Daily SQL Challenge #32,1.0,https://www.reddit.com/r/learnSQL/comments/60hszy/free_daily_sql_challenge_32/
14,Andre380,1490121429,60peay,0,1,[removed],learnSQL,FREE Daily SQL Challenge #33,1.0,https://www.reddit.com/r/learnSQL/comments/60peay/free_daily_sql_challenge_33/
15,xxnoname77xx,1490181102,60tydl,0,9," I decided to bypass using PostGresSQL and watch udemy beginner mySQL videos and go over and over the lectures videos, quizes, practice test questions to get a better understanding of MySQL and I feel I have a great understanding. I know their is much more to learn and as things get more complex that is where I get stuck. I feel some of these videos throw a curve ball in installing different apps that run mySQL which is driving me crazy but I tried the cmd line and now sticking with workbench which is pretty easy. What mySQL cert should I concentrate on for Database admin. I want to make sure I stick with one dialect of mySQL. I am using mYSQL but some lesson show oracle Apex to use which makes it more confusing what to study. I noticed especially when I tried lessons on concat on my own the lesson syntax they used worked in their example by using || compared to my own example in MYSQL using the word concat had a different syntax which is causing confusing what path to stick to in order to earn mySQL. I also see the lessons talking about PHP but I am trying to get mySQL for database admin before I learn PHP. Thanks",learnSQL,What exam should I look into to start getting MySQL certified? I think Database Admin is the start for a beginner but...,1.0,https://www.reddit.com/r/learnSQL/comments/60tydl/what_exam_should_i_look_into_to_start_getting/
16,Andre380,1490204414,60w45d,0,1,[removed],learnSQL,FREE Daily SQL Challenge #34,1.0,https://www.reddit.com/r/learnSQL/comments/60w45d/free_daily_sql_challenge_34/
17,Andre380,1490290089,6139gu,0,1,[removed],learnSQL,FREE Daily SQL Challenge #35,1.0,https://www.reddit.com/r/learnSQL/comments/6139gu/free_daily_sql_challenge_35/
18,Andre380,1490375390,61a7bo,0,1,[removed],learnSQL,FREE Daily SQL Challenge #36,1.0,https://www.reddit.com/r/learnSQL/comments/61a7bo/free_daily_sql_challenge_36/
19,ickies,1490405899,61d4l9,0,4,Anyone know where I can find exercises for Adventureworks queries? I can't for the life of me find anything online.,learnSQL,Exercises for Adventureworks,1.0,https://www.reddit.com/r/learnSQL/comments/61d4l9/exercises_for_adventureworks/
20,zendakin,1490586546,61pz1k,3,3,"The question I am trying to answer is What was the gross for each movie that received at least one rating greater than 4 and had a budget of more than $20,000,000? Return the title of each movie, its budget, and its gross sales.

With the tables set as this:
Movies_Table 
  movie_id, movie_name, release_year, gross_sales, budget
Actor_Table 
  actor_id, actor_name, agent, date_of_birth
Casting_Table 
  casting_id, movie_id, actor_id, role (1 = Lead, 2 = Support)
Reviews_Table
  reviews_id, reviewer_name, movie_id, rating (1, 2, 3, 4 or 5)

Can I use a COUNT within a WHERE clause? Any assistance is appreciated.
The code that I wrote up is this but I'm not sure I can use a COUNT there...
UPDATED: I think what I need is to use HAVING. The question remains though, can I use HAVING like I have it shown here?

    SELECT m.movie_name, m.budget, m.gross_sales
    FROM Movies_Table as m
    JOIN Reviews_Table as rev on m.movie_id = rev.movie_id
    WHERE m.budget &gt;= 20000000
    HAVING(COUNT(rev.rating &gt;= 4)) &gt; 0;",learnSQL,COUNT within a WHERE clause?,1.0,https://www.reddit.com/r/learnSQL/comments/61pz1k/count_within_a_where_clause/
21,Andre380,1490637300,61tr9a,0,1,[removed],learnSQL,FREE Daily SQL Challenge #35,1.0,https://www.reddit.com/r/learnSQL/comments/61tr9a/free_daily_sql_challenge_35/
22,Andre380,1490720934,620oen,0,1,[removed],learnSQL,FREE Daily SQL Challenge #38,1.0,https://www.reddit.com/r/learnSQL/comments/620oen/free_daily_sql_challenge_38/
23,Andre380,1490807480,627yzh,0,1,[removed],learnSQL,FREE Daily SQL Challenge #39,1.0,https://www.reddit.com/r/learnSQL/comments/627yzh/free_daily_sql_challenge_39/
24,Stephen_Falken,1490861949,62coha,1,6,"There's no option in the installer to tell it to install to ""D:\Program Files\MySQL\"". I've seen guides that say to look for my.ini but its nowhere to be found. I'd imagine its stupid simple but for what ever reason it's being a PITA.  
The reason for this is my OS drive is 64GB where as ""D"" and ""E"" drive are ~2TB each. ",learnSQL,Is there a way to install MySQL to a different drive?,1.0,https://www.reddit.com/r/learnSQL/comments/62coha/is_there_a_way_to_install_mysql_to_a_different/
25,Andre380,1490907528,62grop,0,1,[removed],learnSQL,FREE Daily SQL Challenge #40,1.0,https://www.reddit.com/r/learnSQL/comments/62grop/free_daily_sql_challenge_40/
26,Andre380,1490994286,62o4g5,0,1,[removed],learnSQL,FREE Daily SQL Challenge #41,1.0,https://www.reddit.com/r/learnSQL/comments/62o4g5/free_daily_sql_challenge_41/
27,Andre380,1491239542,6385aj,0,1,[removed],learnSQL,FREE Daily SQL Challenge #42,1.0,https://www.reddit.com/r/learnSQL/comments/6385aj/free_daily_sql_challenge_42/
28,Andre380,1491326141,63fi0a,0,1,[removed],learnSQL,FREE Daily SQL Challenge #43,1.0,https://www.reddit.com/r/learnSQL/comments/63fi0a/free_daily_sql_challenge_43/
29,Northburns,1491396313,63laia,2,2,"Hi! I'm not 100% sure if this is a dumb question or not, please tell me if it is.

I'll whip up a silly example that simplifies my problem to its core.

My database holds data for a single gladitorial event. I have a table of Gladiators, which contains all of the gladiators that have applied to the event. Gladiators can be sponsored or not (gear matters). Gladiators have a nickname for the announcers to use. In the actual event, the sponsored ones will compete at the big arena (with announcers, free bread, and what not), and the non-sponsored ones compete in the little arena.

    CREATE TABLE GLADIATOR (
      UUID      CHAR(36) NON NULL UNIQUE,
      SPONSORED NUMBER(1) NON NULL, -- 0 false, non-0 true
      NICKNAME  VARCHAR2(256) NON NULL
    )

So, I (on the behalf of the sponsors) want to make sure that no two _sponsored_ gladiators share the same nickname. That would make the work of announcers a bit more complicated, and the sponsors don't want any confusion. For _non-sponsored_ gladiators I don't want to impose any restrictions, as they'll be competing in their own league, because no one really cares too much about that league (let them have an ""All Bob DeathMatch"" if they really want).

A bit cartoonish, but I think its a nice and fun example :)

__Q1.__ I'm pretty sure that I can't solve this _solely_ inside my application that connects to the database. Two users could in their own application instances start their own transactions, both create an active gladiator with identical nicknames, and the application would be none the wiser. Adding post-commit checks would not be a good idea, as the database would be in an illegal state already. I don't like having an illegal state commited the database, isn't that a good idea?

__Q2.__ Constraints? The `NICKNAME` has to be `UNIQUE` where `ACTIVE != 0`. This way, with my previous two concurrent users, the later commiter's app could catch the error and act acordingly. I may be missing something here. I feel like this should be possible with constraints, but my RTFM-fu may just be lacking.

__Q3.__ Maybe rethink my schema? I'm totally down with that, I may just be trying to avoid the workload :)

Something else I've maybe missed or not thought of? Other thoughts? Wrong subreddit? I'll be over here rethinking my schema already, thanks for reading 👍",learnSQL,"[Oracle] Enforcing complex-ish unique rules, help?",1.0,https://www.reddit.com/r/learnSQL/comments/63laia/oracle_enforcing_complexish_unique_rules_help/
30,Andre380,1491413230,63n035,0,1,[removed],learnSQL,FREE Daily SQL Challenge #44,1.0,https://www.reddit.com/r/learnSQL/comments/63n035/free_daily_sql_challenge_44/
31,Andre380,1491498954,63uc61,0,1,[removed],learnSQL,FREE Daily SQL Challenge #45,1.0,https://www.reddit.com/r/learnSQL/comments/63uc61/free_daily_sql_challenge_45/
32,Andre380,1491585845,641scq,0,1,[removed],learnSQL,FREE Daily SQL Challenge #46,1.0,https://www.reddit.com/r/learnSQL/comments/641scq/free_daily_sql_challenge_46/
0,sql_prep,1486743486,5t865n,0,6,"Show each office city, and the average number of orders per employee per office (without displaying the individual employee average).

Try out the challenge and check back later in the day for the answer.

https://www.sqlprep.com/sql-prep-daily-sql-challenge-8/",learnSQL,FREE Daily SQL Challenge #8,1.0,https://www.reddit.com/r/learnSQL/comments/5t865n/free_daily_sql_challenge_8/
1,EggMcFuckin,1486940002,5tp0uj,6,3,"I'm running an Oracle DB Developer Virtual Machine on my laptop for my work in a graduate school class on database design and implementation. 

I'm currently working on a problem set, and the problem I'm stuck on involves the following entities (among others not related to his problem):

ITEM

- item_id DECIMAL(10) NOT NULL

- description VARCHAR(30)

- price DECIMAL(10)

- PRIMARY KEY (item_id)


ITEM_PRICE_HISTORY

- price_history_id DECIMAL (10) NOT NULL,

- item_id DECIMAL (10) NOT NULL,

- old_price DECIMAL (10) NOT NULL,

- new_price DECIMAL (10) NOT NULL,

- price_change_date DATE NOT NULL,

- PRIMARY KEY (price_history_id),

- FOREIGN KEY (item_id) REFERENCES item


The trigger I'm writing is supposed to insert a new row into the ITEM_PRICE_HISTORY table when an ITEM's price is updated, storing all required field data. Here's what I have so far:

    CREATE OR REPLACE TRIGGER item_price_history_trg
    AFTER UPDATE OF price ON item
    FOR EACH ROW
    BEGIN
     IF :NEW.price != :OLD.price THEN
     INSERT INTO item_price_history (price_history_id, item_id, old_price, new_price, price_change_date)
     VALUES ((SELECT COUNT(price_history_id) FROM item_price_history) + 1, item_id, :OLD.price, :NEW.price, SYSDATE);
     END IF;
    END;

The error output is as follows:

    Error(3,2): PL/SQL: SQL Statement ignored
    Error(4,70): PL/SQL: ORA-00984: column not allowed here

I've tried tweaking the code and spent some time on Google and Stack Overflow, but I can't seem to figure out what I need to do to get this trigger working without throwing an error. Any advice would be greatly appreciated!",learnSQL,[ORACLE] Need help getting a trigger to work,1.0,https://www.reddit.com/r/learnSQL/comments/5tp0uj/oracle_need_help_getting_a_trigger_to_work/
2,kwenzel1,1486940878,5tp4i1,0,2, ,learnSQL,Introduction to SQL Server Data Modification Statements,1.0,https://www.essentialsql.com/introduction-sql-server-data-modification-statements/
3,kwenzel1,1486941085,5tp5c8,0,3, ,learnSQL,Introduction to the INSERT Statement using SQL Server,1.0,https://www.essentialsql.com/introduction-insert-statement/
4,sql_prep,1486997175,5tt7t1,0,1,[removed],learnSQL,FREE Daily SQL Challenge #9,1.0,https://www.reddit.com/r/learnSQL/comments/5tt7t1/free_daily_sql_challenge_9/
5,sql_prep,1487174818,5u8apt,0,1,[removed],learnSQL,FREE Daily SQL Challenge #11,1.0,https://www.reddit.com/r/learnSQL/comments/5u8apt/free_daily_sql_challenge_11/
6,Andre380,1487268242,5ugora,0,1,[removed],learnSQL,"""FREE Daily SQL Challenge #12",1.0,https://www.reddit.com/r/learnSQL/comments/5ugora/free_daily_sql_challenge_12/
7,Andre380,1487354863,5unmqm,0,1,[removed],learnSQL,FREE Daily SQL Challenge #13,1.0,https://www.reddit.com/r/learnSQL/comments/5unmqm/free_daily_sql_challenge_13/
8,craftyspice,1487383673,5uq7mp,2,6,"I ask because, today, I was working and submitted my first 'proper' database migration PR and it took me way longer than it should have as I haven't done SQL for a year.

When I refer to 'proper' I am referring to anything that involves more than a simple select with an inner join.
What would you recommend to visit to reboot my SQL brain. I personally hate reading postgres documentation as I find the examples very unhelpful.

Cheers in advance :)",learnSQL,What are you favourite SQL puzzle websites?,1.0,https://www.reddit.com/r/learnSQL/comments/5uq7mp/what_are_you_favourite_sql_puzzle_websites/
9,skeetbuddy,1487458412,5uv5ty,10,4,"I am attempting to create a small ""system builder"" selection tool using SQL (in Access right now, since it's a POC).  I've successfully built a table+query for returning a singular result, but I can't wrap my brain around how to do this.


To explain what I mean, imagine I have a table that keeps track of how many of different types of fruit are in baskets I want to sell.

#tblBasket

*ID,BasketName,nApples,nPears,nKumquats*

1,Basket1,4,1,0

2,Basket2,1,0,5

3,Basket3,4,7,0


Let's say I then have a form where a user can tell me the min amount of each fruit they want.

If the customers orders this, I have no problem:

nApples:  3

nPears: 1

nKumquats: 0


The query will return Basket3 and Basket1 as viable options that singularly meet these minimum requirements. I also created 'score' for the result, so it will also highlight the best fit of the two for what was entered.


But if the customer request is more like this, I am struggling:

nApples:  5

nPears: 1

nKumquats: 3


Right now, the query that worked before doesn't produce a result at all, because no **one** basket has enough of the various fruits to fulfill the request.  What I *want* to have happen is that my query returns closest-fit *combinations* of baskets that together, will have the minimum number of fruit requested.


So, the (desired) returned result would be:


Basket1 **AND** Basket2 (which would have 5,1,5) --&gt; closest fit and would be scored that way

Basket1 **AND** Basket3 (which would have 5,7,5)

Do I somehow first have to come up with a query that creates every possible permutation of tblBasket combinations (right now no clue how to do that, just brainstorming), and then do my SELECT query on that?  Or is there something so much simpler that I can do and I'm just making this harder than it has to be?


If I'm posting in the wrong place, forgive me and point me in the right direction ... thank you!

edit: formatting",learnSQL,Can this be done in SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/5uv5ty/can_this_be_done_in_sql/
10,kwenzel1,1487524091,5uz70g,0,6, ,learnSQL,What is a Database Trigger?,1.0,https://www.essentialsql.com/what-is-a-database-trigger/
11,Andre380,1487614264,5v64df,0,1,[removed],learnSQL,FREE Daily SQL Challenge #14,1.0,https://www.reddit.com/r/learnSQL/comments/5v64df/free_daily_sql_challenge_14/
12,PRESTIGIOUS_PENGUIN,1487673098,5vatlo,1,4,"I'm having trouble translating a ""Where IN (subquery)"" form of SQL into relational algebra.

Select * 

FROM A 

Where B IN (C)

Whats there to do to circumvent this/is there a way to easily translate this?",learnSQL,New to SQL/Relational Algebra - need help translating SQL query I made.,1.0,https://www.reddit.com/r/learnSQL/comments/5vatlo/new_to_sqlrelational_algebra_need_help/
13,Andre380,1487699028,5vcvv7,0,1,[removed],learnSQL,FREE Daily SQL Challenge #15,1.0,https://www.reddit.com/r/learnSQL/comments/5vcvv7/free_daily_sql_challenge_15/
14,Andre380,1487784988,5vk2ao,0,1,[removed],learnSQL,FREE Daily SQL Challenge #16,1.0,https://www.reddit.com/r/learnSQL/comments/5vk2ao/free_daily_sql_challenge_16/
15,Andre380,1487872480,5vrvyq,0,1,[removed],learnSQL,FREE Daily SQL Challenge #17,1.0,https://www.reddit.com/r/learnSQL/comments/5vrvyq/free_daily_sql_challenge_17/
16,EarthboyJ,1487879734,5vsnh2,2,3,"How would I go about adding the whole order vs,  having it come out for each item:

SQL:

    select c.cname, o.cust_no, ord.order_no, (qty*price) as ""Total""
    from Customers c
        inner join Orders o
        on c.cust_no = o.cust_no
        inner join Orderlines ord
        on o.order_no = ord.order_no
    where c.city like 'London' 
    order by ord.order_no

Output:

    CNAME                            CUST_NO   ORDER_NO      Total
    -------------------------  ---------- ---------- ----------
    Cops Co                                      1120        107        228 
    Cops Co                                      1120        107       1170 
    Bob Dole                                     1065        122        530 
    Bob Dole                                     1065        122        495 

The difference between the first pairs of identicle rows is the product in the order. ",learnSQL,SQL grouping multiple rows for calculation,1.0,https://www.reddit.com/r/learnSQL/comments/5vsnh2/sql_grouping_multiple_rows_for_calculation/
17,Andre380,1487957072,5vyre7,0,1,[removed],learnSQL,FREE Daily SQL Challenge #18,1.0,https://www.reddit.com/r/learnSQL/comments/5vyre7/free_daily_sql_challenge_18/
18,[deleted],1487983401,5w1b6m,1,2,[deleted],learnSQL,Question,1.0,https://www.reddit.com/r/learnSQL/comments/5w1b6m/question/
19,OwlTurkey,1488052930,5w5zfe,4,10,"I've done a couple codecademy like things for sql and I've gotten through them, but I can't seem to find a next level version that shows more challenging situations. Any suggestions? Open to books, online resources. ",learnSQL,How to go about learning sql for a beginner?,1.0,https://www.reddit.com/r/learnSQL/comments/5w5zfe/how_to_go_about_learning_sql_for_a_beginner/
20,Andre380,1488216253,5wi0by,0,1,[removed],learnSQL,FREE Daily SQL Challenge #19,1.0,https://www.reddit.com/r/learnSQL/comments/5wi0by/free_daily_sql_challenge_19/
21,Andre380,1488302438,5wpaiw,0,1,[removed],learnSQL,FREE Daily SQL Challenge #20,1.0,https://www.reddit.com/r/learnSQL/comments/5wpaiw/free_daily_sql_challenge_20/
22,Andre380,1488303060,5wpd0k,0,1,[removed],learnSQL,FREE Daily SQL Challenge #20,1.0,https://www.reddit.com/r/learnSQL/comments/5wpd0k/free_daily_sql_challenge_20/
23,kwenzel1,1488370399,5wvckt,0,7, ,learnSQL,Introduction to Common Table Expressions (CTEs),1.0,https://www.essentialsql.com/introduction-common-table-expressions-ctes/
24,Andre380,1488388350,5wx8tf,0,1,[removed],learnSQL,FREE Daily SQL Challenge #21,1.0,https://www.reddit.com/r/learnSQL/comments/5wx8tf/free_daily_sql_challenge_21/
25,Andre380,1488483361,5x5e96,0,1,[removed],learnSQL,FREE Daily SQL Challenge #22,1.0,https://www.reddit.com/r/learnSQL/comments/5x5e96/free_daily_sql_challenge_22/
26,gigo_gigo,1488763963,5xqgz0,5,8,"I have seen the use of a technique similar to the one shown [in the checked answer to this Stack Overflow question](http://stackoverflow.com/a/9493778/4006275) in the line

    FROM children c, (SELECT birth_year FROM school LEFT JOIN children ON school.child_id = children.child_id GROUP BY birth_year) b

I am asking about the query in parentheses and the b that follows. I have seen this as a way to refer to the subquery, but I don't know its name. I have Google things like ""named subqueries SQL"", but I have not found a consistent naming for this technique.",learnSQL,What is this technique called?,1.0,https://www.reddit.com/r/learnSQL/comments/5xqgz0/what_is_this_technique_called/
27,Andre380,1488907751,5y1x5b,0,1,[removed],learnSQL,FREE Daily SQL Challenge #24,1.0,https://www.reddit.com/r/learnSQL/comments/5y1x5b/free_daily_sql_challenge_24/
28,bobspadger,1488922214,5y3l5t,0,3,"Hi All

I'm rather rubbish at SQL but trying to learn it, however, time is against me on one project!

I have a question on stack overflow where I wish to have the data returned by my webcrawler into a more useable form.

I have a table of input urls
and a a table of their crawl results (via google)

I need to show for each keyword in the input table , the latest position for our company .

I have in the second table, keyword, check_data, position, company/competitor

I can sort of do this, but it does not return a record if we do not have a position (so i'm missing half my keywords)

Question on SO:
http://stackoverflow.com/questions/42647773/sql-select-latest-result-from-table-where-keyword-and-competitor/42647950#42647950

Thanks in advance




",learnSQL,Trying to show related data based on date,1.0,https://www.reddit.com/r/learnSQL/comments/5y3l5t/trying_to_show_related_data_based_on_date/
29,Andre380,1488993530,5y974t,0,1,[removed],learnSQL,FREE Daily SQL Challenge #25,1.0,https://www.reddit.com/r/learnSQL/comments/5y974t/free_daily_sql_challenge_25/
0,Realgunners,1483911606,5mtefi,2,5,"I have recently completed a sql class on team treehouse and looking for a project that can assist me with mastering what I have learned. 

",learnSQL,Looking for SQL Project to tackle,1.0,https://www.reddit.com/r/learnSQL/comments/5mtefi/looking_for_sql_project_to_tackle/
1,zzpza,1483963140,5mx9vo,4,2,"I'm writing a mod helper bot in Python using PRAW and SQLite3. It's to match people together that are looking for pen pals. Heres: some same data I have in the 'requests' table at the moment:

    cmntID  postID  userA    userLoc     reqLoc status   timeStamp
    dc2o1x5	5md1ie	alice    England 	 Europe	new	     1483730115
    dc5qr7e	5md1ie	bob	     France 	 Europe	new	     1483730115
    dc4gt44	5md1ie	charlie	 USA 	     USA	new	     1484386286

So using the above example I'd like to have the first two rows returned (alice and bob) as they both have the same reqLoc (requested location) of 'Europe' and are 'new' requested (i.e. not already matched). N.B. I'm just using 'Europe' as the example here. I'd like it to return rows where two or more rows have the same entry for that field. For example if Dave came along as requested a pen pal in the USA, he would match with Charlie.

Any help very much appreciated! :) I've never done an SQL statement more complex than SELECT * FROM table WHERE field = blah;.",learnSQL,[SQLite3][Beginner] How to find rows in table that have the same value for a field?,1.0,https://www.reddit.com/r/learnSQL/comments/5mx9vo/sqlite3beginner_how_to_find_rows_in_table_that/
2,PoglaTheGrate,1484172567,5nf7ui,1,4,"Hey peoples.

I'm trying to write a custom report in the SQL Server back end for HP's Application Lifecycle Management.

For some unknown reason, the AUDIT_PROPERTIES.AP_NEW_DATE_VALUE  and AUDIT_PROPERTIES.AP_OLD_DATE_VALUE are not being populated - I believe these are supposed to be the Valid_From and Valid_To date.

I'm trying to generate a query to find out when an individual defect record has been assigned to our team, and when we assigned that defect away.

The defects are in the BUG table.

The BUG table joins to the AUDIT_LOG table:   
    AUDIT_LOG.AU_ENTITY_ID (FK) - BUG.BG_BUG_ID (PK)

There's then a join to the AUDIT_PROPERTIES table:  
    AUDIT_LOG.AU_ACTION_ID (FK) =  AUDIT_PROPERTIES.AP_ACTION_ID (PK)

The column AUDIT_LOG.AU_TIME holds the time at which the table has changed.  The details of the change are in the AUDIT_PROPERTIES table.

I have a query - which I think is working - showing when a defect was assigned to our team:

    SELECT DISTINCT CAST(BUG.BG_BUG_ID AS NVARCHAR(256)) AS Defect_Id --Don't capture history
    , BUG.BG_SUMMARY AS Summary --Don't capture history
    
    , (SELECT TOP 1 B.AP_NEW_VALUE
    FROM AUDIT_LOG A
    INNER JOIN AUDIT_PROPERTIES B
    ON A.AU_ACTION_ID =  B.AP_ACTION_ID
    WHERE B.AP_TABLE_NAME = 'BUG'
    AND B.AP_FIELD_NAME = 'BG_PRIORITY'
    AND A.AU_TIME &lt;= AUDIT_LOG.AU_TIME
    AND CAST(A.AU_ENTITY_ID AS NVARCHAR(256)) = CAST(BUG.BG_BUG_ID AS NVARCHAR(256))) AS Delivery_Priority
    
    , BUG.BG_DETECTION_DATE AS Date_Detected --Don't capture history
    , (SELECT TOP 1 B.AP_NEW_VALUE
    FROM AUDIT_LOG A
    INNER JOIN AUDIT_PROPERTIES B
    ON A.AU_ACTION_ID =  B.AP_ACTION_ID
    WHERE B.AP_TABLE_NAME = 'BUG'
    AND B.AP_FIELD_NAME = 'BG_USER_53'
    AND A.AU_TIME &lt;= AUDIT_LOG.AU_TIME
    AND CAST(A.AU_ENTITY_ID AS NVARCHAR(256)) = CAST(BUG.BG_BUG_ID AS NVARCHAR(256))) AS Effective_Status

**snip**

    , AUDIT_PROPERTIES.AP_ACTION_ID
    FROM  AUDIT_LOG
    INNER JOIN BUG
    ON CAST(AUDIT_LOG.AU_ENTITY_ID AS NVARCHAR(256)) = CAST(BUG.BG_BUG_ID AS NVARCHAR(256))
    INNER JOIN AUDIT_PROPERTIES
    ON AUDIT_LOG.AU_ACTION_ID =  AUDIT_PROPERTIES.AP_ACTION_ID
    
    WHERE AUDIT_PROPERTIES.AP_TABLE_NAME = 'BUG'
    AND AUDIT_PROPERTIES.AP_FIELD_NAME = 'BG_USER_06' –Assigned_to
    AND AUDIT_PROPERTIES.AP_NEW_VALUE IN ('Team_Name_1’, ‘Team_Name_2’')
    
This is showing all defects to our team as the record looked at time of assigning.

What I need to be able to do is join in the records assigned away by the Our team.  


Each record can be assigned to our team multiple times, and then assigned away by our team.

Thanks in advance, guys

Extremely simple table diagrams:

http://imgur.com/xp93mMB    
http://imgur.com/nisdyS2",learnSQL,[MS SQL]Point in time data with no valid to/from date (x-post from /r/sql),1.0,https://www.reddit.com/r/learnSQL/comments/5nf7ui/ms_sqlpoint_in_time_data_with_no_valid_tofrom/
3,Felidor,1484682221,5ok80s,5,2,"Hello everyone. I'm a little stuck and wondering how I could go about doing this.

I have a table that is set up like this:

ID	value

1	13

1	00

1	4001

1	0

I want to take those results and pivot them as such:

ID	value1      value2     value3     value4

1       13          00         4001       0

I'm not sure if this is a possible using Pivot or if I would have to go about it some other way. Any help is greatly appreciated. ",learnSQL,[MSSQL] Table Manipulation,1.0,https://www.reddit.com/r/learnSQL/comments/5ok80s/mssql_table_manipulation/
4,sqlprep,1484931496,5p519k,0,1,"I do one-on-one live coaching sessions with students through a platform called Savvy.

And Savvy is doing a promo where the first 100 new students to use their promo code ACHIEVEYOURGOAL will get $50 off their first coaching session.

My normal rate for 25 minutes is $50, so $50 - $50 is FREE!

Want a FREE 25 minute consultation with me to come up with a plan for learning SQL? Or to work through a specific SQL problem? Or to talk about job prospects?

All you have to do is go to www.savvy.is/learntosql, book a 25 minute session, and then use the promo code ACHIEVEYOURGOAL on checkout.

But make sure to do it fast, because only the first 100 new Savvy students get the deal!!!",learnSQL,WANT A FREE SQL CONSULTATION?,1.0,https://www.reddit.com/r/learnSQL/comments/5p519k/want_a_free_sql_consultation/
5,[deleted],1485677643,5qsupk,0,1,[removed],learnSQL,[MYSQL] Lrg table not compatible with my query. Help!,1.0,https://www.reddit.com/r/learnSQL/comments/5qsupk/mysql_lrg_table_not_compatible_with_my_query_help/
6,xxnoname77xx,1485778851,5r0d3l,2,9,"I think this should have been posted in this forum: I just started to learn PostGresSQL to get a taste of SQL. I have seen alot of flavors of SQL like Microsoft, Oracle etc. I am using Udemy to get a taste of SQL. I am not a developer or programmer. I am looking to add a skill of SQL to get a better job. Upon reading various articles it appears depending on the SQL platform is what Syntax dialect needed to learn. What is the stepping stone of SQL I should start to enter the SQL job market? Fellow Reddit help suggested: Generally though, if you know one SQL variant learning what the equivalent function in another one is just a simple google query away, the query logic remains basically the same. Unless you plan venturing into the world of database development, using a procedural language like PL/SQL (Oracle) or T-SQL (SQL Server), you need not to worry about it. The most important thing about learning SQL is not in syntax, which is rather trivial, but the fact you're working with sets of data, which a lot of people have trouble with, especially those with background in procedural programming.
I recommend http://sqlzoo.net to get started, you get exercises you need to complete, quizzes, what not. It walks you through all basic SQL features. I think if you're looking for a database administration position, then yes certifications can help. But if you're doing more data analysis/BI I don't think the certifications matter (although I think Microsoft has an intro cert for basic SQL stuff: https://www.microsoft.com/en-us/learning/course.aspx?cid=40364).  Any thoughts? I hope this advice from the Reddit commnity can help other beginners like myself.",learnSQL,What d you think about my path on where to start as a beginner?,1.0,https://www.reddit.com/r/learnSQL/comments/5r0d3l/what_d_you_think_about_my_path_on_where_to_start/
7,motivationbites,1486052472,5rnoz9,0,1, ,learnSQL,Oracle Database 12c SQL Fundamentals [Udemy Free Course],1.0,http://www.programmingbuddy.club/2017/02/udemy-oracle-database-12c-sql.html
8,rasellers0,1486143401,5rvapa,1,4,"basically,  I've been asked to generate a list of participants in groups 1 and 2. the problem is that each row can only be in one group, so each Id has its own row for each group it's in. 

how can I search for all duplicate ids(and show every duplicate id) that are in both groups, but only those two groups?  this is with Oracle, by the way.",learnSQL,how to select all rows with same id in both groups 1 and 2,1.0,https://www.reddit.com/r/learnSQL/comments/5rvapa/how_to_select_all_rows_with_same_id_in_both/
0,OA998,1481514072,5huf72,0,2,"I have a table of Sales that tracks how many of an item a user purchases. Another table, Inventory contains the items.

*SALES*

**Username , ItemID, Quantity**  [pk(Username, ItemID)]

*INVENTORY*

**ID, Price**  [pk(ID)]

I would like to see the sum amount each customer has spent on my site.  My statement (that I thought was working because I was only testing with a single user) is: 

    ""SELECT Username, SUM(Quantity) AS Items, SUM(Quantity * Price) AS Spent
     FROM  inventory, sales
     WHERE inventory.ID = sales.ItemID
     ORDER BY Username ""

I can only assume I need to use a DISTINCT for Username or do some kind of self-join to test usernameA &lt;&gt; usernameB,  but I'm not sure how to approach it.  

Any ideas?

EDIT::  **SOLVED**

I didn't realize I was using ORDER BY.  I had assumed I was using GROUP BY. 

Correct SQL:

    SELECT s.Username AS UName, SUM(s.Quantity) AS NumItemsBought, SUM(i.Price * s.Quantity) AS SpentInTotal 
    FROM inventory i,sales s 
    WHERE i.ID=s.ItemID 
    GROUP BY s.Username",learnSQL,Sum of all sales for each user. Response is all sales grouped under one username. Need DISTINCT?,1.0,https://www.reddit.com/r/learnSQL/comments/5huf72/sum_of_all_sales_for_each_user_response_is_all/
1,Avidya,1481517828,5hupn2,4,3,"Every day, I have a program that is going to a number of accounts specified by rows in a table called Accounts and fetching two pieces of data, balance and available, for each of them. These will be stored in a separate table called Records, along with the time they were observed. A simplified schema would be

    Accounts
    ----------
    username - TEXT PRIMARY KEY

and

    Records
    ----------
    username - TEXT
    
    balance - INT4
    
    available - INT4
    
    observed_at - TIMESTAMP
    
    PRIMARY KEY(username, observed_at)

I want to fetch the balance and available for each account in Accounts, so I have to do something like

    SELECT username, balance, available FROM accounts LEFT JOIN records USING (username) WHERE observed_at::date=current_date;

but there are a few accounts that didn't their information observed today, so they won't show up in this query. Instead I have to do

    SELECT username, (SELECT balance FROM records r WHERE r.username=a.username AND observed_at::date=current_date) AS balance, (SELECT available FROM records r WHERE r.username=a.username AND observed_at::date=current_date) AS available FROM accounts;

Is there a simpler way to do this query?",learnSQL,[PostgreSQL] Making a query more succinct with a JOIN,1.0,https://www.reddit.com/r/learnSQL/comments/5hupn2/postgresql_making_a_query_more_succinct_with_a/
2,hunter-nighteyes,1481682277,5i7yk1,2,2,"Below is my query:


    select jobs.StaffID, details.Name, details.PayrollID, sum(jobs.PayHours), jobs.JobDateOnly
    from jobs
    left outer join details on jobs.StaffID = details.StaffID
    where (JobDateOnly = '2016-12-25' or JobDateOnly = '2016-12-27')
    group by jobs.StaffID, details.Name, details.PayrollID,  jobs.JobDateOnly
    order by jobs.StaffID, JobDateOnly asc


I'm trying to get staffs who worked on BOTH dates, not only one.
I'm trying to avoid using sub-query as our report writer doesn't support it well.


Is there any function I should know?",learnSQL,[MSSQL]How do I show data on both dates?,1.0,https://www.reddit.com/r/learnSQL/comments/5i7yk1/mssqlhow_do_i_show_data_on_both_dates/
3,kwenzel1,1483059446,5l0hvg,1,3, ,learnSQL,How Do You Calculate the End of the Month in SQL?,1.0,https://www.essentialsql.com/calculate-end-month-sql/
4,kwenzel1,1483059837,5l0j10,0,2, ,learnSQL,Uncommon SQL Server Data Types,1.0,https://www.essentialsql.com/uncommon-sql-server-data-types/
5,dearaudio,1483469324,5ltnlj,5,8,"Hi all,

I'm a complete and total beginner, interested in learning to code. My husband is very talented and can work with several languages/tools. He suggested that I start with SQL.

I'm looking for structured resources similar to a class, something with clear progression. I am not looking for something where I can pick and choose to learn a certain thing or two because I wouldn't even know where to start. 

I looked into Stanford's self-paced SQL mini courses but they recommend ""a solid computer science foundation -- a reasonable amount of programming, as well as knowledge of basic computer science theory"". Although it's not required of course, I don't want to waste my own time, and I don't have any of that background. I need to start completely from the bottom. 

Can anyone suggest any similar, structured resources that can provide teaching in an ELI5 kind of way? 

Thanks! ",learnSQL,Complete beginner looking for SQL resources,1.0,https://www.reddit.com/r/learnSQL/comments/5ltnlj/complete_beginner_looking_for_sql_resources/
6,mbrych,1483548807,5m07mn,3,8, ,learnSQL,6 Ways You Can Learn SQL,1.0,https://academy.vertabelo.com/blog/6-ways-can-learn-sql/
7,mbrych,1483549463,5m0a1s,1,3, ,learnSQL,8 Tips Absolute Beginners Can Use to Fix SQL Queries,1.0,https://academy.vertabelo.com/blog/8-tips-absolute-beginners-can-use-fix-sql-queries/
8,mbrych,1483550237,5m0d20,0,2, ,learnSQL,6 Common Syntax Mistakes All SQL Learners Make,1.0,https://academy.vertabelo.com/blog/6-common-syntax-mistakes-all-sql-learners-make/
9,mbrych,1483551829,5m0iwi,0,2, ,learnSQL,Refine Results with SQL Set Operators,1.0,https://academy.vertabelo.com/blog/refine-results-sql-set-operators/
10,Cannonball_Z,1483761153,5midbc,3,3,"This is homework, but self-assigned.  We have this dataset: https://lagunita.stanford.edu/c4x/DB/SQL/asset/socialdata.html   

In the 'Likes' table, the student with ID1 likes the student with ID2.
   
The question is:
   
For every student who likes someone 2 or more grades younger than themselves, return that student's name and grade, and the name and grade of the student they like.

I'm actually not even sure how I'd solve the simpler problem of replacing all ID pairs in the Likes table with name pairs.

Any help appreciated.  Thanks!

Edit: I have a solution, but can't tell if it's efficient.",learnSQL,Help with self joins,1.0,https://www.reddit.com/r/learnSQL/comments/5midbc/help_with_self_joins/
0,defusedbomb,1479182050,5d0i79,2,7,"So I'm a senior in college with 1 more semester in school and just had a panic attack as I was writing out my resume and it was only about a half a page long with basically nothing that would differentiate me from any other slacker C.S student. I want to go into database administration when I get out of school and I know a decent amount about SQL and database design and I wanted to make a project that I could put on my resume to show that I know what I'm doing.

So my idea is to create a database for a fake Walmart-like store that logs the transactions of their consumers. Something like a membership card. I would create a program that would generate fake information for the database. But the program wouldn't just load the data once and then never be used again. It would constantly load new customer transactions into the database during the day most likely on some kind of timer so that I could practice backing up the database, restoring it, and doing other things like that. The program will probably periodically hire and fire employees and maybe even promote employees.

I'm coming here to ask what you guys think about this idea before I start working on it and find out that this is not at all going to helpful in my pursuit to be a successful dba. What other functionality should I add to make it better? Thanks!",learnSQL,Trying to design a project to flex my dba skills,1.0,https://www.reddit.com/r/learnSQL/comments/5d0i79/trying_to_design_a_project_to_flex_my_dba_skills/
1,social-hackerearth,1479301617,5d92ps,0,3, ,learnSQL,Challenge your SQL skills at the Great SQLizer November 2016 - a 6 hours competitive challenge on SQL. Compete with SQL minds from across the world [X-Post from r/hackerearth],1.0,https://www.hackerearth.com/the-great-sqlizer-november-16/?utm_source=reddit-other&amp;utm_campaign=subreddit&amp;utm_medium=x-posting
2,spelga,1479387707,5dfnt0,2,2,"I have two tables. One for products and one for ingredients. Ingredients has two columns, productID and recipeID. Both productID &amp; recipeID are foreign keys related to the ID column in the products table. I'm trying to get all the ingredients used in recipes and I can return that information using this query:

    SELECT 
      products.code,
      ingredients.id,
      ingredients.amount, 
      ingredients.productid, 
      ingredients.recipeid,
      ingredients.unitequivalent,
    FROM 
      ingredients
    INNER JOIN products ON ingredients.recipeid = products.id
    WHERE products.code = 'ProductCode' AND products.prodtype = 2
    ORDER BY ingredients.sequence;

What I would like to return is the product code and product description from the products table for both the productID and recipeID in the products table. I'm stuck on how I might even go about that. Any pointers",learnSQL,[PostgreSQL] Column Field Referenced twice in Another Table - Return Associated Data,1.0,https://www.reddit.com/r/learnSQL/comments/5dfnt0/postgresql_column_field_referenced_twice_in/
3,seojoeschmo,1479395837,5dgbcb,0,22, ,learnSQL,Learn SQL: 50+ of the Best Online Educational Resources to Learn SQL and Relational Database Management,1.0,https://hackerlists.com/learn-sql-online/
4,mbrych,1480448109,5fkpsp,0,1, ,learnSQL,SQL Subqueries,1.0,https://academy.vertabelo.com/blog/sql-subqueries/
5,mbrych,1480449882,5fkw91,0,0, ,learnSQL,How to Tackle NULLs: The NULLIF Function,1.0,https://academy.vertabelo.com/blog/how-to-tackle-nulls-the-nullif-function/
6,mbrych,1480493731,5foiob,0,6, ,learnSQL,SQL JOINs Made Easy,1.0,https://academy.vertabelo.com/blog/sql-joins-made-easy/
7,mbrych,1480505412,5fp4hv,0,2, ,learnSQL,How to Tackle NULLs: COALESCE function,1.0,https://academy.vertabelo.com/blog/how-to-tackle-nulls-coalesce-function/
8,CaptainBino,1480628265,5fzco1,0,2,"So I want to create a procedure that will use loops to create a multiplication table based on a user-inputted value between 1 and 10. For example, if I put in the value ""3"" as a parameter for the procedure, the output would be:

1 2 3

2 4 6

3 6 9

How can I accomplish this using loops in Oracle SQL?

Edit: I should add that this should be outputted to the DBMS Output window",learnSQL,[Oracle] Need help creating multiplication table using loops,1.0,https://www.reddit.com/r/learnSQL/comments/5fzco1/oracle_need_help_creating_multiplication_table/
9,bosgorilla,1480630773,5fzlhx,7,3,"Hi,


I am using Teradata SQL, but I don't think that matters all that much.

It's more the idea that I need to figure out.


my table consists of user ids (URN) that used the website, and clicked on a link and the date of that click:

* URN
* timestamp
* link


let's say this is my data set

URN timestamp link

* 1 01012016 google
* 1 01062016 facebook
* 2 01012016 google


Now, I want to know the link of the first time that a URN clicked...
so this is my desired result:
1 google
2 google

So I wanted to do something like:1

    select urn, link
    from table
    qualify row_number() over (partition by urn, link order by timestamp asc) = 1

however, if I am not mistaken, that will do the group by based on URN and link... 

that would give me:

* 1 google
* 1 facebook
* 2 google

Preferably, I want to avoid having to use a join where I first group by URN to select the min(timestamp) and then match on that urn/timestamp to find out which one is linked to that, as I am talking about millions of records and I already do a lot of other joins on big tables...


Any idea how I can get my desired result, please?

Thanks",learnSQL,Want the result linked to the min of a group by...,1.0,https://www.reddit.com/r/learnSQL/comments/5fzlhx/want_the_result_linked_to_the_min_of_a_group_by/
10,[deleted],1480690333,5g3msx,3,2,[deleted],learnSQL,How to remove one record from within a many.,1.0,https://www.reddit.com/r/learnSQL/comments/5g3msx/how_to_remove_one_record_from_within_a_many/
11,labrat84,1480701064,5g4n0z,2,2,"I just got promoted at work and one of the new tasks is going to involve using MS Access and some database management so I am looking for suggestions on low cost options to get my feet wet in the programs and the languages.  I'm hoping to give myself a crash course in the next two weeks before I start so I can at least avoid breaking anything my first day.  

Thank you in advance",learnSQL,New to SQL and database management and just got a job that will involve database work,1.0,https://www.reddit.com/r/learnSQL/comments/5g4n0z/new_to_sql_and_database_management_and_just_got_a/
12,wurthers,1480774860,5g9qwi,3,2,"Hi /r/learnSQL! Sorry if this doesn't belong here. I'm working on a project that uses the mysql nodejs module to create and edit a table. I'm running into an issue on my insert query. Here's the code for the query:

    pool.query(""INSERT INTO workouts(name, reps, weight, date, lbs) VALUES (?)"",
    [req.query.name, req.query.reps, req.query.weight, req.query.date, req.query.lbs], 
    function(err, result){

	   if(err){
	     next(err);
	     return;
	}
  
	//Render the page
       });


I'm trying to send a GET request with the following query string:

    /insert?name=lift&amp;reps=10&amp;weight=20&amp;date=2016-12-02&amp;lbs=1

But keep getting the error I mentioned before. I'm not sure what's causing this, as I've counted a million times, and I have 5 column names to match up with 5 values in the array and the query string. Manually creating the same query by hard-coding the values in the code functions correctly.

I've checked my commas and quotes, tried it with the column names in backticks, and nothing seems to work. I'm sure it's something dumb I'm missing, but I can't for the life of me figure out what.

Any help or ideas would be awesome. Thanks!!",learnSQL,"[BUG / Help] Getting ""ER_WRONG_VALUE_COUNT_ON_ROW"" error on MySQL query",1.0,https://www.reddit.com/r/learnSQL/comments/5g9qwi/bug_help_getting_er_wrong_value_count_on_row/
13,Mr_Uptick,1481009589,5grm9u,1,6,"I Just started learning the fundamentals of SQL via w3schools, and will probably go over a few others such as codeacademy, khanacademy, etc.  
  
Aside from these online courses that typically go over key concepts briefly, are there any good books on SQL that you would recommend? Something that teaches good practice, techniques, models, and just overall more comprehensive and provides a deeper look and understanding of it all?  ",learnSQL,SQL Books that you highly recommend?,1.0,https://www.reddit.com/r/learnSQL/comments/5grm9u/sql_books_that_you_highly_recommend/
14,DevonianAge,1481043221,5gtxvc,1,1,"Hi,

I  have to write a query that buckets three types of events (from three tables) into quarters. Actually, I've already done it, the long, awful way. I am pulling data from each table for a given quarter, unioning it with data from the other two tables for that quarter, and then unioning THAT with the next quarter, etc. This is a mess when it comes to updating the code, of course.

Each table has a different set of rules for what events end up in the final table, and one of them has duration events, i.e. events that start on a given date and should be counted every quarter until an end date field is populated. For this reason, I have been afraid to go with case statements-- I want to make sure I pick up these duration events in multiple quarters instead of just the first one, and I think the case would only catch the first quarter.

Is there an easier way to do this?

",learnSQL,Is a case statement going yo mess me up here?,1.0,https://www.reddit.com/r/learnSQL/comments/5gtxvc/is_a_case_statement_going_yo_mess_me_up_here/
15,mbrych,1481107545,5gz9a4,0,4, ,learnSQL,Five Common SQL Errors,1.0,https://academy.vertabelo.com/blog/sql-mistake/
0,social-hackerearth,1476375914,57b53q,0,1, ,learnSQL,"Test Your SQL skills, Compete with SQL minds from across the world, Unlock new tricks and dive deep into SQL. HackerEarth presents one of its kind SQL Challenge - SQLizer - a 6 hours competitive challenge on SQL.",1.0,https://www.hackerearth.com/the-great-sqlizer-october/?utm_source=reditt&amp;utm_campaign=SQLizer&amp;utm_medium=groups-posting
1,syneofeternity,1476437085,57fia3,0,3,"I used to use SQL Server but I want to install it on a personal laptop (and not have anything open so my computer will be vulnerable. I have SQL Server Developer Edition (I believe 2014). Questions I have are a single standalone installation? Do I need to set any of the usernames correctly? And I have never imported data through APIs or whatever (if there's a different way, let me know, I haven't slept in a day so a little tired).

I'm sure I may have rushed this post so if I need to re-write it please let me know. Thanks!",learnSQL,"Have SQL Server Developer Edition, how do I install a local copy?",1.0,https://www.reddit.com/r/learnSQL/comments/57fia3/have_sql_server_developer_edition_how_do_i/
2,hiddentesla1,1476524366,57ldyu,0,7, ,learnSQL,SQL injection Hacking a website step by step,1.0,http://hiddentesla.com/hack-website-using-sql-injection/
3,nikojanko,1476597286,57q7hb,0,5, ,learnSQL,SQL JOINs,1.0,http://i.imgur.com/6ZblKl5.jpg
4,Jelly_Jim,1476620517,57r6h6,4,8,"Can anybody offer their perspective on the characteristics of SQL as used by business analysts? I see it mentioned in around half of the entry-level BA job adverts, and other than getting the basics right (which I assume is a given for any role using SQL), I'm wondering what BAs might need to know or would find useful to know when using SQL. Are there particular tools that are useful? Is there a particular flavour of SQL that BAs are most likely to come into contact with? What exactly do BAs do with the data returned from their queries? What's helpful to know about SQL as an entry-level BA?

I'm also wondering if there are any real-world exercises out there that simulate the kinds of things a BA might do with SQL. ",learnSQL,SQL for Business Analyst careers,1.0,https://www.reddit.com/r/learnSQL/comments/57r6h6/sql_for_business_analyst_careers/
5,agon88,1476697219,57whxp,0,6,"Anyone have this series of books in digital format, and willing to share? They have good reviews ,and i can't seem to find digi-form nowhere.
Thank You, ",learnSQL,Beginning SQL Joes 2 Pros (Set Of 5 Books),1.0,https://www.reddit.com/r/learnSQL/comments/57whxp/beginning_sql_joes_2_pros_set_of_5_books/
6,DevonianAge,1476748096,580p5y,5,2,"Hi, I have recently run my first SSIS package (yay!), But the resulting data has a very messy address column and I'm not sure how to deal with it.

All records that have this field populated have name, street address, city, state, and zip, like you'd expect.

The problem is, some records have it all smashed together in one long string, some have it broken out (seemingly with tabs or carriage returns), many have state and zip smashed together, some have 5-digit zips and others 9-digit zips, some of those 9-digit zips have hyphens while others don't, etc etc.

How can I use SQL to break the city and zip out of this nonsense?",learnSQL,How to split messy text fields?,1.0,https://www.reddit.com/r/learnSQL/comments/580p5y/how_to_split_messy_text_fields/
7,paparhein,1477337840,596kkc,0,3,"Hey /r/learnSQL - 

Currently learning some new SQL commands, and i'm wondering how scalable you think a query like

    explain select checks.id, (select array_to_json(array_agg(t)) from (select * from check_results where check_id=checks.id order by timestamp desc limit 5) as t) as results from checks where checks.id=1    
    +-------------------------------------------------------------------------------------------------+
    | QUERY PLAN                                                                                      |
    |-------------------------------------------------------------------------------------------------|
    | Seq Scan on checks  (cost=0.00..80.41 rows=1 width=4)                                           |
    |   Filter: (id = 1)                                                                              |
    |   SubPlan 1                                                                                     |
    |     -&gt;  Aggregate  (cost=79.38..79.38 rows=1 width=47)                                          |
    |           -&gt;  Subquery Scan on t  (cost=79.36..79.37 rows=5 width=47)                           |
    |                 -&gt;  Limit  (cost=79.36..79.36 rows=5 width=23)                                  |
    |                       -&gt;  Sort  (cost=79.36..79.76 rows=814 width=23)                           |
    |                             Sort Key: check_results.""timestamp"" DESC                            |
    |                             -&gt;  Seq Scan on check_results  (cost=0.00..76.65 rows=814 width=23) |
    |                                   Filter: (check_id = checks.id)                                |
    +-------------------------------------------------------------------------------------------------+
would be? it looks fairly performant to me, as the where clauses are all fks/indices, but i anticipate a very large data set so small improvements are very important.",learnSQL,Complexity of Subqueries,1.0,https://www.reddit.com/r/learnSQL/comments/596kkc/complexity_of_subqueries/
8,wratuxx,1477420153,59coho,0,6, ,learnSQL,Needed to import dummy CSV data into MySQL so I created this tool,1.0,http://sqlify.io/
9,somedrunken,1477547729,59mh5x,0,2,"So the question I have is I have to name each department name followed by the number of female and male employees. I can get it all to work just for the female. Just want to do the same for the males.


  select Name as DeptName, COUNT(*) as FemalesCount 
   from AdventureWorksDB.HumanResources.Employee as emp
   join      AdventureWorksDB.HumanResources.EmployeeDepartmentHistory   as dept
  on emp.BusinessEntityID = dept.BusinessEntityID
   join AdventureWorksDB.HumanResources.Department as dept2
   on dept.DepartmentID = dept2.DepartmentID
   where Gender = 'F' and EndDate is null
   group by Name
    order by femalesCount desc
 ",learnSQL,Help with a getting one more feild from my query in microsoft adventure db,1.0,https://www.reddit.com/r/learnSQL/comments/59mh5x/help_with_a_getting_one_more_feild_from_my_query/
10,PM_ME_A_WEBSITE_IDEA,1478301161,5b6wli,4,4,"...wanted to see if anyone thought this was a good idea.

So this would be a story based game, fairly humorous as well.  The concept is that you play a SQL developer who's just been hired at some company as their SQL Admin.  The game would involve them asking you to retrieve specific types of data from an actual SQL database, create SQL databases by their request, and construct progressively more difficult queries using actual SQL code and an actual database.  There would be some sort of underlying story line as well to keep the content interesting and comedic.

This is a game I would totally play, does anyone else agree?  Would be a fun tool to practice SQL with, and could definitely be randomized for replayability.  I'm sure there aren't any experienced developers that would bother with it, but for those of us still learning, I think it'd be cool!",learnSQL,Had an idea for a SQL game...,1.0,https://www.reddit.com/r/learnSQL/comments/5b6wli/had_an_idea_for_a_sql_game/
0,bluelime7,1473433129,51xtic,0,1, ,learnSQL,Free SQL Beginners Course,1.0,https://skill-academy.thinkific.com/
1,wispofasoul,1473692368,52eqq1,1,5,"Hi,

I'm interviewing for an analyst role at a big company and a key requirement of the job is SQL. I didn't do that well at the first technical interview, as I got stuck on a question that required doing a self join and aggregation. I'm rusty (~3-4 years)!

The focus of the interview will be on SELECT queries exclusively and I imagine complex joins and subqueries in a repeat of the first interview.

I have 3 days to prepare. Any help or advice you could throw my way would be great help. Links to online paid courses are also okay.

Thanks!",learnSQL,Help - Need crash SQL Refresher course for interview - SELECT/subqueries/joins,1.0,https://www.reddit.com/r/learnSQL/comments/52eqq1/help_need_crash_sql_refresher_course_for/
2,bernkastar,1474162814,53a7rl,0,2,"Hi all,

I am learning SQL and made an SQL file to get familiar with coding using the language on my computer. I'm using Ubuntu which version, according to documentation, automatically has mySQL installed. The file I made includes a simple create table statement and an insert statement.

Whenever I try to open mySQL, I get an authentication error (ERROR 1045 (28000): Access Denied for user 'name@localhost') for both with and without password. Googling around shows that there's many causes and I've tried several things such as resetting mySQL. This page http://stackoverflow.com/questions/10299148/mysql-error-1045-28000-access-denied-for-user-billlocalhost-using-passw may have the solution but I don't quite understand what's going on given my limited knowledge of CS - my experiences are limited to python and its interactions with Linux. 

How can I fix this issue to get access to mySQL and how would I be able to view/work with the table I made in the file once I do? Thanks!",learnSQL,Beginner Question - issue with mySQL,1.0,https://www.reddit.com/r/learnSQL/comments/53a7rl/beginner_question_issue_with_mysql/
3,awditthis,1474337613,53l7aq,2,7,"So I spent some time this weekend doing some super simple research on codeacademy of basic SQL. I get the concepts of how to build a query and see what direction to go with things. But I haven' the slightest idea of what server to download/where to download. And then how I get a data set ""inside of it"" to start manipulating.

If I had to explain what I'd like to do LIW5: I'd like to go to census.gov and take data from there, put it into a SQL place, and do queries.

So.... If anyone out there can translate my naivety into something worthwile, that'd be greatly appreciated.

Also, I'm sure this has likely been answered in another post/area before, so please point me there if it'll save us all some time.",learnSQL,ELI5: Where to Begin?,1.0,https://www.reddit.com/r/learnSQL/comments/53l7aq/eli5_where_to_begin/
4,gearfuze,1474599611,542r2i,0,2,"I am new to maria db and basically sql in general while I understand the core concepts. Rows, Columns, table and databases.
Update, Insert, Select, Drop.

I need to know mariaDB in about a month. So basically I am looking for good guides, videos, tutorials and even exercises. What should I try to learn first? Any help would be much appreciated. ",learnSQL,New to MariaDB in need of help,1.0,https://www.reddit.com/r/learnSQL/comments/542r2i/new_to_mariadb_in_need_of_help/
5,programmingbackup,1474832844,54grbx,1,3,"I've been scraping a lot of data lately and am having a bit of trouble keeping up with it. Originally I was saving the information in a spreadsheet, then moved to a separate JSON file for each product -- neither of these was a good idea so I've been spending the last few hours looking at tutorials and videos on khan academy and feel I have enough information to get started with my own database. [This] (https://github.com/My-kal/SneakerScraper/blob/dev/data/database.py) is what I have so far and [this] (https://github.com/My-kal/SneakerScraper/blob/dev/data/jsonExample.json) is an example of the many JSON files that I have. I know it's bad practice to have such a large table, what would be the best way to split the large table into smaller ones?",learnSQL,SQL Beginner,1.0,https://www.reddit.com/r/learnSQL/comments/54grbx/sql_beginner/
6,plalovsky,1475076450,54wvkx,2,6, ,learnSQL,"Learn SQL Server Intuitively is a complete, hands-on and practical guide to everything you will ever need to know about the basics of Microsoft SQL Server relational database management systems. Fill in this short quiz to get your FREE Learn SQL Server Intuitively eBook",1.0,https://www.surveymonkey.com/r/2DN8D6M
0,MakingWhoopee,1470675788,4wr6ds,1,1,"I know the basics of querying but little else. About to do an interview where they will ask about triggers, are there any basic materials out there?",learnSQL,Anyone know a basic introduction to triggers?,1.0,https://www.reddit.com/r/learnSQL/comments/4wr6ds/anyone_know_a_basic_introduction_to_triggers/
1,interesttech,1471067307,4xhuhj,4,3, ,learnSQL,Which one is better my SQL or ms SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/4xhuhj/which_one_is_better_my_sql_or_ms_sql/
2,[deleted],1471113685,4xkdha,0,2,[deleted],learnSQL,XOR in Oracle,1.0,https://www.reddit.com/r/learnSQL/comments/4xkdha/xor_in_oracle/
3,hunter-nighteyes,1471404898,4y3jmk,1,3,"Hello, I have a join left outer query that takes really long to run, so I am trying to use where exists to make it run faster.

The problem I am facing is I don't know how to get field from other tables.

Im running SQL 2014 Server.


Original example:


&gt; select field1, field2, field3, t2.field4, t3.field5, t4.field6, t5.field7

&gt; from table1

&gt; left outer join table2 on (...)

&gt; left outer join table3 on (...)

&gt; left outer join table4 on (...)

&gt; left outer join table5 on (...)



What I'm trying to do:

&gt; select field1, field2, field3, t2.field4, t3.field5, t4.field6, t5.field7

&gt; from table1

&gt; where exists (select 1 from table2 where ...)

&gt; and exists (select 1 from table3 where ...)

&gt; and exists (select 1 from table4 where ...)

&gt; and exists (select 1 from table5 where ...)


Obviously it won't let me get field from other tables and not sure afterwards.

Many thanks
",learnSQL,How do I select multiple fields from other tables when using Not exists,1.0,https://www.reddit.com/r/learnSQL/comments/4y3jmk/how_do_i_select_multiple_fields_from_other_tables/
4,IdoQL,1471786051,4yuud5,1,5, ,learnSQL,"Introducing Kueri, A Natural Language to SQL interface",1.0,http://kueri.me/download/?ref=redditsql
5,hunter-nighteyes,1471924149,4z4l2e,4,2,"Hi all,

I have a table like this:

    StaffID    Date1            Date2            Date3    
    123         1899-12-30    1899-12-30   1899-12-30
    124         1899-12-30    1899-12-30   1994-10-01
    125         1960-01-30    1899-12-30   1899-12-30
    126         1960-01-30    1899-12-30   1899-12-30

I want to show Staff ID only with 1899-12-30 

(which is system default value) and filter modified dates across all the columns.


For example, only StaffID 123 needs to be shown from the select query, as StaffID 123 do not have modified date in Date 1, 2, 3


Do I need to write CASE? I actually have over 20 date columns.",learnSQL,How do i apply filter on multiple columns?,1.0,https://www.reddit.com/r/learnSQL/comments/4z4l2e/how_do_i_apply_filter_on_multiple_columns/
6,YnotTomorro,1472653648,50hfwc,2,2,"Good day! I am working on learning some SQL and am trying to get the Adventureworks DB on my server through SSH. I found the way to restore it using a .sql file, but not a .bak.

Does anyone know how to accomplish this (or point me in the right direction)? 

I apologize if this is not the right place to ask this. Thanks in advance for any help!",learnSQL,Restore Test DB .bak through SSH?,1.0,https://www.reddit.com/r/learnSQL/comments/50hfwc/restore_test_db_bak_through_ssh/
7,TekTrixter,1472998540,51452h,3,8,"I'm learning SQL and would like to be able to run queries against test DBs (eg Oracle's HR schema) from my Android phone. Mostly this will be just to follow the examples/exercises in the textbook I am using, nothing with more than a few hundred rows of data. Preferably the DB would be on the phone itself, but I could also set it up on my computer (but would need to secure the connection and get a dyn-dns client going - likely more work than needed)

I've seen a few apps that might work (such as [SQL MobileDeveloper](https://play.google.com/store/apps/details?id=org.chernatkin.android.sqldeveloper)), but wanted to know which you think are best. Free is good, but I'm willing to pay for one that is worth it.",learnSQL,Android SQL App?,1.0,https://www.reddit.com/r/learnSQL/comments/51452h/android_sql_app/
0,imnotthomas,1468289878,4seoxo,2,1,"Hi all, I'm really interested in building up my SQL skills. I find notoriously difficult, classics texts help me learn. Is there anything similar to Structure and Interpretation of Computer Programs for SQL or databases? Thanks in advance for any insights!",learnSQL,SICP type book for SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/4seoxo/sicp_type_book_for_sql/
1,steve98989,1469230828,4u5o3g,1,3,"Hi all,

I've recently been given access to the htdocs folder of an external server containing an Firebird SQL database. Before I start the PHP work I essentially need to know the structure of the database (tables/columns). 

All my past experience with SQL revolves around using Apache packages and having everything installed in one place for me, but now I'm kind of stuck. I've tried to just put phpMyAdmin into the folder but I can't get that working.

Hopefully there is an obvious way to achieve this?",learnSQL,Working out the structure of an external SQL database,1.0,https://www.reddit.com/r/learnSQL/comments/4u5o3g/working_out_the_structure_of_an_external_sql/
2,1playerpiano,1469352563,4uciky,4,2,"**TL;DR:** Been through several tutorials on how to use Foreign Keys, still don't understand them. Need them to ""synchronize"" data across tables. Any suggestions for really simple tutorials to get into how to use Foreign Keys and *why* we should use them?

*********

I've been trying to understand foreign keys for a few days now and it's just not sinking in for some reason.

I am building a database (my first, yay!) that contains the following tables:

* members
* personal info
* preferences
* stats

**Members**

    CREATE TABLE roommate_preferences (
    	UserID INT,
    	email VARCHAR(50) NOT NULL,				
    	username VARCHAR(50) NOT NULL,				
    	password CHAR(128) NOT NULL					
    );      


**Personal Info**

    CREATE TABLE roommate_preferences (
    	User_PersonalID INT,
    	FirstName VARCHAR(50),				
        LastName VARCHAR(50),
        Phone INT,
        Location INT				
    );        
  
(It's going to be a ""location"" based site... that's why it's even there in the first place)

**Preferences**

    CREATE TABLE roommate_preferences (
    	User_PersonalID INT,
    	PreferenceType INT NOT NULL,				
    	PreferredVal INT NOT NULL,				
    	Importance INT NOT NULL					
    );        

the stats table is a long and complicated table that I haven't quite worked out how I'm going to put together (mostly because I need to sift through the mock profiles I've made to see what is actually needed), so I have excluded it.

Now, the problem I'm having is one of a lack of understanding... Each one of these tables contains data that the user will need to be able to ``SELECT`` and ``UPDATE`` at some point. Because I need to have the information separated out across several tables, I have been trying to figure out how to uniquely identify the data with a Primary Key, but also make sure that the PK's are the same for each user across every table. 

Then I heard of Foreign Keys. They sounded like the perfect solution, but the problem is I have no idea how to use them, and I've already been through four online tutorials that haven't helped my understanding.
",learnSQL,Good tutorials explaining Foreign Keys?,1.0,https://www.reddit.com/r/learnSQL/comments/4uciky/good_tutorials_explaining_foreign_keys/
0,kwenzel1,1466010560,4o8e15,0,3, ,learnSQL,Introduction to Common Table Expressions (CTEs),1.0,http://www.essentialsql.com/introduction-common-table-expressions-ctes/
1,dubweezie,1466103819,4of19b,3,3,"Hey everyone. So I'm completely new to SQL and over the past couple weeks I have been doing the tutorials on Khan Academy and I decided to download MySQL to get some hands on experience with a popular platform. However, I recently attempted to install MySQL and during the installation I noticed that I need a compatible server to work off of. The dialog box that it displays is completely empty. Here's the question, how do I get/create a compatible server? Sorry if it's a dumb question I'm new to this. If anyone can direct me to some resources I can use to solve this problem I would really appreciate it. ",learnSQL,Newb question - MySQL compatible servers?,1.0,https://www.reddit.com/r/learnSQL/comments/4of19b/newb_question_mysql_compatible_servers/
2,[deleted],1467148774,4qbuxo,0,1,[deleted],learnSQL,Can you help me correct my query?,1.0,https://www.reddit.com/r/learnSQL/comments/4qbuxo/can_you_help_me_correct_my_query/
3,Brogrammer1021,1467346633,4qpvea,2,3,"Graduated college with a bachelors in computer information systems, previously or year or two ago take my SQL class and got an A. Looking to refresh up on the subject matter and potentially apply for a job within this area


ANY ADVICE HELPS",learnSQL,Brush up on SQL language,1.0,https://www.reddit.com/r/learnSQL/comments/4qpvea/brush_up_on_sql_language/
4,desert_walker,1467838510,4rkps6,0,3,"I am trying to install and use Adventure Works 2012 Database, but... I have no idea what I'm doing, and all I can find online is tutorials for 2008 R2 Express and other useless things. I am royally stuck and I really need help.

When I tried to install/use Adventure Works it gave me an error message letting me know that my SQLServer version was 612 (aka. Sql2005sp2) while my database version was 705 (aka. Sql2012 [or something like that]). I uninstalled SQL Server 2005, which was auto-installed with Visual Studios 2008, as one person had suggested to someone else. Now I have been trying to either find the default Instance Name for SQL Server 2014 or make a new one, but all I can find is people asking about the same question I am and being directed to tutorials for 2008 R2 Express... So, yeah.

(FYI: I am working through the Visual Studio 2008 All-In-One Desk Reference for Dummies [since I'm a dummy], and I hit the part of the book that wants me to work with the Adventure Works database.)

Please let me know if there is a different sub-reddit I should be posting this question on.",learnSQL,Please Help: New instance to SQL Server 2014 Express,1.0,https://www.reddit.com/r/learnSQL/comments/4rkps6/please_help_new_instance_to_sql_server_2014/
0,[deleted],1462923566,4is4y2,4,1,[deleted],learnSQL,I need SQL help,1.0,https://www.reddit.com/r/learnSQL/comments/4is4y2/i_need_sql_help/
1,ellarr,1463146334,4j6br5,0,5, ,learnSQL,Blog Post - Select only duplicate records in SQL Server,1.0,http://blog.ellarr.com/sql-server/select-only-duplicate-records-in-sql-server/
2,PillarOfAutumn,1463197888,4j9xj0,2,2,"SQL&gt; CREATE TABLE Appointment  
2 (DateTime DATE PRIMARY KEY DEFAULT SYSDATE,  
3 Duration VARCHAR NOT NULL,  
4 BookedStatus CHAR(1) CHECK (BookedStatus IN ('Y', 'N')),  
5 Comments VARCHAR(30),  
6 VetID INTEGER UNIQUE,  
7 PetID INTEGER UNIQUE,  
8 ClientID INTEGER UNIQUE);    


(DateTime DATE PRIMARY KEY DEFAULT SYSDATE, * ERROR at line 2:
ORA-00907: missing right parenthesis  
I don't understand why its throwing this error on the 2nd line. Any help?",learnSQL,Quick SQL query,1.0,https://www.reddit.com/r/learnSQL/comments/4j9xj0/quick_sql_query/
3,silverwolfer,1463673032,4k33sl,0,4, ,learnSQL,How effective is https://schemaverse.com/ in learning actual sql ?,1.0,https://www.reddit.com/r/learnSQL/comments/4k33sl/how_effective_is_httpsschemaversecom_in_learning/
4,caffeine314,1463750072,4k86co,6,3,"The table ""world"" has two columns:
* name (country name)
* continent

I want to list the continent and name of the country that's alphabetically first in each continent (so South America has Argentina, Asia has Afghanistan, etc).

This was my solution.  Can someone tell me why it's wrong and how I can change my SQL thinking to not make the same mistake again?

    SELECT continent, name FROM world AS x
        WHERE name &lt; ALL (
            SELECT name FROM world AS y
            WHERE y.continent = x.continent
        )

When I'm fiddling with subqueries I usually look at the results of the inside query to help debug the statement.  Here I can't -- I don't know how to debug this because the inside query depends on x.continent, which is defined in the outside query.

How does one debug something like this?",learnSQL,Subquery help,1.0,https://www.reddit.com/r/learnSQL/comments/4k86co/subquery_help/
5,aSilentOtter,1463947661,4kk8f7,2,2,"Hey guys, I just started a job where I will be using Toad for Oracle here and there. I'm not entirely new to SQL, just new to Toad.

I'm trying to pull a list of all payments from the Payments table where the paymentamount is less than the Paid amount stored in the PersonInfo table.

I assume it will be something to the effect of:

SELECT * FROM Payments WHERE Paymentamount &lt; Paid;

Is this in the right neighborhood? The multiple tables is what is causing me confusion. 

Any help is really appreciated.",learnSQL,Quick question (probably simple) - new to TOAD,1.0,https://www.reddit.com/r/learnSQL/comments/4kk8f7/quick_question_probably_simple_new_to_toad/
6,apc0243,1464014903,4koa9b,2,7,"I had to learn to write SQL queries for work when we moved from MS Access to Oracle SQLDeveloper. That was about 3 years ago, and now I can write a query like a pro (I think) involving many inner/outer joins (implicit or explicit) and subqueries. 

I feel like I can get almost any report I want, but I haven't felt like I've improved in a while. I don't use cursors or any stored procedures. I know a tiny bit of PLSQL but I mostly use python with a DB connection if I need to do anything where the PL aspect would come in.

Permissions wise, I can create tables in my own tablespace off of our agencies tables, but I was told not to create indexes. I have used views a few times but their performance is always so bad that I just create tables since space is pretty freely available (though I have ran into a few rejections when I try to do something big).

I don't mind taking a class, or teaching myself, but I just don't know where to look. I feel like I should learn a bit more about the transaction system and then I'd like to learn to do more things in iterative chunks. 

I one time tried to delete 1.4m rows from a table with 20m rows and management got very mad at me - I didn't know how to make that process more computationally manageable, so I ended up just creating a new table as a select statement that excluded those 1.4m rows. (NOTE: I have read/query access on about 200 tables and I have my own tablespace to create temp tables and the such)

Is it worth it to learn anything else? Should I just stay at the query level and focus on using that elsewhere like in python for my analyses and things? Does anyone have a suggestion about resources to improve? Thanks!

",learnSQL,"I write SQL for work almost all day, but I feel like I haven't learned anything in years",1.0,https://www.reddit.com/r/learnSQL/comments/4koa9b/i_write_sql_for_work_almost_all_day_but_i_feel/
7,evglabs,1464022970,4koyb1,12,3,"Hey all, I'm making a game in C# that will have preferably around 2-3 thousand sectors (with planets) and am looking into using a database for it. My only experience with databases is Microsoft Access (just using the program, no external use). So I don't really know what to ask, but is SQL what I should be looking at?

Sorry if this is too basic a question, I just haven't been able to find anything definitive.

Thanks.",learnSQL,"I'm making a 4Xish game, and I could use some advice if I should use SQL(ite)",1.0,https://www.reddit.com/r/learnSQL/comments/4koyb1/im_making_a_4xish_game_and_i_could_use_some/
8,eddiekoski,1464201103,4l14hv,2,3,I am talking about actually storing files in the cells of the database not the path to a file. Is this going to overwhelm the database server?,learnSQL,Question: Is it bad to have a database just for storing files.,1.0,https://www.reddit.com/r/learnSQL/comments/4l14hv/question_is_it_bad_to_have_a_database_just_for/
9,n_facts,1464206681,4l1l89,0,3,"Hello, 

I am starting to learn sqlite using Python, which I think I have intermediate skills. I tried to learn through online and website, but it seems that I learned better with hard copy book or at least systematic book that gives me idea of what I am doing. 
Can anyone recommend some books, taking into account I am an intermediate python skill. 

Thank you in advance",learnSQL,Recommended book for learning sqlite,1.0,https://www.reddit.com/r/learnSQL/comments/4l1l89/recommended_book_for_learning_sqlite/
10,camm_v222,1464474719,4lhvjc,4,3,"Hello everyone,
I'd like to know if the DBMS can use the same index created from a primary key in a table A for a table B that has a foreign key to the first table. For instance:


    CREATE TABLE A (
    id_a INTEGER NOT NULL,
    valueA INTEGER,
    CONSTRAINT pk PRIMARY KEY (id_a)
    );

    CREATE TABLE B (
    id_b INTEGER NOT NULL,
    valueB INTEGER,
    id_to_a INTEGER NOT NULL,
    CONSTRAINT pk PRIMARY KEY (id_b),
    CONSTRAINT fk FOREIGN KEY (id_to_a)
    REFERENCES A(id_a) 
    );



As far as I know, the DBMS creates an index for the primary key (in this case id_a and id_b), so I'd like to know if the DBMS can use the same index for the foreign key (in this case id_to_a) in the table B.

I hope you can help me to answer my question.
Thanks in advance.",learnSQL,[Question] Doubt about indexes on primary and foreign key,1.0,https://www.reddit.com/r/learnSQL/comments/4lhvjc/question_doubt_about_indexes_on_primary_and/
11,[deleted],1465005985,4mgans,0,1,[deleted],learnSQL,Help with SQL call with PHP,1.0,https://www.reddit.com/r/learnSQL/comments/4mgans/help_with_sql_call_with_php/
12,SupremeDesigner,1465036086,4mhrt3,0,2,"Hey guys,

So I know this a great sub for all things programming related, but I thought I'd just pop in and mention our new sub /r/CodingHelp

Over the last few days we have revived it and now have over 1000 subscribers already! Please come and check it out if you want some free, friendly and easy to understand coding help!

&amp;nbsp;

^(*Mods, if this isn't allowed, sorry, please remove it*)",learnSQL,Basic Friendly Coding Help /r/CodingHelp,1.0,https://www.reddit.com/r/learnSQL/comments/4mhrt3/basic_friendly_coding_help_rcodinghelp/
13,crimeaguy,1465271280,4mx5nu,5,3,"I'm doing project where I have a table which has `hash` and `timestamp` columns. Can you guys tell me how to delete all the rows which are `hash` duplicates, leaving the ones with oldest `timestamp` record if it's possible?

I found a similar question on [stack](http://stackoverflow.com/questions/13927890/duplicate-entries-with-different-timestamp) and I tried to adopt the given snippet to my needs, but I got an error in sqlite
`near ""shop_bogus"": syntax error:`

My adopted snippet:

    DELETE  shop_bogus
    FROM    shop_bogus b
    JOIN    (
        SELECT  MIN(a.timestamp) timestamp,
                hash
        FROM    shop_bogus a
        GROUP   BY a.hash
    ) c ON
        c.hash = b.hash
    AND c.timestamp &lt;&gt; b.timestamp",learnSQL,Need help with building query,1.0,https://www.reddit.com/r/learnSQL/comments/4mx5nu/need_help_with_building_query/
14,ellarr,1465282445,4mxsh0,0,1, ,learnSQL,Youtube Video Post - What are the advantages or benefits of Stored Procedures in SQL Server,1.0,https://www.youtube.com/watch?v=YOPTkxJNzdQ&amp;feature=youtu.be
15,harvestnoony,1465294039,4mybmc,2,8,"Like indicated in the title, does anyone have any sql  tests (beginner, intermediate, and advance) they use in interviews? You can send or link to me (I'll pm you my email). My boyfriend wants to learn sql and he wants to know what type of things he should be studying.

Thank you in advance to anyone who replies :)",learnSQL,Mock Tests for SQL Beginners?,1.0,https://www.reddit.com/r/learnSQL/comments/4mybmc/mock_tests_for_sql_beginners/
16,iReorg,1465294864,4mycu9,0,1, ,learnSQL,Oracle SQL Development Course For Beginners - free,1.0,https://www.udemy.com/sql-development-for-beginners/?couponCode=ireorg
0,awkwardwhistle,1460595236,4eoooz,0,4,"Hey guys, I'm looking for some database projects to work on to keep my skills up. Something like r/dailyprogrammer, but for databases. ",learnSQL,SQL Projects?,1.0,https://www.reddit.com/r/learnSQL/comments/4eoooz/sql_projects/
1,001000100010,1460751719,4eymhn,3,3,"I have two tables here. they are structured as follows:

    Property
    PROP_ID|PROP_ADDRESS|PROP_UNIT|LAND_ID|PROP_RENT|PROP_DEPOSIT|

    Rental
    PROP_ID|TENANT_ID|RENT_AMT|RENT_BEGIN_DATE|RENT_END_DATE|RENT_DEPOSIT

I need to display the Landlord ID, Property ID, Property Address, and (this is the part that is tripping me up) **The number of times that the property has been rented out.**

I know that counting how many times a specific property ID appears in the Rental table that that will give me my answer. But I'm just not quite sure how to implement that in SQL.

Here is what I have tried:

    SELECT p.LAND_ID, p.PROP_ID, p.PROP_ADDRESS, 
	count(p.Prop_ID = Rental.Prop_ID) AS TIMES_RENTED
    FROM Property as p, Rental as r;

but that's not right at all apparently. Any help would be greatly appreciated.
    ",learnSQL,How would one count how many times something appears in a table?,1.0,https://www.reddit.com/r/learnSQL/comments/4eymhn/how_would_one_count_how_many_times_something/
2,001000100010,1460813300,4f1w4h,3,3,"I'm not quite grasping what inner, outer, left, and right mean. Can someone please explain like I'm five.",learnSQL,ELI5: the differed types of joins and how to use them.,1.0,https://www.reddit.com/r/learnSQL/comments/4f1w4h/eli5_the_differed_types_of_joins_and_how_to_use/
3,[deleted],1460914747,4f7koa,0,1,[deleted],learnSQL,Relational algebra question,1.0,https://www.reddit.com/r/learnSQL/comments/4f7koa/relational_algebra_question/
4,pewpew_pewpew_pew,1461089750,4fixqn,2,4,"I'm a bit confused on this lesson, as it doesn't mention INNER/OUTER join until after the lesson and you mis-type the example they tell you to use.


Can someone, in lamen's terms, tell me how INNER and OUTER joins work?


My understanding is that an INNER join is one that looks at all data given and combines the 2 tables in a way that shows only data that is related. Is that correct?


So, in this example question the command is:

SELECT * FROM albums INNER JOIN artists ON albums.artist_id = artists.id;


In this case it is taking attributes from albums, joining it to artists and then relating album.artists_id to artists.id - This in turn should return a table query/table that lists:


id/(album)name/year/(artist)name


Correct??


The lesson returns everything.... id/(album)name/artist_id/year/id/(artist)name.
Why is it including everything if it should only be returning those with relation??",learnSQL,SQL Codecademy lesson help. Please?!?,1.0,https://www.reddit.com/r/learnSQL/comments/4fixqn/sql_codecademy_lesson_help_please/
5,[deleted],1461181195,4fp4ty,0,7,[deleted],learnSQL,"Is there a site, similar to the Codecademy site, that continually tests you with something (i.e., a particular SQL query) so you can embed it in your brain?",1.0,https://www.reddit.com/r/learnSQL/comments/4fp4ty/is_there_a_site_similar_to_the_codecademy_site/
6,LHMark,1461260373,4fu4ly,3,3, ,learnSQL,"Cannot get through part 1 of this Khan Academy ""The Wordiest Author"" challenge:",1.0,https://www.khanacademy.org/computing/computer-programming/sql/more-advanced-sql-queries/p/challenge-the-wordiest-author
7,001000100010,1461347105,4fzl91,3,2,"I have to recreate [this database](www.imgur.com/6FY6Iv8) and run queries on it. And I know *how* to create it, But my confusion is this. Would one create the tables, populate the tables, and *then* assign the primary keys and what not? or should I assign primary and foreign keys as I create the tables and then populate it. ",learnSQL,what is the best way to create and fill multiple tables primary keys?,1.0,https://www.reddit.com/r/learnSQL/comments/4fzl91/what_is_the_best_way_to_create_and_fill_multiple/
8,aua101,1461799734,4gr8uc,7,3,"Like the title says, I got an internship for the coming Summer and I need to learn ""DB2 SQL"" in two weeks. I am in my freshmen year of college and I have take an intro Computer Science course (C++/MATLAB) but don't have any experience past that. I hadn't heard anything about SQL other than the fact it is used for managing databases.

My supervisor says select statements, sub-selects, and methods to join data are key. 

Do you guys have any advice for where to start learning the basics? Also, could someone explain the differences between the various ""types"" of SQL? I'm not sure if types is the right word but my supervisor specified DB2 and some of my friends have mentioned names suggesting to me there is more to SQL than just ""SQL.""

I'm already planning on looking on youtube, Code Academy, and Khan Academy but if there are resources anybody here knows that would be better than what I have in mind, I'd appreciate the help.",learnSQL,I got an internship for the Summer and now I have to learn SQL in the next two weeks. Any advice?,1.0,https://www.reddit.com/r/learnSQL/comments/4gr8uc/i_got_an_internship_for_the_summer_and_now_i_have/
9,eCommerce_2015,1462029056,4h4shv,0,1,"Is there any good reason to ever use any other datatype other than integer or decimal for accounting?  

I am building an accounting software that measures quantity of units and value of said inventory using PostgreSQL.  It seems to me that adding types will just get confusing and won't add value  


EDIT: PGSQL supports the ""money"" datatype.  Is this better than Decimal (18,2) in any way?",learnSQL,Datatypes for accounting,1.0,https://www.reddit.com/r/learnSQL/comments/4h4shv/datatypes_for_accounting/
10,PontyMython85,1462049369,4h64zh,2,3,"Say I have one column with an account number and the other with a dollar amount:

Acct     $Amnt
400       100
401       100
400       200
402       50

How would I get a table with:
400      300
401      100
402      50

",learnSQL,Need help getting sum of deposits for unique values.,1.0,https://www.reddit.com/r/learnSQL/comments/4h64zh/need_help_getting_sum_of_deposits_for_unique/
11,PontyMython85,1462298980,4hox4r,4,3,"I have two tables:  one is for deposits, the other is for reversals.  I need to get a net amount for each account that is in the deposits table.  Right now my code looks something like this:

SELECT Deposits.[Account], Sum(Deposits.[Deposited Amount]) - Sum(Reversals.[Amount]) AS 'Net Amount'
FROM Deposits LEFT JOIN Reversals On Deposits.[Deposit ID] = Reversals.[Deposit ID]
GROUP BY Fulfillment.[Account]

The problem is that accounts that don't have a reversal don't show up.  I'm guessing it's because they have a NULL value instead of a zero, so there is nothing to subtract.  So how do I get the deposits that were not reversed to have a value?",learnSQL,Need to combine two tables to get Net table,1.0,https://www.reddit.com/r/learnSQL/comments/4hox4r/need_to_combine_two_tables_to_get_net_table/
12,ebwaked,1462460661,4i0ab5,1,3,"Heres what I am trying after my research on google and stack overflow (And reddit!) but I am getting an error message 102 saying there is incorrect syntax near 'DROP'

Code:

use [Database]  
GO  
DENY DROP TABLE TO [User]  
GO  ",learnSQL,Need to Deny a user from being able to drop any table in a database (but still be able to delete rows),1.0,https://www.reddit.com/r/learnSQL/comments/4i0ab5/need_to_deny_a_user_from_being_able_to_drop_any/
13,integralvoid,1462468392,4i0vu5,0,2,"I've been trying to search for it online, but the pages I found didn't seem to relate to entities, or if it did, it didn't seem to relate to SQL. ",learnSQL,What's the difference between a dynamic entity and a static entity?,1.0,https://www.reddit.com/r/learnSQL/comments/4i0vu5/whats_the_difference_between_a_dynamic_entity_and/
14,kivzh7,1462472655,4i1888,2,2,"Hi all, i'm learning SQL from Mode, and I see a puzzling difference when calculating interval.

When filtering a table with 


    WHERE acquisitions.acquired_at_cleaned &lt;= 
         companies.founded_at_clean::timestamp + INTERVAL '3 years'


This row appears 


    acquired_at_cleaned | founded_at_clean | interval
    2012-09-17          |    2009-10-01    |  1082 days


while when I use 


    WHERE acquisitions.acquired_at_cleaned - 
         companies.founded_at_clean::timestamp &lt;= INTERVAL '3 years'

it doesnt. can anyone explain? thanks


  ",learnSQL,A puzzling difference when calculating interval,1.0,https://www.reddit.com/r/learnSQL/comments/4i1888/a_puzzling_difference_when_calculating_interval/
0,ellarr,1457789556,4a3u04,0,3, ,learnSQL,How to reuse identity value after deleting rows in SQL Server.,1.0,http://blog.ellarr.com/sql-server/how-to-reuse-identity-value-after-deleting-rows-in-sql-server/
1,DevonianAge,1457891344,4a9721,3,3,"I have not been able to figure out the very last question in the self-join drill on SQLZOO: http://sqlzoo.net/wiki/Self_join.

Here it is:
&gt; Find the routes involving two buses that can go from Craiglockhart to Sighthill.
Show the bus no. and company for the first bus, the name of the stop for the transfer,
and the bus no. and company for the second bus.

And here are the tables and columns:

&gt; stops: id, name

&gt;route: num, company, pos, stop

&gt; stops.id = route.stop


I feel like I have tried more than one approach that should have been successful. All have involved multiple nested subqueries, at least 3 layers deep. I confess I've now deleted my code in frustration, but if it's helpful, I can rebuild my approaches for critique sometime later today. But for now, has anyone here been able to solve this question?

My main issue has been that it doesn't seem to recognize columns with an alias from inside a subquery. But this can't be right-- people use the main SELECT to call columns from queries nested 3 deep all the time...right?",learnSQL,Help with the last question on SQLZOO?,1.0,https://www.reddit.com/r/learnSQL/comments/4a9721/help_with_the_last_question_on_sqlzoo/
2,[deleted],1457902748,4a9zo8,3,3,[deleted],learnSQL,How can I run SQL queries locally without the need for a server?,1.0,https://www.reddit.com/r/learnSQL/comments/4a9zo8/how_can_i_run_sql_queries_locally_without_the/
3,kwenzel1,1458124570,4an5wy,1,3, ,learnSQL,Get Ready to Learn SQLServer: 18. How to use the EXCEPT operator,1.0,http://www.essentialsql.com/get-ready-to-learn-sqlserver-18-how-to-use-the-except-operator/
4,piterpolk,1458239676,4augn2,0,5,"Today, [Vertabelo Academy](https://academy.vertabelo.com/) released a brand new SQL course [**""Creating Tables in SQL""**](https://academy.vertabelo.com/course/creating-tables-in-sql). This is a self-paced online course that is completely free for everyone. It includes 177 interactive exercises and a final quiz. ",learnSQL,"New free &amp; interactive SQL course: ""Creating Tables in SQL""",1.0,https://www.reddit.com/r/learnSQL/comments/4augn2/new_free_interactive_sql_course_creating_tables/
5,shinerai,1458255326,4avla5,5,2,"Is there a site or tutorial/course that would help me learn how to write SQL queries exclusively? I don't need to learn much, just how to ask the database to return a certain set of info to me depending on what specific stuff I need to look for. Creating the databases and all that is managed by someone else. 

I'd like to learn how to write queries and fetch the data myself so I don't have to bug the Sys Admin to write me a new query every time I have an idea. 

Sorry if the question is vague, if you need more specifics please feel free to ask but I do have an NDA so I may not be able to get into details. :) Thanks!",learnSQL,Recommendations for learning to write only SQL queries?,1.0,https://www.reddit.com/r/learnSQL/comments/4avla5/recommendations_for_learning_to_write_only_sql/
6,Mopstrr,1458371232,4b27il,2,2,Would anyone mind having a quick look at this? http://imgur.com/a/HwaN0 It took me a couple of hours but it seems like the kind of thing someone with a bit of SQL knowledge would finish in minutes. Just wanted to check I'm on the right track before I send it in.,learnSQL,Would anyone mind checking my SQL homework?,1.0,https://www.reddit.com/r/learnSQL/comments/4b27il/would_anyone_mind_checking_my_sql_homework/
7,madboy1995,1458486085,4b7u98,0,6,"Hey guys, 

So I made a really simple demonstration of exploiting a local `SQLite` database using `tkinter` in `python` when insecure coding conventions

Thought I would share it with you guys

***

- Github link: [https://github.com/prodicus/thanos](https://github.com/prodicus/thanos)
- screenshots: 
  - SQL injection: http://i.imgur.com/qlzSCuP.jpg
  - mitigated threat: http://i.imgur.com/42YhmpU.jpg",learnSQL,SQL Injection demonstration on a local sqlite database,1.0,https://www.reddit.com/r/learnSQL/comments/4b7u98/sql_injection_demonstration_on_a_local_sqlite/
8,boldequity,1458737294,4bmb6b,3,4,"How long would it take, years? Need formal education?",learnSQL,"It's one thing to learn how to query a database, but what is the path to becoming a SQL expert and transition that into a career?",1.0,https://www.reddit.com/r/learnSQL/comments/4bmb6b/its_one_thing_to_learn_how_to_query_a_database/
9,kwenzel1,1458815431,4br1cz,0,6, ,learnSQL,Using Subqueries in the HAVING Clause,1.0,http://www.essentialsql.com/get-ready-to-learn-sql-server-23-using-subqueries-in-the-having-clause/
10,wowzers247,1458923304,4bx6bi,5,3,"For example, I want to select only the names that have visited both Paris AND London (John and Jane)

name | place | 
---|---|
john| london| 
james| paris|
alice | new york |
jane | paris| 
john| paris| 
jane| london| 
alice| london|

Here's what I did to no avail:

    SELECT name FROM data WHERE (place=""paris"" and place=""london"")


Why do I get zero results? Thanks.",learnSQL,How do I perform a query where a value satifisies two or more criteria?,1.0,https://www.reddit.com/r/learnSQL/comments/4bx6bi/how_do_i_perform_a_query_where_a_value_satifisies/
11,ellarr,1459081785,4c5e7u,0,6, ,learnSQL,How to view the structure of a table in SQL Server and create your own shortcuts in SSMS,1.0,https://youtu.be/rT0592vPjRE
12,Fruitbisqit,1459695056,4d6edt,3,3, ,learnSQL,"Why is there a subquerry instead of just AND C.Vakcode=""OECER""? (homework question, more info in comments)",1.0,https://gyazo.com/e92e20afeb89411776d0db3ab1c80d71
13,deltadal,1459880271,4dhpxo,3,5,"Hello,  

I am working on updating several stored procedures and hit a bit of a brick wall in my knowledge and google-fu.  

I have been provided an updated database by a vendor as part of an application upgrade. The old database stored specification info I need in one table - handy for what the last person in this role developed. The new upgraded database spreads that data across at last count almost 30 tables. And new tables  could be created at any time if a new item type is added.

So now to get the info I need to query each one of those tables. thankfully they follow a standard name convention spec_[item type]_data.  

I'm looking for a strategy to accomplish this without murdering system performance. 

I've looked at cursors, while...loops (though not real close), I could hard code the queries, but then I would have to update the SP every time somebody added a new item type.  I considered updating the single table as needed with data from the new tables, but I still need to figure out how to grab from an unknown number of tables with unknown names. 

If I know an item within an item type I can get the spec data I want no problem. Since I'm grabbing data that isn't attached to a particular item I'm lost. 

Any thoughts or suggestions? 

Thank you in advance.",learnSQL,Querying data from an unknown number of tables with unknown table names.,1.0,https://www.reddit.com/r/learnSQL/comments/4dhpxo/querying_data_from_an_unknown_number_of_tables/
14,IwNnarock,1460008891,4dpszh,2,3,"Hello,

I've recently started working with SQL and came across a StackOverflow question that directly answers a question of my own.  See the second answer by axiac [here](http://stackoverflow.com/questions/12102200/get-records-with-max-value-for-each-group-of-grouped-sql-results).

Specifically, the question is: How to get the largest value for in a group, for a set of groups.  The example data from the StackOverflow post is a table as follows...

    Person | Group | Age
    ---
    Bob  | 1     | 32  
    Jill | 1     | 34  
    Shawn| 1     | 42  
    Jake | 2     | 29  
    Paul | 2     | 36  
    Laura| 2     | 39  

The desired result is...

    Shawn | 1     | 42    
    Laura | 2     | 39  

The proposed answer is as follows...

    SELECT o.*
    FROM `Persons` o                    # 'o' from 'oldest person in group'
      LEFT JOIN `Persons` b             # 'b' from 'bigger age'
          ON o.Group = b.Group AND o.Age &lt; b.Age
    WHERE b.Age is NULL                 # bigger age not found

I understand the general logic of what the query is doing, however I don't understand what 'o' and 'b' are.  Is 'o' supposed to represent the original table and 'b' a temporary table that is generated prior to the code shown in the query?

Also, I'm thrown off by 'Persons'.  Is this a typo and meant to refer to the column 'Person'?

Thanks for your help.  As you can see, I'm still in the process of learning the basics.",learnSQL,Understanding a StackOverflow solution,1.0,https://www.reddit.com/r/learnSQL/comments/4dpszh/understanding_a_stackoverflow_solution/
15,Nande517,1460050650,4ds60g,0,1, ,learnSQL,"Great deal, if you are looking for a great coding boot camp for SQL",1.0,https://www.udemy.com/the-complete-sql-bootcamp/?couponCode=LEARNSQL&amp;utm_content=promo&amp;utm_campaign=2016-04-06&amp;utm_source=email-sendgrid&amp;utm_term=9685726&amp;utm_medium=567828
16,sql_Helpme,1460151378,4dyjlh,3,3,"I have this problem on my assignment that goes like this...

The supplier ID and company name and number of items supplied by that supplier for each supplier.Place the list in alphabetical order by company name.

This is what i've tried...

SELECT s.SupplierID, s.CompanyName, count(SupplierID) as numSupplied
From Suppliers s
ORDER BY s.CompanyName;

and this is the error I get

Column 'Suppliers.SupplierID' is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause.

I'm not asking for someone to do my homework for me, I just need a nudge in the right direction. Can someone please help me?
",learnSQL,Can you nudge me in the right direction?,1.0,https://www.reddit.com/r/learnSQL/comments/4dyjlh/can_you_nudge_me_in_the_right_direction/
0,greenandgold52,1455316774,45hb4t,0,3,There are plenty of places that teach you the basics of SQL but I am having difficulty finding some where to teach me about SSIS and SSAS. I currently work with SSRS and want to learn the rest of the stack.,learnSQL,Best place to learn the MS BI Stack.,1.0,https://www.reddit.com/r/learnSQL/comments/45hb4t/best_place_to_learn_the_ms_bi_stack/
1,MaraudingMastodon,1455636021,462ved,2,4,"Hi, all,

Got a bunch of email addresses in table ContactMethod, column ContactMethodValue, that need correcting en masse.

The issue is : they all have a trailing question mark.

Example : MaraudingMastodon@yourdumbemail.com?

Is this a job for STUFF or REPLACE or neither?",learnSQL,Removing same trailing character from the same column in multiple rows,1.0,https://www.reddit.com/r/learnSQL/comments/462ved/removing_same_trailing_character_from_the_same/
2,clutchpowers243,1455806684,46f1gx,11,4,"I was recently offered a position at my job as a Database Administrator. I jumped at the opportunity, and accepted the position without truly knowing what my responsiblities would be. Without getting into too much detail, the position needed to be filled rather quickly, and they scrambled to find me, a lower employee with an interest in computers, currently pursuing a degree in IT. Keep in mind, however, I'm just getting started on that degree. 

As most of you probably know, Database Administrators rarely get hired without a degree or some kind of relevant experience. The problem is, that those in charge of hiring for this position have no kind of computer science background and thus have no real grasp of the actual job responsibilities, and cannot differentiate good candidates from bad ones. In hindsight, I think the goal was to promote from within, rather than search outside for whatever reason. 

The person who I replaced in this position was with the company for decades. With the help of another employee who has since retired, she created our entire database. I was given 4 days to sit and train with her, and thrown into the position the following week. The process was unorganized, rushed, and messy. However, I accepted, and I'm trying to make the best of it.

I have taken a couple SQL classes that have been provided by my job, since I am not at that level yet in school. So I know SQL basics, but all the training I have received has done nothing to help me familiarize myself with the database I actually need to work on. 

I guess what I'm asking is if anyone has ever been in a position where they had to take over a database that they had no hand in creating? How did you manage to familiarize yourself with it? How long did it take you to understand what tables and views contained what information and so forth? Is it even possible with a database that has over 500 tables and views? Also, if anone has any SQL training references that I could access, I would be greatly appreciative. I have attempted some online training modules, but none that seem to go as in depth as I need. I realize that that probably has a lot to do with the fact that it's not my database that I'm training on, but I'll take as many training courses as I can get my hands on because I'm getting to a point where I'm going to need to be delivering reports upon request and the idea of creating one from scratch is almost foreign to me.

Thanks in advance for ANY input. 

edit: spelling, grammar",learnSQL,I may be in over my head..,1.0,https://www.reddit.com/r/learnSQL/comments/46f1gx/i_may_be_in_over_my_head/
3,gundamSquash,1456351010,47f912,1,4,"Hi All,

I have been a financial/data analyst for the past two years and always had the desire to become a sql developer. I know the basics and used multiple free online sql classes before. So, I was wondering if anybody has any advice on how to get my foot in the door. Should I go out and get a sql certification? Sorry in advance if this question isn't suited for this subreddit.",learnSQL,Getting my foot in the door to sql developer position?,1.0,https://www.reddit.com/r/learnSQL/comments/47f912/getting_my_foot_in_the_door_to_sql_developer/
4,iwillnotgetaddicted,1456422005,47k4jt,10,3,"This is a class I am taking for NO CREDIT on my own time.

The database is [here](https://lagunita.stanford.edu/c4x/Engineering/db/asset/socialdata.html).

The question: Find the names of all students who are friends with someone named Gabriel. 

My solution:


select distinct name
from Highschooler
where ID in
(
select ID1
from Friend
where Friend.ID2 in 
(
select ID
from Highschooler
where name = ""Gabriel"")

union

select ID2
from Friend
where Friend.ID1 in 
(
select ID
from Highschooler
where name = ""Gabriel""
)
)

Okay, I know I could assign the result of 

""select ID
from Highschooler
where name = ""Gabriel""""

To a variable name.

But what I'm wondering about is whether there's just a better approach in general.

Any thoughts? Thanks!
",learnSQL,There must be a better way... can you improve my (technically correct) SQL query?,1.0,https://www.reddit.com/r/learnSQL/comments/47k4jt/there_must_be_a_better_way_can_you_improve_my/
5,kwenzel1,1456485353,47ol46,0,4, ,learnSQL,Learn SQL - Introduction to Subqueries,1.0,http://www.essentialsql.com/get-ready-to-learn-sql-server-19-introduction-to-sub-queries/
6,iwillnotgetaddicted,1456606688,47xysd,4,4,"I hit a stumbling block the other day, and I'm not sure if it stems from a lack of understanding of concepts, a restriction of one SQL implementation, or some other error.

My understanding is that you can define a subquery in the ""from"" field, and use that subquery elsewhere in your formulation... for example:

    select*
    from (subquery) sq, otherrelation
    where sq.ID = otherrelation.ID

This works, and I have no problems with it.

However, if I try to do this:

    select*
    from (subquery) sq, otherrelation
    where otherrelation.ID not in sq

I get an error saying that relation sq doesn't exist.

What gives? I'm working on with MySQL. I would be fine with a link to a source that explains this, as my Google-fu has failed me here. 

(By the way, I realize that the obvious workaround is

    select*
    from otherrelation
    where otherrelation.ID not in (subquery)

but my question is not about getting the query to work, but rather, understanding why it doesn't.)

Thanks in advance!",learnSQL,"What is the scope/use of a subquery in the ""from"" field?",1.0,https://www.reddit.com/r/learnSQL/comments/47xysd/what_is_the_scopeuse_of_a_subquery_in_the_from/
7,kwenzel1,1456832248,48fuld,0,3, ,learnSQL,How do I combine results from more than one table?,1.0,http://www.essentialsql.com/how-do-i-combine-results-from-more-than-one-table/
8,element121_com,1457189749,492ol6,2,3, ,learnSQL,How to join the same table three times in a single SQL query statement?,1.0,http://element121.com/2016/02/02/how-to-join-the-same-table-three-times-in-a-single-sql-query-statement/
0,kwenzel1,1452511113,40gdjx,0,3, ,learnSQL,Introduction to SQL Server’s Mathematical Functions,1.0,http://www.essentialsql.com/introduction-to-sql-servers-mathematical-functions/
1,kwenzel1,1452513514,40ghfa,2,1, ,learnSQL,What is the Difference between a Primary Key and a Foreign Key?,1.0,http://www.essentialsql.com/what-is-the-difference-between-a-primary-key-and-a-foreign-key/
2,MrWutsson,1452937404,417qg7,2,2,"I need advice on whether this query is correct (Learning my way around T-SQL). The query I came up with produces correct results, however, something in me tells me that there is a better way of doing it.

I've a database with several tables. In this case I'm interested in 2 tables. Track and Genre.
What I want to do is to count the amount of tracks in each genre and show only genres with more than 100 tracks.

This is the query:

    SELECT Genre.Name AS GenreName, COUNT(Track.TrackId) as NrOfTracks
    FROM Genre INNER JOIN Track ON Genre.GenreId = Track.GenreId
    GROUP BY Genre.Name
    HAVING COUNT(Track.TrackId) &gt; 100
    ORDER BY NrOfTracks DESC;


The reason I'm doubtful is because I call COUNT function twice in the same query on the same column. This seems very inefficient to me.",learnSQL,Need advice on this query (T-SQL).,1.0,https://www.reddit.com/r/learnSQL/comments/417qg7/need_advice_on_this_query_tsql/
3,kwenzel1,1453201021,41o3nh,0,3, ,learnSQL,Using Conditional Logic in SQL with CASE Expression,1.0,http://www.essentialsql.com/using-conditional-logic-in-sql-with-case-expression/
4,HarshitSharma06,1453363928,41z0q2,3,3, ,learnSQL,How to answer Top 50 SQL Developer Interview Questions?,1.0,https://intellipaat.com/interview-question/sql-interview-questions/
5,element121_com,1453679748,42ii3b,0,2, ,learnSQL,When do you need to use back ticks with MySQL?,1.0,http://element121.com/2016/01/24/when-do-you-need-to-use-back-ticks-with-mysql/
6,kwenzel1,1453805715,42r0cs,0,2, ,learnSQL,What is the Differenence between TOP and OFFSET &amp; Fetch?,1.0,http://www.essentialsql.com/what-is-the-differenence-between-top-and-offset-fetch/
7,kwenzel1,1453805982,42r0ph,2,0, ,learnSQL,What is a Data Dictionary?,1.0,http://www.essentialsql.com/what-is-a-data-dictionary/
8,jmctag,1453974744,432ntt,0,3, ,learnSQL,Another useful Venn diagram to help understand joins.,1.0,http://blog.codinghorror.com/a-visual-explanation-of-sql-joins/
9,Jpsmee,1454080260,4395wm,0,2,"Some background on my environment:
I've got a variable (yes, the number does change from day to day) number of databases on my server, all of which (not counting the system dbs, such as master, etc.) contain the same table structure (and similar, but not identical data). I'm running MS SQL 2012.

I've been tasked with getting a count of profiles that meet a certain set of criteria from each db, along with the db that they are in. 

I've already got my query set for one db, and it works great at giving me the count I need. What I *don't* know how to do is to have a script fetch data across all non-system databases and both apply my already written SQL *and* pull in the db name. I'm all but certain this requires the creation of an sproc (something I've not yet done, but am willing and eager to learn) and/or use a cursor (again, not yet done, but am eager to learn). 

I've done some research, and have convinced myself that I want to stay away from sp_MSForEachDB, as it's apparently not 100% reliable, and it's possible that it's usability will go away with time.

Thoughts?",learnSQL,"Query against all DBs on a server, with a twist",1.0,https://www.reddit.com/r/learnSQL/comments/4395wm/query_against_all_dbs_on_a_server_with_a_twist/
10,element121_com,1454622896,447l2h,0,4,"If you are learning SQL, sooner or later you might find you have a table design that you need to join another table too more than once.  This can seem confusing to SQL newbies, but you just need the help of aliases for tables to make this work.

For more info and SQL examples please check out this post and leave a comment if it helped you:
http://element121.com/2015/11/07/how-to-join-the-same-table-twice-in-a-single-sql-query-statement/",learnSQL,How to join the same table twice in a single SQL query statement?,1.0,https://www.reddit.com/r/learnSQL/comments/447l2h/how_to_join_the_same_table_twice_in_a_single_sql/
11,aisikitesi,1454788977,44hupq,0,2, ,learnSQL,SQL RDBMS Concepts,1.0,http://www.imritz.com/tutorials/sql-rdbms-concepts/
12,DukeOfYorkville,1454871104,44myge,2,3,"I'm not sure how to phrase this, so I'm trying my best!  Let's say I write a query to pull some data.  Later, I want to write a new query, and I want to reference my first query as a table in my FROM.  I know I can copy and paste my first query into my second query's FROM as a subquery.  is there a way i can ""call"" my first query in my second query?  i know sql isn't a programming language with objects, but i was wondering if that was possible.",learnSQL,Referencing queries as subqueries,1.0,https://www.reddit.com/r/learnSQL/comments/44myge/referencing_queries_as_subqueries/
0,CitiDavid,1450046547,3wpe4p,1,2,"hey ya'll, need a little help here. I keep getting missing expression error whenever I run this and i can't figure out what's wrong.

    column snum heading ""Supplier|Number"" format a7
    column sname heading ""Supplier|Name"" format a7
    column Order_Month heading ""Order|Month"" format a7
    column num_orders heading ""No. of|Orders"" format a5


	
    select Purchase_Order.snum, sname, to_char(Purchase_Order.Date_Open, 'MM/YYYY') as ""Order|Month"", count(Date_Open) as ""No. of|Orders""
	FROM Purchase_Order, Suppliers
	WHERE Purchase_Order.snum=Suppliers.snum
	GROUP BY Purchase_Order.snum, sname, 
	ORDER BY Purchase_Order.snum, sname;",learnSQL,SQL Missing expression error,1.0,https://www.reddit.com/r/learnSQL/comments/3wpe4p/sql_missing_expression_error/
1,reddithenry,1450804671,3xuscp,6,3,"In past companies we always had internal SQL databases and an SQL guidebook where someone could learn SQL - in my new role we dont have anything like that (and as a consultancy we dont even have an internal database currently someone could use to learn from).

I was wondering if anyone could point me to some useful resources online where I can teach someone the basics of SQL? It doesnt have to have a lot of the higher level functionality, but enough to at least do basic joins (inner, outer, etc) and teach someone who has never used any SQL before the basics, without going into language specifics (i.e. TeraSQL vs MySQL etc)",learnSQL,Best online resource for interactive learning of SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/3xuscp/best_online_resource_for_interactive_learning_of/
2,kwenzel1,1451578397,3yx8xi,1,10, ,learnSQL,Want to start learning SQL but don't Know where to start?,1.0,http://www.essentialsql.com/getting-started/
3,kwenzel1,1451581776,3yxgb8,0,1, ,learnSQL,[Article] What is the Difference Between Cast and Convert?,1.0,http://www.essentialsql.com/what-is-the-difference-between-cast-and-convert/
4,kwenzel1,1451694829,3z2v25,6,4, ,learnSQL,What Is the Difference Between a Join and a UNION?,1.0,http://www.essentialsql.com/what-is-the-difference-between-a-join-and-a-union/
0,emma_pants,1447102447,3s6jdy,1,3,"So [here's](http://www.sqlfiddle.com/#!9/bc1eec/1) an example of my schema. I want to check if a certain user hasn't had a transaction in at least a month. Whenever I run the query, I'd like it to return (in this example) transId's 1,6 and 3,4. Is this possible? ",learnSQL,Check if previous row with same id is is a month old?,1.0,https://www.reddit.com/r/learnSQL/comments/3s6jdy/check_if_previous_row_with_same_id_is_is_a_month/
1,redditttuser,1447502015,3sru47,5,2,"Hello, I've started learning SQL a while ago. And i was just thinking how they structure their database like facebook or twitter. Actually, I have a specific question.. How they record the number of friends or followers of particular user? I mean, if they use user ID, and, if a person has millions of followers, how they record that data?? if they save or record those IDs in database column, what datatype they use to make an array of so many numbers(IDs), If thats what they are doing ?

Thank you very much in advance!",learnSQL,Wanna know the structure of database they use for websites like facbook or twitter(?),1.0,https://www.reddit.com/r/learnSQL/comments/3sru47/wanna_know_the_structure_of_database_they_use_for/
2,syedahussain,1447862654,3tb2uv,0,7,"Hey guys, a few months ago someone posted a list of what seems like 50 statements every SQL user should know. I am trying to find that list but I cannot find it at all. Does anyone know what list I am referring to?",learnSQL,SQL queries everyone should know,1.0,https://www.reddit.com/r/learnSQL/comments/3tb2uv/sql_queries_everyone_should_know/
3,captaintmrrw,1447985360,3tika6,1,3,Does anyone have a book(s) they recommend for beginners to become SQL ninjas?,learnSQL,Books for beginners,1.0,https://www.reddit.com/r/learnSQL/comments/3tika6/books_for_beginners/
4,Straticspaff,1449246846,3vfk0e,5,2,"Can someone please help me through the thought process of how to use them and when they are needed? I am a First year computer science student and i really can't get my head round joins. The ones i am focusing on for the course are these 4

PRODUCT JOIN
INNER JOIN 
LEFT OUTER JOIN
RIGHT OUTER JOIN

",learnSQL,SQL joins help,1.0,https://www.reddit.com/r/learnSQL/comments/3vfk0e/sql_joins_help/
5,phattboyslim,1449570503,3vwxa1,2,5,"I'm learning SQL and using my web host as a testing ground.

I'm working with a couple of tables of about 50,000 rows each. These rows are unrelated to my website. I've been playing around with queries and was trying to find duplicates in one of the tables. I used the following query:

    SELECT
        name, email, COUNT(*)
    FROM
        users
    GROUP BY
        name, email
    HAVING 
        COUNT(*) &gt; 1

When run, the query didn't go anywhere and I couldn't get any other pages to load, including my website. I left it at that and gave in, assuming it had messed something up and could come back later.

I came back 24hrs later and my site is still down and I can't access cpanel. Moreover, I checked on a few sites hosted on the same server (my friend has the reseller account) and see that they are down too.

My question is, how likely is it that I caused this, and if so can I do anything about it?

",learnSQL,Is it possible to accidentally take down a server with SQL?,1.0,https://www.reddit.com/r/learnSQL/comments/3vwxa1/is_it_possible_to_accidentally_take_down_a_server/
0,[deleted],1446120259,3qoyeu,0,2,[deleted],learnSQL,Adjusting a current Parameter Sql 2008,1.0,https://www.reddit.com/r/learnSQL/comments/3qoyeu/adjusting_a_current_parameter_sql_2008/
1,sqllocus,1446497934,3r9dun,1,3,"Please let me know your opinion on the application at http://www.sqllocus.com

It is intended for beginners to help them get running SQL statements but without the trouble of installing a database server.
",learnSQL,Application for beginners,1.0,https://www.reddit.com/r/learnSQL/comments/3r9dun/application_for_beginners/
2,robdoo,1446819593,3rrjzl,0,9,"If you learn SQL, you will probably like the brand-new online [SQL QUERIES](https://academy.vertabelo.com/course/sql-queries) course at [Vertabelo Academy](https://academy.vertabelo.com/).  
It's completely free and interactive. Quite similar to the course at Codecademy, but here you can enroll without registration, and you don't have to start from the beginning (just choose the lesson you want to learn). ",learnSQL,New interactive SQL QUERIES course,1.0,https://www.reddit.com/r/learnSQL/comments/3rrjzl/new_interactive_sql_queries_course/
3,ellarr,1446882254,3rv8oj,0,2, ,learnSQL,Blog-How to switch between different SQL Servers within a query window in SSMS,1.0,http://blog.ellarr.com/sql-server/how-to-switch-between-different-sql-servers-within-a-query-window-in-ssms/
0,Droid2Win,1442012052,3klpbw,1,4,"I'm trying to mimic a program I used at a past job as a practice exercise in SQL. A big part about this program was the ""committees"".

Essentially, the database was always the same. Same tables, views, queries, etc. But the data contents you saw in those tables would depend on your committee. Different committees had access to different subsets of data, allowing each committee to operate independently. And of course, each committee had multiple users.

How would I implement this? I'm using MySQL, but just in general, how would this work?",learnSQL,"Creating a shared database structure, but the actual data contents vary by user",1.0,https://www.reddit.com/r/learnSQL/comments/3klpbw/creating_a_shared_database_structure_but_the/
1,Droid2Win,1442163080,3kstro,0,2,"So I know that using transactions is key to propose concurrency to make operations atomic, but I also know I've seen references to explicit locking and whatnot. I'm just trying to find a good source to learn not such the principles of SQL concurrency, but the proper way to write queries to be safe in a multi threaded environment.

Also more than just queries. Using procedures and triggers as well. For example, I have triggers that update other tables when certain tables are updated. These are the kinds of things I want to make sure are safe in a multi threaded environment.

I'm primarily working with MySQL at the moment, but I figure any source would be easily transferrable.

Again, I'm looking for a thorough tutorial all about how to perform database operations, queries procedures functions triggers etc, safely in a multi threaded environment. Thanks.",learnSQL,Trying to learn about concurrency,1.0,https://www.reddit.com/r/learnSQL/comments/3kstro/trying_to_learn_about_concurrency/
2,DataEasy,1442199383,3kv201,0,1, ,learnSQL,Tutorial - Learn SQL with Live Online Database,1.0,http://www.slideshare.net/DBrowAdm/tutorial-learn-sql-with-live-online-database
3,mypoocycle,1442580990,3lfe4y,2,3,"Hey all, new dev here and i just moved my app over to postgresql after getting errors running on heroku.  I changed the development over to pg, and a query that works just fine on mysql fails on postgresql.  I believe its with the way the query is made, using ruby to generate the query.
    Flight.where('to_airport_id LIKE ? AND from_airport_id LIKE ? AND departure_time BETWEEN ? AND ?', ""#{terms[:to_airport_id]}"", ""#{terms[:from_airport_id]}"", ""#{terms[:flight_date].to_time.beginning_of_day}"",""#{terms[:flight_date].to_time.end_of_day}"")

which in turn generates this error :

     Showing C:/Sites/flight-booker/app/views/flight/index.html.erb where line #33 raised:

PG::UndefinedFunction: ERROR:  operator does not exist: integer ~~ unknown
LINE 1: ...LECT COUNT(*) FROM ""flights"" WHERE (to_airport_id LIKE '1' A...
                                                             ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
: SELECT COUNT(*) FROM ""flights"" WHERE (to_airport_id LIKE '1' AND from_airport_id LIKE '2' AND departure_time BETWEEN '2016-04-24 00:00:00 -0500' AND '2016-04-24 23:59:59 -0500')

The carat marking the area of error is directly under the first LIKE.

This worked fine on mysql, but not on pg.  Is it the fact that my db is seeded with times that seem to be without the timezone adjustment (-500)?  Is it the actual query?  I tried to google info but its fruitless unless i know what area to focus on. Thanks for any assistance you all are able to offer.
    ",learnSQL,Help with postgresql error,1.0,https://www.reddit.com/r/learnSQL/comments/3lfe4y/help_with_postgresql_error/
4,[deleted],1442645101,3lj3qz,1,2,[deleted],learnSQL,Solving simple SQL (Postgre) Problem,1.0,https://www.reddit.com/r/learnSQL/comments/3lj3qz/solving_simple_sql_postgre_problem/
5,[deleted],1442873513,3lv0se,13,4,[deleted],learnSQL,Quick reference for grammar and punctuation rules in SQL,1.0,https://www.reddit.com/r/learnSQL/comments/3lv0se/quick_reference_for_grammar_and_punctuation_rules/
6,[deleted],1442983432,3m12dm,0,1,[deleted],learnSQL,Help with SUM() function and GROUP BY syntax/ problem in PostgreSQL,1.0,https://www.reddit.com/r/learnSQL/comments/3m12dm/help_with_sum_function_and_group_by_syntax/
7,robdoo,1443185272,3mbvrs,0,3, ,learnSQL,Working with Email Addresses in SQL,1.0,https://blog.modeanalytics.com/working-email-addresses-sql/
8,DisplayNameIsInUse,1443719700,3n4hgo,4,3,"I finished the Code Academy course for SQL and found SQL Zoo to sort of test what I learned. I've been doing okay until question 7 in the SELECT NAME quiz.

The question is; 

**Find the countries that have three or more a in the name:**

It already has pre populated just as a place to start:

 SELECT name FROM world
 
 WHERE name LIKE 'T%'

I've tried a few different things and I can't seem to get it. I feel like I need to COUNT somewhere. 

I would appreciate hints more than the straight answer, but feel free to post it if you would know so I can see what i am doing wrong. 
 ",learnSQL,SQL Zoo help,1.0,https://www.reddit.com/r/learnSQL/comments/3n4hgo/sql_zoo_help/
9,qalejaw,1443723270,3n4q8f,3,6, ,learnSQL,Codecademy releases SQL course,1.0,https://www.codecademy.com/courses/learn-sql
10,billytheone,1443778076,3n7ih3,2,2,"Hi i am trying to perform this task in my database 

List the order number, order date and order status in ascending order of order_date. An order which has been filled (Y) should be shown as order filled. An order that has not been filled (N) should be shown as order NOT filled. An order with any other order_filled value should be shown as status not known 


So far i have this 


          Select orders.order_numb, 
    orders.order_date,     
    orders.order_filled 
     from orders
     where order_filled as order_is_filled If order_filled = 'y'
     where order_filled = 'N' as order_Not_filled
     where order_filled = != 'Y' or 'N' as Staues_not_known
     ORDER by order_date ASC;


So far this is n't working i was hopeing to create the new colums  as as status_not_known a bit like you do with the 

SUM() AS Total FROM Order; but instead of summing it just selects the ones that meet the ciretrea and creates them in the colums from there


",learnSQL,"sql help needed please with oracle, description inside",1.0,https://www.reddit.com/r/learnSQL/comments/3n7ih3/sql_help_needed_please_with_oracle_description/
